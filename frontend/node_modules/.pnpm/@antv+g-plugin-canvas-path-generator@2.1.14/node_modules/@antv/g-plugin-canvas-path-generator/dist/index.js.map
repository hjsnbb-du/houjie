{"version":3,"file":"index.js","sources":["../src/paths/Circle.ts","../src/paths/Ellipse.ts","../src/paths/Line.ts","../src/paths/Path.ts","../src/paths/Polygon.ts","../src/paths/Polyline.ts","../src/paths/Rect.ts","../src/index.ts"],"sourcesContent":["import type { ParsedCircleStyleProps } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedCircleStyleProps,\n) {\n  const { cx = 0, cy = 0, r } = parsedStyle;\n  context.arc(cx, cy, r, 0, Math.PI * 2, false);\n}\n","import type { ParsedEllipseStyleProps } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedEllipseStyleProps,\n) {\n  const { cx = 0, cy = 0, rx, ry } = parsedStyle;\n\n  // @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/ellipse\n  if (context.ellipse) {\n    context.ellipse(cx, cy, rx, ry, 0, 0, Math.PI * 2, false);\n  } else {\n    // 如果不支持，则使用圆来绘制，进行变形\n    const r = rx > ry ? rx : ry;\n    const scaleX = rx > ry ? 1 : rx / ry;\n    const scaleY = rx > ry ? ry / rx : 1;\n    context.save();\n    context.scale(scaleX, scaleY);\n    context.arc(cx, cy, r, 0, Math.PI * 2);\n  }\n}\n","import type { ParsedLineStyleProps } from '@antv/g-lite';\nimport { isDisplayObject } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedLineStyleProps,\n) {\n  const {\n    x1,\n    y1,\n    x2,\n    y2,\n    markerStart,\n    markerEnd,\n    markerStartOffset,\n    markerEndOffset,\n  } = parsedStyle;\n\n  let startOffsetX = 0;\n  let startOffsetY = 0;\n  let endOffsetX = 0;\n  let endOffsetY = 0;\n\n  let rad = 0;\n  let x: number;\n  let y: number;\n\n  if (markerStart && isDisplayObject(markerStart) && markerStartOffset) {\n    x = x2 - x1;\n    y = y2 - y1;\n    rad = Math.atan2(y, x);\n    startOffsetX = Math.cos(rad) * (markerStartOffset || 0);\n    startOffsetY = Math.sin(rad) * (markerStartOffset || 0);\n  }\n\n  if (markerEnd && isDisplayObject(markerEnd) && markerEndOffset) {\n    x = x1 - x2;\n    y = y1 - y2;\n    rad = Math.atan2(y, x);\n    endOffsetX = Math.cos(rad) * (markerEndOffset || 0);\n    endOffsetY = Math.sin(rad) * (markerEndOffset || 0);\n  }\n\n  context.moveTo(x1 + startOffsetX, y1 + startOffsetY);\n  context.lineTo(x2 + endOffsetX, y2 + endOffsetY);\n}\n","import type { ParsedPathStyleProps, Path } from '@antv/g-lite';\nimport { isDisplayObject } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedPathStyleProps,\n) {\n  const { markerStart, markerEnd, markerStartOffset, markerEndOffset } =\n    parsedStyle;\n  const { absolutePath, segments } = parsedStyle.d;\n\n  let startOffsetX = 0;\n  let startOffsetY = 0;\n  let endOffsetX = 0;\n  let endOffsetY = 0;\n\n  let rad = 0;\n  let x: number;\n  let y: number;\n\n  if (markerStart && isDisplayObject(markerStart) && markerStartOffset) {\n    const [p1, p2] = (markerStart.parentNode as Path).getStartTangent();\n    x = p1[0] - p2[0];\n    y = p1[1] - p2[1];\n\n    rad = Math.atan2(y, x);\n    startOffsetX = Math.cos(rad) * (markerStartOffset || 0);\n    startOffsetY = Math.sin(rad) * (markerStartOffset || 0);\n  }\n\n  if (markerEnd && isDisplayObject(markerEnd) && markerEndOffset) {\n    const [p1, p2] = (markerEnd.parentNode as Path).getEndTangent();\n    x = p1[0] - p2[0];\n    y = p1[1] - p2[1];\n    rad = Math.atan2(y, x);\n    endOffsetX = Math.cos(rad) * (markerEndOffset || 0);\n    endOffsetY = Math.sin(rad) * (markerEndOffset || 0);\n  }\n\n  for (let i = 0; i < absolutePath.length; i++) {\n    const params = absolutePath[i];\n    const command = params[0];\n    const nextSegment = absolutePath[i + 1];\n    const useStartOffset =\n      i === 0 && (startOffsetX !== 0 || startOffsetY !== 0);\n    const useEndOffset =\n      (i === absolutePath.length - 1 ||\n        (nextSegment && (nextSegment[0] === 'M' || nextSegment[0] === 'Z'))) &&\n      endOffsetX !== 0 &&\n      endOffsetY !== 0;\n    const [startOffsetXTemp, startOffsetYTemp] = useStartOffset\n      ? [startOffsetX, startOffsetY]\n      : [0, 0];\n    const [endOffsetXTemp, endOffsetYTemp] = useEndOffset\n      ? [endOffsetX, endOffsetY]\n      : [0, 0];\n\n    switch (command) {\n      case 'M':\n        // Use start marker offset\n        context.moveTo(\n          params[1] + startOffsetXTemp,\n          params[2] + startOffsetYTemp,\n        );\n        break;\n      case 'L':\n        context.lineTo(params[1] + endOffsetXTemp, params[2] + endOffsetYTemp);\n        break;\n      case 'Q':\n        context.quadraticCurveTo(\n          params[1],\n          params[2],\n          params[3] + endOffsetXTemp,\n          params[4] + endOffsetYTemp,\n        );\n        break;\n      case 'C':\n        context.bezierCurveTo(\n          params[1],\n          params[2],\n          params[3],\n          params[4],\n          params[5] + endOffsetXTemp,\n          params[6] + endOffsetYTemp,\n        );\n        break;\n      case 'A': {\n        // FIXME startOffset / endOffset\n        const { arcParams } = segments[i];\n        const { cx, cy, rx, ry, startAngle, endAngle, xRotation, sweepFlag } =\n          arcParams;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/ellipse\n        if (context.ellipse) {\n          context.ellipse(\n            cx,\n            cy,\n            rx,\n            ry,\n            xRotation,\n            startAngle,\n            endAngle,\n            !!(1 - sweepFlag),\n          );\n        } else {\n          // @see https://stackoverflow.com/a/47494351\n          const r = rx > ry ? rx : ry;\n          const scaleX = rx > ry ? 1 : rx / ry;\n          const scaleY = rx > ry ? ry / rx : 1;\n          context.translate(cx, cy);\n          context.rotate(xRotation);\n          context.scale(scaleX, scaleY);\n          context.arc(0, 0, r, startAngle, endAngle, !!(1 - sweepFlag));\n          context.scale(1 / scaleX, 1 / scaleY);\n          context.rotate(-xRotation);\n          context.translate(-cx, -cy);\n        }\n\n        if (useEndOffset) {\n          context.lineTo(params[6] + endOffsetX, params[7] + endOffsetY);\n        }\n        break;\n      }\n      case 'Z':\n        context.closePath();\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import type { ParsedPolygonStyleProps } from '@antv/g-lite';\nimport { isDisplayObject } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedPolygonStyleProps,\n) {\n  const { markerStart, markerEnd, markerStartOffset, markerEndOffset } =\n    parsedStyle;\n  const { points } = parsedStyle.points;\n  const { length } = points;\n\n  const x1 = points[0][0];\n  const y1 = points[0][1];\n  const x2 = points[length - 1][0];\n  const y2 = points[length - 1][1];\n\n  let startOffsetX = 0;\n  let startOffsetY = 0;\n  let endOffsetX = 0;\n  let endOffsetY = 0;\n\n  let rad = 0;\n  let x: number;\n  let y: number;\n\n  if (markerStart && isDisplayObject(markerStart) && markerStartOffset) {\n    x = points[1][0] - points[0][0];\n    y = points[1][1] - points[0][1];\n    rad = Math.atan2(y, x);\n    startOffsetX = Math.cos(rad) * (markerStartOffset || 0);\n    startOffsetY = Math.sin(rad) * (markerStartOffset || 0);\n  }\n\n  if (markerEnd && isDisplayObject(markerEnd) && markerEndOffset) {\n    x = points[length - 1][0] - points[0][0];\n    y = points[length - 1][1] - points[0][1];\n    rad = Math.atan2(y, x);\n    endOffsetX = Math.cos(rad) * (markerEndOffset || 0);\n    endOffsetY = Math.sin(rad) * (markerEndOffset || 0);\n  }\n\n  context.moveTo(\n    x1 + (startOffsetX || endOffsetX),\n    y1 + (startOffsetY || endOffsetY),\n  );\n  for (let i = 1; i < length - 1; i++) {\n    const point = points[i];\n    context.lineTo(point[0], point[1]);\n  }\n  context.lineTo(x2, y2);\n}\n","import type { ParsedPolylineStyleProps } from '@antv/g-lite';\nimport { isDisplayObject } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedPolylineStyleProps,\n) {\n  const { markerStart, markerEnd, markerStartOffset, markerEndOffset } =\n    parsedStyle;\n  const { points } = parsedStyle.points;\n  const { length } = points;\n\n  const x1 = points[0][0];\n  const y1 = points[0][1];\n  const x2 = points[length - 1][0];\n  const y2 = points[length - 1][1];\n\n  let startOffsetX = 0;\n  let startOffsetY = 0;\n  let endOffsetX = 0;\n  let endOffsetY = 0;\n\n  let rad = 0;\n  let x: number;\n  let y: number;\n\n  if (markerStart && isDisplayObject(markerStart) && markerStartOffset) {\n    x = points[1][0] - points[0][0];\n    y = points[1][1] - points[0][1];\n    rad = Math.atan2(y, x);\n    startOffsetX = Math.cos(rad) * (markerStartOffset || 0);\n    startOffsetY = Math.sin(rad) * (markerStartOffset || 0);\n  }\n\n  if (markerEnd && isDisplayObject(markerEnd) && markerEndOffset) {\n    x = points[length - 2][0] - points[length - 1][0];\n    y = points[length - 2][1] - points[length - 1][1];\n    rad = Math.atan2(y, x);\n    endOffsetX = Math.cos(rad) * (markerEndOffset || 0);\n    endOffsetY = Math.sin(rad) * (markerEndOffset || 0);\n  }\n\n  context.moveTo(x1 + startOffsetX, y1 + startOffsetY);\n  for (let i = 1; i < length - 1; i++) {\n    const point = points[i];\n    context.lineTo(point[0], point[1]);\n  }\n  context.lineTo(x2 + endOffsetX, y2 + endOffsetY);\n}\n","import type { ParsedRectStyleProps } from '@antv/g-lite';\nimport { clamp } from '@antv/util';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedRectStyleProps,\n) {\n  const { x = 0, y = 0, radius, width, height } = parsedStyle;\n\n  const w = width;\n  const h = height;\n  const hasRadius = radius && radius.some((r) => r !== 0);\n\n  if (!hasRadius) {\n    // Canvas support negative width/height of rect\n    context.rect(x, y, w, h);\n  } else {\n    const signX = width > 0 ? 1 : -1;\n    const signY = height > 0 ? 1 : -1;\n    const sweepFlag = signX + signY === 0;\n    const [tlr, trr, brr, blr] = radius.map((r) =>\n      clamp(r, 0, Math.min(Math.abs(w) / 2, Math.abs(h) / 2)),\n    );\n\n    context.moveTo(signX * tlr + x, y);\n    context.lineTo(w - signX * trr + x, y);\n    if (trr !== 0) {\n      context.arc(\n        w - signX * trr + x,\n        signY * trr + y,\n        trr,\n        (-signY * Math.PI) / 2,\n        signX > 0 ? 0 : Math.PI,\n        sweepFlag,\n      );\n    }\n    context.lineTo(w + x, h - signY * brr + y);\n    if (brr !== 0) {\n      context.arc(\n        w - signX * brr + x,\n        h - signY * brr + y,\n        brr,\n        signX > 0 ? 0 : Math.PI,\n        signY > 0 ? Math.PI / 2 : 1.5 * Math.PI,\n        sweepFlag,\n      );\n    }\n    context.lineTo(signX * blr + x, h + y);\n    if (blr !== 0) {\n      context.arc(\n        signX * blr + x,\n        h - signY * blr + y,\n        blr,\n        signY > 0 ? Math.PI / 2 : -Math.PI / 2,\n        signX > 0 ? Math.PI : 0,\n        sweepFlag,\n      );\n    }\n    context.lineTo(x, signY * tlr + y);\n    if (tlr !== 0) {\n      context.arc(\n        signX * tlr + x,\n        signY * tlr + y,\n        tlr,\n        signX > 0 ? Math.PI : 0,\n        signY > 0 ? Math.PI * 1.5 : Math.PI / 2,\n        sweepFlag,\n      );\n    }\n  }\n}\n","import { AbstractRendererPlugin, Shape } from '@antv/g-lite';\nimport type { PathGenerator } from './interfaces';\nimport {\n  CirclePath,\n  EllipsePath,\n  LinePath,\n  PathPath,\n  PolygonPath,\n  PolylinePath,\n  RectPath,\n} from './paths';\n\nexport class Plugin extends AbstractRendererPlugin<{\n  pathGeneratorFactory: Record<Shape, PathGenerator<any>>;\n}> {\n  name = 'canvas-path-generator';\n  init(): void {\n    const pathGeneratorFactory: Record<Shape, PathGenerator<any>> = {\n      [Shape.CIRCLE]: CirclePath,\n      [Shape.ELLIPSE]: EllipsePath,\n      [Shape.RECT]: RectPath,\n      [Shape.LINE]: LinePath,\n      [Shape.POLYLINE]: PolylinePath,\n      [Shape.POLYGON]: PolygonPath,\n      [Shape.PATH]: PathPath,\n      [Shape.TEXT]: undefined,\n      [Shape.GROUP]: undefined,\n      [Shape.IMAGE]: undefined,\n      [Shape.HTML]: undefined,\n      [Shape.MESH]: undefined,\n      [Shape.FRAGMENT]: undefined,\n    };\n\n    // @ts-ignore\n    this.context.pathGeneratorFactory = pathGeneratorFactory;\n  }\n  destroy(): void {\n    // @ts-ignore\n    delete this.context.pathGeneratorFactory;\n  }\n}\n\nexport * from './interfaces';\n"],"names":["generatePath","context","parsedStyle","_parsedStyle$cx","cx","_parsedStyle$cy","cy","r","arc","Math","PI","rx","ry","ellipse","scaleX","scaleY","save","scale","x1","y1","x2","y2","markerStart","markerEnd","markerStartOffset","markerEndOffset","startOffsetX","startOffsetY","endOffsetX","endOffsetY","rad","x","y","isDisplayObject","atan2","cos","sin","moveTo","lineTo","_parsedStyle$d","d","absolutePath","segments","_getStartTangent","parentNode","getStartTangent","_getStartTangent2","_slicedToArray","p1","p2","_getEndTangent","getEndTangent","_getEndTangent2","i","length","params","command","nextSegment","useStartOffset","useEndOffset","_ref","_ref2","startOffsetXTemp","startOffsetYTemp","_ref3","_ref4","endOffsetXTemp","endOffsetYTemp","quadraticCurveTo","bezierCurveTo","arcParams","startAngle","endAngle","xRotation","sweepFlag","translate","rotate","closePath","points","point","_parsedStyle$x","_parsedStyle$y","radius","width","height","w","h","hasRadius","some","rect","signX","signY","_radius$map","map","clamp","min","abs","_radius$map2","tlr","trr","brr","blr","Plugin","_AbstractRendererPlug","_this","_classCallCheck","_len","arguments","args","Array","_key","_callSuper","concat","name","_inherits","_createClass","key","value","init","_pathGeneratorFactory","pathGeneratorFactory","_defineProperty","Shape","CIRCLE","CirclePath","ELLIPSE","EllipsePath","RECT","RectPath","LINE","LinePath","POLYLINE","PolylinePath","POLYGON","PolygonPath","PATH","PathPath","TEXT","undefined","GROUP","IMAGE","HTML","MESH","FRAGMENT","destroy","AbstractRendererPlugin"],"mappings":"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"}