!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).G6ExtensionReact={})}(this,(function(e){"use strict";var t="undefined"!=typeof document?document.currentScript:null;function n(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function h(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function v(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e,t,n){return t=p(t),v(e,g()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function E(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function k(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var S={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,a),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(S);var M=E(S.exports),T=1e-6,C="undefined"!=typeof Float32Array?Float32Array:Array;function N(){var e=new C(9);return C!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function P(){var e=new C(16);return C!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function O(e){var t=new C(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function _(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function R(e,t,n,r,i,o,a,s,l,u,c,d,f,h,p,g){var v=new C(16);return v[0]=e,v[1]=t,v[2]=n,v[3]=r,v[4]=i,v[5]=o,v[6]=a,v[7]=s,v[8]=l,v[9]=u,v[10]=c,v[11]=d,v[12]=f,v[13]=h,v[14]=p,v[15]=g,v}function A(e,t,n,r,i,o,a,s,l,u,c,d,f,h,p,g,v){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=l,e[8]=u,e[9]=c,e[10]=d,e[11]=f,e[12]=h,e[13]=p,e[14]=g,e[15]=v,e}function D(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function L(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function I(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],f=t[10],h=t[11],p=t[12],g=t[13],v=t[14],m=t[15],y=n*s-r*a,b=n*l-i*a,w=n*u-o*a,x=r*l-i*s,E=r*u-o*s,k=i*u-o*l,S=c*g-d*p,M=c*v-f*p,T=c*m-h*p,C=d*v-f*g,N=d*m-h*g,P=f*m-h*v,O=y*P-b*N+w*C+x*T-E*M+k*S;return O?(O=1/O,e[0]=(s*P-l*N+u*C)*O,e[1]=(i*N-r*P-o*C)*O,e[2]=(g*k-v*E+m*x)*O,e[3]=(f*E-d*k-h*x)*O,e[4]=(l*T-a*P-u*M)*O,e[5]=(n*P-i*T+o*M)*O,e[6]=(v*w-p*k-m*b)*O,e[7]=(c*k-f*w+h*b)*O,e[8]=(a*N-s*T+u*S)*O,e[9]=(r*T-n*N-o*S)*O,e[10]=(p*E-g*w+m*y)*O,e[11]=(d*w-c*E-h*y)*O,e[12]=(s*M-a*C-l*S)*O,e[13]=(n*C-r*M+i*S)*O,e[14]=(g*b-p*x-v*y)*O,e[15]=(c*x-d*b+f*y)*O,e):null}function z(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],d=e[10],f=e[11],h=e[12],p=e[13],g=e[14],v=e[15];return(t*a-n*o)*(d*v-f*g)-(t*s-r*o)*(c*v-f*p)+(t*l-i*o)*(c*g-d*p)+(n*s-r*a)*(u*v-f*h)-(n*l-i*a)*(u*g-d*h)+(r*l-i*s)*(u*p-c*h)}function j(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],f=t[9],h=t[10],p=t[11],g=t[12],v=t[13],m=t[14],y=t[15],b=n[0],w=n[1],x=n[2],E=n[3];return e[0]=b*r+w*s+x*d+E*g,e[1]=b*i+w*l+x*f+E*v,e[2]=b*o+w*u+x*h+E*m,e[3]=b*a+w*c+x*p+E*y,b=n[4],w=n[5],x=n[6],E=n[7],e[4]=b*r+w*s+x*d+E*g,e[5]=b*i+w*l+x*f+E*v,e[6]=b*o+w*u+x*h+E*m,e[7]=b*a+w*c+x*p+E*y,b=n[8],w=n[9],x=n[10],E=n[11],e[8]=b*r+w*s+x*d+E*g,e[9]=b*i+w*l+x*f+E*v,e[10]=b*o+w*u+x*h+E*m,e[11]=b*a+w*c+x*p+E*y,b=n[12],w=n[13],x=n[14],E=n[15],e[12]=b*r+w*s+x*d+E*g,e[13]=b*i+w*l+x*f+E*v,e[14]=b*o+w*u+x*h+E*m,e[15]=b*a+w*c+x*p+E*y,e}function F(e,t,n){var r,i,o,a,s,l,u,c,d,f,h,p,g=n[0],v=n[1],m=n[2];return t===e?(e[12]=t[0]*g+t[4]*v+t[8]*m+t[12],e[13]=t[1]*g+t[5]*v+t[9]*m+t[13],e[14]=t[2]*g+t[6]*v+t[10]*m+t[14],e[15]=t[3]*g+t[7]*v+t[11]*m+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],f=t[9],h=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=d,e[9]=f,e[10]=h,e[11]=p,e[12]=r*g+s*v+d*m+t[12],e[13]=i*g+l*v+f*m+t[13],e[14]=o*g+u*v+h*m+t[14],e[15]=a*g+c*v+p*m+t[15]),e}function B(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function U(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=a*i+c*r,e[6]=s*i+d*r,e[7]=l*i+f*r,e[8]=u*i-o*r,e[9]=c*i-a*r,e[10]=d*i-s*r,e[11]=f*i-l*r,e}function W(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[8],c=t[9],d=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-u*r,e[1]=a*i-c*r,e[2]=s*i-d*r,e[3]=l*i-f*r,e[8]=o*r+u*i,e[9]=a*r+c*i,e[10]=s*r+d*i,e[11]=l*r+f*i,e}function V(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function H(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function G(e,t,n){var r,i,o,a=n[0],s=n[1],l=n[2],u=Math.hypot(a,s,l);return u<T?null:(a*=u=1/u,s*=u,l*=u,r=Math.sin(t),o=1-(i=Math.cos(t)),e[0]=a*a*o+i,e[1]=s*a*o+l*r,e[2]=l*a*o-s*r,e[3]=0,e[4]=a*s*o-l*r,e[5]=s*s*o+i,e[6]=l*s*o+a*r,e[7]=0,e[8]=a*l*o+s*r,e[9]=s*l*o-a*r,e[10]=l*l*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function $(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Y(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function q(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function K(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=r+r,l=i+i,u=o+o,c=r*s,d=r*l,f=r*u,h=i*l,p=i*u,g=o*u,v=a*s,m=a*l,y=a*u;return e[0]=1-(h+g),e[1]=d+y,e[2]=f-m,e[3]=0,e[4]=d-y,e[5]=1-(c+g),e[6]=p+v,e[7]=0,e[8]=f+m,e[9]=p-v,e[10]=1-(c+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function X(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Q(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],s=t[6],l=t[8],u=t[9],c=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,s),e[2]=Math.hypot(l,u,c),e}function Z(e,t){var n=new C(3);Q(n,t);var r=1/n[0],i=1/n[1],o=1/n[2],a=t[0]*r,s=t[1]*i,l=t[2]*o,u=t[4]*r,c=t[5]*i,d=t[6]*o,f=t[8]*r,h=t[9]*i,p=t[10]*o,g=a+c+p,v=0;return g>0?(v=2*Math.sqrt(g+1),e[3]=.25*v,e[0]=(d-h)/v,e[1]=(f-l)/v,e[2]=(s-u)/v):a>c&&a>p?(v=2*Math.sqrt(1+a-c-p),e[3]=(d-h)/v,e[0]=.25*v,e[1]=(s+u)/v,e[2]=(f+l)/v):c>p?(v=2*Math.sqrt(1+c-a-p),e[3]=(f-l)/v,e[0]=(s+u)/v,e[1]=.25*v,e[2]=(d+h)/v):(v=2*Math.sqrt(1+p-a-c),e[3]=(s-u)/v,e[0]=(f+l)/v,e[1]=(d+h)/v,e[2]=.25*v),e}function J(e,t,n,r,i){var o=t[0],a=t[1],s=t[2],l=t[3],u=o+o,c=a+a,d=s+s,f=o*u,h=o*c,p=o*d,g=a*c,v=a*d,m=s*d,y=l*u,b=l*c,w=l*d,x=r[0],E=r[1],k=r[2],S=i[0],M=i[1],T=i[2],C=(1-(g+m))*x,N=(h+w)*x,P=(p-b)*x,O=(h-w)*E,_=(1-(f+m))*E,R=(v+y)*E,A=(p+b)*k,D=(v-y)*k,L=(1-(f+g))*k;return e[0]=C,e[1]=N,e[2]=P,e[3]=0,e[4]=O,e[5]=_,e[6]=R,e[7]=0,e[8]=A,e[9]=D,e[10]=L,e[11]=0,e[12]=n[0]+S-(C*S+O*M+A*T),e[13]=n[1]+M-(N*S+_*M+D*T),e[14]=n[2]+T-(P*S+R*M+L*T),e[15]=1,e}function ee(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,d=r*s,f=i*a,h=i*s,p=i*l,g=o*a,v=o*s,m=o*l;return e[0]=1-d-p,e[1]=c+m,e[2]=f-v,e[3]=0,e[4]=c-m,e[5]=1-u-p,e[6]=h+g,e[7]=0,e[8]=f+v,e[9]=h-g,e[10]=1-u-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function te(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var ne=te;function re(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),u=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(a+o)*u,e[15]=1,e}var ie=re;function oe(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),u=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=o*u,e[15]=1,e}function ae(e,t,n,r){var i,o,a,s,l,u,c,d,f,h,p=t[0],g=t[1],v=t[2],m=r[0],y=r[1],b=r[2],w=n[0],x=n[1],E=n[2];return Math.abs(p-w)<T&&Math.abs(g-x)<T&&Math.abs(v-E)<T?D(e):(c=p-w,d=g-x,f=v-E,i=y*(f*=h=1/Math.hypot(c,d,f))-b*(d*=h),o=b*(c*=h)-m*f,a=m*d-y*c,(h=Math.hypot(i,o,a))?(i*=h=1/h,o*=h,a*=h):(i=0,o=0,a=0),s=d*a-f*o,l=f*i-c*a,u=c*o-d*i,(h=Math.hypot(s,l,u))?(s*=h=1/h,l*=h,u*=h):(s=0,l=0,u=0),e[0]=i,e[1]=s,e[2]=c,e[3]=0,e[4]=o,e[5]=l,e[6]=d,e[7]=0,e[8]=a,e[9]=u,e[10]=f,e[11]=0,e[12]=-(i*p+o*g+a*v),e[13]=-(s*p+l*g+u*v),e[14]=-(c*p+d*g+f*v),e[15]=1,e)}function se(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function le(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}var ue=j,ce=se,de=Object.freeze({__proto__:null,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e},adjoint:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],f=t[10],h=t[11],p=t[12],g=t[13],v=t[14],m=t[15];return e[0]=s*(f*m-h*v)-d*(l*m-u*v)+g*(l*h-u*f),e[1]=-(r*(f*m-h*v)-d*(i*m-o*v)+g*(i*h-o*f)),e[2]=r*(l*m-u*v)-s*(i*m-o*v)+g*(i*u-o*l),e[3]=-(r*(l*h-u*f)-s*(i*h-o*f)+d*(i*u-o*l)),e[4]=-(a*(f*m-h*v)-c*(l*m-u*v)+p*(l*h-u*f)),e[5]=n*(f*m-h*v)-c*(i*m-o*v)+p*(i*h-o*f),e[6]=-(n*(l*m-u*v)-a*(i*m-o*v)+p*(i*u-o*l)),e[7]=n*(l*h-u*f)-a*(i*h-o*f)+c*(i*u-o*l),e[8]=a*(d*m-h*g)-c*(s*m-u*g)+p*(s*h-u*d),e[9]=-(n*(d*m-h*g)-c*(r*m-o*g)+p*(r*h-o*d)),e[10]=n*(s*m-u*g)-a*(r*m-o*g)+p*(r*u-o*s),e[11]=-(n*(s*h-u*d)-a*(r*h-o*d)+c*(r*u-o*s)),e[12]=-(a*(d*v-f*g)-c*(s*v-l*g)+p*(s*f-l*d)),e[13]=n*(d*v-f*g)-c*(r*v-i*g)+p*(r*f-i*d),e[14]=-(n*(s*v-l*g)-a*(r*v-i*g)+p*(r*l-i*s)),e[15]=n*(s*f-l*d)-a*(r*f-i*d)+c*(r*l-i*s),e},clone:O,copy:_,create:P,determinant:z,equals:function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],d=e[9],f=e[10],h=e[11],p=e[12],g=e[13],v=e[14],m=e[15],y=t[0],b=t[1],w=t[2],x=t[3],E=t[4],k=t[5],S=t[6],M=t[7],C=t[8],N=t[9],P=t[10],O=t[11],_=t[12],R=t[13],A=t[14],D=t[15];return Math.abs(n-y)<=T*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-b)<=T*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-w)<=T*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-x)<=T*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-E)<=T*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(s-k)<=T*Math.max(1,Math.abs(s),Math.abs(k))&&Math.abs(l-S)<=T*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(u-M)<=T*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(c-C)<=T*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(d-N)<=T*Math.max(1,Math.abs(d),Math.abs(N))&&Math.abs(f-P)<=T*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(h-O)<=T*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(p-_)<=T*Math.max(1,Math.abs(p),Math.abs(_))&&Math.abs(g-R)<=T*Math.max(1,Math.abs(g),Math.abs(R))&&Math.abs(v-A)<=T*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(m-D)<=T*Math.max(1,Math.abs(m),Math.abs(D))},exactEquals:le,frob:function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},fromQuat:ee,fromQuat2:function(e,t){var n=new C(3),r=-t[0],i=-t[1],o=-t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=r*r+i*i+o*o+a*a;return d>0?(n[0]=2*(s*a+c*r+l*o-u*i)/d,n[1]=2*(l*a+c*i+u*r-s*o)/d,n[2]=2*(u*a+c*o+s*i-l*r)/d):(n[0]=2*(s*a+c*r+l*o-u*i),n[1]=2*(l*a+c*i+u*r-s*o),n[2]=2*(u*a+c*o+s*i-l*r)),K(e,t,n),e},fromRotation:G,fromRotationTranslation:K,fromRotationTranslationScale:function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3],l=i+i,u=o+o,c=a+a,d=i*l,f=i*u,h=i*c,p=o*u,g=o*c,v=a*c,m=s*l,y=s*u,b=s*c,w=r[0],x=r[1],E=r[2];return e[0]=(1-(p+v))*w,e[1]=(f+b)*w,e[2]=(h-y)*w,e[3]=0,e[4]=(f-b)*x,e[5]=(1-(d+v))*x,e[6]=(g+m)*x,e[7]=0,e[8]=(h+y)*E,e[9]=(g-m)*E,e[10]=(1-(d+p))*E,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},fromRotationTranslationScaleOrigin:J,fromScaling:H,fromTranslation:V,fromValues:R,fromXRotation:$,fromYRotation:Y,fromZRotation:q,frustum:function(e,t,n,r,i,o,a){var s=1/(n-t),l=1/(i-r),u=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*l,e[10]=(a+o)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*u,e[15]=0,e},getRotation:Z,getScaling:Q,getTranslation:X,identity:D,invert:I,lookAt:ae,mul:ue,multiply:j,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e},ortho:ie,orthoNO:re,orthoZO:oe,perspective:ne,perspectiveFromFieldOfView:function(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(i+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(a-s)*l*.5,e[9]=(i-o)*u*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e},perspectiveNO:te,perspectiveZO:function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=i*o,e[14]=i*r*o):(e[10]=-1,e[14]=-r),e},rotate:function(e,t,n,r){var i,o,a,s,l,u,c,d,f,h,p,g,v,m,y,b,w,x,E,k,S,M,C,N,P=r[0],O=r[1],_=r[2],R=Math.hypot(P,O,_);return R<T?null:(P*=R=1/R,O*=R,_*=R,i=Math.sin(n),a=1-(o=Math.cos(n)),s=t[0],l=t[1],u=t[2],c=t[3],d=t[4],f=t[5],h=t[6],p=t[7],g=t[8],v=t[9],m=t[10],y=t[11],b=P*P*a+o,w=O*P*a+_*i,x=_*P*a-O*i,E=P*O*a-_*i,k=O*O*a+o,S=_*O*a+P*i,M=P*_*a+O*i,C=O*_*a-P*i,N=_*_*a+o,e[0]=s*b+d*w+g*x,e[1]=l*b+f*w+v*x,e[2]=u*b+h*w+m*x,e[3]=c*b+p*w+y*x,e[4]=s*E+d*k+g*S,e[5]=l*E+f*k+v*S,e[6]=u*E+h*k+m*S,e[7]=c*E+p*k+y*S,e[8]=s*M+d*C+g*N,e[9]=l*M+f*C+v*N,e[10]=u*M+h*C+m*N,e[11]=c*M+p*C+y*N,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},rotateX:U,rotateY:W,rotateZ:function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=a*i+c*r,e[2]=s*i+d*r,e[3]=l*i+f*r,e[4]=u*i-o*r,e[5]=c*i-a*r,e[6]=d*i-s*r,e[7]=f*i-l*r,e},scale:B,set:A,str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},sub:ce,subtract:se,targetTo:function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=r[0],l=r[1],u=r[2],c=i-n[0],d=o-n[1],f=a-n[2],h=c*c+d*d+f*f;h>0&&(c*=h=1/Math.sqrt(h),d*=h,f*=h);var p=l*f-u*d,g=u*c-s*f,v=s*d-l*c;return(h=p*p+g*g+v*v)>0&&(p*=h=1/Math.sqrt(h),g*=h,v*=h),e[0]=p,e[1]=g,e[2]=v,e[3]=0,e[4]=d*v-f*g,e[5]=f*p-c*v,e[6]=c*g-d*p,e[7]=0,e[8]=c,e[9]=d,e[10]=f,e[11]=0,e[12]=i,e[13]=o,e[14]=a,e[15]=1,e},translate:F,transpose:L});function fe(){var e=new C(3);return C!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function he(e){var t=new C(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function pe(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function ge(e,t,n){var r=new C(3);return r[0]=e,r[1]=t,r[2]=n,r}function ve(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function me(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function ye(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function be(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function we(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function xe(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function Ee(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ke(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=i*l-o*s,e[1]=o*a-r*l,e[2]=r*s-i*a,e}function Se(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e}function Me(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}function Te(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],s=t[2];return Math.abs(n-o)<=T*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=T*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=T*Math.max(1,Math.abs(i),Math.abs(s))}var Ce=be,Ne=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.hypot(n,r,i)},Pe=pe;function Oe(){var e=new C(4);return C!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function _e(e,t,n,r){var i=new C(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function Re(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}function Ae(){var e=new C(4);return C!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function De(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function Le(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],l=n[1],u=n[2],c=n[3];return e[0]=r*c+a*s+i*u-o*l,e[1]=i*c+a*l+o*s-r*u,e[2]=o*c+a*u+r*l-i*s,e[3]=a*c-r*s-i*l-o*u,e}function Ie(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=o*s,e}function ze(e,t,n,r){var i=.5*Math.PI/180;t*=i,n*=i,r*=i;var o=Math.sin(t),a=Math.cos(t),s=Math.sin(n),l=Math.cos(n),u=Math.sin(r),c=Math.cos(r);return e[0]=o*l*c-a*s*u,e[1]=a*s*c+o*l*u,e[2]=a*l*u-o*s*c,e[3]=a*l*c+o*s*u,e}fe(),function(){var e=Oe()}();var je=_e,Fe=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},Be=function(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e},Ue=Le,We=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a,e};function Ve(){var e=new C(2);return C!=Float32Array&&(e[0]=0,e[1]=0),e}fe(),ge(1,0,0),ge(0,1,0),Ae(),Ae(),N(),function(){var e=Ve()}();var He=function(e){return null!==e&&"function"!=typeof e&&isFinite(e.length)},Ge=function(e,t){return void 0===t&&(t=[]),function(e,t){if(!He(e))return e;for(var n=[],r=0;r<e.length;r++){var i=e[r];t(i,r)&&n.push(i)}return n}(e,(function(e){return!function(e,t){return!!He(e)&&e.indexOf(t)>-1}(t,e)}))};function $e(e){return"function"==typeof e}function Ye(e){return null==e}function qe(e){return Array.isArray(e)}var Ke=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t};function Xe(e,t){if(e)if(qe(e))for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);else if(Ke(e))for(var i in e)if(e.hasOwnProperty(i)&&!1===t(e[i],i))break}var Qe=function(e){return"object"==typeof e&&null!==e},Ze={}.toString,Je=function(e,t){return Ze.call(e)==="[object "+t+"]"},et=function(e){if(!Qe(e)||!Je(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function tt(e){if(!Array.isArray(e))return-1/0;var t=e.length;if(!t)return-1/0;for(var n=e[0],r=1;r<t;r++)n=Math.max(n,e[r]);return n}var nt=function(e){if(qe(e))return e.reduce((function(e,t){return Math.min(e,t)}),e[0])};function rt(e){return"string"==typeof e}var it=Object.prototype.hasOwnProperty;function ot(e,t){if(!t||!qe(e))return{};for(var n,r={},i=$e(t)?t:function(e){return e[t]},o=0;o<e.length;o++){var a=e[o];n=i(a),it.call(r,n)?r[n].push(a):r[n]=[a]}return r}var at=function(e,t,n){return e<t?t:e>n?n:e};function st(e){return"number"==typeof e}function lt(e,t,n){return void 0===n&&(n=1e-5),e===t||Math.abs(e-t)<n}var ut=function(e,t){if(qe(e)){for(var n,r=-1/0,i=0;i<e.length;i++){var o=e[i],a=$e(t)?t(o):o[t];a>r&&(n=o,r=a)}return n}},ct=function(e,t){if(qe(e)){for(var n,r=1/0,i=0;i<e.length;i++){var o=e[i],a=$e(t)?t(o):o[t];a<r&&(n=o,r=a)}return n}},dt=function(e,t){return(e%t+t)%t},ft=function(e){return Ye(e)?"":e.toString()};var ht=function(e){var t=ft(e);return t.charAt(0).toUpperCase()+t.substring(1)},pt={}.toString,gt=function(e){return Je(e,"Boolean")};var vt=Object.prototype,mt=function(e){return void 0===e},yt=function(e){if("object"!=typeof e||null===e)return e;var t;if(qe(e)){t=[];for(var n=0,r=e.length;n<r;n++)"object"==typeof e[n]&&null!=e[n]?t[n]=yt(e[n]):t[n]=e[n]}else for(var i in t={},e)"object"==typeof e[i]&&null!=e[i]?t[i]=yt(e[i]):t[i]=e[i];return t};function bt(e,t,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(i,o)}),t),a&&e.apply(i,o)}}var wt=new Map;function xt(e,t,n){void 0===n&&(n=128);return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t.apply(this,r):r[0];wt.has(e)||wt.set(e,function(e){var t,n,r,i=e||1;function o(e,o){++t>i&&(r=n,a(1),++t),n[e]=o}function a(e){t=0,n=Object.create(null),e||(r=Object.create(null))}return a(),{clear:a,has:function(e){return void 0!==n[e]||void 0!==r[e]},get:function(e){var t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(o(e,t),t):void 0},set:function(e,t){void 0!==n[e]?n[e]=t:o(e,t)}}}(n));var a=wt.get(e);if(a.has(o))return a.get(o);var s=e.apply(this,r);return a.set(o,s),s}}function Et(e,t){if(Object.hasOwn)return Object.hasOwn(e,t);if(null==e)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)}function kt(e,t,n,r){for(var i in n=n||0,r=r||5,t)if(Et(t,i)){var o=t[i];null!==o&&et(o)?(et(e[i])||(e[i]={}),n<r?kt(e[i],o,n+1,r):e[i]=t[i]):qe(o)?(e[i]=[],e[i]=e[i].concat(o)):void 0!==o&&(e[i]=o)}}var St=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)kt(e,t[r]);return e},Mt=Object.prototype.hasOwnProperty;function Tt(e){if(Ye(e))return!0;if(He(e))return!e.length;var t=function(e){return pt.call(e).replace(/^\[object /,"").replace(/]$/,"")}(e);if("Map"===t||"Set"===t)return!e.size;if(function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||vt)}(e))return!Object.keys(e).length;for(var n in e)if(Mt.call(e,n))return!1;return!0}var Ct=function(e,t){if(e===t)return!0;if(!e||!t)return!1;if(rt(e)||rt(t))return!1;if(He(e)||He(t)){if(e.length!==t.length)return!1;for(var n=!0,r=0;r<e.length&&(n=Ct(e[r],t[r]));r++);return n}if(Qe(e)||Qe(t)){var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(n=!0,r=0;r<i.length&&(n=Ct(e[i[r]],t[i[r]]));r++);return n}return!1},Nt=function(e,t,n){for(var r=0,i=rt(t)?t.split("."):t;e&&r<i.length;)e=e[i[r++]];return void 0===e||r<i.length?n:e},Pt=function(e,t,n){var r=e,i=rt(t)?t.split("."):t;return i.forEach((function(e,t){t<i.length-1?(Ke(r[e])||(r[e]=st(i[t+1])?[]:{}),r=r[e]):r[e]=n})),e},Ot=Object.prototype.hasOwnProperty,_t=function(e,t){if(null===e||!et(e))return{};var n={};return Xe(t,(function(t){Ot.call(e,t)&&(n[t]=e[t])})),n},Rt=function(e,t){return function(e,t,n){if(!qe(e)&&!et(e))return e;var r=n;return Xe(e,(function(e,n){r=t(r,e,n)})),r}(e,(function(e,n,r){return t.includes(r)||(e[r]=n),e}),{})},At=function(e,t,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),r=null,a=e.apply(i,o),r||(i=o=null)},u=function(){var u=Date.now();s||!1!==n.leading||(s=u);var c=t-(u-s);return i=this,o=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),s=u,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(r),s=0,r=i=o=null},u},Dt={},Lt=function(){},It=function(e){return e},zt=function(e,t){return zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},zt(e,t)};function jt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}zt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ft=function(){return Ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ft.apply(this,arguments)};function Bt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Ut(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function Wt(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vt(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Ht(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function Gt(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}"function"==typeof SuppressedError&&SuppressedError;var $t={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function Yt(e,t,n){if(e[n].length>7){e[n].shift();for(var r=e[n],i=n;r.length;)t[n]="A",e.splice(i+=1,0,["C"].concat(r.splice(0,6)));e.splice(n,1)}}var qt={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function Kt(e){return Array.isArray(e)&&e.every((function(e){var t=e[0].toLowerCase();return qt[t]===e.length-1&&"achlmqstvz".includes(t)}))}function Xt(e){return Kt(e)&&e.every((function(e){var t=e[0];return t===t.toUpperCase()}))}function Qt(e){return Xt(e)&&e.every((function(e){var t=e[0];return"ACLMQZ".includes(t)}))}function Zt(e){for(var t=e.pathValue[e.segmentStart],n=t.toLowerCase(),r=e.data;r.length>=qt[n]&&("m"===n&&r.length>2?(e.segments.push([t].concat(r.splice(0,2))),n="l",t="m"===t?"l":"L"):e.segments.push([t].concat(r.splice(0,qt[n]))),qt[n]););}function Jt(e){var t=e.index,n=e.pathValue,r=n.charCodeAt(t);return 48===r?(e.param=0,void(e.index+=1)):49===r?(e.param=1,void(e.index+=1)):void(e.err='[path-util]: invalid Arc flag "'.concat(n[t],'", expecting 0 or 1 at index ').concat(t))}function en(e){return e>=48&&e<=57||43===e||45===e||46===e}function tn(e){return e>=48&&e<=57}function nn(e){var t,n=e.max,r=e.pathValue,i=e.index,o=i,a=!1,s=!1,l=!1,u=!1;if(o>=n)e.err="[path-util]: Invalid path value at index ".concat(o,', "pathValue" is missing param');else if(43!==(t=r.charCodeAt(o))&&45!==t||(o+=1,t=r.charCodeAt(o)),tn(t)||46===t){if(46!==t){if(a=48===t,o+=1,t=r.charCodeAt(o),a&&o<n&&t&&tn(t))return void(e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(r[i],'" illegal number'));for(;o<n&&tn(r.charCodeAt(o));)o+=1,s=!0;t=r.charCodeAt(o)}if(46===t){for(u=!0,o+=1;tn(r.charCodeAt(o));)o+=1,l=!0;t=r.charCodeAt(o)}if(101===t||69===t){if(u&&!s&&!l)return void(e.err="[path-util]: Invalid path value at index ".concat(o,', "').concat(r[o],'" invalid float exponent'));if(o+=1,43!==(t=r.charCodeAt(o))&&45!==t||(o+=1),!(o<n&&tn(r.charCodeAt(o))))return void(e.err="[path-util]: Invalid path value at index ".concat(o,', "').concat(r[o],'" invalid integer exponent'));for(;o<n&&tn(r.charCodeAt(o));)o+=1}e.index=o,e.param=+e.pathValue.slice(i,o)}else e.err="[path-util]: Invalid path value at index ".concat(o,', "').concat(r[o],'" is not a number')}function rn(e){for(var t,n=e.pathValue,r=e.max;e.index<r&&(10===(t=n.charCodeAt(e.index))||13===t||8232===t||8233===t||32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(t));)e.index+=1}function on(e){var t=e.max,n=e.pathValue,r=e.index,i=n.charCodeAt(r),o=qt[n[r].toLowerCase()];if(e.segmentStart=r,function(e){switch(32|e){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}(i))if(e.index+=1,rn(e),e.data=[],o){for(;;){for(var a=o;a>0;a-=1){if(97!=(32|i)||3!==a&&4!==a?nn(e):Jt(e),e.err.length)return;e.data.push(e.param),rn(e),e.index<t&&44===n.charCodeAt(e.index)&&(e.index+=1,rn(e))}if(e.index>=e.max)break;if(!en(n.charCodeAt(e.index)))break}Zt(e)}else Zt(e);else e.err='[path-util]: Invalid path value "'.concat(n[r],'" is not a path command')}var an=function(e){this.pathValue=e,this.segments=[],this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""};function sn(e){if(Xt(e))return[].concat(e);var t=function(e){if(Kt(e))return[].concat(e);var t=new an(e);for(rn(t);t.index<t.max&&!t.err.length;)on(t);return t.err?t.err:t.segments}(e),n=0,r=0,i=0,o=0;return t.map((function(e){var t,a=e.slice(1).map(Number),s=e[0],l=s.toUpperCase();if("M"===s)return n=a[0],r=a[1],i=n,o=r,["M",n,r];if(s!==l)switch(l){case"A":t=[l,a[0],a[1],a[2],a[3],a[4],a[5]+n,a[6]+r];break;case"V":t=[l,a[0]+r];break;case"H":t=[l,a[0]+n];break;default:var u=a.map((function(e,t){return e+(t%2?r:n)}));t=[l].concat(u)}else t=[l].concat(a);var c=t.length;switch(l){case"Z":n=i,r=o;break;case"H":n=t[1];break;case"V":r=t[1];break;default:n=t[c-2],r=t[c-1],"M"===l&&(i=n,o=r)}return t}))}function ln(e,t){var n=e[0],r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=e.slice(1).map(Number),l=e;if("TQ".includes(n)||(t.qx=null,t.qy=null),"H"===n)l=["L",e[1],i];else if("V"===n)l=["L",r,e[1]];else if("S"===n){var u=2*r-o,c=2*i-a;t.x1=u,t.y1=c,l=["C",u,c].concat(s)}else if("T"===n){var d=2*r-t.qx,f=2*i-t.qy;t.qx=d,t.qy=f,l=["Q",d,f].concat(s)}else if("Q"===n){var h=s[0],p=s[1];t.qx=h,t.qy=p}return l}function un(e){if(Qt(e))return[].concat(e);for(var t=sn(e),n=Ft({},$t),r=0;r<t.length;r+=1){t[r]=ln(t[r],n);var i=t[r],o=i.length;n.x1=+i[o-2],n.y1=+i[o-1],n.x2=+i[o-4]||n.x1,n.y2=+i[o-3]||n.y1}return t}function cn(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}function dn(e,t,n,r,i,o,a,s,l,u){var c,d,f,h,p,g=e,v=t,m=n,y=r,b=s,w=l,x=120*Math.PI/180,E=Math.PI/180*(+i||0),k=[];if(u)d=u[0],f=u[1],h=u[2],p=u[3];else{g=(c=cn(g,v,-E)).x,v=c.y;var S=(g-(b=(c=cn(b,w,-E)).x))/2,M=(v-(w=c.y))/2,T=S*S/(m*m)+M*M/(y*y);T>1&&(m*=T=Math.sqrt(T),y*=T);var C=m*m,N=y*y,P=(o===a?-1:1)*Math.sqrt(Math.abs((C*N-C*M*M-N*S*S)/(C*M*M+N*S*S)));h=P*m*M/y+(g+b)/2,p=P*-y*S/m+(v+w)/2,d=Math.asin(((v-p)/y*Math.pow(10,9)|0)/Math.pow(10,9)),f=Math.asin(((w-p)/y*Math.pow(10,9)|0)/Math.pow(10,9)),d=g<h?Math.PI-d:d,f=b<h?Math.PI-f:f,d<0&&(d=2*Math.PI+d),f<0&&(f=2*Math.PI+f),a&&d>f&&(d-=2*Math.PI),!a&&f>d&&(f-=2*Math.PI)}var O=f-d;if(Math.abs(O)>x){var _=f,R=b,A=w;f=d+x*(a&&f>d?1:-1),k=dn(b=h+m*Math.cos(f),w=p+y*Math.sin(f),m,y,i,0,a,R,A,[f,_,h,p])}O=f-d;var D=Math.cos(d),L=Math.sin(d),I=Math.cos(f),z=Math.sin(f),j=Math.tan(O/4),F=4/3*m*j,B=4/3*y*j,U=[g,v],W=[g+F*L,v-B*D],V=[b+F*z,w-B*I],H=[b,w];if(W[0]=2*U[0]-W[0],W[1]=2*U[1]-W[1],u)return W.concat(V,H,k);for(var G=[],$=0,Y=(k=W.concat(V,H,k)).length;$<Y;$+=1)G[$]=$%2?cn(k[$-1],k[$],E).y:cn(k[$],k[$+1],E).x;return G}function fn(e,t,n){var r=e[0],i=e[1];return[r+(t[0]-r)*n,i+(t[1]-i)*n]}var hn=function(e,t,n,r){return Ht(Ht([],fn([e,t],[n,r],.5),!0),[n,r,n,r],!1)};function pn(e,t){var n,r,i,o,a,s,l,u,c,d=e[0],f=e.slice(1).map(Number),h=f[0],p=f[1],g=t.x1,v=t.y1,m=t.x,y=t.y;switch("TQ".includes(d)||(t.qx=null,t.qy=null),d){case"M":return t.x=h,t.y=p,e;case"A":return n=[g,v].concat(f),["C"].concat(dn(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]));case"Q":return t.qx=h,t.qy=p,n=[g,v].concat(f),["C"].concat((r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],[(u=1/3)*r+(c=2/3)*o,u*i+c*a,u*s+c*o,u*l+c*a,s,l]));case"L":return["C"].concat(hn(g,v,h,p));case"Z":return g===m&&v===y?["C",g,v,m,y,m,y]:["C"].concat(hn(g,v,m,y))}return e}function gn(e,t){if(void 0===t&&(t=!1),function(e){return Qt(e)&&e.every((function(e){var t=e[0];return"MC".includes(t)}))}(e)){var n=[].concat(e);return t?[n,[]]:n}for(var r,i,o=un(e),a=Ft({},$t),s=[],l="",u=o.length,c=[],d=0;d<u;d+=1){o[d]&&(l=o[d][0]),s[d]=l;var f=pn(o[d],a);o[d]=f,Yt(o,s,d),u=o.length,"Z"===l&&c.push(d),i=(r=o[d]).length,a.x1=+r[i-2],a.y1=+r[i-1],a.x2=+r[i-4]||a.x1,a.y2=+r[i-3]||a.y1}return t?[o,c]:o}function vn(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function mn(e,t,n,r,i){var o=vn([e,t],[n,r]),a={x:0,y:0};if("number"==typeof i)if(i<=0)a={x:e,y:t};else if(i>=o)a={x:n,y:r};else{var s=fn([e,t],[n,r],i/o);a={x:s[0],y:s[1]}}return{length:o,point:a,min:{x:Math.min(e,n),y:Math.min(t,r)},max:{x:Math.max(e,n),y:Math.max(t,r)}}}function yn(e,t){var n=e.x,r=e.y,i=t.x,o=t.y,a=n*i+r*o,s=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(i,2)+Math.pow(o,2)));return(n*o-r*i<0?-1:1)*Math.acos(a/s)}function bn(e,t,n,r,i,o,a,s,l,u){var c=Math.abs,d=Math.sin,f=Math.cos,h=Math.sqrt,p=Math.PI,g=c(n),v=c(r),m=(i%360+360)%360*(p/180);if(e===s&&t===l)return{x:e,y:t};if(0===g||0===v)return mn(e,t,s,l,u).point;var y=(e-s)/2,b=(t-l)/2,w={x:f(m)*y+d(m)*b,y:-d(m)*y+f(m)*b},x=Math.pow(w.x,2)/Math.pow(g,2)+Math.pow(w.y,2)/Math.pow(v,2);x>1&&(g*=h(x),v*=h(x));var E=(Math.pow(g,2)*Math.pow(v,2)-Math.pow(g,2)*Math.pow(w.y,2)-Math.pow(v,2)*Math.pow(w.x,2))/(Math.pow(g,2)*Math.pow(w.y,2)+Math.pow(v,2)*Math.pow(w.x,2)),k=(o!==a?1:-1)*h(E=E<0?0:E),S=k*(g*w.y/v),M=k*(-v*w.x/g),T=f(m)*S-d(m)*M+(e+s)/2,C=d(m)*S+f(m)*M+(t+l)/2,N={x:(w.x-S)/g,y:(w.y-M)/v},P=yn({x:1,y:0},N),O=yn(N,{x:(-w.x-S)/g,y:(-w.y-M)/v});!a&&O>0?O-=2*p:a&&O<0&&(O+=2*p);var _=P+(O%=2*p)*u,R=g*f(_),A=v*d(_);return{x:f(m)*R-d(m)*A+T,y:d(m)*R+f(m)*A+C}}function wn(e,t,n,r,i,o,a,s,l,u,c){var d,f=c.bbox,h=void 0===f||f,p=c.length,g=void 0===p||p,v=c.sampleSize,m=void 0===v?30:v,y="number"==typeof u,b=e,w=t,x=0,E=[b,w,x],k=[b,w],S={x:0,y:0},M=[{x:b,y:w}];y&&u<=0&&(S={x:b,y:w});for(var T=0;T<=m;T+=1){if(b=(d=bn(e,t,n,r,i,o,a,s,l,T/m)).x,w=d.y,h&&M.push({x:b,y:w}),g&&(x+=vn(k,[b,w])),k=[b,w],y&&x>=u&&u>E[2]){var C=(x-u)/(x-E[2]);S={x:k[0]*(1-C)+E[0]*C,y:k[1]*(1-C)+E[1]*C}}E=[b,w,x]}return y&&u>=x&&(S={x:s,y:l}),{length:x,point:S,min:{x:Math.min.apply(null,M.map((function(e){return e.x}))),y:Math.min.apply(null,M.map((function(e){return e.y})))},max:{x:Math.max.apply(null,M.map((function(e){return e.x}))),y:Math.max.apply(null,M.map((function(e){return e.y})))}}}function xn(e,t,n,r,i,o,a,s,l){var u=1-l;return{x:Math.pow(u,3)*e+3*Math.pow(u,2)*l*n+3*u*Math.pow(l,2)*i+Math.pow(l,3)*a,y:Math.pow(u,3)*t+3*Math.pow(u,2)*l*r+3*u*Math.pow(l,2)*o+Math.pow(l,3)*s}}function En(e,t,n,r,i,o,a,s,l,u){var c,d=u.bbox,f=void 0===d||d,h=u.length,p=void 0===h||h,g=u.sampleSize,v=void 0===g?10:g,m="number"==typeof l,y=e,b=t,w=0,x=[y,b,w],E=[y,b],k={x:0,y:0},S=[{x:y,y:b}];m&&l<=0&&(k={x:y,y:b});for(var M=0;M<=v;M+=1){if(y=(c=xn(e,t,n,r,i,o,a,s,M/v)).x,b=c.y,f&&S.push({x:y,y:b}),p&&(w+=vn(E,[y,b])),E=[y,b],m&&w>=l&&l>x[2]){var T=(w-l)/(w-x[2]);k={x:E[0]*(1-T)+x[0]*T,y:E[1]*(1-T)+x[1]*T}}x=[y,b,w]}return m&&l>=w&&(k={x:a,y:s}),{length:w,point:k,min:{x:Math.min.apply(null,S.map((function(e){return e.x}))),y:Math.min.apply(null,S.map((function(e){return e.y})))},max:{x:Math.max.apply(null,S.map((function(e){return e.x}))),y:Math.max.apply(null,S.map((function(e){return e.y})))}}}function kn(e,t,n,r,i,o,a){var s=1-a;return{x:Math.pow(s,2)*e+2*s*a*n+Math.pow(a,2)*i,y:Math.pow(s,2)*t+2*s*a*r+Math.pow(a,2)*o}}function Sn(e,t,n,r,i,o,a,s){var l,u=s.bbox,c=void 0===u||u,d=s.length,f=void 0===d||d,h=s.sampleSize,p=void 0===h?10:h,g="number"==typeof a,v=e,m=t,y=0,b=[v,m,y],w=[v,m],x={x:0,y:0},E=[{x:v,y:m}];g&&a<=0&&(x={x:v,y:m});for(var k=0;k<=p;k+=1){if(v=(l=kn(e,t,n,r,i,o,k/p)).x,m=l.y,c&&E.push({x:v,y:m}),f&&(y+=vn(w,[v,m])),w=[v,m],g&&y>=a&&a>b[2]){var S=(y-a)/(y-b[2]);x={x:w[0]*(1-S)+b[0]*S,y:w[1]*(1-S)+b[1]*S}}b=[v,m,y]}return g&&a>=y&&(x={x:i,y:o}),{length:y,point:x,min:{x:Math.min.apply(null,E.map((function(e){return e.x}))),y:Math.min.apply(null,E.map((function(e){return e.y})))},max:{x:Math.max.apply(null,E.map((function(e){return e.x}))),y:Math.max.apply(null,E.map((function(e){return e.y})))}}}function Mn(e,t,n){for(var r,i,o,a,s,l,u,c,d,f=un(e),h="number"==typeof t,p=[],g=0,v=0,m=0,y=0,b=[],w=[],x=0,E={x:0,y:0},k=E,S=E,M=E,T=0,C=0,N=f.length;C<N;C+=1)p=(u="M"===(c=(d=f[C])[0]))?p:[g,v].concat(d.slice(1)),u?(k=E={x:m=d[1],y:y=d[2]},x=0,h&&t<.001&&(M=E)):"L"===c?(x=(r=mn(p[0],p[1],p[2],p[3],(t||0)-T)).length,E=r.min,k=r.max,S=r.point):"A"===c?(x=(i=wn(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],(t||0)-T,n||{})).length,E=i.min,k=i.max,S=i.point):"C"===c?(x=(o=En(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],(t||0)-T,n||{})).length,E=o.min,k=o.max,S=o.point):"Q"===c?(x=(a=Sn(p[0],p[1],p[2],p[3],p[4],p[5],(t||0)-T,n||{})).length,E=a.min,k=a.max,S=a.point):"Z"===c&&(x=(s=mn((p=[g,v,m,y])[0],p[1],p[2],p[3],(t||0)-T)).length,E=s.min,k=s.max,S=s.point),h&&T<t&&T+x>=t&&(M=S),w.push(k),b.push(E),T+=x,g=(l="Z"!==c?d.slice(-2):[m,y])[0],v=l[1];return h&&t>=T&&(M={x:g,y:v}),{length:T,point:M,min:{x:Math.min.apply(null,b.map((function(e){return e.x}))),y:Math.min.apply(null,b.map((function(e){return e.y})))},max:{x:Math.max.apply(null,w.map((function(e){return e.x}))),y:Math.max.apply(null,w.map((function(e){return e.y})))}}}function Tn(e,t){var n=e.length-1,r=[],i=0,o=function(e){var t=e.length,n=t-1;return e.map((function(r,i){return e.map((function(r,o){var a,s=i+o;return 0===o||e[s]&&"M"===e[s][0]?(a=e[s],["M"].concat(a.slice(-2))):(s>=t&&(s-=n),e[s])}))}))}(e);return o.forEach((function(o,a){e.slice(1).forEach((function(r,o){i+=vn(e[(a+o)%n].slice(-2),t[o%n].slice(-2))})),r[a]=i,i=0})),o[r.indexOf(Math.min.apply(null,r))]}function Cn(e){return function(e){var t=0,n=0,r=0;return gn(e).map((function(e){var i;if("M"===e[0])return t=e[1],n=e[2],0;var o=e.slice(1),a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],d=o[5];return r=function(e,t,n,r,i,o,a,s){return 3*((s-t)*(n+i)-(a-e)*(r+o)+r*(e-i)-n*(t-o)+s*(i+e/3)-a*(o+t/3))/20}(t,n,a,s,l,u,c,d),i=e.slice(-2),t=i[0],n=i[1],r})).reduce((function(e,t){return e+t}),0)}(e)>=0}function Nn(e){return e.map((function(e,t,n){var r=t&&n[t-1].slice(-2).concat(e.slice(1)),i=t?En(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],{bbox:!1}).length:0;return{s:e,ss:t?i?function(e,t){void 0===t&&(t=.5);var n=e.slice(0,2),r=e.slice(2,4),i=e.slice(4,6),o=e.slice(6,8),a=fn(n,r,t),s=fn(r,i,t),l=fn(i,o,t),u=fn(a,s,t),c=fn(s,l,t),d=fn(u,c,t);return[["C"].concat(a,u,d),["C"].concat(c,l,o)]}(r):[e,e]:[e],l:i}}))}function Pn(e,t,n){var r=Nn(e),i=Nn(t),o=r.length,a=i.length,s=r.filter((function(e){return e.l})).length,l=i.filter((function(e){return e.l})).length,u=r.filter((function(e){return e.l})).reduce((function(e,t){return e+t.l}),0)/s||0,c=i.filter((function(e){return e.l})).reduce((function(e,t){return e+t.l}),0)/l||0,d=n||Math.max(o,a),f=[u,c],h=[d-o,d-a],p=0,g=[r,i].map((function(e,t){return e.l===d?e.map((function(e){return e.s})):e.map((function(e,n){return p=n&&h[t]&&e.l>=f[t],h[t]-=p?1:0,p?e.ss:[e.s]})).flat()}));return g[0].length===g[1].length?g:Pn(g[0],g[1],d)}function On(e){var t=document.createElement("div");t.innerHTML=e;var n=t.childNodes[0];return n&&t.contains(n)&&t.removeChild(n),n}function _n(){return _n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_n.apply(null,arguments)}function Rn(e,t,n,r){var i=_n(p(e.prototype),t,n);return"function"==typeof i?function(e){return i.apply(n,e)}:i}function An(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Dn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ln(){}var In=.7,zn=1/In,jn="\\s*([+-]?\\d+)\\s*",Fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Un=/^#([0-9a-f]{3,8})$/,Wn=new RegExp(`^rgb\\(${jn},${jn},${jn}\\)$`),Vn=new RegExp(`^rgb\\(${Bn},${Bn},${Bn}\\)$`),Hn=new RegExp(`^rgba\\(${jn},${jn},${jn},${Fn}\\)$`),Gn=new RegExp(`^rgba\\(${Bn},${Bn},${Bn},${Fn}\\)$`),$n=new RegExp(`^hsl\\(${Fn},${Bn},${Bn}\\)$`),Yn=new RegExp(`^hsla\\(${Fn},${Bn},${Bn},${Fn}\\)$`),qn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Kn(){return this.rgb().formatHex()}function Xn(){return this.rgb().formatRgb()}function Qn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Un.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Zn(t):3===n?new er(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Jn(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Jn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Wn.exec(e))?new er(t[1],t[2],t[3],1):(t=Vn.exec(e))?new er(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Hn.exec(e))?Jn(t[1],t[2],t[3],t[4]):(t=Gn.exec(e))?Jn(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=$n.exec(e))?ar(t[1],t[2]/100,t[3]/100,1):(t=Yn.exec(e))?ar(t[1],t[2]/100,t[3]/100,t[4]):qn.hasOwnProperty(e)?Zn(qn[e]):"transparent"===e?new er(NaN,NaN,NaN,0):null}function Zn(e){return new er(e>>16&255,e>>8&255,255&e,1)}function Jn(e,t,n,r){return r<=0&&(e=t=n=NaN),new er(e,t,n,r)}function er(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function tr(){return`#${or(this.r)}${or(this.g)}${or(this.b)}`}function nr(){const e=rr(this.opacity);return`${1===e?"rgb(":"rgba("}${ir(this.r)}, ${ir(this.g)}, ${ir(this.b)}${1===e?")":`, ${e})`}`}function rr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ir(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function or(e){return((e=ir(e))<16?"0":"")+e.toString(16)}function ar(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new lr(e,t,n,r)}function sr(e){if(e instanceof lr)return new lr(e.h,e.s,e.l,e.opacity);if(e instanceof Ln||(e=Qn(e)),!e)return new lr;if(e instanceof lr)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new lr(a,s,l,e.opacity)}function lr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ur(e){return(e=(e||0)%360)<0?e+360:e}function cr(e){return Math.max(0,Math.min(1,e||0))}function dr(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function fr(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)}function hr(e,t){var n=Math.min.apply(Math,Ht([],Vt(e),!1)),r=Math.min.apply(Math,Ht([],Vt(t),!1));return{x:n,y:r,width:Math.max.apply(Math,Ht([],Vt(e),!1))-n,height:Math.max.apply(Math,Ht([],Vt(t),!1))-r}}function pr(e,t,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+e}function gr(e,t,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+t}function vr(e,t,n,r,i,o,a){for(var s=function(e,t,n){return Math.atan(-t/e*Math.tan(n))}(n,r,i),l=1/0,u=-1/0,c=[o,a],d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var f=s+d;o<a?o<f&&f<a&&c.push(f):a<f&&f<o&&c.push(f)}for(d=0;d<c.length;d++){var h=pr(e,0,n,r,i,c[d]);h<l&&(l=h),h>u&&(u=h)}var p=function(e,t,n){return Math.atan(t/(e*Math.tan(n)))}(n,r,i),g=1/0,v=-1/0,m=[o,a];for(d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var y=p+d;o<a?o<y&&y<a&&m.push(y):a<y&&y<o&&m.push(y)}for(d=0;d<m.length;d++){var b=gr(0,t,n,r,i,m[d]);b<g&&(g=b),b>v&&(v=b)}return{x:l,y:g,width:u-l,height:v-g}}An(Ln,Qn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Kn,formatHex:Kn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return sr(this).formatHsl()},formatRgb:Xn,toString:Xn}),An(er,(function(e,t,n,r){return 1===arguments.length?((i=e)instanceof Ln||(i=Qn(i)),i?new er((i=i.rgb()).r,i.g,i.b,i.opacity):new er):new er(e,t,n,null==r?1:r);var i}),Dn(Ln,{brighter(e){return e=null==e?zn:Math.pow(zn,e),new er(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?In:Math.pow(In,e),new er(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new er(ir(this.r),ir(this.g),ir(this.b),rr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tr,formatHex:tr,formatHex8:function(){return`#${or(this.r)}${or(this.g)}${or(this.b)}${or(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:nr,toString:nr})),An(lr,(function(e,t,n,r){return 1===arguments.length?sr(e):new lr(e,t,n,null==r?1:r)}),Dn(Ln,{brighter(e){return e=null==e?zn:Math.pow(zn,e),new lr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?In:Math.pow(In,e),new lr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new er(dr(e>=240?e-240:e+120,i,r),dr(e,i,r),dr(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new lr(ur(this.h),cr(this.s),cr(this.l),rr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rr(this.opacity);return`${1===e?"hsl(":"hsla("}${ur(this.h)}, ${100*cr(this.s)}%, ${100*cr(this.l)}%${1===e?")":`, ${e})`}`}}));function mr(e,t,n,r,i,o){var a=-1,s=1/0,l=[n,r],u=20;o&&o>200&&(u=o/10);for(var c=1/u,d=c/10,f=0;f<=u;f++){var h=f*c,p=[i.apply(void 0,Ht([],Vt(e.concat([h])),!1)),i.apply(void 0,Ht([],Vt(t.concat([h])),!1))];(y=fr(l[0],l[1],p[0],p[1]))<s&&(a=h,s=y)}if(0===a)return{x:e[0],y:t[0]};if(1===a){var g=e.length;return{x:e[g-1],y:t[g-1]}}s=1/0;for(f=0;f<32&&!(d<1e-4);f++){var v=a-d,m=a+d,y=(p=[i.apply(void 0,Ht([],Vt(e.concat([v])),!1)),i.apply(void 0,Ht([],Vt(t.concat([v])),!1))],fr(l[0],l[1],p[0],p[1]));if(v>=0&&y<s)a=v,s=y;else{var b=[i.apply(void 0,Ht([],Vt(e.concat([m])),!1)),i.apply(void 0,Ht([],Vt(t.concat([m])),!1))],w=fr(l[0],l[1],b[0],b[1]);m<=1&&w<s?(a=m,s=w):d*=.5}}return{x:i.apply(void 0,Ht([],Vt(e.concat([a])),!1)),y:i.apply(void 0,Ht([],Vt(t.concat([a])),!1))}}function yr(e,t,n,r){return fr(e,t,n,r)}function br(e,t,n,r,i){return{x:(1-i)*e+i*n,y:(1-i)*t+i*r}}function wr(e,t,n,r,i,o){var a=[n-e,r-t];if(function(e,t){return e[0]===t[0]&&e[1]===t[1]}(a,[0,0]))return Math.sqrt((i-e)*(i-e)+(o-t)*(o-t));var s=[-a[1],a[0]];!function(e,t){var n=t[0],r=t[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i}(s,s);var l=[i-e,o-t];return Math.abs(function(e,t){return e[0]*t[0]+e[1]*t[1]}(l,s))}function xr(e,t,n,r,i){var o=1-i;return o*o*o*e+3*t*i*o*o+3*n*i*i*o+r*i*i*i}function Er(e,t,n,r){var i,o,a,s=-3*e+9*t-9*n+3*r,l=6*e-12*t+6*n,u=3*t-3*e,c=[];if(lt(s,0))lt(l,0)||(i=-u/l)>=0&&i<=1&&c.push(i);else{var d=l*l-4*s*u;lt(d,0)?c.push(-l/(2*s)):d>0&&(o=(-l-(a=Math.sqrt(d)))/(2*s),(i=(-l+a)/(2*s))>=0&&i<=1&&c.push(i),o>=0&&o<=1&&c.push(o))}return c}function kr(e,t,n,r,i,o,a,s){for(var l=[e,a],u=[t,s],c=Er(e,n,i,a),d=Er(t,r,o,s),f=0;f<c.length;f++)l.push(xr(e,n,i,a,c[f]));for(f=0;f<d.length;f++)u.push(xr(t,r,o,s,d[f]));return hr(l,u)}function Sr(e,t,n,r,i,o,a,s,l,u,c){var d=function(e,t,n,r,i,o,a,s,l,u,c){return mr([e,n,i,a],[t,r,o,s],l,u,xr,c)}(e,t,n,r,i,o,a,s,l,u,c);return fr(d.x,d.y,l,u)}function Mr(e){return function(e){if(e.length<2)return 0;for(var t=0,n=0;n<e.length-1;n++){var r=e[n],i=e[n+1];t+=fr(r[0],r[1],i[0],i[1])}return t}(e)}function Tr(e,t,n,r){var i=1-r;return i*i*e+2*r*i*t+r*r*n}function Cr(e,t,n){var r=e+n-2*t;if(lt(r,0))return[.5];var i=(e-t)/r;return i<=1&&i>=0?[i]:[]}function Nr(e,t,n,r,i,o){var a=Cr(e,n,i)[0],s=Cr(t,r,o)[0],l=[e,i],u=[t,o];return void 0!==a&&l.push(Tr(e,n,i,a)),void 0!==s&&u.push(Tr(t,r,o,s)),hr(l,u)}function Pr(e,t,n,r,i,o,a,s){var l=function(e,t,n,r,i,o,a,s){return mr([e,n,i],[t,r,o],a,s,Tr)}(e,t,n,r,i,o,a,s);return fr(l.x,l.y,a,s)}function Or(){Or=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new _(r||[]);return o(a,"_invoke",{value:C(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",p="suspendedYield",g="executing",v="completed",m={};function y(){}function b(){}function w(){}var x={};c(x,s,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(R([])));k&&k!==n&&i.call(k,s)&&(x=k);var S=w.prototype=y.prototype=Object.create(x);function M(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,a,s,l){var u=f(e[o],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var a;o(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function C(t,n,r){var i=h;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=N(s,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?v:p,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=c(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},M(T.prototype),c(T.prototype,l,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new T(d(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},M(S),c(S,u,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function _r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Rr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_r(o,r,i,a,s,"next",e)}function s(e){_r(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Ar(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Dr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}
/*!
   * @antv/g-lite
   * @description A core module for rendering engine implements DOM API.
   * @version 2.2.14
   * @date 1/2/2025, 2:54:20 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Lr={exports:{}};!function(e){e.exports=function(){function e(e,n,i,o,a){t(e,n,i||0,o||e.length-1,a||r)}function t(e,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);t(e,r,Math.max(i,Math.floor(r-l*c/s+d)),Math.min(o,Math.floor(r+(s-l)*c/s+d)),a)}var f=e[r],h=i,p=o;for(n(e,i,r),a(e[o],f)>0&&n(e,i,o);h<p;){for(n(e,h,p),h++,p--;a(e[h],f)<0;)h++;for(;a(e[p],f)>0;)p--}0===a(e[i],f)?n(e,i,p):n(e,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t){return e<t?-1:e>t?1:0}var i=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function a(e,t){s(e,0,e.children.length,t,e)}function s(e,t,n,r,i){i||(i=m(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=t;o<n;o++){var a=e.children[o];l(i,e.leaf?r(a):a)}return i}function l(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function d(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function f(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function p(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function g(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function v(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function m(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(t,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;e(t,s,n,r,o),a.push(n,s,s,r)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(e){var t=this.data,n=[];if(!v(e,t))return n;for(var r=this.toBBox,i=[];t;){for(var o=0;o<t.children.length;o++){var a=t.children[o],s=t.leaf?r(a):a;v(e,s)&&(t.leaf?n.push(a):g(e,s)?this._all(a,n):i.push(a))}t=i.pop()}return n},i.prototype.collides=function(e){var t=this.data;if(!v(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var i=t.children[r],o=t.leaf?this.toBBox(i):i;if(v(e,o)){if(t.leaf||g(e,o))return!0;n.push(i)}}t=n.pop()}return!1},i.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},i.prototype.clear=function(){return this.data=m([]),this},i.prototype.remove=function(e,t){if(!e)return this;for(var n,r,i,a=this.data,s=this.toBBox(e),l=[],u=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=u.pop(),i=!0),a.leaf){var c=o(e,a.children,t);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}i||a.leaf||!g(a,s)?r?(n++,a=r.children[n],i=!1):a=null:(l.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},i.prototype.toBBox=function(e){return e},i.prototype.compareMinX=function(e,t){return e.minX-t.minX},i.prototype.compareMinY=function(e,t){return e.minY-t.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(e){return this.data=e,this},i.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},i.prototype._build=function(e,t,n,r){var i,o=n-t+1,s=this._maxEntries;if(o<=s)return a(i=m(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=m([])).leaf=!1,i.height=r;var l=Math.ceil(o/s),u=l*Math.ceil(Math.sqrt(s));y(e,t,n,u,this.compareMinX);for(var c=t;c<=n;c+=u){var d=Math.min(c+u-1,n);y(e,c,d,l,this.compareMinY);for(var f=c;f<=d;f+=l){var h=Math.min(f+l-1,d);i.children.push(this._build(e,f,h,r-1))}}return a(i,this.toBBox),i},i.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],u=d(l),c=h(e,l)-u;c<o?(o=c,i=u<i?u:i,a=l):c===o&&u<i&&(i=u,a=l)}t=a||t.children[0]}return t},i.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),i=[],o=this._chooseSubtree(r,this.data,t,i);for(o.children.push(e),l(o,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)},i.prototype._split=function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=m(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},i.prototype._splitRoot=function(e,t){this.data=m([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(e,t,n){for(var r,i=1/0,o=1/0,a=t;a<=n-t;a++){var l=s(e,0,a,this.toBBox),u=s(e,a,n,this.toBBox),c=p(l,u),f=d(l)+d(u);c<i?(i=c,r=a,o=f<o?f:o):c===i&&f<o&&(o=f,r=a)}return r||n-t},i.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:u,i=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},i.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var i=this.toBBox,o=s(e,0,t,i),a=s(e,n-t,n,i),u=f(o)+f(a),c=t;c<n-t;c++){var d=e.children[c];l(o,e.leaf?i(d):d),u+=f(o)}for(var h=n-t-1;h>=t;h--){var p=e.children[h];l(a,e.leaf?i(p):p),u+=f(a)}return u},i.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)l(t[r],e)},i.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():a(e[t],this.toBBox)},i}()}(Lr);var Ir=Lr.exports,zr=function(e){return e.GROUP="g",e.FRAGMENT="fragment",e.CIRCLE="circle",e.ELLIPSE="ellipse",e.IMAGE="image",e.RECT="rect",e.LINE="line",e.POLYLINE="polyline",e.POLYGON="polygon",e.TEXT="text",e.PATH="path",e.HTML="html",e.MESH="mesh",e}({}),jr=function(e){return e[e.ZERO=0]="ZERO",e[e.NEGATIVE_ONE=1]="NEGATIVE_ONE",e}({}),Fr=function(){return c((function e(){l(this,e),this.plugins=[]}),[{key:"addRenderingPlugin",value:function(e){this.plugins.push(e),this.context.renderingPlugins.push(e)}},{key:"removeAllRenderingPlugins",value:function(){var e=this;this.plugins.forEach((function(t){var n=e.context.renderingPlugins.indexOf(t);n>=0&&e.context.renderingPlugins.splice(n,1)}))}}])}(),Br=function(){return c((function e(t){l(this,e),this.clipSpaceNearZ=jr.NEGATIVE_ONE,this.plugins=[],this.config=s({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},t)}),[{key:"registerPlugin",value:function(e){-1===this.plugins.findIndex((function(t){return t===e}))&&this.plugins.push(e)}},{key:"unregisterPlugin",value:function(e){var t=this.plugins.findIndex((function(t){return t===e}));t>-1&&this.plugins.splice(t,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(e){return this.plugins.find((function(t){return t.name===e}))}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(e){Object.assign(this.config,e)}}])}(),Ur=ye,Wr=ve,Vr=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},Hr=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},Gr=we,$r=Ce,Yr=function(){function e(){l(this,e),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return c(e,[{key:"update",value:function(e,t){Wr(this.center,e),Wr(this.halfExtents,t),$r(this.min,this.center,this.halfExtents),Ur(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(e,t){Ur(this.center,t,e),Gr(this.center,this.center,.5),$r(this.halfExtents,t,e),Gr(this.halfExtents,this.halfExtents,.5),Wr(this.min,e),Wr(this.max,t)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(t){if(!e.isEmpty(t))if(e.isEmpty(this))this.setMinMax(t.getMin(),t.getMax());else{var n=this.center,r=n[0],i=n[1],o=n[2],a=this.halfExtents,s=a[0],l=a[1],u=a[2],c=r-s,d=r+s,f=i-l,h=i+l,p=o-u,g=o+u,v=t.center,m=v[0],y=v[1],b=v[2],w=t.halfExtents,x=w[0],E=w[1],k=w[2],S=m-x,M=m+x,T=y-E,C=y+E,N=b-k,P=b+k;S<c&&(c=S),M>d&&(d=M),T<f&&(f=T),C>h&&(h=C),N<p&&(p=N),P>g&&(g=P),n[0]=.5*(c+d),n[1]=.5*(f+h),n[2]=.5*(p+g),a[0]=.5*(d-c),a[1]=.5*(h-f),a[2]=.5*(g-p),this.min[0]=c,this.min[1]=f,this.min[2]=p,this.max[0]=d,this.max[1]=h,this.max[2]=g}}},{key:"setFromTransformedAABB",value:function(e,t){var n=this.center,r=this.halfExtents,i=e.center,o=e.halfExtents,a=t[0],s=t[4],l=t[8],u=t[1],c=t[5],d=t[9],f=t[2],h=t[6],p=t[10],g=Math.abs(a),v=Math.abs(s),m=Math.abs(l),y=Math.abs(u),b=Math.abs(c),w=Math.abs(d),x=Math.abs(f),E=Math.abs(h),k=Math.abs(p);n[0]=t[12]+a*i[0]+s*i[1]+l*i[2],n[1]=t[13]+u*i[0]+c*i[1]+d*i[2],n[2]=t[14]+f*i[0]+h*i[1]+p*i[2],r[0]=g*o[0]+v*o[1]+m*o[2],r[1]=y*o[0]+b*o[1]+w*o[2],r[2]=x*o[0]+E*o[1]+k*o[2],$r(this.min,n,r),Ur(this.max,n,r)}},{key:"intersects",value:function(e){var t=this.getMax(),n=this.getMin(),r=e.getMax(),i=e.getMin();return n[0]<=r[0]&&t[0]>=i[0]&&n[1]<=r[1]&&t[1]>=i[1]&&n[2]<=r[2]&&t[2]>=i[2]}},{key:"intersection",value:function(t){if(!this.intersects(t))return null;var n=new e,r=Vr([0,0,0],this.getMin(),t.getMin()),i=Hr([0,0,0],this.getMax(),t.getMax());return n.setMinMax(r,i),n}},{key:"getNegativeFarPoint",value:function(e){return 273===e.pnVertexFlag?Wr([0,0,0],this.min):272===e.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:257===e.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:256===e.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:17===e.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:16===e.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:1===e.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(e){return 273===e.pnVertexFlag?Wr([0,0,0],this.max):272===e.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:257===e.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:256===e.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:17===e.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:16===e.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:1===e.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(e){return!e||0===e.halfExtents[0]&&0===e.halfExtents[1]&&0===e.halfExtents[2]}}])}(),qr=function(){return c((function e(t,n){l(this,e),this.distance=t||0,this.normal=n||ge(0,1,0),this.updatePNVertexFlag()}),[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(e){return Ee(e,this.normal)-this.distance}},{key:"normalize",value:function(){var e=1/Pe(this.normal);we(this.normal,this.normal,e),this.distance*=e}},{key:"intersectsLine",value:function(e,t,n){var r=this.distanceToPoint(e),i=r/(r-this.distanceToPoint(t)),o=i>=0&&i<=1;return o&&n&&Se(n,e,t,i),o}}])}(),Kr=function(e){return e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE",e}({}),Xr=function(){return c((function e(t){if(l(this,e),this.planes=[],t)this.planes=t;else for(var n=0;n<6;n++)this.planes.push(new qr)}),[{key:"extractFromVPMatrix",value:function(e){var t=w(e,16),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],f=t[10],h=t[11],p=t[12],g=t[13],v=t[14],m=t[15];me(this.planes[0].normal,o-n,u-a,h-c),this.planes[0].distance=m-p,me(this.planes[1].normal,o+n,u+a,h+c),this.planes[1].distance=m+p,me(this.planes[2].normal,o+r,u+s,h+d),this.planes[2].distance=m+g,me(this.planes[3].normal,o-r,u-s,h-d),this.planes[3].distance=m-g,me(this.planes[4].normal,o-i,u-l,h-f),this.planes[4].distance=m-v,me(this.planes[5].normal,o+i,u+l,h+f),this.planes[5].distance=m+v,this.planes.forEach((function(e){e.normalize(),e.updatePNVertexFlag()}))}}])}(),Qr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;l(this,e),this.x=0,this.y=0,this.x=t,this.y=n}return c(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(e){this.x=e.x,this.y=e.y}}])}(),Zr=function(){function e(t,n,r,i){l(this,e),this.x=t,this.y=n,this.width=r,this.height=i,this.left=t,this.right=t+r,this.top=n,this.bottom=n+i}return c(e,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(t){return new e(t.x,t.y,t.width,t.height)}},{key:"applyTransform",value:function(t,n){var r=_e(t.x,t.y,0,1),i=_e(t.x+t.width,t.y,0,1),o=_e(t.x,t.y+t.height,0,1),a=_e(t.x+t.width,t.y+t.height,0,1),s=Oe(),l=Oe(),u=Oe(),c=Oe();Re(s,r,n),Re(l,i,n),Re(u,o,n),Re(c,a,n);var d=Math.min(s[0],l[0],u[0],c[0]),f=Math.min(s[1],l[1],u[1],c[1]),h=Math.max(s[0],l[0],u[0],c[0]),p=Math.max(s[1],l[1],u[1],c[1]);return e.fromRect({x:d,y:f,width:h-d,height:p-f})}}])}(),Jr="Method not implemented.",ei="Use document.documentElement instead.";function ti(e){return void 0===e?0:e>360||e<-360?e%360:e}var ni=fe();function ri(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Array.isArray(e)&&3===e.length?r?he(e):ve(ni,e):st(e)?r?ge(e,t,n):me(ni,e,t,n):r?ge(e[0],e[1]||t,e[2]||n):me(ni,e[0],e[1]||t,e[2]||n)}var ii=Math.PI/180;function oi(e){return e*ii}var ai=180/Math.PI;function si(e){return e*ai}var li=Math.PI/2;function ui(e,t){return 16===t.length?function(e,t){var n,r,i=w(Q(fe(),t),3),o=i[0],a=i[1],s=i[2],l=Math.asin(-t[2]/o);return l<li?l>-li?(n=Math.atan2(t[6]/a,t[10]/s),r=Math.atan2(t[1]/o,t[0]/o)):(r=0,n=-Math.atan2(t[4]/a,t[5]/a)):(r=0,n=Math.atan2(t[4]/a,t[5]/a)),e[0]=n,e[1]=l,e[2]=r,e}(e,t):function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=r*r,s=i*i,l=o*o,u=n*n+a+s+l,c=n*o-r*i;return c>.499995*u?(e[0]=li,e[1]=2*Math.atan2(r,n),e[2]=0):c<-.499995*u?(e[0]=-li,e[1]=2*Math.atan2(r,n),e[2]=0):(e[0]=Math.asin(2*(n*i-o*r)),e[1]=Math.atan2(2*(n*o+r*i),1-2*(s+l)),e[2]=Math.atan2(2*(n*r+i*o),1-2*(a+s))),e}(e,t)}function ci(e,t,n,r,i){var o,a,s,l,u,c,d,f,h,p,g=Math.cos(e),v=Math.sin(e);return o=r*g,a=i*v,s=0,l=-r*v,u=i*g,c=0,d=t,f=n,h=1,(p=new C(9))[0]=o,p[1]=a,p[2]=s,p[3]=l,p[4]=u,p[5]=c,p[6]=d,p[7]=f,p[8]=h,p}function di(e){var t=e[0],n=e[1],r=e[3],i=e[4],o=Math.sqrt(t*t+n*n),a=Math.sqrt(r*r+i*i);if(t*i-n*r<0&&(t<i?o=-o:a=-a),o){var s=1/o;t*=s,n*=s}if(a){var l=1/a;r*=l,i*=l}var u=si(Math.atan2(n,t));return[e[6],e[7],o,a,u]}var fi=P(),hi=P(),pi=Oe(),gi=[fe(),fe(),fe()],vi=fe();function mi(e,t,n,r,i){e[0]=t[0]*r+n[0]*i,e[1]=t[1]*r+n[1]*i,e[2]=t[2]*r+n[2]*i}var yi=function(e){return e[e.ORBITING=0]="ORBITING",e[e.EXPLORING=1]="EXPLORING",e[e.TRACKING=2]="TRACKING",e}({}),bi=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.ROTATIONAL=1]="ROTATIONAL",e[e.TRANSLATIONAL=2]="TRANSLATIONAL",e[e.CINEMATIC=3]="CINEMATIC",e}({}),wi=function(e){return e[e.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",e[e.PERSPECTIVE=1]="PERSPECTIVE",e}({}),xi="updated",Ei=2e-4,ki=function(){return c((function e(){l(this,e),this.clipSpaceNearZ=jr.NEGATIVE_ONE,this.eventEmitter=new M,this.matrix=P(),this.right=ge(1,0,0),this.up=ge(0,1,0),this.forward=ge(0,0,1),this.position=ge(0,0,1),this.focalPoint=ge(0,0,0),this.distanceVector=ge(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=P(),this.projectionMatrixInverse=P(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=yi.EXPLORING,this.trackingMode=bi.DEFAULT,this.projectionMode=wi.PERSPECTIVE,this.frustum=new Xr,this.orthoMatrix=P()}),[{key:"isOrtho",value:function(){return this.projectionMode===wi.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(e){this.enableUpdate=e}},{key:"setType",value:function(e,t){return this.type=e,this.type===yi.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===yi.TRACKING&&void 0!==t&&this.setTrackingMode(t),this}},{key:"setProjectionMode",value:function(e){return this.projectionMode=e,this}},{key:"setTrackingMode",value:function(e){if(this.type!==yi.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this}},{key:"setWorldRotation",value:function(e){return this.rotateWorld=e,this._getAngles(),this}},{key:"getViewTransform",value:function(){return I(P(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(e,t){var n=V(P(),[e,t,0]);this.jitteredProjectionMatrix=j(P(),n,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(e){return this.matrix=e,this._update(),this}},{key:"setProjectionMatrix",value:function(e){this.projectionMatrix=e}},{key:"setFov",value:function(e){return this.setPerspective(this.near,this.far,e,this.aspect),this}},{key:"setAspect",value:function(e){return this.setPerspective(this.near,this.far,this.fov,e),this}},{key:"setNear",value:function(e){return this.projectionMode===wi.PERSPECTIVE?this.setPerspective(e,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,e,this.far),this}},{key:"setFar",value:function(e){return this.projectionMode===wi.PERSPECTIVE?this.setPerspective(this.near,e,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,e),this}},{key:"setViewOffset",value:function(e,t,n,r,i,o){return this.aspect=e/t,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.projectionMode===wi.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===wi.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(e){return this.zoom=e,this.projectionMode===wi.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===wi.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(e,t){var n=this.canvas.viewport2Canvas({x:t[0],y:t[1]}),r=n.x,i=n.y,o=this.roll;this.rotate(0,0,-o),this.setPosition(r,i),this.setFocalPoint(r,i),this.setZoom(e),this.rotate(0,0,o);var a=this.canvas.viewport2Canvas({x:t[0],y:t[1]}),s=ge(a.x-r,a.y-i,0),l=Ee(s,this.right)/pe(this.right),u=Ee(s,this.up)/pe(this.up),c=w(this.getPosition(),2),d=c[0],f=c[1],h=w(this.getFocalPoint(),2),p=h[0],g=h[1];return this.setPosition(d-l,f-u),this.setFocalPoint(p-l,g-u),this}},{key:"setPerspective",value:function(e,t,n,r){var i;this.projectionMode=wi.PERSPECTIVE,this.fov=n,this.near=e,this.far=t,this.aspect=r;var o=this.near*Math.tan(oi(.5*this.fov))/this.zoom,a=2*o,s=this.aspect*a,l=-.5*s;if(null!==(i=this.view)&&void 0!==i&&i.enabled){var u=this.view.fullWidth,c=this.view.fullHeight;l+=this.view.offsetX*s/u,o-=this.view.offsetY*a/c,s*=this.view.width/u,a*=this.view.height/c}return function(e,t,n,r,i,o,a){var s,l,u=2*o,c=n-t,d=r-i,f=u/c,h=u/d,p=(n+t)/c,g=(r+i)/d,v=a-o,m=a*o;arguments.length>7&&void 0!==arguments[7]&&arguments[7]?(s=-a/v,l=-m/v):(s=-(a+o)/v,l=-2*m/v),e[0]=f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=p,e[9]=g,e[10]=s,e[11]=-1,e[12]=0,e[13]=0,e[14]=l,e[15]=0}(this.projectionMatrix,l,l+s,o-a,o,e,this.far,this.clipSpaceNearZ===jr.ZERO),I(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(e,t,n,r,i,o){var a;this.projectionMode=wi.ORTHOGRAPHIC,this.rright=t,this.left=e,this.top=n,this.bottom=r,this.near=i,this.far=o;var s=(this.rright-this.left)/(2*this.zoom),l=(this.top-this.bottom)/(2*this.zoom),u=(this.rright+this.left)/2,c=(this.top+this.bottom)/2,d=u-s,f=u+s,h=c+l,p=c-l;if(null!==(a=this.view)&&void 0!==a&&a.enabled){var g=(this.rright-this.left)/this.view.fullWidth/this.zoom,v=(this.top-this.bottom)/this.view.fullHeight/this.zoom;f=(d+=g*this.view.offsetX)+g*this.view.width,p=(h-=v*this.view.offsetY)-v*this.view.height}return this.clipSpaceNearZ===jr.NEGATIVE_ONE?ie(this.projectionMatrix,d,f,h,p,i,o):oe(this.projectionMatrix,d,f,h,p,i,o),I(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(e){var t=ri(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.position[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.position[2]);return this._setPosition(t),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.focalPoint[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.focalPoint[2],r=ge(0,1,0);if(this.focalPoint=ri(e,t,n),this.trackingMode===bi.CINEMATIC){var i=be(fe(),this.focalPoint,this.position);e=i[0],t=i[1],n=i[2];var o=pe(i),a=si(Math.asin(t/o)),s=90+si(Math.atan2(n,e)),l=P();W(l,l,oi(s)),U(l,l,oi(a)),r=Me(fe(),[0,1,0],l)}return I(this.matrix,ae(P(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(e){if(this.distance===e||e<0)return this;this.distance=e,this.distance<Ei&&(this.distance=Ei),this.dollyingStep=this.distance/100;var t=fe();e=this.distance;var n=this.forward,r=this.focalPoint;return t[0]=e*n[0]+r[0],t[1]=e*n[1]+r[1],t[2]=e*n[2]+r[2],this._setPosition(t),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(e){return this.maxDistance=e,this}},{key:"setMinDistance",value:function(e){return this.minDistance=e,this}},{key:"setAzimuth",value:function(e){return this.azimuth=ti(e),this.computeMatrix(),this._getAxes(),this.type===yi.ORBITING||this.type===yi.EXPLORING?this._getPosition():this.type===yi.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(e){return this.elevation=ti(e),this.computeMatrix(),this._getAxes(),this.type===yi.ORBITING||this.type===yi.EXPLORING?this._getPosition():this.type===yi.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(e){return this.roll=ti(e),this.computeMatrix(),this._getAxes(),this.type===yi.ORBITING||this.type===yi.EXPLORING?this._getPosition():this.type===yi.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var e=De(Ae(),[0,0,1],oi(this.roll));D(this.matrix);var t=De(Ae(),[1,0,0],oi((this.rotateWorld&&this.type!==yi.TRACKING||this.type===yi.TRACKING?1:-1)*this.elevation)),n=De(Ae(),[0,1,0],oi((this.rotateWorld&&this.type!==yi.TRACKING||this.type===yi.TRACKING?1:-1)*this.azimuth)),r=Le(Ae(),n,t);r=Le(Ae(),r,e);var i=ee(P(),r);this.type===yi.ORBITING||this.type===yi.EXPLORING?(F(this.matrix,this.matrix,this.focalPoint),j(this.matrix,this.matrix,i),F(this.matrix,this.matrix,[0,0,this.distance])):this.type===yi.TRACKING&&(F(this.matrix,this.matrix,this.position),j(this.matrix,this.matrix,i))}},{key:"_setPosition",value:function(e,t,n){this.position=ri(e,t,n);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){ve(this.right,ri(Re(Oe(),[1,0,0,0],this.matrix))),ve(this.up,ri(Re(Oe(),[0,1,0,0],this.matrix))),ve(this.forward,ri(Re(Oe(),[0,0,1,0],this.matrix))),xe(this.right,this.right),xe(this.up,this.up),xe(this.forward,this.forward)}},{key:"_getAngles",value:function(){var e=this.distanceVector[0],t=this.distanceVector[1],n=this.distanceVector[2],r=pe(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===yi.TRACKING||this.rotateWorld?(this.elevation=si(Math.asin(t/r)),this.azimuth=si(Math.atan2(-e,-n))):(this.elevation=-si(Math.asin(t/r)),this.azimuth=-si(Math.atan2(-e,-n)))}},{key:"_getPosition",value:function(){ve(this.position,ri(Re(Oe(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){!function(e,t,n){var r=t[0],i=t[1],o=t[2];e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8]}(this.distanceVector,[0,0,-this.distance],function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}(N(),this.matrix)),ye(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=be(fe(),this.focalPoint,this.position),this.distance=pe(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===wi.ORTHOGRAPHIC){var e=this.position,t=De(Ae(),[0,0,1],-this.roll*Math.PI/180);J(this.orthoMatrix,t,ge((this.rright-this.left)/2-e[0],(this.top-this.bottom)/2-e[1],0),ge(this.zoom,this.zoom,1),e)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var e=this.getViewTransform(),t=j(P(),this.getPerspective(),e);this.getFrustum().extractFromVPMatrix(t),this.eventEmitter.emit(xi)}}},{key:"rotate",value:function(e,t,n){throw new Error(Jr)}},{key:"pan",value:function(e,t){throw new Error(Jr)}},{key:"dolly",value:function(e){throw new Error(Jr)}},{key:"createLandmark",value:function(e,t){throw new Error(Jr)}},{key:"gotoLandmark",value:function(e,t){throw new Error(Jr)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(Jr)}}])}(),Si=function(e){return e[e.Standard=0]="Standard",e}({}),Mi=function(e){return e[e.ADDED=0]="ADDED",e[e.REMOVED=1]="REMOVED",e[e.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",e}({}),Ti={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Zr(0,0,0,0)},Ci=function(e){return e.COORDINATE="<coordinate>",e.COLOR="<color>",e.PAINT="<paint>",e.NUMBER="<number>",e.ANGLE="<angle>",e.OPACITY_VALUE="<opacity-value>",e.SHADOW_BLUR="<shadow-blur>",e.LENGTH="<length>",e.PERCENTAGE="<percentage>",e.LENGTH_PERCENTAGE="<length> | <percentage>",e.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",e.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",e.LIST_OF_POINTS="<list-of-points>",e.PATH="<path>",e.FILTER="<filter>",e.Z_INDEX="<z-index>",e.OFFSET_DISTANCE="<offset-distance>",e.DEFINED_PATH="<defined-path>",e.MARKER="<marker>",e.TRANSFORM="<transform>",e.TRANSFORM_ORIGIN="<transform-origin>",e.TEXT="<text>",e.TEXT_TRANSFORM="<text-transform>",e}({});function Ni(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=t?t.apply(this,i):i[0],s=n.cache;if(s.has(a))return s.get(a);var l=e.apply(this,i);return n.cache=s.set(a,l)||s,l};return n.cache=new(Ni.Cache||Map),n}Ni.Cache=Map;var Pi=function(e){return e[e.kUnknown=0]="kUnknown",e[e.kNumber=1]="kNumber",e[e.kPercentage=2]="kPercentage",e[e.kEms=3]="kEms",e[e.kPixels=4]="kPixels",e[e.kRems=5]="kRems",e[e.kDegrees=6]="kDegrees",e[e.kRadians=7]="kRadians",e[e.kGradians=8]="kGradians",e[e.kTurns=9]="kTurns",e[e.kMilliseconds=10]="kMilliseconds",e[e.kSeconds=11]="kSeconds",e[e.kInteger=12]="kInteger",e}({}),Oi=function(e){return e[e.kUNumber=0]="kUNumber",e[e.kUPercent=1]="kUPercent",e[e.kULength=2]="kULength",e[e.kUAngle=3]="kUAngle",e[e.kUTime=4]="kUTime",e[e.kUOther=5]="kUOther",e}({}),_i=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),Ri=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),Ai=[{name:"em",unit_type:Pi.kEms},{name:"px",unit_type:Pi.kPixels},{name:"deg",unit_type:Pi.kDegrees},{name:"rad",unit_type:Pi.kRadians},{name:"grad",unit_type:Pi.kGradians},{name:"ms",unit_type:Pi.kMilliseconds},{name:"s",unit_type:Pi.kSeconds},{name:"rem",unit_type:Pi.kRems},{name:"turn",unit_type:Pi.kTurns}],Di=function(e){return e[e.kUnknownType=0]="kUnknownType",e[e.kUnparsedType=1]="kUnparsedType",e[e.kKeywordType=2]="kKeywordType",e[e.kUnitType=3]="kUnitType",e[e.kSumType=4]="kSumType",e[e.kProductType=5]="kProductType",e[e.kNegateType=6]="kNegateType",e[e.kInvertType=7]="kInvertType",e[e.kMinType=8]="kMinType",e[e.kMaxType=9]="kMaxType",e[e.kClampType=10]="kClampType",e[e.kTransformType=11]="kTransformType",e[e.kPositionType=12]="kPositionType",e[e.kURLImageType=13]="kURLImageType",e[e.kColorType=14]="kColorType",e[e.kUnsupportedColorType=15]="kUnsupportedColorType",e}({}),Li=function(e){return e?"number"===e?Pi.kNumber:"percent"===e||"%"===e?Pi.kPercentage:function(e){return Ai.find((function(t){return t.name===e})).unit_type}(e):Pi.kUnknown},Ii=function(e){var t=1;switch(e){case Pi.kPixels:case Pi.kDegrees:case Pi.kSeconds:break;case Pi.kMilliseconds:t=.001;break;case Pi.kRadians:t=180/Math.PI;break;case Pi.kGradians:t=.9;break;case Pi.kTurns:t=360}return t},zi=function(e){switch(e){case Pi.kNumber:case Pi.kInteger:return"";case Pi.kPercentage:return"%";case Pi.kEms:return"em";case Pi.kRems:return"rem";case Pi.kPixels:return"px";case Pi.kDegrees:return"deg";case Pi.kRadians:return"rad";case Pi.kGradians:return"grad";case Pi.kMilliseconds:return"ms";case Pi.kSeconds:return"s";case Pi.kTurns:return"turn"}return""},ji=function(){return c((function e(){l(this,e)}),[{key:"toString",value:function(){return this.buildCSSText(_i.kNo,Ri.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=Di.kUnitType&&this.getType()<=Di.kClampType}}],[{key:"isAngle",value:function(e){return e===Pi.kDegrees||e===Pi.kRadians||e===Pi.kGradians||e===Pi.kTurns}},{key:"isLength",value:function(e){return e>=Pi.kEms&&e<Pi.kDegrees}},{key:"isRelativeUnit",value:function(e){return e===Pi.kPercentage||e===Pi.kEms||e===Pi.kRems}},{key:"isTime",value:function(e){return e===Pi.kSeconds||e===Pi.kMilliseconds}}])}(),Fi=function(e){function t(e){var n;return l(this,t),(n=m(this,t)).colorSpace=e,n}return b(t,e),c(t,[{key:"getType",value:function(){return Di.kColorType}},{key:"to",value:function(e){return this}}])}(ji),Bi=function(e){return e[e.Constant=0]="Constant",e[e.LinearGradient=1]="LinearGradient",e[e.RadialGradient=2]="RadialGradient",e}({}),Ui=function(e){function t(e,n){var r;return l(this,t),(r=m(this,t)).type=e,r.value=n,r}return b(t,e),c(t,[{key:"clone",value:function(){return new t(this.type,this.value)}},{key:"buildCSSText",value:function(e,t,n){return n}},{key:"getType",value:function(){return Di.kColorType}}])}(ji),Wi=function(e){function t(e){var n;return l(this,t),(n=m(this,t)).value=e,n}return b(t,e),c(t,[{key:"clone",value:function(){return new t(this.value)}},{key:"getType",value:function(){return Di.kKeywordType}},{key:"buildCSSText",value:function(e,t,n){return n+this.value}}])}(ji),Vi=function(e){return function(e){switch(e){case Oi.kUNumber:return Pi.kNumber;case Oi.kULength:return Pi.kPixels;case Oi.kUPercent:return Pi.kPercentage;case Oi.kUTime:return Pi.kSeconds;case Oi.kUAngle:return Pi.kDegrees;default:return Pi.kUnknown}}(function(e){switch(e){case Pi.kNumber:case Pi.kInteger:return Oi.kUNumber;case Pi.kPercentage:return Oi.kUPercent;case Pi.kPixels:return Oi.kULength;case Pi.kMilliseconds:case Pi.kSeconds:return Oi.kUTime;case Pi.kDegrees:case Pi.kRadians:case Pi.kGradians:case Pi.kTurns:return Oi.kUAngle;default:return Oi.kUOther}}(e))},Hi=function(e){function t(e){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pi.kNumber;return l(this,t),n=m(this,t),r="string"==typeof i?Li(i):i,n.unit=r,n.value=e,n}return b(t,e),c(t,[{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"equals",value:function(e){var t=e;return this.value===t.value&&this.unit===t.unit}},{key:"getType",value:function(){return Di.kUnitType}},{key:"convertTo",value:function(e){if(this.unit===e)return new t(this.value,this.unit);var n=Vi(this.unit);if(n!==Vi(e)||n===Pi.kUnknown)return null;var r=Ii(this.unit)/Ii(e);return new t(this.value*r,e)}},{key:"buildCSSText",value:function(e,t,n){var r;switch(this.unit){case Pi.kUnknown:break;case Pi.kInteger:r=Number(this.value).toFixed(0);break;case Pi.kNumber:case Pi.kPercentage:case Pi.kEms:case Pi.kRems:case Pi.kPixels:case Pi.kDegrees:case Pi.kRadians:case Pi.kGradians:case Pi.kMilliseconds:case Pi.kSeconds:case Pi.kTurns:var i=this.value,o=zi(this.unit);if(i<-999999||i>999999){var a=zi(this.unit);r=!Number.isFinite(i)||Number.isNaN(i)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(Number.isFinite(e)?"NaN":e>0?"infinity":"-infinity")+t}(i,a):i+(a||"")}else r="".concat(i).concat(o)}return n+=r}}])}(ji),Gi=new Hi(0,"px");new Hi(1,"px");var $i=new Hi(0,"deg"),Yi=function(e){function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return l(this,t),(i=m(this,t,["rgb"])).r=e,i.g=n,i.b=r,i.alpha=o,i.isNone=a,i}return b(t,e),c(t,[{key:"clone",value:function(){return new t(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(e,t,n){return"".concat(n,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(Fi),qi=new Wi("unset"),Ki={"":qi,unset:qi,initial:new Wi("initial"),inherit:new Wi("inherit")},Xi=new Yi(0,0,0,0,!0),Qi=new Yi(0,0,0,0),Zi=Ni((function(e,t,n,r){return new Yi(e,t,n,r)}),(function(e,t,n,r){return"rgba(".concat(e,",").concat(t,",").concat(n,",").concat(r,")")})),Ji=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pi.kNumber;return new Hi(e,t)};function eo(e){var t=e.type,n=e.value;return"hex"===t?"#".concat(n):"literal"===t?n:"rgb"===t?"rgb(".concat(n.join(","),")"):"rgba(".concat(n.join(","),")")}new Hi(50,"%");var to=function(){var e=/^(linear\-gradient)/i,t=/^(repeating\-linear\-gradient)/i,n=/^(radial\-gradient)/i,r=/^(repeating\-radial\-gradient)/i,i=/^(conic\-gradient)/i,o=/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,a=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,s=/^(left|center|right|top|bottom)/i,l=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,u=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,c=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,d=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,f=/^\(/,h=/^\)/,p=/^,/,g=/^\#([0-9a-fA-F]+)/,v=/^([a-zA-Z]+)/,m=/^rgb/i,y=/^rgba/i,b=/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/,w="";function x(e){throw new Error("".concat(w,": ").concat(e))}function E(){var e=R(k);return w.length>0&&x("Invalid input not EOF"),e}function k(){return S("linear-gradient",e,T)||S("repeating-linear-gradient",t,T)||S("radial-gradient",n,C)||S("repeating-radial-gradient",r,C)||S("conic-gradient",i,C)}function S(e,t,n){return M(t,(function(t){var r=n();return r&&(j(p)||x("Missing comma before color stops")),{type:e,orientation:r,colorStops:R(A)}}))}function M(e,t){var n=j(e);if(n){j(f)||x("Missing (");var r=t(n);return j(h)||x("Missing )"),r}}function T(){return z("directional",o,1)||z("angular",d,1)}function C(){var e,t,n=N();return n&&((e=[]).push(n),t=w,j(p)&&((n=N())?e.push(n):w=t)),e}function N(){var e=function(){var e=z("shape",/^(circle)/i,0);e&&(e.style=I()||P());return e}()||function(){var e=z("shape",/^(ellipse)/i,0);e&&(e.style=L()||P());return e}();if(e)e.at=O();else{var t=P();if(t){e=t;var n=O();n&&(e.at=n)}else{var r=_();r&&(e={type:"default-radial",at:r})}}return e}function P(){return z("extent-keyword",a,1)}function O(){if(z("position",/^at/,0)){var e=_();return e||x("Missing positioning value"),e}}function _(){var e={x:L(),y:L()};if(e.x||e.y)return{type:"position",value:e}}function R(e){var t=e(),n=[];if(t)for(n.push(t);j(p);)(t=e())?n.push(t):x("One extra comma");return n}function A(){var e=z("hex",g,1)||M(y,(function(){return{type:"rgba",value:R(D)}}))||M(m,(function(){return{type:"rgb",value:R(D)}}))||z("literal",v,0);return e||x("Expected color definition"),e.length=L(),e}function D(){return j(b)[1]}function L(){return z("%",u,1)||z("position-keyword",s,1)||I()}function I(){return z("px",l,1)||z("em",c,1)}function z(e,t,n){var r=j(t);if(r)return{type:e,value:r[n]}}function j(e){var t=/^[\n\r\t\s]+/.exec(w);t&&F(t[0].length);var n=e.exec(w);return n&&F(n[0].length),n}function F(e){w=w.substring(e)}return function(e){return w=e,E()}}();var no=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ro=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,io=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,oo=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;var ao={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},so=Ni((function(e){var t;return t="angular"===e.type?Number(e.value):ao[e.value]||0,Ji(t,"deg")})),lo=Ni((function(e){var t=50,n=50,r="%",i="%";if("position"===(null==e?void 0:e.type)){var o=e.value,a=o.x,s=o.y;"position-keyword"===(null==a?void 0:a.type)&&("left"===a.value?t=0:"center"===a.value?t=50:"right"===a.value?t=100:"top"===a.value?n=0:"bottom"===a.value&&(n=100)),"position-keyword"===(null==s?void 0:s.type)&&("left"===s.value?t=0:"center"===s.value?n=50:"right"===s.value?t=100:"top"===s.value?n=0:"bottom"===s.value&&(n=100)),"px"!==(null==a?void 0:a.type)&&"%"!==(null==a?void 0:a.type)&&"em"!==(null==a?void 0:a.type)||(r=null==a?void 0:a.type,t=Number(a.value)),"px"!==(null==s?void 0:s.type)&&"%"!==(null==s?void 0:s.type)&&"em"!==(null==s?void 0:s.type)||(i=null==s?void 0:s.type,n=Number(s.value))}return{cx:Ji(t,r),cy:Ji(n,i)}})),uo=Ni((function(e){if(e.indexOf("linear")>-1||e.indexOf("radial")>-1)return to(e).map((function(e){var t=e.type,n=e.orientation,r=e.colorStops;!function(e){var t,n,r=e.length;e[r-1].length=null!==(t=e[r-1].length)&&void 0!==t?t:{type:"%",value:"100"},r>1&&(e[0].length=null!==(n=e[0].length)&&void 0!==n?n:{type:"%",value:"0"});for(var i=0,o=Number(e[0].length.value),a=1;a<r;a++){var s,l=null===(s=e[a].length)||void 0===s?void 0:s.value;if(!Ye(l)&&!Ye(o)){for(var u=1;u<a-i;u++)e[i+u].length={type:"%",value:"".concat(o+(Number(l)-o)*u/(a-i))};i=a,o=Number(l)}}}(r);var i=r.map((function(e){return{offset:Ji(Number(e.length.value),"%"),color:eo(e)}}));if("linear-gradient"===t)return new Ui(Bi.LinearGradient,{angle:n?so(n):$i,steps:i});if("radial-gradient"===t&&(n||(n=[{type:"shape",value:"circle"}]),"shape"===n[0].type&&"circle"===n[0].value)){var o,a=lo(n[0].at),s=a.cx,l=a.cy;if(n[0].style){var u=n[0].style,c=u.type,d=u.value;o="extent-keyword"===c?function(e){return Ki[e]||(Ki[e]=new Wi(e)),Ki[e]}(d):Ji(d,c)}return new Ui(Bi.RadialGradient,{cx:s,cy:l,size:o,steps:i})}}));var t=e[0];if("("===e[1]||"("===e[2])if("l"===t){var n=no.exec(e);if(n){var r,i=(null===(r=n[2].match(oo))||void 0===r?void 0:r.map((function(e){return e.split(":")})))||[];return[new Ui(Bi.LinearGradient,{angle:Ji(parseFloat(n[1]),"deg"),steps:i.map((function(e){var t=w(e,2),n=t[0],r=t[1];return{offset:Ji(100*Number(n),"%"),color:r}}))})]}}else if("r"===t){var o=function(e){var t=ro.exec(e);if(t){var n,r=(null===(n=t[4].match(oo))||void 0===n?void 0:n.map((function(e){return e.split(":")})))||[];return{cx:Ji(50,"%"),cy:Ji(50,"%"),steps:r.map((function(e){var t=w(e,2),n=t[0],r=t[1];return{offset:Ji(100*Number(n),"%"),color:r}}))}}return null}(e);if(o){if(!rt(o))return[new Ui(Bi.RadialGradient,o)];e=o}}else if("p"===t)return function(e){var t=io.exec(e);if(t){var n=t[1],r=t[2];switch(n){case"a":n="repeat";break;case"x":n="repeat-x";break;case"y":n="repeat-y";break;default:n="no-repeat"}return{image:r,repetition:n}}return null}(e)}));function co(e){return e&&!!e.image}function fo(e){return e&&!Ye(e.r)&&!Ye(e.g)&&!Ye(e.b)}var ho=Ni((function(e){if(co(e))return s({repetition:"repeat"},e);if(Ye(e)&&(e=""),"transparent"===e)return Qi;if("currentColor"===e)e="black";else if("none"===e)return Xi;var t=uo(e);if(t)return t;var n=Qn(e),r=[0,0,0,0];return null!==n&&(r[0]=n.r||0,r[1]=n.g||0,r[2]=n.b||0,r[3]=n.opacity),Zi.apply(void 0,r)}));function po(e,t){if(fo(e)&&fo(t))return[[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],function(e){var t=e.slice();if(t[3])for(var n=0;n<3;n++)t[n]=Math.round(at(t[n],0,255));return t[3]=at(t[3],0,1),"rgba(".concat(t.join(","),")")}]}function go(e,t){if(Ye(t))return Ji(0,"px");if(t="".concat(t).trim().toLowerCase(),isFinite(Number(t))){if("px".search(e)>=0)return Ji(Number(t),"px");if("deg".search(e)>=0)return Ji(Number(t),"deg")}var n=[];t=t.replace(e,(function(e){return n.push(e),"U".concat(e)}));var r="U(".concat(e.source,")");return n.map((function(e){return Ji(Number(t.replace(new RegExp("U".concat(e),"g"),"").replace(new RegExp(r,"g"),"*0")),e)}))[0]}var vo=function(e){return go(new RegExp("px","g"),e)},mo=Ni(vo);Ni((function(e){return go(new RegExp("%","g"),e)}));var yo=function(e){return st(e)||isFinite(Number(e))?Ji(Number(e)||0,"px"):go(new RegExp("px|%|em|rem","g"),e)},bo=Ni(yo),wo=function(e){return go(new RegExp("deg|rad|grad|turn","g"),e)},xo=Ni(wo);function Eo(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o="",a=e.value||0,s=t.value||0,l=Vi(e.unit),u=e.convertTo(l),c=t.convertTo(l);return u&&c?(a=u.value,s=c.value,o=zi(e.unit)):(Hi.isLength(e.unit)||Hi.isLength(t.unit))&&(a=Mo(e,i,n),s=Mo(t,i,n),o="px"),[a,s,function(e){return e+o}]}function ko(e){var t=0;return e.unit===Pi.kDegrees?t=e.value:e.unit===Pi.kRadians?t=si(Number(e.value)):e.unit===Pi.kTurns?t=360*Number(e.value):e.value&&(t=e.value),t}function So(e,t){var n;return Array.isArray(e)?n=e.map((function(e){return Number(e)})):rt(e)?n=e.split(" ").map((function(e){return Number(e)})):st(e)&&(n=[e]),2===t?1===n.length?[n[0],n[0]]:[n[0],n[1]]:4===t?1===n.length?[n[0],n[0],n[0],n[0]]:2===n.length?[n[0],n[1],n[0],n[1]]:3===n.length?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]]:"even"===t&&n.length%2==1?[].concat(h(n),h(n)):n}function Mo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.unit===Pi.kPixels)return Number(e.value);if(e.unit===Pi.kPercentage&&n){var i=n.nodeName===zr.GROUP?n.getLocalBounds():n.getGeometryBounds();return(r?i.min[t]:0)+e.value/100*i.halfExtents[t]*2}return 0}var To=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function Co(e){return e.toString()}var No=function(e){return"number"==typeof e?Ji(e):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(e)?Ji(Number(e)):Ji(0)},Po=Ni(No);function Oo(e,t){return[e,t,Co]}function _o(e,t){return function(n,r){return[n,r,function(n){return Co(at(n,e,t))}]}}function Ro(e,t){if(e.length===t.length)return[e,t,function(e){return e}]}function Ao(e){var t;return 0===e.parsedStyle.d.totalLength&&(e.parsedStyle.d.totalLength=Mn(e.parsedStyle.d.absolutePath,void 0,Ft(Ft({},t),{bbox:!1,length:!0})).length),e.parsedStyle.d.totalLength}function Do(e,t){return e[0]===t[0]&&e[1]===t[1]}function Lo(e,t){var n=e.prePoint,r=e.currentPoint,i=e.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),l=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!l||0===Math.sin(l)||lt(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),c=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c,{xExtra:Math.cos(l/2-u)*(t/2*(1/Math.sin(l/2)))-t/2||0,yExtra:Math.cos(c-l/2)*(t/2*(1/Math.sin(l/2)))-t/2||0}}function Io(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}Ni((function(e){return rt(e)?e.split(" ").map(Po):e.map(Po)}));var zo=function(e,t){var n=e.x*t.x+e.y*t.y,r=Math.sqrt((Math.pow(e.x,2)+Math.pow(e.y,2))*(Math.pow(t.x,2)+Math.pow(t.y,2)));return(e.x*t.y-e.y*t.x<0?-1:1)*Math.acos(n/r)},jo=function(e,t,n,r,i,o,a,s){t=Math.abs(t),n=Math.abs(n);var l=oi(r=dt(r,360));if(e.x===a.x&&e.y===a.y)return{x:e.x,y:e.y,ellipticalArcAngle:0};if(0===t||0===n)return{x:0,y:0,ellipticalArcAngle:0};var u=(e.x-a.x)/2,c=(e.y-a.y)/2,d={x:Math.cos(l)*u+Math.sin(l)*c,y:-Math.sin(l)*u+Math.cos(l)*c},f=Math.pow(d.x,2)/Math.pow(t,2)+Math.pow(d.y,2)/Math.pow(n,2);f>1&&(t*=Math.sqrt(f),n*=Math.sqrt(f));var h=(Math.pow(t,2)*Math.pow(n,2)-Math.pow(t,2)*Math.pow(d.y,2)-Math.pow(n,2)*Math.pow(d.x,2))/(Math.pow(t,2)*Math.pow(d.y,2)+Math.pow(n,2)*Math.pow(d.x,2));h=h<0?0:h;var p=(i!==o?1:-1)*Math.sqrt(h),g=p*(t*d.y/n),v=p*(-n*d.x/t),m={x:Math.cos(l)*g-Math.sin(l)*v+(e.x+a.x)/2,y:Math.sin(l)*g+Math.cos(l)*v+(e.y+a.y)/2},y={x:(d.x-g)/t,y:(d.y-v)/n},b=zo({x:1,y:0},y),w=zo(y,{x:(-d.x-g)/t,y:(-d.y-v)/n});!o&&w>0?w-=2*Math.PI:o&&w<0&&(w+=2*Math.PI);var x=b+(w%=2*Math.PI)*s,E=t*Math.cos(x),k=n*Math.sin(x);return{x:Math.cos(l)*E-Math.sin(l)*k+m.x,y:Math.sin(l)*E+Math.cos(l)*k+m.y,ellipticalArcStartAngle:b,ellipticalArcEndAngle:b+w,ellipticalArcAngle:x,ellipticalArcCenter:m,resultantRx:t,resultantRy:n}};function Fo(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.arcParams,i=r.rx,o=void 0===i?0:i,a=r.ry,s=void 0===a?0:a,l=r.xRotation,u=r.arcFlag,c=r.sweepFlag,d=jo({x:e.prePoint[0],y:e.prePoint[1]},o,s,l,!!u,!!c,{x:e.currentPoint[0],y:e.currentPoint[1]},t),f=jo({x:e.prePoint[0],y:e.prePoint[1]},o,s,l,!!u,!!c,{x:e.currentPoint[0],y:e.currentPoint[1]},n?t+.005:t-.005),h=f.x-d.x,p=f.y-d.y,g=Math.sqrt(h*h+p*p);return{x:-h/g,y:-p/g}}function Bo(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Uo(e,t){return Bo(e)*Bo(t)?(e[0]*t[0]+e[1]*t[1])/(Bo(e)*Bo(t)):1}function Wo(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Uo(e,t))}function Vo(e,t){var n=t[1],r=t[2],i=dt(oi(t[3]),2*Math.PI),o=t[4],a=t[5],s=e[0],l=e[1],u=t[6],c=t[7],d=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-c)/2,f=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-c)/2,h=d*d/(n*n)+f*f/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(f*f)+r*r*(d*d),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*f/r:0,m=n?g*-r*d/n:0,y=(s+u)/2+Math.cos(i)*v-Math.sin(i)*m,b=(l+c)/2+Math.sin(i)*v+Math.cos(i)*m,w=[(d-v)/n,(f-m)/r],x=[(-1*d-v)/n,(-1*f-m)/r],E=Wo([1,0],w),k=Wo(w,x);return Uo(w,x)<=-1&&(k=Math.PI),Uo(w,x)>=1&&(k=0),0===a&&k>0&&(k-=2*Math.PI),1===a&&k<0&&(k+=2*Math.PI),{cx:y,cy:b,rx:Do(e,[u,c])?0:n,ry:Do(e,[u,c])?0:r,startAngle:E,endAngle:E+k,xRotation:i,arcFlag:o,sweepFlag:a}}var Ho=function(e){if(""===e||Array.isArray(e)&&0===e.length)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var t;try{t=un(e)}catch(n){t=un(""),console.error("[g]: Invalid SVG Path definition: ".concat(e))}!function(e){for(var t=0;t<e.length;t++){var n=e[t-1],r=e[t];if("M"===r[0]&&n){var i=n[0],o=[r[1],r[2]],a=void 0;"L"===i||"M"===i?a=[n[1],n[2]]:"C"!==i&&"A"!==i&&"Q"!==i||(a=[n[n.length-2],n[n.length-1]]),a&&Do(o,a)&&(e.splice(t,1),t--)}}}(t);var n=function(e){for(var t=!1,n=e.length,r=0;r<n;r++){var i=e[r][0];if("C"===i||"A"===i||"Q"===i){t=!0;break}}return t}(t),r=function(e){for(var t=[],n=[],r=[],i=0;i<e.length;i++){var o=e[i],a=o[0];"M"===a?(r.length&&(n.push(r),r=[]),r.push([o[1],o[2]])):"Z"===a?r.length&&(t.push(r),r=[]):r.push([o[1],o[2]])}return r.length>0&&n.push(r),{polygons:t,polylines:n}}(t),i=r.polygons,o=r.polylines,a=function(e){for(var t=[],n=null,r=null,i=null,o=0,a=e.length,s=0;s<a;s++){var l=e[s];r=e[s+1];var u=l[0],c={command:u,prePoint:n,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(u){case"M":i=[l[1],l[2]],o=s;break;case"A":var d=Vo(n,l);c.arcParams=d}if("Z"===u)n=i,r=e[o+1];else{var f=l.length;n=[l[f-2],l[f-1]]}r&&"Z"===r[0]&&(r=e[o],t[o]&&(t[o].prePoint=n)),c.currentPoint=n,t[o]&&Do(n,t[o].currentPoint)&&(t[o].prePoint=c.prePoint);var h=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=h;var p=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===u){var g=[l[1],l[2]];c.startTangent=[p[0]-g[0],p[1]-g[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===u){var v=t[s-1],m=Io(v.currentPoint,p);"Q"===v.command?(c.command="Q",c.startTangent=[p[0]-m[0],p[1]-m[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]]):(c.command="TL",c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===u){var y=[l[1],l[2]],b=[l[3],l[4]];c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[n[0]-b[0],n[1]-b[1]],0===c.startTangent[0]&&0===c.startTangent[1]&&(c.startTangent=[y[0]-b[0],y[1]-b[1]]),0===c.endTangent[0]&&0===c.endTangent[1]&&(c.endTangent=[b[0]-y[0],b[1]-y[1]])}else if("S"===u){var w=t[s-1],x=Io(w.currentPoint,p),E=[l[1],l[2]];"C"===w.command?(c.command="C",c.startTangent=[p[0]-x[0],p[1]-x[1]],c.endTangent=[n[0]-E[0],n[1]-E[1]]):(c.command="SQ",c.startTangent=[p[0]-E[0],p[1]-E[1]],c.endTangent=[n[0]-E[0],n[1]-E[1]])}else if("A"===u){var k=Fo(c,0),S=k.x,M=k.y,T=Fo(c,1,!1),C=T.x,N=T.y;c.startTangent=[S,M],c.endTangent=[C,N]}t.push(c)}return t}(t),s=function(e,t){for(var n=[],r=[],i=[],o=0;o<e.length;o++){var a=e[o],s=a.currentPoint,l=a.params,u=a.prePoint,c=void 0;switch(a.command){case"Q":c=Nr(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":c=kr(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var d=a.arcParams;c=vr(d.cx,d.cy,d.rx,d.ry,d.xRotation,d.startAngle,d.endAngle);break;default:n.push(s[0]),r.push(s[1])}c&&(a.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height))}n=n.filter((function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0})),r=r.filter((function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0}));var f=nt(n),h=nt(r),p=tt(n),g=tt(r);if(0===i.length)return{x:f,y:h,width:p-f,height:g-h};for(var v=0;v<i.length;v++){var m=i[v],y=m.currentPoint;y[0]===f?f-=Lo(m,t).xExtra:y[0]===p&&(p+=Lo(m,t).xExtra),y[1]===h?h-=Lo(m,t).yExtra:y[1]===g&&(g+=Lo(m,t).yExtra)}return{x:f,y:h,width:p-f,height:g-h}}(a,0),l=s.x,u=s.y,c=s.width,d=s.height;return{absolutePath:t,hasArc:n,segments:a,polygons:i,polylines:o,totalLength:0,rect:{x:Number.isFinite(l)?l:0,y:Number.isFinite(u)?u:0,width:Number.isFinite(c)?c:0,height:Number.isFinite(d)?d:0}}},Go=Ni(Ho);function $o(e){return rt(e)?Go(e):Ho(e)}function Yo(e,t,n){var r=e.curve,i=t.curve;r&&0!==r.length||(r=gn(e.absolutePath,!1),e.curve=r),i&&0!==i.length||(i=gn(t.absolutePath,!1),t.curve=i);var o=[r,i];r.length!==i.length&&(o=Pn(r,i));var a,s,l=Cn(o[0])!==Cn(o[1])?(a=o[0],s=a.slice(1).map((function(e,t,n){return t?n[t-1].slice(-2).concat(e.slice(1)):a[0].slice(1).concat(e.slice(1))})).map((function(e){return e.map((function(t,n){return e[e.length-n-2*(1-n%2)]}))})).reverse(),[["M"].concat(s[0].slice(0,2))].concat(s.map((function(e){return["C"].concat(e.slice(2))})))):o[0].map((function(e){return Array.isArray(e)?[].concat(e):e}));return[l,Tn(o[1],l),function(e){return e}]}function qo(e,t){return[e.points,t.points,function(e){return e}]}var Ko=null,Xo=/\s*(\w+)\(([^)]*)\)/g;function Qo(e){return function(t){var n=0;return e.map((function(e){return e===Ko?t[n++]:e}))}}function Zo(e){return e}var Jo={matrix:["NNNNNN",[Ko,Ko,0,0,Ko,Ko,0,0,0,0,1,0,Ko,Ko,0,1],Zo],matrix3d:["NNNNNNNNNNNNNNNN",Zo],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",Qo([Ko,Ko,new Hi(1)]),Zo],scaleX:["N",Qo([Ko,new Hi(1),new Hi(1)]),Qo([Ko,new Hi(1)])],scaleY:["N",Qo([new Hi(1),Ko,new Hi(1)]),Qo([new Hi(1),Ko])],scaleZ:["N",Qo([new Hi(1),new Hi(1),Ko])],scale3d:["NNN",Zo],skew:["Aa",null,Zo],skewX:["A",null,Qo([Ko,$i])],skewY:["A",null,Qo([$i,Ko])],translate:["Tt",Qo([Ko,Ko,Gi]),Zo],translateX:["T",Qo([Ko,Gi,Gi]),Qo([Ko,Gi])],translateY:["T",Qo([Gi,Ko,Gi]),Qo([Gi,Ko])],translateZ:["L",Qo([Gi,Gi,Ko])],translate3d:["TTL",Zo]};function ea(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e[r],o=i[0],a=i.slice(1);if("translate"===o||"skew"===o?1===a.length&&a.push(0):"scale"===o&&1===a.length&&a.push(a[0]),!Jo[o])return[];var s=a.map((function(e){return Ji(e)}));t.push({t:o,d:s})}return t}function ta(e){if(Array.isArray(e))return ea(e);if("none"===(e=(e||"none").trim()))return[];var t,n=[],r=0;for(Xo.lastIndex=0;t=Xo.exec(e);){if(t.index!==r)return[];r=t.index+t[0].length;var i=t[1],o=Jo[i];if(!o)return[];var a=t[2].split(","),s=o[0];if(s.length<a.length)return[];for(var l=[],u=0;u<s.length;u++){var c=a[u],d=s[u],f=void 0;if(void 0===(f=c?{A:function(e){return"0"===e.trim()?$i:xo(e)},N:Po,T:bo,L:mo}[d.toUpperCase()](c):{a:$i,n:l[0],t:Gi}[d]))return[];l.push(f)}if(n.push({t:i,d:l}),Xo.lastIndex===e.length)return n}return[]}function na(e){if(Array.isArray(e))return ea(e);if("none"===(e=(e||"none").trim()))return[];var t,n=[],r=0;for(Xo.lastIndex=0;t=Xo.exec(e);){if(t.index!==r)return[];r=t.index+t[0].length;var i=t[1],o=Jo[i];if(!o)return[];var a=t[2].split(","),s=o[0];if(s.length<a.length)return[];for(var l=[],u=0;u<s.length;u++){var c=a[u],d=s[u],f=void 0;if(void 0===(f=c?{A:function(e){return"0"===e.trim()?$i:wo(e)},N:No,T:yo,L:vo}[d.toUpperCase()](c):{a:$i,n:l[0],t:Gi}[d]))return[];l.push(f)}if(n.push({t:i,d:l}),Xo.lastIndex===e.length)return n}return[]}function ra(e){var t,n,r,i;switch(e.t){case"rotateX":return i=oi(ko(e.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotateY":return i=oi(ko(e.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotateZ":return i=oi(ko(e.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":t=e.d[0].value,n=e.d[1].value,r=e.d[2].value,i=oi(ko(e.d[3]));var o=t*t+n*n+r*r;if(0===o)t=1,n=0,r=0;else if(1!==o){var a=Math.sqrt(o);t/=a,n/=a,r/=a}var s=Math.sin(i/2),l=s*Math.cos(i/2),u=s*s;return[1-2*(n*n+r*r)*u,2*(t*n*u+r*l),2*(t*r*u-n*l),0,2*(t*n*u-r*l),1-2*(t*t+r*r)*u,2*(n*r*u+t*l),0,2*(t*r*u+n*l),2*(n*r*u-t*l),1-2*(t*t+n*n)*u,0,0,0,0,1];case"scale":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[e.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,e.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,e.d[0].value,0,0,0,0,1];case"scale3d":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,e.d[2].value,0,0,0,0,1];case"skew":var c=oi(ko(e.d[0])),d=oi(ko(e.d[1]));return[1,Math.tan(d),0,0,Math.tan(c),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return i=oi(ko(e.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return i=oi(ko(e.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return[1,0,0,0,0,1,0,0,0,0,1,0,t=Mo(e.d[0],0,null)||0,n=Mo(e.d[1],0,null)||0,0,1];case"translateX":return[1,0,0,0,0,1,0,0,0,0,1,0,t=Mo(e.d[0],0,null)||0,0,0,1];case"translateY":return[1,0,0,0,0,1,0,0,0,0,1,0,0,n=Mo(e.d[0],0,null)||0,0,1];case"translateZ":return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r=Mo(e.d[0],0,null)||0,1];case"translate3d":return[1,0,0,0,0,1,0,0,0,0,1,0,t=Mo(e.d[0],0,null)||0,n=Mo(e.d[1],0,null)||0,r=Mo(e.d[2],0,null)||0,1];case"perspective":var f=Mo(e.d[0],0,null)||0;return[1,0,0,0,0,1,0,0,0,0,1,f?-1/f:0,0,0,0,1];case"matrix":return[e.d[0].value,e.d[1].value,0,0,e.d[2].value,e.d[3].value,0,0,0,0,1,0,e.d[4].value,e.d[5].value,0,1];case"matrix3d":return e.d.map((function(e){return e.value}))}}function ia(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15]]}function oa(e){var t=[0,0,0],n=[1,1,1],r=[0,0,0],i=[0,0,0,1],o=[0,0,0,1];return function(e,t,n,r,i,o){if(!function(e,t){var n=t[15];if(0===n)return!1;for(var r=1/n,i=0;i<16;i++)e[i]=t[i]*r;return!0}(fi,e))return!1;if(_(hi,fi),hi[3]=0,hi[7]=0,hi[11]=0,hi[15]=1,Math.abs(z(hi))<1e-8)return!1;var a,s,l=fi[3],u=fi[7],c=fi[11],d=fi[12],f=fi[13],h=fi[14],p=fi[15];if(0!==l||0!==u||0!==c){if(pi[0]=l,pi[1]=u,pi[2]=c,pi[3]=p,!I(hi,hi))return!1;L(hi,hi),Re(i,pi,hi)}else i[0]=i[1]=i[2]=0,i[3]=1;if(t[0]=d,t[1]=f,t[2]=h,s=fi,(a=gi)[0][0]=s[0],a[0][1]=s[1],a[0][2]=s[2],a[1][0]=s[4],a[1][1]=s[5],a[1][2]=s[6],a[2][0]=s[8],a[2][1]=s[9],a[2][2]=s[10],n[0]=pe(gi[0]),xe(gi[0],gi[0]),r[0]=Ee(gi[0],gi[1]),mi(gi[1],gi[1],gi[0],1,-r[0]),n[1]=pe(gi[1]),xe(gi[1],gi[1]),r[0]/=n[1],r[1]=Ee(gi[0],gi[2]),mi(gi[2],gi[2],gi[0],1,-r[1]),r[2]=Ee(gi[1],gi[2]),mi(gi[2],gi[2],gi[1],1,-r[2]),n[2]=pe(gi[2]),xe(gi[2],gi[2]),r[1]/=n[2],r[2]/=n[2],ke(vi,gi[1],gi[2]),Ee(gi[0],vi)<0)for(var g=0;g<3;g++)n[g]*=-1,gi[g][0]*=-1,gi[g][1]*=-1,gi[g][2]*=-1;o[0]=.5*Math.sqrt(Math.max(1+gi[0][0]-gi[1][1]-gi[2][2],0)),o[1]=.5*Math.sqrt(Math.max(1-gi[0][0]+gi[1][1]-gi[2][2],0)),o[2]=.5*Math.sqrt(Math.max(1-gi[0][0]-gi[1][1]+gi[2][2],0)),o[3]=.5*Math.sqrt(Math.max(1+gi[0][0]+gi[1][1]+gi[2][2],0)),gi[2][1]>gi[1][2]&&(o[0]=-o[0]),gi[0][2]>gi[2][0]&&(o[1]=-o[1]),gi[1][0]>gi[0][1]&&(o[2]=-o[2])}(function(e){return 0===e.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(ra).reduce(ia)}(e),t,n,r,i,o),[[t,n,r,o,i]]}var aa=function(){function e(e,t){for(var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],r=0;r<4;r++)for(var i=0;i<4;i++)for(var o=0;o<4;o++)n[r][i]+=t[r][o]*e[o][i];return n}return function(t,n,r,i,o){for(var a=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],s=0;s<4;s++)a[s][3]=o[s];for(var l=0;l<3;l++)for(var u=0;u<3;u++)a[3][l]+=t[u]*a[u][l];var c=i[0],d=i[1],f=i[2],h=i[3],p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];p[0][0]=1-2*(d*d+f*f),p[0][1]=2*(c*d-f*h),p[0][2]=2*(c*f+d*h),p[1][0]=2*(c*d+f*h),p[1][1]=1-2*(c*c+f*f),p[1][2]=2*(d*f-c*h),p[2][0]=2*(c*f-d*h),p[2][1]=2*(d*f+c*h),p[2][2]=1-2*(c*c+d*d),a=e(a,p);var g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];r[2]&&(g[2][1]=r[2],a=e(a,g)),r[1]&&(g[2][1]=0,g[2][0]=r[0],a=e(a,g)),r[0]&&(g[2][0]=0,g[1][0]=r[0],a=e(a,g));for(var v=0;v<3;v++)for(var m=0;m<3;m++)a[v][m]*=n[v];return function(e){return 0===e[0][2]&&0===e[0][3]&&0===e[1][2]&&0===e[1][3]&&0===e[2][0]&&0===e[2][1]&&1===e[2][2]&&0===e[2][3]&&0===e[3][2]&&1===e[3][3]}(a)?[a[0][0],a[0][1],a[1][0],a[1][1],a[3][0],a[3][1]]:a[0].concat(a[1],a[2],a[3])}}();function sa(e){return e.toFixed(6).replace(".000000","")}function la(e,t){var n,r;return e.decompositionPair!==t&&(e.decompositionPair=t,n=oa(e)),t.decompositionPair!==e&&(t.decompositionPair=e,r=oa(t)),null===n[0]||null===r[0]?[[!1],[!0],function(n){return n?t[0].d:e[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(e){var t=function(e,t,n){var r=function(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}(e,t);r=at(r,-1,1);var i=[];if(1===r)i=e;else for(var o=Math.acos(r),a=1*Math.sin(n*o)/Math.sqrt(1-r*r),s=0;s<4;s++)i.push(e[s]*(Math.cos(n*o)-r*a)+t[s]*a);return i}(n[0][3],r[0][3],e[5]);return aa(e[0],e[1],e[2],t,e[4]).map(sa).join(",")}])}function ua(e){return e.replace(/[XY]/,"")}function ca(e){return e.replace(/(X|Y|Z|3d)?$/,"3d")}function da(e,t,n){var r=!1;if(!e.length||!t.length){e.length||(r=!0,e=t,t=[]);for(var i=function(){var n=e[o],r=n.t,i=n.d,a="scale"===r.substring(0,5)?1:0;t.push({t:r,d:i.map((function(e){return"number"==typeof e?Ji(a):Ji(a,e.unit)}))})},o=0;o<e.length;o++)i()}var a,s,l=[],u=[],c=[];if(e.length!==t.length){var d=la(e,t);l=[d[0]],u=[d[1]],c=[["matrix",[d[2]]]]}else for(var f=0;f<e.length;f++){var h=e[f].t,p=t[f].t,g=e[f].d,v=t[f].d,m=Jo[h],y=Jo[p],b=void 0;if(s=p,"perspective"===(a=h)&&"perspective"===s||!("matrix"!==a&&"matrix3d"!==a||"matrix"!==s&&"matrix3d"!==s)){var w=la([e[f]],[t[f]]);l.push(w[0]),u.push(w[1]),c.push(["matrix",[w[2]]])}else{if(h===p)b=h;else if(m[2]&&y[2]&&ua(h)===ua(p))b=ua(h),g=m[2](g),v=y[2](v);else{if(!m[1]||!y[1]||ca(h)!==ca(p)){var x=la(e,t);l=[x[0]],u=[x[1]],c=[["matrix",[x[2]]]];break}b=ca(h),g=m[1](g),v=y[1](v)}for(var E=[],k=[],S=[],M=0;M<g.length;M++){var T=Eo(g[M],v[M],n,!1,M);E[M]=T[0],k[M]=T[1],S.push(T[2])}l.push(E),u.push(k),c.push([b,S])}}if(r){var C=l;l=u,u=C}return[l,u,function(e){return e.map((function(e,t){var n=e.map((function(e,n){return c[t][1][n](e)})).join(",");return"matrix"===c[t][0]&&16===n.split(",").length&&(c[t][0]="matrix3d"),"matrix3d"===c[t][0]&&6===n.split(",").length&&(c[t][0]="matrix"),"".concat(c[t][0],"(").concat(n,")")})).join(" ")}]}var fa=Ni((function(e){if(rt(e)){if("text-anchor"===e)return[Ji(0,"px"),Ji(0,"px")];var t=e.split(" ");return 1===t.length&&("top"===t[0]||"bottom"===t[0]?(t[1]=t[0],t[0]="center"):t[1]="center"),2!==t.length?null:[bo(ha(t[0])),bo(ha(t[1]))]}return[Ji(e[0]||0,"px"),Ji(e[1]||0,"px")]}));function ha(e){return"center"===e?"50%":"left"===e||"top"===e?"0%":"right"===e||"bottom"===e?"100%":e}var pa=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:Ci.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:Ci.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:Ci.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:Ci.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:Ci.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:Ci.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:Ci.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:Ci.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:Ci.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:Ci.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:Ci.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:Ci.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:Ci.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:Ci.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:Ci.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:Ci.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:Ci.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:Ci.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:Ci.FILTER},{n:"clipPath",syntax:Ci.DEFINED_PATH},{n:"textPath",syntax:Ci.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:Ci.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:Ci.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:Ci.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:Ci.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:Ci.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:Ci.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:Ci.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:Ci.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:Ci.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:Ci.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:Ci.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:Ci.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Ci.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Ci.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:Ci.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:Ci.COORDINATE},{n:"y1",int:!0,l:!0,syntax:Ci.COORDINATE},{n:"z1",int:!0,l:!0,syntax:Ci.COORDINATE},{n:"x2",int:!0,l:!0,syntax:Ci.COORDINATE},{n:"y2",int:!0,l:!0,syntax:Ci.COORDINATE},{n:"z2",int:!0,l:!0,syntax:Ci.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:Ci.PATH,p:50},{n:"points",int:!0,l:!0,syntax:Ci.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:Ci.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:Ci.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:Ci.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:Ci.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:Ci.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:Ci.NUMBER,d:function(e){return e===zr.PATH||e===zr.POLYGON||e===zr.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:Ci.MARKER},{n:"markerEnd",syntax:Ci.MARKER},{n:"markerMid",syntax:Ci.MARKER},{n:"markerStartOffset",syntax:Ci.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:Ci.LENGTH,l:!0,int:!0,d:"0"}],ga=new Set(pa.filter((function(e){return!!e.l})).map((function(e){return e.n}))),va={},ma=function(){return c((function e(t){var n=this;l(this,e),this.runtime=t,pa.forEach((function(e){n.registerMetadata(e)}))}),[{key:"registerMetadata",value:function(e){[e.n].concat(h(e.a||[])).forEach((function(t){va[t]=e}))}},{key:"getPropertySyntax",value:function(e){return this.runtime.CSSPropertySyntaxFactory[e]}},{key:"processProperties",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[],memoize:!0};Object.assign(e.attributes,t);var r=e.parsedStyle.clipPath,i=e.parsedStyle.offsetPath;!function(e,t){var n=ya(e);for(var r in t)n.has(r)&&(e.parsedStyle[r]=t[r])}(e,t);var o=!!n.forceUpdateGeometry;if(!o)for(var a in t)if(ga.has(a)){o=!0;break}var l,u,c=ya(e);c.has("fill")&&t.fill&&(e.parsedStyle.fill=ho(t.fill)),c.has("stroke")&&t.stroke&&(e.parsedStyle.stroke=ho(t.stroke)),c.has("shadowColor")&&t.shadowColor&&(e.parsedStyle.shadowColor=ho(t.shadowColor)),c.has("filter")&&t.filter&&(e.parsedStyle.filter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("none"===(e=e.toLowerCase().trim()))return[];for(var t,n=/\s*([\w-]+)\(([^)]*)\)/g,r=[],i=0;t=n.exec(e);){if(t.index!==i)return[];if(i=t.index+t[0].length,To.indexOf(t[1])>-1&&r.push({name:t[1],params:t[2].split(" ").map((function(e){return go(/deg|rad|grad|turn|px|%/g,e)||ho(e)}))}),n.lastIndex===e.length)return r}return[]}(t.filter)),c.has("radius")&&!Ye(t.radius)&&(e.parsedStyle.radius=So(t.radius,4)),c.has("lineDash")&&!Ye(t.lineDash)&&(e.parsedStyle.lineDash=So(t.lineDash,"even")),c.has("points")&&t.points&&(e.parsedStyle.points=(l=t.points,u=rt(l)?l.split(" ").map((function(e){var t=w(e.split(","),2),n=t[0],r=t[1];return[Number(n),Number(r)]})):l,{points:u,totalLength:0,segments:[]})),c.has("d")&&""===t.d&&(e.parsedStyle.d=s({},Ti)),c.has("d")&&t.d&&(e.parsedStyle.d=$o(t.d)),c.has("textTransform")&&t.textTransform&&this.runtime.CSSPropertySyntaxFactory[Ci.TEXT_TRANSFORM].calculator(null,null,{value:t.textTransform},e,null),c.has("clipPath")&&!mt(t.clipPath)&&this.runtime.CSSPropertySyntaxFactory[Ci.DEFINED_PATH].calculator("clipPath",r,t.clipPath,e,this.runtime),c.has("offsetPath")&&t.offsetPath&&this.runtime.CSSPropertySyntaxFactory[Ci.DEFINED_PATH].calculator("offsetPath",i,t.offsetPath,e,this.runtime),c.has("transform")&&t.transform&&(e.parsedStyle.transform=ta(t.transform)),c.has("transformOrigin")&&t.transformOrigin&&(e.parsedStyle.transformOrigin=fa(t.transformOrigin)),c.has("markerStart")&&t.markerStart&&(e.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[Ci.MARKER].calculator(null,t.markerStart,t.markerStart,null,null)),c.has("markerEnd")&&t.markerEnd&&(e.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[Ci.MARKER].calculator(null,t.markerEnd,t.markerEnd,null,null)),c.has("markerMid")&&t.markerMid&&(e.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[Ci.MARKER].calculator("",t.markerMid,t.markerMid,null,null)),c.has("zIndex")&&!Ye(t.zIndex)&&this.runtime.CSSPropertySyntaxFactory[Ci.Z_INDEX].postProcessor(e),c.has("offsetDistance")&&!Ye(t.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[Ci.OFFSET_DISTANCE].postProcessor(e),c.has("transform")&&t.transform&&this.runtime.CSSPropertySyntaxFactory[Ci.TRANSFORM].postProcessor(e),c.has("transformOrigin")&&t.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[Ci.TRANSFORM_ORIGIN].postProcessor(e),o&&(e.geometry.dirty=!0,e.renderable.boundsDirty=!0,e.renderable.renderBoundsDirty=!0,n.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(e))}},{key:"updateGeometry",value:function(e){var t=e.nodeName,n=this.runtime.geometryUpdaterFactory[t];if(n){var r=e.geometry;r.contentBounds||(r.contentBounds=new Yr),r.renderBounds||(r.renderBounds=new Yr);var i=e.parsedStyle,o=n.update(i,e),a=o.cx,s=void 0===a?0:a,l=o.cy,u=void 0===l?0:l,c=o.cz,d=void 0===c?0:c,f=o.hwidth,h=void 0===f?0:f,p=o.hheight,g=void 0===p?0:p,v=o.hdepth,m=void 0===v?0:v,y=[Math.abs(h),Math.abs(g),m],b=i.stroke,w=i.lineWidth,x=void 0===w?1:w,E=i.increasedLineWidthForHitTesting,k=void 0===E?0:E,S=i.shadowType,M=void 0===S?"outer":S,T=i.shadowColor,C=i.filter,N=void 0===C?[]:C,P=i.transformOrigin,O=[s,u,d];r.contentBounds.update(O,y);var _=t===zr.POLYLINE||t===zr.POLYGON||t===zr.PATH?Math.SQRT2:.5;if(b&&!b.isNone){var R=((x||0)+(k||0))*_;y[0]+=R,y[1]+=R}if(r.renderBounds.update(O,y),T&&M&&"inner"!==M){var A=r.renderBounds,D=A.min,L=A.max,I=i.shadowBlur||0,z=i.shadowOffsetX||0,j=i.shadowOffsetY||0,F=D[0]-I+z,B=L[0]+I+z,U=D[1]-I+j,W=L[1]+I+j;D[0]=Math.min(D[0],F),L[0]=Math.max(L[0],B),D[1]=Math.min(D[1],U),L[1]=Math.max(L[1],W),r.renderBounds.setMinMax(D,L)}N.forEach((function(e){var t=e.name,n=e.params;if("blur"===t){var i=n[0].value;r.renderBounds.update(r.renderBounds.center,ye(r.renderBounds.halfExtents,r.renderBounds.halfExtents,[i,i,0]))}else if("drop-shadow"===t){var o=n[0].value,a=n[1].value,s=n[2].value,l=r.renderBounds,u=l.min,c=l.max,d=u[0]-s+o,f=c[0]+s+o,h=u[1]-s+a,p=c[1]+s+a;u[0]=Math.min(u[0],d),c[0]=Math.max(c[0],f),u[1]=Math.min(u[1],h),c[1]=Math.max(c[1],p),r.renderBounds.setMinMax(u,c)}})),e.geometry.dirty=!1;var V=g<0,H=(h<0?-1:1)*(P?Mo(P[0],0,e,!0):0),G=(V?-1:1)*(P?Mo(P[1],1,e,!0):0);(H||G)&&e.setOrigin(H,G)}}},{key:"updateSizeAttenuation",value:function(e,t){e.style.isSizeAttenuation?(e.style.rawLineWidth||(e.style.rawLineWidth=e.style.lineWidth),e.style.lineWidth=(e.style.rawLineWidth||1)/t,e.nodeName===zr.CIRCLE&&(e.style.rawR||(e.style.rawR=e.style.r),e.style.r=(e.style.rawR||1)/t)):(e.style.rawLineWidth&&(e.style.lineWidth=e.style.rawLineWidth,delete e.style.rawLineWidth),e.nodeName===zr.CIRCLE&&e.style.rawR&&(e.style.r=e.style.rawR,delete e.style.rawR))}}])}();function ya(e){return e.constructor.PARSED_STYLE_LIST}var ba=function(){return c((function e(){l(this,e),this.mixer=Oo}),[{key:"calculator",value:function(e,t,n,r){return ko(n)}}])}(),wa=function(){return c((function e(){l(this,e)}),[{key:"calculator",value:function(e,t,n,r,i){return n instanceof Wi&&(n=null),i.sceneGraphService.updateDisplayObjectDependency(e,t,n,r),"clipPath"===e&&r.forEach((function(e){0===e.childNodes.length&&i.sceneGraphService.dirtifyToRoot(e)})),n}}])}(),xa=function(){return c((function e(){l(this,e),this.parser=ho,this.mixer=po}),[{key:"calculator",value:function(e,t,n,r){return n instanceof Wi?"none"===n.value?Xi:Qi:n}}])}(),Ea=function(){return c((function e(){l(this,e)}),[{key:"calculator",value:function(e,t,n){return n instanceof Wi?[]:n}}])}();function ka(e){var t=e.parsedStyle.fontSize;return Ye(t)?null:t}var Sa=function(){return c((function e(){l(this,e),this.mixer=Oo}),[{key:"calculator",value:function(e,t,n,r,i){if(st(n))return n;if(!Hi.isRelativeUnit(n.unit))return n.value;if(n.unit===Pi.kPercentage)return 0;if(n.unit===Pi.kEms){if(r.parentNode){var o=ka(r.parentNode);if(o)return o*=n.value}return 0}if(n.unit===Pi.kRems){var a;if(null!=r&&null!==(a=r.ownerDocument)&&void 0!==a&&a.documentElement){var s=ka(r.ownerDocument.documentElement);if(s)return s*=n.value}return 0}}}])}(),Ma=function(){return c((function e(){l(this,e),this.mixer=Ro}),[{key:"calculator",value:function(e,t,n){return n.map((function(e){return e.value}))}}])}(),Ta=function(){return c((function e(){l(this,e),this.mixer=Ro}),[{key:"calculator",value:function(e,t,n){return n.map((function(e){return e.value}))}}])}(),Ca=function(){return c((function e(){l(this,e)}),[{key:"calculator",value:function(e,t,n,r){var i;n instanceof Wi&&(n=null);var o=null===(i=n)||void 0===i?void 0:i.cloneNode(!0);return o&&(o.style.isMarker=!0),o}}])}(),Na=function(){return c((function e(){l(this,e),this.mixer=Oo}),[{key:"calculator",value:function(e,t,n){return n.value}}])}(),Pa=function(){return c((function e(){l(this,e),this.mixer=_o(0,1)}),[{key:"calculator",value:function(e,t,n){return n.value}},{key:"postProcessor",value:function(e){var t=e.parsedStyle,n=t.offsetPath,r=t.offsetDistance;if(n){var i=n.nodeName;if(i===zr.LINE||i===zr.PATH||i===zr.POLYLINE){var o=n.getPoint(r);o&&e.setLocalPosition(o.x,o.y)}}}}])}(),Oa=function(){return c((function e(){l(this,e),this.mixer=_o(0,1)}),[{key:"calculator",value:function(e,t,n){return n.value}}])}(),_a=function(){return c((function e(){l(this,e),this.parser=$o,this.mixer=Yo}),[{key:"calculator",value:function(e,t,n){return n instanceof Wi&&"unset"===n.value?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Zr(0,0,0,0)}:n}}])}(),Ra=c((function e(){l(this,e),this.mixer=qo})),Aa=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=m(this,t,[].concat(r))).mixer=_o(0,1/0),e}return b(t,e),c(t)}(Sa),Da=function(){return c((function e(){l(this,e)}),[{key:"calculator",value:function(e,t,n,r){return n instanceof Wi?"unset"===n.value?"":n.value:"".concat(n)}},{key:"postProcessor",value:function(e){e.nodeValue="".concat(e.parsedStyle.text)||""}}])}(),La=function(){return c((function e(){l(this,e)}),[{key:"calculator",value:function(e,t,n,r){var i=r.getAttribute("text");if(i){var o=i;"capitalize"===n.value?o=i.charAt(0).toUpperCase()+i.slice(1):"lowercase"===n.value?o=i.toLowerCase():"uppercase"===n.value&&(o=i.toUpperCase()),r.parsedStyle.text=o}return n.value}}])}(),Ia=new WeakMap;var za="undefined"!=typeof window&&void 0!==window.document;function ja(e){return!!e.getAttribute}function Fa(e,t){var n=Number(e.parsedStyle.zIndex||0),r=Number(t.parsedStyle.zIndex||0);if(n===r){var i=e.parentNode;if(i){var o=i.childNodes||[];return o.indexOf(e)-o.indexOf(t)}}return n-r}function Ba(e){var t=e;do{var n;if(null===(n=t.parsedStyle)||void 0===n?void 0:n.clipPath)return t;t=t.parentElement}while(null!==t);return null}function Ua(e,t){if(za)return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}var Wa={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Va="object"==typeof performance&&performance.now?performance:Date;function Ha(e){return e.nodeName===zr.FRAGMENT||e.getRootNode().nodeName===zr.FRAGMENT}function Ga(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=!1,i=!1,o=!!t&&!t.isNone,a=!!n&&!n.isNone;return"visiblepainted"===e||"painted"===e||"auto"===e?(r=o,i=a):"visiblefill"===e||"fill"===e?r=!0:"visiblestroke"===e||"stroke"===e?i=!0:"visible"!==e&&"all"!==e||(r=!0,i=!0),[r,i]}var $a=1,Ya="object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:{},qa=Date.now(),Ka={},Xa=Date.now(),Qa=function(e){if("function"!=typeof e)throw new TypeError("".concat(e," is not a function"));var t=Date.now(),n=t-Xa,r=n>16?0:16-n,i=$a++;return Ka[i]=e,Object.keys(Ka).length>1||setTimeout((function(){Xa=t;var e=Ka;Ka={},Object.keys(e).forEach((function(t){return e[t](Ya.performance&&"function"==typeof Ya.performance.now?Ya.performance.now():Date.now()-qa)}))}),r),i},Za=function(e){delete Ka[e]},Ja=function(e){return"string"!=typeof e?Qa:""===e?Ya.requestAnimationFrame:Ya["".concat(e,"RequestAnimationFrame")]},es=function(e,t){for(var n=0;void 0!==e[n];){if(t(e[n]))return e[n];n+=1}}(["","webkit","moz","ms","o"],(function(e){return!!Ja(e)})),ts=Ja(es),ns=function(e){return"string"!=typeof e?Za:""===e?Ya.cancelAnimationFrame:Ya["".concat(e,"CancelAnimationFrame")]||Ya["".concat(e,"CancelRequestAnimationFrame")]}(es);Ya.requestAnimationFrame=ts,Ya.cancelAnimationFrame=ns;var rs=function(){return c((function e(){l(this,e),this.callbacks=[]}),[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(e,t){this.callbacks.push(t)}},{key:"promise",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.all(this.callbacks.map((function(e){return e.apply(void 0,t)})))}}])}(),is=function(){return c((function e(){l(this,e),this.callbacks=[]}),[{key:"tapPromise",value:function(e,t){this.callbacks.push(t)}},{key:"promise",value:(e=Rr(Or().mark((function e(){var t,n,r,i,o=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.callbacks.length){e.next=14;break}return e.next=3,(t=this.callbacks)[0].apply(t,o);case 3:n=e.sent,r=0;case 5:if(!(r<this.callbacks.length-1)){e.next=13;break}return i=this.callbacks[r],e.next=9,i(n);case 9:n=e.sent;case 10:r++,e.next=5;break;case 13:return e.abrupt("return",n);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}]);var e}(),os=function(){return c((function e(){l(this,e),this.callbacks=[]}),[{key:"tap",value:function(e,t){this.callbacks.push(t)}},{key:"call",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=arguments;this.callbacks.forEach((function(e){e.apply(void 0,r)}))}}])}(),as=function(){return c((function e(){l(this,e),this.callbacks=[]}),[{key:"tap",value:function(e,t){this.callbacks.push(t)}},{key:"call",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.callbacks.length){for(var r=arguments,i=this.callbacks[0].apply(void 0,r),o=0;o<this.callbacks.length-1;o++){i=(0,this.callbacks[o])(i)}return i}return null}}])}(),ss=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],ls=/([\"\'])[^\'\"]+\1/;function us(e,t,n){return D(e),e[4]=Math.tan(t),e[1]=Math.tan(n),e}var cs=P(),ds=P(),fs={scale:function(e){H(cs,[e[0].value,e[1].value,1])},scaleX:function(e){H(cs,[e[0].value,1,1])},scaleY:function(e){H(cs,[1,e[0].value,1])},scaleZ:function(e){H(cs,[1,1,e[0].value])},scale3d:function(e){H(cs,[e[0].value,e[1].value,e[2].value])},translate:function(e){V(cs,[e[0].value,e[1].value,0])},translateX:function(e){V(cs,[e[0].value,0,0])},translateY:function(e){V(cs,[0,e[0].value,0])},translateZ:function(e){V(cs,[0,0,e[0].value])},translate3d:function(e){V(cs,[e[0].value,e[1].value,e[2].value])},rotate:function(e){q(cs,oi(ko(e[0])))},rotateX:function(e){$(cs,oi(ko(e[0])))},rotateY:function(e){Y(cs,oi(ko(e[0])))},rotateZ:function(e){q(cs,oi(ko(e[0])))},rotate3d:function(e){G(cs,oi(ko(e[3])),[e[0].value,e[1].value,e[2].value])},skew:function(e){us(cs,oi(e[0].value),oi(e[1].value))},skewX:function(e){us(cs,oi(e[0].value),0)},skewY:function(e){us(cs,0,oi(e[0].value))},matrix:function(e){A(cs,e[0].value,e[1].value,0,0,e[2].value,e[3].value,0,0,0,0,1,0,e[4].value,e[5].value,0,1)},matrix3d:function(e){A.apply(de,[cs].concat(h(e.map((function(e){return e.value})))))}},hs=ge(1,1,1),ps=fe(),gs={translate:function(e,t){wl.sceneGraphService.setLocalScale(e,hs,!1),wl.sceneGraphService.setLocalEulerAngles(e,ps,void 0,void 0,!1),wl.sceneGraphService.setLocalPosition(e,[t[0].value,t[1].value,0],!1),wl.sceneGraphService.dirtifyLocal(e,e.transformable)}};function vs(e,t){if(e.length){if(1===e.length&&gs[e[0].t])return void gs[e[0].t](t,e[0].d);for(var n=D(ds),r=0;r<e.length;r++){var i=e[r],o=i.t,a=i.d,s=fs[o];s&&(s(a),ue(n,n,cs))}t.setLocalTransform(n)}else t.resetLocalTransform();return t.getLocalTransform()}var ms=function(){return c((function e(){l(this,e),this.parser=na,this.mixer=da}),[{key:"calculator",value:function(e,t,n,r){return n instanceof Wi?[]:n}},{key:"postProcessor",value:function(e){vs(e.parsedStyle.transform,e)}}])}(),ys=function(){return c((function e(){l(this,e)}),[{key:"postProcessor",value:function(e){var t=e.parsedStyle.transformOrigin;t[0].unit===Pi.kPixels&&t[1].unit===Pi.kPixels?e.setOrigin(t[0].value,t[1].value):e.getGeometryBounds()}}])}(),bs=function(){return c((function e(){l(this,e)}),[{key:"calculator",value:function(e,t,n,r){return n.value}},{key:"postProcessor",value:function(e){if(e.parentNode){var t=e.parentNode,n=t.renderable,r=t.sortable;n&&(n.dirty=!0),r&&(r.dirty=!0,r.dirtyReason=Mi.Z_INDEX_CHANGED)}}}])}(),ws=function(){return c((function e(){l(this,e)}),[{key:"update",value:function(e,t){var n=e.cx,r=void 0===n?0:n,i=e.cy,o=void 0===i?0:i,a=e.r,s=void 0===a?0:a;return{cx:r,cy:o,hwidth:s,hheight:s}}}])}(),xs=function(){return c((function e(){l(this,e)}),[{key:"update",value:function(e,t){var n=e.cx,r=void 0===n?0:n,i=e.cy,o=void 0===i?0:i,a=e.rx,s=void 0===a?0:a,l=e.ry;return{cx:r,cy:o,hwidth:s,hheight:void 0===l?0:l}}}])}(),Es=function(){return c((function e(){l(this,e)}),[{key:"update",value:function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2,o=Math.min(t,r),a=Math.max(t,r),s=Math.min(n,i),l=(a-o)/2,u=(Math.max(n,i)-s)/2;return{cx:o+l,cy:s+u,hwidth:l,hheight:u}}}])}(),ks=function(){return c((function e(){l(this,e)}),[{key:"update",value:function(e){var t=e.d.rect,n=t.x,r=t.y,i=t.width/2,o=t.height/2;return{cx:n+i,cy:r+o,hwidth:i,hheight:o}}}])}(),Ss=function(){return c((function e(){l(this,e)}),[{key:"update",value:function(e){if(e.points&&qe(e.points.points)){var t=e.points.points,n=Math.min.apply(Math,h(t.map((function(e){return e[0]})))),r=Math.max.apply(Math,h(t.map((function(e){return e[0]})))),i=Math.min.apply(Math,h(t.map((function(e){return e[1]})))),o=Math.max.apply(Math,h(t.map((function(e){return e[1]})))),a=(r-n)/2,s=(o-i)/2;return{cx:n+a,cy:i+s,hwidth:a,hheight:s}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Ms=function(){return c((function e(){l(this,e)}),[{key:"update",value:function(e,t){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.src,s=e.width,l=void 0===s?0:s,u=e.height,c=l,d=void 0===u?0:u;return a&&!rt(a)&&(c||(c=a.width,e.width=c),d||(d=a.height,e.height=d)),{cx:r+c/2,cy:o+d/2,hwidth:c/2,hheight:d/2}}}])}(),Ts=function(){return c((function e(t){l(this,e),this.globalRuntime=t}),[{key:"isReadyToMeasure",value:function(e,t){return e.text}},{key:"update",value:function(e,t){var n,r=e.text,i=e.textAlign,o=void 0===i?"start":i,a=e.lineWidth,s=void 0===a?1:a,l=e.textBaseline,u=void 0===l?"alphabetic":l,c=e.dx,d=void 0===c?0:c,f=e.dy,h=void 0===f?0:f,p=e.x,g=void 0===p?0:p,v=e.y,m=void 0===v?0:v;if(!this.isReadyToMeasure(e,t))return e.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var y=((null==t||null===(n=t.ownerDocument)||void 0===n||null===(n=n.defaultView)||void 0===n?void 0:n.getConfig())||{}).offscreenCanvas,b=this.globalRuntime.textService.measureText(r,e,y);e.metrics=b;var w=b.width/2,x=b.height/2,E=g+w;"center"===o||"middle"===o?E+=s/2-w:"right"!==o&&"end"!==o||(E+=s-2*w);var k=m-x;return"middle"===u?k+=x:"top"===u||"hanging"===u?k+=2*x:"alphabetic"===u||"bottom"!==u&&"ideographic"!==u||(k+=0),d&&(E+=d),h&&(k+=h),{cx:E,cy:k,hwidth:w,hheight:x}}}])}(),Cs=function(){return c((function e(){l(this,e)}),[{key:"update",value:function(e,t){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Ns=function(){return c((function e(){l(this,e)}),[{key:"update",value:function(e,t){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.width,s=void 0===a?0:a,l=e.height,u=void 0===l?0:l;return{cx:r+s/2,cy:o+u/2,hwidth:s/2,hheight:u/2}}}])}(),Ps=function(){return c((function e(t){l(this,e),this.eventPhase=e.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Qr,this.page=new Qr,this.canvas=new Qr,this.viewport=new Qr,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}),[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return!this.manager||this.path&&this.path[0]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(Jr)}}])}(),Os=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=m(this,t,[].concat(r))).client=new Qr,e.movement=new Qr,e.offset=new Qr,e.global=new Qr,e.screen=new Qr,e}return b(t,e),c(t,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}},{key:"initMouseEvent",value:function(){throw new Error(Jr)}}])}(Ps),_s=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=m(this,t,[].concat(r))).width=0,e.height=0,e.isPrimary=!1,e}return b(t,e),c(t,[{key:"getCoalescedEvents",value:function(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(Os),Rs=function(e){function t(){return l(this,t),m(this,t,arguments)}return b(t,e),c(t,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(Os),As=function(e){function t(e,n){var r;return l(this,t),(r=m(this,t,[null])).type=e,r.detail=n,Object.assign(r,n),r}return b(t,e),c(t)}(Ps),Ds=new WeakMap,Ls=function(){return c((function e(){l(this,e),this.emitter=new M}),[{key:"on",value:function(e,t,n){return this.addEventListener(e,t,n),this}},{key:"addEventListener",value:function(e,t,n){var r=!1,i=!1;if(gt(n))r=n;else if(n){var o=n.capture;r=void 0!==o&&o;var a=n.once;i=void 0!==a&&a}r&&(e+="capture"),t=$e(t)?t:t.handleEvent;var s=$e(t)?void 0:t;return i?this.emitter.once(e,t,s):this.emitter.on(e,t,s),this}},{key:"off",value:function(e,t,n){return e?this.removeEventListener(e,t,n):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var e;null===(e=this.emitter)||void 0===e||e.removeAllListeners()}},{key:"removeEventListener",value:function(e,t,n){var r;if(!this.emitter)return this;(gt(n)?n:null==n?void 0:n.capture)&&(e+="capture"),t=$e(t)?t:null===(r=t)||void 0===r?void 0:r.handleEvent;var i=$e(t)?void 0:t;return this.emitter.off(e,t,i),this}},{key:"emit",value:function(e,t){this.dispatchEvent(new As(e,t))}},{key:"dispatchEvent",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Ds.get(this);r||(r=this.document?this:this.defaultView?this.defaultView:null===(t=this.ownerDocument)||void 0===t?void 0:t.defaultView)&&Ds.set(this,r);if(r){if(e.manager=r.getEventService(),!e.manager)return!1;e.defaultPrevented=!1,e.path?e.path.length=0:e.page=[],n||(e.target=this),e.manager.dispatchEvent(e,e.type,n)}else this.emitter.emit(e.type,e);return!e.defaultPrevented}}])}(),Is=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=m(this,t,[].concat(r))).shadow=!1,e.ownerDocument=null,e.isConnected=!1,e.baseURI="",e.childNodes=[],e.nodeType=0,e.nodeName="",e.nodeValue=null,e.parentNode=null,e}return b(t,e),c(t,[{key:"textContent",get:function(){var e="";this.nodeName===zr.TEXT&&(e+=this.style.text);var t,n=Ar(this.childNodes);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.nodeName===zr.TEXT?e+=r.nodeValue:e+=r.textContent}}catch(e){n.e(e)}finally{n.f()}return e},set:function(e){var t=this;this.childNodes.slice().forEach((function(e){t.removeChild(e)})),this.nodeName===zr.TEXT&&(this.style.text="".concat(e))}},{key:"getRootNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(e):e.composed&&this.host?this.host.getRootNode(e):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(e){throw new Error(Jr)}},{key:"lookupNamespaceURI",value:function(e){throw new Error(Jr)}},{key:"lookupPrefix",value:function(e){throw new Error(Jr)}},{key:"normalize",value:function(){throw new Error(Jr)}},{key:"isEqualNode",value:function(e){return this===e}},{key:"isSameNode",value:function(e){return this.isEqualNode(e)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(e){if(e===this)return 0;for(var n=e,r=this,i=[n],o=[r];null!==(a=n.parentNode)&&void 0!==a?a:r.parentNode;){var a;n=n.parentNode?(i.push(n.parentNode),n.parentNode):n,r=r.parentNode?(o.push(r.parentNode),r.parentNode):r}if(n!==r)return t.DOCUMENT_POSITION_DISCONNECTED|t.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|t.DOCUMENT_POSITION_PRECEDING;var s=i.length>o.length?i:o,l=s===i?o:i;if(s[s.length-l.length]===l[0])return s===i?t.DOCUMENT_POSITION_CONTAINED_BY|t.DOCUMENT_POSITION_FOLLOWING:t.DOCUMENT_POSITION_CONTAINS|t.DOCUMENT_POSITION_PRECEDING;for(var u=s.length-l.length,c=l.length-1;c>=0;c--){var d=l[c],f=s[u+c];if(f!==d){var h=d.parentNode.childNodes;return h.indexOf(d)<h.indexOf(f)?l===i?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING:s===i?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING}}return t.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(e){return this.contains(e)}},{key:"contains",value:function(e){for(var t=e;t&&this!==t;)t=t.parentNode;return!!t}},{key:"getAncestor",value:function(e){for(var t=this;e>0&&t;)t=t.parentNode,e--;return t}},{key:"forEach",value:function(e){for(var t=[this];t.length>0;){var n=t.pop();if(!1===e(n))break;for(var r=n.childNodes.length-1;r>=0;r--)t.push(n.childNodes[r])}}}],[{key:"isNode",value:function(e){return!!e.childNodes}}])}(Ls);Is.DOCUMENT_POSITION_DISCONNECTED=1,Is.DOCUMENT_POSITION_PRECEDING=2,Is.DOCUMENT_POSITION_FOLLOWING=4,Is.DOCUMENT_POSITION_CONTAINS=8,Is.DOCUMENT_POSITION_CONTAINED_BY=16,Is.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var zs=function(){return c((function e(t,n){var r=this;l(this,e),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=P(),this.tmpVec3=fe(),this.onPointerDown=function(e){var t=r.createPointerEvent(e);if(r.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)r.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){var n=2===t.button;r.dispatchEvent(t,n?"rightdown":"mousedown")}r.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),r.freeEvent(t)},this.onPointerUp=function(e){var t=Va.now(),n=r.createPointerEvent(e,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);if(r.dispatchEvent(n,"pointerup"),"touch"===n.pointerType)r.dispatchEvent(n,"touchend");else if("mouse"===n.pointerType||"pen"===n.pointerType){var i=2===n.button;r.dispatchEvent(n,i?"rightup":"mouseup")}var o=r.trackingData(e.pointerId),a=r.findMountedTarget(o.pressTargetsByButton[e.button]),s=a;if(a&&!n.composedPath().includes(a)){for(var l=a;l&&!n.composedPath().includes(l);){if(n.currentTarget=l,r.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType)r.notifyTarget(n,"touchendoutside");else if("mouse"===n.pointerType||"pen"===n.pointerType){var u=2===n.button;r.notifyTarget(n,u?"rightupoutside":"mouseupoutside")}Is.isNode(l)&&(l=l.parentNode)}delete o.pressTargetsByButton[e.button],s=l}if(s){var c,d=r.clonePointerEvent(n,"click");d.target=s,d.path=[],o.clicksByButton[e.button]||(o.clicksByButton[e.button]={clickCount:0,target:d.target,timeStamp:t});var f=r.context.renderingContext.root.ownerDocument.defaultView,h=o.clicksByButton[e.button];h.target===d.target&&t-h.timeStamp<f.getConfig().dblClickSpeed?++h.clickCount:h.clickCount=1,h.target=d.target,h.timeStamp=t,d.detail=h.clickCount,null!==(c=n.detail)&&void 0!==c&&c.preventClick||(r.context.config.useNativeClickEvent||"mouse"!==d.pointerType&&"touch"!==d.pointerType||r.dispatchEvent(d,"click"),r.dispatchEvent(d,"pointertap")),r.freeEvent(d)}r.freeEvent(n)},this.onPointerMove=function(e){var t=r.createPointerEvent(e,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0),n="mouse"===t.pointerType||"pen"===t.pointerType,i=r.trackingData(e.pointerId),o=r.findMountedTarget(i.overTargets);if(i.overTargets&&o!==t.target){var a="mousemove"===e.type?"mouseout":"pointerout",s=r.createPointerEvent(e,a,o||void 0);if(r.dispatchEvent(s,"pointerout"),n&&r.dispatchEvent(s,"mouseout"),!t.composedPath().includes(o)){var l=r.createPointerEvent(e,"pointerleave",o||void 0);for(l.eventPhase=l.AT_TARGET;l.target&&!t.composedPath().includes(l.target);)l.currentTarget=l.target,r.notifyTarget(l),n&&r.notifyTarget(l,"mouseleave"),Is.isNode(l.target)&&(l.target=l.target.parentNode);r.freeEvent(l)}r.freeEvent(s)}if(o!==t.target){var u="mousemove"===e.type?"mouseover":"pointerover",c=r.clonePointerEvent(t,u);r.dispatchEvent(c,"pointerover"),n&&r.dispatchEvent(c,"mouseover");for(var d=o&&Is.isNode(o)&&o.parentNode;d&&d!==(Is.isNode(r.rootTarget)&&r.rootTarget.parentNode)&&d!==t.target;)d=d.parentNode;if(!d||d===(Is.isNode(r.rootTarget)&&r.rootTarget.parentNode)){var f=r.clonePointerEvent(t,"pointerenter");for(f.eventPhase=f.AT_TARGET;f.target&&f.target!==o&&f.target!==(Is.isNode(r.rootTarget)&&r.rootTarget.parentNode);)f.currentTarget=f.target,r.notifyTarget(f),n&&r.notifyTarget(f,"mouseenter"),Is.isNode(f.target)&&(f.target=f.target.parentNode);r.freeEvent(f)}r.freeEvent(c)}r.dispatchEvent(t,"pointermove"),"touch"===t.pointerType&&r.dispatchEvent(t,"touchmove"),n&&(r.dispatchEvent(t,"mousemove"),r.cursor=r.getCursor(t.target)),i.overTargets=t.composedPath(),r.freeEvent(t)},this.onPointerOut=function(e){var t=r.trackingData(e.pointerId);if(t.overTargets){var n="mouse"===e.pointerType||"pen"===e.pointerType,i=r.findMountedTarget(t.overTargets),o=r.createPointerEvent(e,"pointerout",i||void 0);r.dispatchEvent(o),n&&r.dispatchEvent(o,"mouseout");var a=r.createPointerEvent(e,"pointerleave",i||void 0);for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==(Is.isNode(r.rootTarget)&&r.rootTarget.parentNode);)a.currentTarget=a.target,r.notifyTarget(a),n&&r.notifyTarget(a,"mouseleave"),Is.isNode(a.target)&&(a.target=a.target.parentNode);t.overTargets=null,r.freeEvent(o),r.freeEvent(a)}r.cursor=null},this.onPointerOver=function(e){var t=r.trackingData(e.pointerId),n=r.createPointerEvent(e),i="mouse"===n.pointerType||"pen"===n.pointerType;r.dispatchEvent(n,"pointerover"),i&&r.dispatchEvent(n,"mouseover"),"mouse"===n.pointerType&&(r.cursor=r.getCursor(n.target));var o=r.clonePointerEvent(n,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==(Is.isNode(r.rootTarget)&&r.rootTarget.parentNode);)o.currentTarget=o.target,r.notifyTarget(o),i&&r.notifyTarget(o,"mouseenter"),Is.isNode(o.target)&&(o.target=o.target.parentNode);t.overTargets=n.composedPath(),r.freeEvent(n),r.freeEvent(o)},this.onPointerUpOutside=function(e){var t=r.trackingData(e.pointerId),n=r.findMountedTarget(t.pressTargetsByButton[e.button]),i=r.createPointerEvent(e);if(n){for(var o=n;o;)i.currentTarget=o,r.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType||"mouse"!==i.pointerType&&"pen"!==i.pointerType||r.notifyTarget(i,2===i.button?"rightupoutside":"mouseupoutside"),Is.isNode(o)&&(o=o.parentNode);delete t.pressTargetsByButton[e.button]}r.freeEvent(i)},this.onWheel=function(e){var t=r.createWheelEvent(e);r.dispatchEvent(t),r.freeEvent(t)},this.onClick=function(e){if(r.context.config.useNativeClickEvent){var t=r.createPointerEvent(e);r.dispatchEvent(t),r.freeEvent(t)}},this.onPointerCancel=function(e){var t=r.createPointerEvent(e,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);r.dispatchEvent(t),r.freeEvent(t)},this.globalRuntime=t,this.context=n}),[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var e=this.context.contextService.getBoundingClientRect(),t=1,n=1,r=this.context.contextService.getDomElement();if(r&&e){var i=r.offsetWidth,o=r.offsetHeight;i&&o&&(t=e.width/i,n=e.height/o)}return{scaleX:t,scaleY:n,bbox:e}}},{key:"client2Viewport",value:function(e){var t=this.getScale(),n=t.scaleX,r=t.scaleY,i=t.bbox;return new Qr((e.x-((null==i?void 0:i.left)||0))/n,(e.y-((null==i?void 0:i.top)||0))/r)}},{key:"viewport2Client",value:function(e){var t=this.getScale(),n=t.scaleX,r=t.scaleY,i=t.bbox;return new Qr((e.x+((null==i?void 0:i.left)||0))*n,(e.y+((null==i?void 0:i.top)||0))*r)}},{key:"viewport2Canvas",value:function(e){var t=e.x,n=e.y,r=this.rootTarget.defaultView.getCamera(),i=this.context.config,o=i.width,a=i.height,s=r.getPerspectiveInverse(),l=r.getWorldTransform(),u=j(this.tmpMatrix,l,s),c=me(this.tmpVec3,t/o*2-1,2*(1-n/a)-1,0);return Me(c,c,u),new Qr(c[0],c[1])}},{key:"canvas2Viewport",value:function(e){var t=this.rootTarget.defaultView.getCamera(),n=t.getPerspective(),r=t.getViewTransform(),i=j(this.tmpMatrix,n,r),o=me(this.tmpVec3,e.x,e.y,0);Me(this.tmpVec3,this.tmpVec3,i);var a=this.context.config,s=a.width,l=a.height;return new Qr((o[0]+1)/2*s,(1-(o[1]+1)/2)*l)}},{key:"setPickHandler",value:function(e){this.pickHandler=e}},{key:"addEventMapping",value:function(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((function(e,t){return e.priority-t.priority}))}},{key:"mapEvent",value:function(e){if(this.rootTarget){var t=this.mappingTable[e.type];if(t)for(var n=0,r=t.length;n<r;n++)t[n].fn(e);else console.warn("[EventService]: Event mapping not defined for ".concat(e.type))}}},{key:"dispatchEvent",value:function(e,t,n){if(n){e.eventPhase=e.AT_TARGET;var r=this.rootTarget.defaultView||null;e.currentTarget=r,this.notifyListeners(e,t)}else e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t)}},{key:"propagate",value:function(e,t){if(e.target){var n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(var r=n.length-1;r>=1;r--)if(e.currentTarget=n[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){var i=n.indexOf(e.currentTarget);e.eventPhase=e.BUBBLING_PHASE;for(var o=i+1;o<n.length;o++)if(e.currentTarget=n[o],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(e){var t=[e],n=this.rootTarget.defaultView||null;if(n&&n===e)return t.unshift(n.document),t;for(var r=0;r<2048&&e!==this.rootTarget;r++)Is.isNode(e)&&e.parentNode&&(t.push(e.parentNode),e=e.parentNode);return n&&t.push(n),t}},{key:"hitTest",value:function(e){var t=e.viewportX,n=e.viewportY,r=this.context.config,i=r.width,o=r.height,a=r.disableHitTesting;return t<0||n<0||t>i||n>o?null:!a&&this.pickHandler(e)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(e,t){var n,r=null==t?void 0:t.target;if(null!==(n=r)&&void 0!==n&&n.shadowRoot&&(r=t.composedPath()[0]),r){if(r===e)return!0;if(e&&e.contains)return e.contains(r)}return!(null==t||!t.composedPath)&&t.composedPath().indexOf(e)>-1}},{key:"getExistedHTML",value:function(e){if(e.nativeEvent.composedPath)for(var t=0,n=e.nativeEvent.composedPath();t<n.length;t++){var r=n[t],i=this.nativeHTMLMap.get(r);if(i)return i}return null}},{key:"pickTarget",value:function(e){return this.hitTest({clientX:e.clientX,clientY:e.clientY,viewportX:e.viewportX,viewportY:e.viewportY,x:e.canvasX,y:e.canvasY})}},{key:"createPointerEvent",value:function(e,t,n,r){var i=this.allocateEvent(_s);this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e;var o=this.getExistedHTML(i),a=this.context.contextService.getDomElement();return i.target=null!=n?n:o||this.isNativeEventFromCanvas(a,i.nativeEvent)&&this.pickTarget(i)||r,"string"==typeof t&&(i.type=t),i}},{key:"createWheelEvent",value:function(e){var t=this.allocateEvent(Rs);this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e;var n=this.getExistedHTML(t),r=this.context.contextService.getDomElement();return t.target=n||this.isNativeEventFromCanvas(r,t.nativeEvent)&&this.pickTarget(t),t}},{key:"trackingData",value:function(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}},{key:"cloneWheelEvent",value:function(e){var t=this.allocateEvent(Rs);return t.nativeEvent=e.nativeEvent,t.originalEvent=e.originalEvent,this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.target=e.target,t.path=e.composedPath().slice(),t.type=e.type,t}},{key:"clonePointerEvent",value:function(e,t){var n=this.allocateEvent(_s);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=null!=t?t:n.type,n}},{key:"copyPointerData",value:function(e,t){t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist}},{key:"copyMouseData",value:function(e,t){t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.client.copyFrom(e.client),t.movement.copyFrom(e.movement),t.canvas.copyFrom(e.canvas),t.screen.copyFrom(e.screen),t.global.copyFrom(e.global),t.offset.copyFrom(e.offset)}},{key:"copyWheelData",value:function(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}},{key:"copyData",value:function(e,t){t.isTrusted=e.isTrusted,t.timeStamp=Va.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.page.copyFrom(e.page),t.viewport.copyFrom(e.viewport)}},{key:"allocateEvent",value:function(e){this.eventPool.has(e)||this.eventPool.set(e,[]);var t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=[],t.target=null,t}},{key:"freeEvent",value:function(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}},{key:"notifyTarget",value:function(e,t){var n;t=null!==(n=t)&&void 0!==n?n:e.type;var r=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(t,"capture"):t;this.notifyListeners(e,r),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}},{key:"notifyListeners",value:function(e,t){var n=e.currentTarget.emitter,r=n._events[t];if(r)if("fn"in r)r.once&&n.removeListener(t,r.fn,void 0,!0),r.fn.call(e.currentTarget||r.context,e);else for(var i=0;i<r.length&&!e.propagationImmediatelyStopped;i++)r[i].once&&n.removeListener(t,r[i].fn,void 0,!0),r[i].fn.call(e.currentTarget||r[i].context,e)}},{key:"findMountedTarget",value:function(e){if(!e)return null;for(var t=e[e.length-1],n=e.length-2;n>=0;n--){var r=e[n];if(!(r===this.rootTarget||Is.isNode(r)&&r.parentNode===t))break;t=e[n]}return t}},{key:"getCursor",value:function(e){for(var t=e;t;){var n=ja(t)&&t.getAttribute("cursor");if(n)return n;t=Is.isNode(t)&&t.parentNode}}}])}(),js=function(){return c((function e(){l(this,e)}),[{key:"getOrCreateCanvas",value:function(e,t){if(this.canvas)return this.canvas;if(e||wl.offscreenCanvas)this.canvas=e||wl.offscreenCanvas,this.context=this.canvas.getContext("2d",s({willReadFrequently:!0},t));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",s({willReadFrequently:!0},t)),this.context&&this.context.measureText||(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",s({willReadFrequently:!0},t))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(e,t){return this.context||this.getOrCreateCanvas(e,t),this.context}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch(e){}try{return document.createElement("canvas")}catch(e){}return null}}])}(),Fs=function(e){return e[e.CAMERA_CHANGED=0]="CAMERA_CHANGED",e[e.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",e[e.NONE=2]="NONE",e}({}),Bs=function(){return c((function e(t,n){l(this,e),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new os,initAsync:new rs,dirtycheck:new as,cull:new as,beginFrame:new os,beforeRender:new os,render:new os,afterRender:new os,endFrame:new os,destroy:new os,pick:new is,pickSync:new as,pointerDown:new os,pointerUp:new os,pointerMove:new os,pointerOut:new os,pointerOver:new os,pointerWheel:new os,pointerCancel:new os,click:new os},this.globalRuntime=t,this.context=n}),[{key:"init",value:function(e){var t=this,n=s(s({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach((function(e){e.apply(n,t.globalRuntime)})),this.hooks.init.call(),0===this.hooks.initAsync.getCallbacksNum()?(this.inited=!0,e()):this.hooks.initAsync.promise().then((function(){t.inited=!0,e()})).catch((function(e){}))}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){return!this.context.config.renderer.getConfig().enableDirtyRectangleRendering||this.context.renderingContext.renderReasons.has(Fs.CAMERA_CHANGED)}},{key:"render",value:function(e,t,n){var r=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var i=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(i.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),i.renderReasons.size&&this.inited){i.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var o=1===i.renderReasons.size&&i.renderReasons.has(Fs.CAMERA_CHANGED),a=!e.disableRenderHooks||!(e.disableRenderHooks&&o);a&&this.renderDisplayObject(i.root,e,i),this.hooks.beginFrame.call(t),a&&i.renderListCurrentFrame.forEach((function(e){r.hooks.beforeRender.call(e),r.hooks.render.call(e),r.hooks.afterRender.call(e)})),this.hooks.endFrame.call(t),i.renderListCurrentFrame=[],i.renderReasons.clear(),n()}}},{key:"renderDisplayObject",value:function(e,t,n){var r=this,i=t.renderer.getConfig(),o=i.enableDirtyCheck,a=i.enableCulling;function s(e){var t=e.renderable,i=e.sortable,s=o?t.dirty||n.dirtyRectangleRenderingDisabled?e:null:e;if(s){var l=a?r.hooks.cull.call(s,r.context.camera):s;l&&(r.stats.rendered+=1,n.renderListCurrentFrame.push(l))}t.dirty=!1,i.renderOrder=r.zIndexCounter,r.zIndexCounter+=1,r.stats.total+=1,i.dirty&&(r.sort(e,i),i.dirty=!1,i.dirtyChildren=[],i.dirtyReason=void 0)}for(var l=[e];l.length>0;){var u=l.pop();s(u);for(var c=u.sortable.sorted||u.childNodes,d=c.length-1;d>=0;d--)l.push(c[d])}}},{key:"sort",value:function(e,t){t.sorted&&t.dirtyReason!==Mi.Z_INDEX_CHANGED?t.dirtyChildren.forEach((function(n){if(-1===e.childNodes.indexOf(n)){var r=t.sorted.indexOf(n);r>=0&&t.sorted.splice(r,1)}else if(0===t.sorted.length)t.sorted.push(n);else{var i=function(e,t){for(var n=0,r=e.length;n<r;){var i=n+r>>>1;Fa(e[i],t)<0?n=i+1:r=i}return n}(t.sorted,n);t.sorted.splice(i,0,n)}})):t.sorted=e.childNodes.slice().sort(Fa)}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(Fs.DISPLAY_OBJECT_CHANGED)}}])}(),Us=/\[\s*(.*)=(.*)\s*\]/,Ws=function(){return c((function e(){l(this,e)}),[{key:"selectOne",value:function(e,t){var n=this;if(e.startsWith("."))return t.find((function(t){return((null==t?void 0:t.classList)||[]).indexOf(n.getIdOrClassname(e))>-1}));if(e.startsWith("#"))return t.find((function(t){return t.id===n.getIdOrClassname(e)}));if(e.startsWith("[")){var r=this.getAttribute(e),i=r.name,o=r.value;return i?t.find((function(e){return t!==e&&("name"===i?e.name===o:n.attributeToString(e,i)===o)})):null}return t.find((function(n){return t!==n&&n.nodeName===e}))}},{key:"selectAll",value:function(e,t){var n=this;if(e.startsWith("."))return t.findAll((function(r){return t!==r&&((null==r?void 0:r.classList)||[]).indexOf(n.getIdOrClassname(e))>-1}));if(e.startsWith("#"))return t.findAll((function(r){return t!==r&&r.id===n.getIdOrClassname(e)}));if(e.startsWith("[")){var r=this.getAttribute(e),i=r.name,o=r.value;return i?t.findAll((function(e){return t!==e&&("name"===i?e.name===o:n.attributeToString(e,i)===o)})):[]}return t.findAll((function(n){return t!==n&&n.nodeName===e}))}},{key:"is",value:function(e,t){if(e.startsWith("."))return t.className===this.getIdOrClassname(e);if(e.startsWith("#"))return t.id===this.getIdOrClassname(e);if(e.startsWith("[")){var n=this.getAttribute(e),r=n.name,i=n.value;return"name"===r?t.name===i:this.attributeToString(t,r)===i}return t.nodeName===e}},{key:"getIdOrClassname",value:function(e){return e.substring(1)}},{key:"getAttribute",value:function(e){var t=e.match(Us),n="",r="";return t&&t.length>2&&(n=t[1].replace(/"/g,""),r=t[2].replace(/"/g,"")),{name:n,value:r}}},{key:"attributeToString",value:function(e,t){if(!e.getAttribute)return"";var n=e.getAttribute(t);return Ye(n)?"":n.toString?n.toString():""}}])}(),Vs=function(e){return e.ATTR_MODIFIED="DOMAttrModified",e.INSERTED="DOMNodeInserted",e.MOUNTED="DOMNodeInsertedIntoDocument",e.REMOVED="removed",e.UNMOUNTED="DOMNodeRemovedFromDocument",e.REPARENT="reparent",e.DESTROY="destroy",e.BOUNDS_CHANGED="bounds-changed",e.CULLED="culled",e}({}),Hs=function(e){function t(e,n,r,i,o,a,s,u){var c;return l(this,t),(c=m(this,t,[null])).relatedNode=n,c.prevValue=r,c.newValue=i,c.attrName=o,c.attrChange=a,c.prevParsedValue=s,c.newParsedValue=u,c.type=e,c}return b(t,e),c(t)}(Ps);function Gs(e){var t=e.renderable;t&&(t.renderBoundsDirty=!0,t.boundsDirty=!0)}Hs.ADDITION=2,Hs.MODIFICATION=1,Hs.REMOVAL=3;var $s,Ys,qs,Ks=new Hs(Vs.REPARENT,null,"","","",0,"",""),Xs=Ve(),Qs=fe(),Zs=ge(1,1,1),Js=P(),el=Ve(),tl=fe(),nl=P(),rl=Ae(),il=fe(),ol=Ae(),al=fe(),sl=fe(),ll=fe(),ul=P(),cl=Ae(),dl=Ae(),fl=Ae(),hl={affectChildren:!0},pl=function(){return c((function e(t){l(this,e),this.pendingEvents=new Map,this.boundsChangedEvent=new As(Vs.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=t}),[{key:"matches",value:function(e,t){return this.runtime.sceneGraphSelector.is(e,t)}},{key:"querySelector",value:function(e,t){return this.runtime.sceneGraphSelector.selectOne(e,t)}},{key:"querySelectorAll",value:function(e,t){return this.runtime.sceneGraphSelector.selectAll(e,t)}},{key:"attach",value:function(e,t,n){var r,i=!1;e.parentNode&&(i=e.parentNode!==t,this.detach(e));var o=e.nodeName===zr.FRAGMENT,a=Ha(t);e.parentNode=t;var s=o?e.childNodes:[e];st(n)?s.forEach((function(e){t.childNodes.splice(n,0,e),e.parentNode=t})):s.forEach((function(e){t.childNodes.push(e),e.parentNode=t}));var l=t.sortable;if((null!=l&&null!==(r=l.sorted)&&void 0!==r&&r.length||e.parsedStyle.zIndex)&&(-1===l.dirtyChildren.indexOf(e)&&l.dirtyChildren.push(e),l.dirty=!0,l.dirtyReason=Mi.ADDED),!a){if(o)this.dirtifyFragment(e);else{var u=e.transformable;u&&this.dirtifyWorld(e,u)}i&&e.dispatchEvent(Ks)}}},{key:"detach",value:function(e){if(e.parentNode){var t,n,r=e.transformable,i=e.parentNode.sortable;(null!=i&&null!==(t=i.sorted)&&void 0!==t&&t.length||null!==(n=e.style)&&void 0!==n&&n.zIndex)&&(-1===i.dirtyChildren.indexOf(e)&&i.dirtyChildren.push(e),i.dirty=!0,i.dirtyReason=Mi.REMOVED);var o=e.parentNode.childNodes.indexOf(e);o>-1&&e.parentNode.childNodes.splice(o,1),r&&this.dirtifyWorld(e,r),e.parentNode=null}}},{key:"getOrigin",value:function(e){return e.getGeometryBounds(),e.transformable.origin}},{key:"setOrigin",value:function(e,t){"number"==typeof t&&(t=[t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0]);var n=e.transformable;if(t[0]!==n.origin[0]||t[1]!==n.origin[1]||t[2]!==n.origin[2]){var r=n.origin;r[0]=t[0],r[1]=t[1],r[2]=t[2]||0,this.dirtifyLocal(e,n)}}},{key:"rotate",value:function(e,t){"number"==typeof t&&(t=ge(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var n=e.transformable;if(null!==e.parentNode&&e.parentNode.transformable){var r=rl;ze(r,t[0],t[1],t[2]);var i=this.getRotation(e),o=this.getRotation(e.parentNode);Fe(fl,o),Ie(fl,fl),Le(r,fl,r),Le(n.localRotation,r,i),We(n.localRotation,n.localRotation),this.dirtifyLocal(e,n)}else this.rotateLocal(e,t)}},{key:"rotateLocal",value:function(e,t){"number"==typeof t&&(t=ge(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var n=e.transformable;ze(dl,t[0],t[1],t[2]),Ue(n.localRotation,n.localRotation,dl),this.dirtifyLocal(e,n)}},{key:"setEulerAngles",value:function(e,t){"number"==typeof t&&(t=ge(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var n=e.transformable;if(null!==e.parentNode&&e.parentNode.transformable){ze(n.localRotation,t[0],t[1],t[2]);var r=this.getRotation(e.parentNode);Fe(cl,Ie(rl,r)),Ue(n.localRotation,n.localRotation,cl),this.dirtifyLocal(e,n)}else this.setLocalEulerAngles(e,t)}},{key:"setLocalEulerAngles",value:function(e,t){var n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];"number"==typeof t&&(t=ge(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var r=e.transformable;ze(r.localRotation,t[0],t[1],t[2]),n&&this.dirtifyLocal(e,r)}},{key:"translateLocal",value:function(e,t){"number"==typeof t&&(t=ge(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var n=e.transformable;Te(t,Qs)||(!function(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],l=t[1],u=t[2],c=i*u-o*l,d=o*s-r*u,f=r*l-i*s,h=i*f-o*d,p=o*c-r*f,g=r*d-i*c,v=2*a;c*=v,d*=v,f*=v,h*=2,p*=2,g*=2,e[0]=s+c+h,e[1]=l+d+p,e[2]=u+f+g}(t,t,n.localRotation),ye(n.localPosition,n.localPosition,t),this.dirtifyLocal(e,n))}},{key:"setPosition",value:function(e,t){var n,r=e.transformable;if(ll[0]=t[0],ll[1]=t[1],ll[2]=null!==(n=t[2])&&void 0!==n?n:0,!Te(this.getPosition(e),ll)){if(ve(r.position,ll),null!==e.parentNode&&e.parentNode.transformable){var i=e.parentNode.transformable;_(ul,i.worldTransform),I(ul,ul),Me(r.localPosition,ll,ul)}else ve(r.localPosition,ll);this.dirtifyLocal(e,r)}}},{key:"setLocalPosition",value:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.transformable;sl[0]=t[0],sl[1]=t[1],sl[2]=null!==(n=t[2])&&void 0!==n?n:0,Te(i.localPosition,sl)||(ve(i.localPosition,sl),r&&this.dirtifyLocal(e,i))}},{key:"scaleLocal",value:function(e,t){var n,r=e.transformable;!function(e,t,n){e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2]}(r.localScale,r.localScale,me(tl,t[0],t[1],null!==(n=t[2])&&void 0!==n?n:1)),this.dirtifyLocal(e,r)}},{key:"setLocalScale",value:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.transformable;me(tl,t[0],t[1],null!==(n=t[2])&&void 0!==n?n:i.localScale[2]),Te(tl,i.localScale)||(ve(i.localScale,tl),r&&this.dirtifyLocal(e,i))}},{key:"translate",value:function(e,t){"number"==typeof t&&(t=me(tl,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0)),Te(t,Qs)||(ye(tl,this.getPosition(e),t),this.setPosition(e,tl))}},{key:"setRotation",value:function(e,t,n,r,i){var o=e.transformable;if("number"==typeof t&&(t=je(t,n,r,i)),null!==e.parentNode&&e.parentNode.transformable){var a=this.getRotation(e.parentNode);Fe(rl,a),Ie(rl,rl),Le(o.localRotation,rl,t),We(o.localRotation,o.localRotation),this.dirtifyLocal(e,o)}else this.setLocalRotation(e,t)}},{key:"setLocalRotation",value:function(e,t,n,r,i){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];"number"==typeof t&&(t=Be(rl,t,n,r,i));var a=e.transformable;Fe(a.localRotation,t),o&&this.dirtifyLocal(e,a)}},{key:"setLocalSkew",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];"number"==typeof t&&(t=function(e,t,n){return e[0]=t,e[1]=n,e}(el,t,n));var i=e.transformable;!function(e,t){e[0]=t[0],e[1]=t[1]}(i.localSkew,t),r&&this.dirtifyLocal(e,i)}},{key:"dirtifyLocal",value:function(e,t){Ha(e)||t.localDirtyFlag||(t.localDirtyFlag=!0,t.dirtyFlag||this.dirtifyWorld(e,t))}},{key:"dirtifyWorld",value:function(e,t){t.dirtyFlag||this.unfreezeParentToRoot(e),this.dirtifyWorldInternal(e,t),this.dirtifyToRoot(e,!0)}},{key:"dirtifyFragment",value:function(e){var t=e.transformable;t&&(t.frozen=!1,t.dirtyFlag=!0,t.localDirtyFlag=!0);var n=e.renderable;n&&(n.renderBoundsDirty=!0,n.boundsDirty=!0,n.dirty=!0);for(var r=e.childNodes.length,i=0;i<r;i++)this.dirtifyFragment(e.childNodes[i]);e.nodeName===zr.FRAGMENT&&this.pendingEvents.set(e,!1)}},{key:"triggerPendingEvents",value:function(){var e=this,t=new Set,n=function(n,r){n.isConnected&&!t.has(n)&&n.nodeName!==zr.FRAGMENT&&(e.boundsChangedEvent.detail=r,e.boundsChangedEvent.target=n,n.isMutationObserved?n.dispatchEvent(e.boundsChangedEvent):n.ownerDocument.defaultView.dispatchEvent(e.boundsChangedEvent,!0),t.add(n))};this.pendingEvents.forEach((function(e,t){t.nodeName!==zr.FRAGMENT&&(hl.affectChildren=e,e?t.forEach((function(e){n(e,hl)})):n(t,hl))})),t.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"dirtifyToRoot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;for(n.renderable&&(n.renderable.dirty=!0);n;)Gs(n),n=n.parentNode;t&&e.forEach((function(e){Gs(e)})),this.informDependentDisplayObjects(e),this.pendingEvents.set(e,t)}},{key:"updateDisplayObjectDependency",value:function(e,t,n,r){if(t&&t!==n){var i=this.displayObjectDependencyMap.get(t);if(i&&i[e]){var o=i[e].indexOf(r);i[e].splice(o,1)}}if(n){var a=this.displayObjectDependencyMap.get(n);a||(this.displayObjectDependencyMap.set(n,{}),a=this.displayObjectDependencyMap.get(n)),a[e]||(a[e]=[]),a[e].push(r)}}},{key:"informDependentDisplayObjects",value:function(e){var t=this,n=this.displayObjectDependencyMap.get(e);n&&Object.keys(n).forEach((function(e){n[e].forEach((function(n){t.dirtifyToRoot(n,!0),n.dispatchEvent(new Hs(Vs.ATTR_MODIFIED,n,t,t,e,Hs.MODIFICATION,t,t)),n.isCustomElement&&n.isConnected&&n.attributeChangedCallback&&n.attributeChangedCallback(e,t,t)}))}))}},{key:"getPosition",value:function(e){var t=e.transformable;return X(t.position,this.getWorldTransform(e,t))}},{key:"getRotation",value:function(e){var t=e.transformable;return Z(t.rotation,this.getWorldTransform(e,t))}},{key:"getScale",value:function(e){var t=e.transformable;return Q(t.scaling,this.getWorldTransform(e,t))}},{key:"getWorldTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transformable;return t.localDirtyFlag||t.dirtyFlag?(e.parentNode&&e.parentNode.transformable&&this.getWorldTransform(e.parentNode),this.sync(e,t),t.worldTransform):t.worldTransform}},{key:"getLocalPosition",value:function(e){return e.transformable.localPosition}},{key:"getLocalRotation",value:function(e){return e.transformable.localRotation}},{key:"getLocalScale",value:function(e){return e.transformable.localScale}},{key:"getLocalSkew",value:function(e){return e.transformable.localSkew}},{key:"calcLocalTransform",value:function(e){if(0!==e.localSkew[0]||0!==e.localSkew[1]){J(e.localTransform,e.localRotation,e.localPosition,ge(1,1,1),e.origin),0===e.localSkew[0]&&0===e.localSkew[1]||(D(nl),nl[4]=Math.tan(e.localSkew[0]),nl[1]=Math.tan(e.localSkew[1]),j(e.localTransform,e.localTransform,nl));var t=J(nl,Be(rl,0,0,0,1),me(tl,1,1,1),e.localScale,e.origin);j(e.localTransform,e.localTransform,t)}else{var n=e.localTransform,r=e.localPosition,i=e.localRotation,o=e.localScale,a=e.origin,s=0!==r[0]||0!==r[1]||0!==r[2],l=1!==i[3]||0!==i[0]||0!==i[1]||0!==i[2],u=1!==o[0]||1!==o[1]||1!==o[2],c=0!==a[0]||0!==a[1]||0!==a[2];l||u||c?J(n,i,r,o,a):s?V(n,r):D(n)}}},{key:"getLocalTransform",value:function(e){var t=e.transformable;return t.localDirtyFlag&&(this.calcLocalTransform(t),t.localDirtyFlag=!1),t.localTransform}},{key:"setLocalTransform",value:function(e,t){var n=X(il,t),r=Z(ol,t),i=Q(al,t);this.setLocalScale(e,i,!1),this.setLocalPosition(e,n,!1),this.setLocalRotation(e,r,void 0,void 0,void 0,!1),this.dirtifyLocal(e,e.transformable)}},{key:"resetLocalTransform",value:function(e){this.setLocalScale(e,Zs,!1),this.setLocalPosition(e,Qs,!1),this.setLocalEulerAngles(e,Qs,void 0,void 0,!1),this.setLocalSkew(e,Xs,void 0,!1),this.dirtifyLocal(e,e.transformable)}},{key:"getTransformedGeometryBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.getGeometryBounds(e,t);if(!Yr.isEmpty(r)){var i=n||new Yr;return i.setFromTransformedAABB(r,this.getWorldTransform(e)),i}return null}},{key:"getGeometryBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.geometry;return n.dirty&&wl.styleValueRegistry.updateGeometry(e),(t?n.renderBounds:n.contentBounds||null)||new Yr}},{key:"getBounds",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.renderable;if(!r.boundsDirty&&!n&&r.bounds)return r.bounds;if(!r.renderBoundsDirty&&n&&r.renderBounds)return r.renderBounds;var i=n?r.renderBounds:r.bounds,o=this.getTransformedGeometryBounds(e,n,i);if(e.childNodes.forEach((function(e){var r=t.getBounds(e,n);r&&(o?o.add(r):(o=i||new Yr).update(r.center,r.halfExtents))})),o||(o=new Yr),n){var a=Ba(e);if(a){var s=a.parsedStyle.clipPath.getBounds(n);o?s&&(o=s.intersection(o)):o.update(s.center,s.halfExtents)}}return n?(r.renderBounds=o,r.renderBoundsDirty=!1):(r.bounds=o,r.boundsDirty=!1),o}},{key:"getLocalBounds",value:function(e){if(e.parentNode){var t=Js;e.parentNode.transformable&&(t=I(nl,this.getWorldTransform(e.parentNode)));var n=this.getBounds(e);if(!Yr.isEmpty(n)){var r=new Yr;return r.setFromTransformedAABB(n,t),r}}return this.getBounds(e)}},{key:"getBoundingClientRect",value:function(e){var t,n,r=this.getGeometryBounds(e);Yr.isEmpty(r)||(n=new Yr).setFromTransformedAABB(r,this.getWorldTransform(e));var i=null===(t=e.ownerDocument)||void 0===t||null===(t=t.defaultView)||void 0===t?void 0:t.getContextService().getBoundingClientRect();if(n){var o=w(n.getMin(),2),a=o[0],s=o[1],l=w(n.getMax(),2),u=l[0],c=l[1];return new Zr(a+((null==i?void 0:i.left)||0),s+((null==i?void 0:i.top)||0),u-a,c-s)}return new Zr((null==i?void 0:i.left)||0,(null==i?void 0:i.top)||0,0,0)}},{key:"dirtifyWorldInternal",value:function(e,t){var n=this;if(!t.dirtyFlag){t.dirtyFlag=!0,t.frozen=!1,e.childNodes.forEach((function(e){var t=e.transformable;t.dirtyFlag||n.dirtifyWorldInternal(e,t)}));var r=e.renderable;r&&(r.renderBoundsDirty=!0,r.boundsDirty=!0,r.dirty=!0)}}},{key:"syncHierarchy",value:function(e){var t=e.transformable;if(!t.frozen){t.frozen=!0,(t.localDirtyFlag||t.dirtyFlag)&&this.sync(e,t);for(var n=e.childNodes,r=0;r<n.length;r++)this.syncHierarchy(n[r])}}},{key:"sync",value:function(e,t){if(t.localDirtyFlag&&(this.calcLocalTransform(t),t.localDirtyFlag=!1),t.dirtyFlag){var n=e.parentNode,r=n&&n.transformable;null!==n&&r?j(t.worldTransform,r.worldTransform,t.localTransform):_(t.worldTransform,t.localTransform),t.dirtyFlag=!1}}},{key:"unfreezeParentToRoot",value:function(e){for(var t=e.parentNode;t;){var n=t.transformable;n&&(n.frozen=!1),t=t.parentNode}}}])}(),gl={MetricsString:"|ÉqÅ",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},vl=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,ml=new RegExp("".concat(/[!%),.:;?\]}¢°·'""†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/.source,"|").concat(/[!),.:;?\]}¢·–—'"•"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/.source,"|").concat(/[)\]｝〕〉》」』】〙〗〟'"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/.source,"|").concat(/[!%),.:;?\]}¢°'"†‡℃〆〈《「『〕！％），．：；？］｝]/.source)),yl=new RegExp("".concat(/[$(£¥·'"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/.source,"|").concat(/[([{£¥'"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/.source,"|").concat(/[([｛〔〈《「『【〘〖〝'"｟«—...‥〳〴〵]/.source,"|").concat(/[$([{£¥'"々〇〉》」〔＄（［｛｠￥￦#]/.source)),bl=function(){return c((function e(t){var n=this;l(this,e),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(e,t){return!n.isBreakingSpace(t)&&!(!e||!yl.exec(t)&&!ml.exec(e))},this.trimByKinsokuShorui=function(e){var t=h(e),n=t[t.length-2];if(!n)return e;var r=n[n.length-1];return t[t.length-2]=n.slice(0,-1),t[t.length-1]=r+t[t.length-1],t},this.runtime=t}),[{key:"measureFont",value:function(e,t){if(this.fontMetricsCache[e])return this.fontMetricsCache[e];var n={ascent:0,descent:0,fontSize:0},r=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(t),i=this.runtime.offscreenCanvasCreator.getOrCreateContext(t,{willReadFrequently:!0});i.font=e;var o=gl.MetricsString+gl.BaselineSymbol,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(gl.BaselineSymbol).width),l=gl.HeightMultiplier*s;s=s*gl.BaselineMultiplier|0,r.width=a,r.height=l,i.fillStyle="#f00",i.fillRect(0,0,a,l),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var u=i.getImageData(0,0,a||1,l||1).data,c=u.length,d=4*a,f=0,h=0,p=!1;for(f=0;f<s;++f){for(var g=0;g<d;g+=4)if(255!==u[h+g]){p=!0;break}if(p)break;h+=d}for(n.ascent=s-f,h=c-d,p=!1,f=l;f>s;--f){for(var v=0;v<d;v+=4)if(255!==u[h+v]){p=!0;break}if(p)break;h-=d}return n.descent=f-s,n.fontSize=n.ascent+n.descent,this.fontMetricsCache[e]=n,n}},{key:"measureText",value:function(e,t,n){var r=t.fontSize,i=void 0===r?16:r,o=t.wordWrap,a=void 0!==o&&o,s=t.lineHeight,l=t.lineWidth,u=void 0===l?1:l,c=t.textBaseline,d=void 0===c?"alphabetic":c,f=t.textAlign,h=void 0===f?"start":f,p=t.letterSpacing,g=void 0===p?0:p,v=t.textPath;t.textPathSide,t.textPathStartOffset;var m=t.leading,y=void 0===m?0:m,b=function(e){for(var t=e.fontSize,n=void 0===t?16:t,r=e.fontFamily,i=void 0===r?"sans-serif":r,o=e.fontStyle,a=void 0===o?"normal":o,s=e.fontVariant,l=void 0===s?"normal":s,u=e.fontWeight,c=void 0===u?"normal":u,d=st(n)&&"".concat(n,"px")||"16px",f=i.split(","),h=f.length-1;h>=0;h--){var p=f[h].trim();!ls.test(p)&&ss.indexOf(p)<0&&(p='"'.concat(p,'"')),f[h]=p}return"".concat(a," ").concat(l," ").concat(c," ").concat(d," ").concat(f.join(","))}(t),w=this.measureFont(b,n);0===w.fontSize&&(w.fontSize=i,w.ascent=i);var x=this.runtime.offscreenCanvasCreator.getOrCreateContext(n);x.font=b,t.isOverflowing=!1;var E=(a?this.wordWrap(e,t,n):e).split(/(?:\r\n|\r|\n)/),k=new Array(E.length),S=0;if(!v){for(var M=0;M<E.length;M++){var T=x.measureText(E[M]).width+(E[M].length-1)*g;k[M]=T,S=Math.max(S,T)}var C=S+u,N=s||w.fontSize+u,P=Math.max(N,w.fontSize+u)+(E.length-1)*(N+y),O=0;return"middle"===d?O=-P/2:"bottom"===d||"alphabetic"===d||"ideographic"===d?O=-P:"top"!==d&&"hanging"!==d||(O=0),{font:b,width:C,height:P,lines:E,lineWidths:k,lineHeight:N+=y,maxLineWidth:S,fontProperties:w,lineMetrics:k.map((function(e,t){var n=0;return"center"===h||"middle"===h?n-=e/2:"right"!==h&&"end"!==h||(n-=e),new Zr(n-u/2,O+t*N,e+u,N)}))}}v.getTotalLength();for(var _=0;_<E.length;_++)x.measureText(E[_]).width,E[_].length}},{key:"wordWrap",value:function(e,t,n){var r=this,i=this,o=t.wordWrapWidth,a=void 0===o?0:o,s=t.letterSpacing,l=void 0===s?0:s,u=t.maxLines,c=void 0===u?1/0:u,d=t.textOverflow,f=this.runtime.offscreenCanvasCreator.getOrCreateContext(n),h=a+l,p="";"ellipsis"===d?p="...":d&&"clip"!==d&&(p=d);var g=Array.from(e),v=[],m=0,y=0,b=0,w={},x=function(e){return r.getFromCache(e,l,w,f)},E=x(p);function k(e,t,n,r){for(;x(e)<r&&t<g.length-1&&!i.isNewline(g[t+1]);)e+=g[t+=1];for(;x(e)>r&&t>n;)t-=1,e=e.slice(0,-1);return{lineTxt:e,txtLastCharIndex:t}}function S(e,t){if(!(E<=0||E>h))if(v[e]){var n=k(v[e],t,b+1,h-E);v[e]=n.lineTxt+p}else v[e]=p}for(var M=0;M<g.length;M++){var T=g[M],C=g[M-1],N=g[M+1],P=x(T);if(this.isNewline(T)){if(m+1>=c){t.isOverflowing=!0,M<g.length-1&&S(m,M-1);break}b=M-1,y=0,v[m+=1]=""}else{if(y>0&&y+P>h){var O=k(v[m],M-1,b+1,h);if(O.txtLastCharIndex!==M-1){if(v[m]=O.lineTxt,O.txtLastCharIndex===g.length-1)break;M=O.txtLastCharIndex+1,T=g[M],C=g[M-1],N=g[M+1],P=x(T)}if(m+1>=c){t.isOverflowing=!0,S(m,M-1);break}if(b=M-1,y=0,v[m+=1]="",this.isBreakingSpace(T))continue;this.canBreakInLastChar(T)||(v=this.trimToBreakable(v),y=this.sumTextWidthByCache(v[m]||"",w)),this.shouldBreakByKinsokuShorui(T,N)&&(v=this.trimByKinsokuShorui(v),y+=x(C||""))}y+=P,v[m]=(v[m]||"")+T}}return v.join("\n")}},{key:"isBreakingSpace",value:function(e){return"string"==typeof e&&gl.BreakingSpaces.indexOf(e.charCodeAt(0))>=0}},{key:"isNewline",value:function(e){return"string"==typeof e&&gl.Newlines.indexOf(e.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(e){var t=h(e),n=t[t.length-2],r=this.findBreakableIndex(n);if(-1===r||!n)return t;var i=n.slice(r,r+1),o=r+1,a=r+(this.isBreakingSpace(i)?0:1);return t[t.length-1]+=n.slice(o,n.length),t[t.length-2]=n.slice(0,a),t}},{key:"canBreakInLastChar",value:function(e){return!e||!vl.test(e)}},{key:"sumTextWidthByCache",value:function(e,t){return e.split("").reduce((function(e,n){if(!t[n])throw Error("cannot count the word without cache");return e+t[n]}),0)}},{key:"findBreakableIndex",value:function(e){for(var t=e.length-1;t>=0;t--)if(!vl.test(e[t]))return t;return-1}},{key:"getFromCache",value:function(e,t,n,r){var i=n[e];if("number"!=typeof i){var o=e.length*t;i=r.measureText(e).width+o,n[e]=i}return i}}])}(),wl={},xl=(Ys=new Ms,qs=new Ss,o(o(o(o(o(o(o(o(o(o($s={},zr.FRAGMENT,null),zr.CIRCLE,new ws),zr.ELLIPSE,new xs),zr.RECT,Ys),zr.IMAGE,Ys),zr.GROUP,new Cs),zr.LINE,new Es),zr.TEXT,new Ts(wl)),zr.POLYLINE,qs),zr.POLYGON,qs),o(o(o($s,zr.PATH,new ks),zr.HTML,new Ns),zr.MESH,null)),El=function(e){var t=new xa,n=new Sa;return o(o(o(o(o(o(o(o(o(o(e={},Ci.PERCENTAGE,null),Ci.NUMBER,new Na),Ci.ANGLE,new ba),Ci.DEFINED_PATH,new wa),Ci.PAINT,t),Ci.COLOR,t),Ci.FILTER,new Ea),Ci.LENGTH,n),Ci.LENGTH_PERCENTAGE,n),Ci.LENGTH_PERCENTAGE_12,new Ma),o(o(o(o(o(o(o(o(o(o(e,Ci.LENGTH_PERCENTAGE_14,new Ta),Ci.COORDINATE,new Sa),Ci.OFFSET_DISTANCE,new Pa),Ci.OPACITY_VALUE,new Oa),Ci.PATH,new _a),Ci.LIST_OF_POINTS,new Ra),Ci.SHADOW_BLUR,new Aa),Ci.TEXT,new Da),Ci.TEXT_TRANSFORM,new La),Ci.TRANSFORM,new ms),o(o(o(e,Ci.TRANSFORM_ORIGIN,new ys),Ci.Z_INDEX,new bs),Ci.MARKER,new Ca)}();wl.CameraContribution=ki,wl.AnimationTimeline=null,wl.EasingFunction=null,wl.offscreenCanvasCreator=new js,wl.sceneGraphSelector=new Ws,wl.sceneGraphService=new pl(wl),wl.textService=new bl(wl),wl.geometryUpdaterFactory=xl,wl.CSSPropertySyntaxFactory=El,wl.styleValueRegistry=new ma(wl),wl.layoutRegistry=null,wl.globalThis="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},wl.enableStyleSyntax=!0,wl.enableSizeAttenuation=!1;var kl=0,Sl=new Hs(Vs.INSERTED,null,"","","",0,"",""),Ml=new Hs(Vs.REMOVED,null,"","","",0,"",""),Tl=new As(Vs.DESTROY),Cl=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=m(this,t,[].concat(r))).entity=kl++,e.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},e.cullable={strategy:Si.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},e.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},e.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},e.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},e.rBushNode={aabb:void 0},e.namespaceURI="g",e.scrollLeft=0,e.scrollTop=0,e.clientTop=0,e.clientLeft=0,e.destroyed=!1,e.style={},e.computedStyle={},e.parsedStyle={},e.attributes={},e}return b(t,e),c(t,[{key:"className",get:function(){return this.getAttribute("class")||""},set:function(e){this.setAttribute("class",e)}},{key:"classList",get:function(){return this.className.split(" ").filter((function(e){return""!==e}))}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var e=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[e+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var e=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[e-1]||null}return null}},{key:"cloneNode",value:function(e){throw new Error(Jr)}},{key:"appendChild",value:function(e,t){var n;if(e.destroyed)throw new Error("Cannot append a destroyed element.");return wl.sceneGraphService.attach(e,this,t),null!==(n=this.ownerDocument)&&void 0!==n&&n.defaultView&&(Ha(this)||e.nodeName!==zr.FRAGMENT?this.ownerDocument.defaultView.mountChildren(e):this.ownerDocument.defaultView.mountFragment(e)),this.isMutationObserved&&(Sl.relatedNode=this,e.dispatchEvent(Sl)),e}},{key:"insertBefore",value:function(e,t){if(t){e.parentElement&&e.parentElement.removeChild(e);var n=this.childNodes.indexOf(t);-1===n?this.appendChild(e):this.appendChild(e,n)}else this.appendChild(e);return e}},{key:"replaceChild",value:function(e,t){var n=this.childNodes.indexOf(t);return this.removeChild(t),this.appendChild(e,n),t}},{key:"removeChild",value:function(e){var t;return Ml.relatedNode=this,e.dispatchEvent(Ml),null!==(t=e.ownerDocument)&&void 0!==t&&t.defaultView&&e.ownerDocument.defaultView.unmountChildren(e),wl.sceneGraphService.detach(e),e}},{key:"removeChildren",value:function(){for(var e=this.childNodes.length-1;e>=0;e--){var t=this.childNodes[e];this.removeChild(t)}}},{key:"destroyChildren",value:function(){for(var e=this.childNodes.length-1;e>=0;e--){var t=this.childNodes[e];t.childNodes.length>0&&t.destroyChildren(),t.destroy()}}},{key:"matches",value:function(e){return wl.sceneGraphService.matches(e,this)}},{key:"getElementById",value:function(e){return wl.sceneGraphService.querySelector("#".concat(e),this)}},{key:"getElementsByName",value:function(e){return wl.sceneGraphService.querySelectorAll('[name="'.concat(e,'"]'),this)}},{key:"getElementsByClassName",value:function(e){return wl.sceneGraphService.querySelectorAll(".".concat(e),this)}},{key:"getElementsByTagName",value:function(e){return wl.sceneGraphService.querySelectorAll(e,this)}},{key:"querySelector",value:function(e){return wl.sceneGraphService.querySelector(e,this)}},{key:"querySelectorAll",value:function(e){return wl.sceneGraphService.querySelectorAll(e,this)}},{key:"closest",value:function(e){var t=this;do{if(wl.sceneGraphService.matches(e,t))return t;t=t.parentElement}while(null!==t);return null}},{key:"find",value:function(e){var t=this,n=null;return this.forEach((function(r){return r===t||!e(r)||(n=r,!1)})),n}},{key:"findAll",value:function(e){var t=this,n=[];return this.forEach((function(r){r!==t&&e(r)&&n.push(r)})),n}},{key:"after",value:function(){var e=this;if(this.parentNode){for(var t=this.parentNode.childNodes.indexOf(this),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];r.forEach((function(n,r){var i;return null===(i=e.parentNode)||void 0===i?void 0:i.appendChild(n,t+r+1)}))}}},{key:"before",value:function(){if(this.parentNode){for(var e,t=this.parentNode.childNodes.indexOf(this),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r[0],a=r.slice(1);this.parentNode.appendChild(o,t),(e=o).after.apply(e,h(a))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){return e.appendChild(t)}))}},{key:"prepend",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t,n){return e.appendChild(t,n)}))}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){this.destroyChildren(),this.dispatchEvent(Tl),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return wl.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return wl.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return wl.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return wl.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return wl.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(e){if("symbol"!=typeof e){var t=this.attributes[e];return t}}},{key:"hasAttribute",value:function(e){return this.getAttributeNames().includes(e)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(e){this.setAttribute(e,null),delete this.attributes[e]}},{key:"setAttribute",value:function(e,t,n,r){this.attributes[e]=t}},{key:"getAttributeNS",value:function(e,t){throw new Error(Jr)}},{key:"getAttributeNode",value:function(e){throw new Error(Jr)}},{key:"getAttributeNodeNS",value:function(e,t){throw new Error(Jr)}},{key:"hasAttributeNS",value:function(e,t){throw new Error(Jr)}},{key:"removeAttributeNS",value:function(e,t){throw new Error(Jr)}},{key:"removeAttributeNode",value:function(e){throw new Error(Jr)}},{key:"setAttributeNS",value:function(e,t,n){throw new Error(Jr)}},{key:"setAttributeNode",value:function(e){throw new Error(Jr)}},{key:"setAttributeNodeNS",value:function(e){throw new Error(Jr)}},{key:"toggleAttribute",value:function(e,t){throw new Error(Jr)}}])}(Is);function Nl(e){return!(null==e||!e.nodeName)}var Pl=wl.globalThis.Proxy?wl.globalThis.Proxy:function(){},Ol=new Hs(Vs.ATTR_MODIFIED,null,null,null,null,Hs.MODIFICATION,null,null),_l=fe(),Rl=Ae(),Al=function(e){function t(e){var n;return l(this,t),(n=m(this,t)).isCustomElement=!1,n.isMutationObserved=!1,n.activeAnimations=[],n.config=e,n.id=e.id||"",n.name=e.name||"",(e.className||e.class)&&(n.className=e.className||e.class),n.nodeName=e.type||zr.GROUP,e.initialParsedStyle&&Object.assign(n.parsedStyle,e.initialParsedStyle),n.initAttributes(e.style),wl.enableStyleSyntax&&(n.style=new Pl({setProperty:function(e,t){n.setAttribute(e,t)},getPropertyValue:function(e){return n.getAttribute(e)},removeProperty:function(e){n.removeAttribute(e)},item:function(){return""}},{get:function(e,t){return void 0!==e[t]?e[t]:n.getAttribute(t)},set:function(e,t,r){return n.setAttribute(t,r),!0}})),n}return b(t,e),c(t,[{key:"destroy",value:function(){Rn(t,"destroy",this)([]),this.getAnimations().forEach((function(e){e.cancel()}))}},{key:"cloneNode",value:function(e,t){var n=s({},this.attributes);for(var r in n){var i=n[r];Nl(i)&&"clipPath"!==r&&"offsetPath"!==r&&"textPath"!==r&&(n[r]=i.cloneNode(e)),t&&(n[r]=t(r,i))}var o=new this.constructor(s(s({},this.config),{},{style:n}));return o.setLocalTransform(this.getLocalTransform()),e&&this.children.forEach((function(t){if(!t.style.isMarker){var n=t.cloneNode(e);o.appendChild(n)}})),o}},{key:"initAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};wl.styleValueRegistry.processProperties(this,e,{forceUpdateGeometry:!0}),this.renderable.dirty=!0}},{key:"setAttribute",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];mt(n)||(r||n!==this.attributes[e])&&(this.internalSetAttribute(e,n,{memoize:i}),Rn(t,"setAttribute",this)([e,n]))}},{key:"internalSetAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.renderable,i=this.attributes[e],a=this.parsedStyle[e];wl.styleValueRegistry.processProperties(this,o({},e,t),n),r.dirty=!0;var s,l=this.parsedStyle[e];(this.isConnected&&(Ol.relatedNode=this,Ol.prevValue=i,Ol.newValue=t,Ol.attrName=e,Ol.prevParsedValue=a,Ol.newParsedValue=l,this.isMutationObserved?this.dispatchEvent(Ol):(Ol.target=this,this.ownerDocument.defaultView.dispatchEvent(Ol,!0))),this.isCustomElement&&this.isConnected||!this.isCustomElement)&&(null===(s=this.attributeChangedCallback)||void 0===s||s.call(this,e,i,t,a,l))}},{key:"getBBox",value:function(){var e=this.getBounds(),t=w(e.getMin(),2),n=t[0],r=t[1],i=w(e.getMax(),2),o=i[0],a=i[1];return new Zr(n,r,o-n,a-r)}},{key:"setOrigin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return wl.sceneGraphService.setOrigin(this,ri(e,t,n,!1)),this}},{key:"getOrigin",value:function(){return wl.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return wl.sceneGraphService.setPosition(this,ri(e,t,n,!1)),this}},{key:"setLocalPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return wl.sceneGraphService.setLocalPosition(this,ri(e,t,n,!1)),this}},{key:"translate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return wl.sceneGraphService.translate(this,ri(e,t,n,!1)),this}},{key:"translateLocal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return wl.sceneGraphService.translateLocal(this,ri(e,t,n,!1)),this}},{key:"getPosition",value:function(){return wl.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return wl.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(e,t,n){return this.scaleLocal(e,t,n)}},{key:"scaleLocal",value:function(e,t,n){return"number"==typeof e&&(e=ri(e,t=t||e,n=n||e,!1)),wl.sceneGraphService.scaleLocal(this,e),this}},{key:"setLocalScale",value:function(e,t,n){return"number"==typeof e&&(e=ri(e,t=t||e,n=n||e,!1)),wl.sceneGraphService.setLocalScale(this,e),this}},{key:"getLocalScale",value:function(){return wl.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return wl.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){return si(w(ui(_l,wl.sceneGraphService.getWorldTransform(this)),3)[2])}},{key:"getLocalEulerAngles",value:function(){return si(w(ui(_l,wl.sceneGraphService.getLocalRotation(this)),3)[2])}},{key:"setEulerAngles",value:function(e){return wl.sceneGraphService.setEulerAngles(this,0,0,e),this}},{key:"setLocalEulerAngles",value:function(e){return wl.sceneGraphService.setLocalEulerAngles(this,0,0,e),this}},{key:"rotateLocal",value:function(e,t,n){return Ye(t)&&Ye(n)?wl.sceneGraphService.rotateLocal(this,0,0,e):wl.sceneGraphService.rotateLocal(this,e,t,n),this}},{key:"rotate",value:function(e,t,n){return Ye(t)&&Ye(n)?wl.sceneGraphService.rotate(this,0,0,e):wl.sceneGraphService.rotate(this,e,t,n),this}},{key:"setRotation",value:function(e,t,n,r){return wl.sceneGraphService.setRotation(this,e,t,n,r),this}},{key:"setLocalRotation",value:function(e,t,n,r){return wl.sceneGraphService.setLocalRotation(this,e,t,n,r),this}},{key:"setLocalSkew",value:function(e,t){return wl.sceneGraphService.setLocalSkew(this,e,t),this}},{key:"getRotation",value:function(){return wl.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return wl.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return wl.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return wl.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return wl.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(e){return wl.sceneGraphService.setLocalTransform(this,e),this}},{key:"resetLocalTransform",value:function(){wl.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(e,t){var n,r=null===(n=this.ownerDocument)||void 0===n?void 0:n.timeline;return r?r.play(this,e,t):null}},{key:"isVisible",value:function(){var e;return"hidden"!==(null===(e=this.parsedStyle)||void 0===e?void 0:e.visibility)}},{key:"interactive",get:function(){return this.isInteractive()},set:function(e){this.style.pointerEvents=e?"auto":"none"}},{key:"isInteractive",value:function(){var e;return"none"!==(null===(e=this.parsedStyle)||void 0===e?void 0:e.pointerEvents)}},{key:"isCulled",value:function(){return!(!this.cullable||!this.cullable.enable||this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,h(this.parentNode.children.map((function(e){return Number(e.style.zIndex)}))))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,h(this.parentNode.children.map((function(e){return Number(e.style.zIndex)}))))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1];return i?Ke(i)?(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),this):2===n.length?(this.setAttribute(i,o),this):this.attributes[i]:this.attributes}},{key:"getMatrix",value:function(e){var t=e||this.getWorldTransform(),n=w(X(_l,t),2),r=n[0],i=n[1],o=w(Q(_l,t),2),a=o[0],s=o[1],l=Z(Rl,t),u=w(ui(_l,l),3),c=u[0],d=u[2];return ci(c||d,r,i,a,s)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(e){var t=w(di(e),5),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4];this.setEulerAngles(a).setPosition(n,r).setLocalScale(i,o)}},{key:"setLocalMatrix",value:function(e){var t=w(di(e),5),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4];this.setLocalEulerAngles(a).setLocalPosition(n,r).setLocalScale(i,o)}},{key:"show",value:function(){this.forEach((function(e){e.style.visibility="visible"}))}},{key:"hide",value:function(){this.forEach((function(e){e.style.visibility="hidden"}))}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(e){return this.children[e]||null}},{key:"add",value:function(e,t){return this.appendChild(e,t)}},{key:"set",value:function(e,t){this.config[e]=t}},{key:"get",value:function(e){return this.config[e]}},{key:"moveTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.setPosition(e,t,n),this}},{key:"move",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.setPosition(e,t,n),this}},{key:"setZIndex",value:function(e){return this.style.zIndex=e,this}}])}(Cl);Al.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var Dl=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,t),m(this,t,[s({type:zr.CIRCLE},e)])}return b(t,e),c(t)}(Al);Dl.PARSED_STYLE_LIST=new Set([].concat(h(Al.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var Ll=["style"],Il=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.style,i=Dr(n,Ll);return l(this,t),(e=m(this,t,[s({style:r},i)])).isCustomElement=!0,e}return b(t,e),c(t)}(Al);Il.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var zl=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,t),m(this,t,[s({type:zr.ELLIPSE},e)])}return b(t,e),c(t)}(Al);zl.PARSED_STYLE_LIST=new Set([].concat(h(Al.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"])),(function(e){function t(){return l(this,t),m(this,t,[{type:zr.FRAGMENT}])}return b(t,e),c(t)}(Al)).PARSED_STYLE_LIST=new Set(["class","className"]);var jl=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,t),m(this,t,[s({type:zr.GROUP},e)])}return b(t,e),c(t)}(Al);jl.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Fl=["style"],Bl=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.style,i=Dr(n,Fl);return l(this,t),(e=m(this,t,[s({type:zr.HTML,style:r},i)])).cullable.enable=!1,e}return b(t,e),c(t,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var e=I(P(),this.parentNode.getWorldTransform()),t=this.getBounds();if(!Yr.isEmpty(t)){var n=new Yr;return n.setFromTransformedAABB(t,e),n}}return this.getBounds()}}])}(Al);Bl.PARSED_STYLE_LIST=new Set([].concat(h(Al.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var Ul=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,t),m(this,t,[s({type:zr.IMAGE},e)])}return b(t,e),c(t)}(Al);Ul.PARSED_STYLE_LIST=new Set([].concat(h(Al.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var Wl=["style"],Vl=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.style,i=Dr(n,Wl);l(this,t),(e=m(this,t,[s({type:zr.LINE,style:s({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},r)},i)])).markerStartAngle=0,e.markerEndAngle=0;var o=e.parsedStyle,a=o.markerStart,u=o.markerEnd;return a&&Nl(a)&&(e.markerStartAngle=a.getLocalEulerAngles(),e.appendChild(a)),u&&Nl(u)&&(e.markerEndAngle=u.getLocalEulerAngles(),e.appendChild(u)),e.transformMarker(!0),e.transformMarker(!1),e}return b(t,e),c(t,[{key:"attributeChangedCallback",value:function(e,t,n,r,i){"x1"===e||"y1"===e||"x2"===e||"y2"===e||"markerStartOffset"===e||"markerEndOffset"===e?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===e?(r&&Nl(r)&&(this.markerStartAngle=0,r.remove()),i&&Nl(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===e&&(r&&Nl(r)&&(this.markerEndAngle=0,r.remove()),i&&Nl(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1)))}},{key:"transformMarker",value:function(e){var t=this.parsedStyle,n=t.markerStart,r=t.markerEnd,i=t.markerStartOffset,o=t.markerEndOffset,a=t.x1,s=t.x2,l=t.y1,u=t.y2,c=e?n:r;if(c&&Nl(c)){var d,f,h,p,g,v,m;e?(p=a,g=l,f=s-a,h=u-l,v=i||0,m=this.markerStartAngle):(p=s,g=u,f=a-s,h=l-u,v=o||0,m=this.markerEndAngle),d=Math.atan2(h,f),c.setLocalEulerAngles(180*d/Math.PI+m),c.setLocalPosition(p+Math.cos(d)*v,g+Math.sin(d)*v)}}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.parsedStyle,r=br(n.x1,n.y1,n.x2,n.y2,e),i=r.x,o=r.y,a=Me(fe(),ge(i,o,0),t?this.getWorldTransform():this.getLocalTransform());return new Qr(a[0],a[1])}},{key:"getPointAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPoint(e/this.getTotalLength(),t)}},{key:"getTotalLength",value:function(){var e=this.parsedStyle;return yr(e.x1,e.y1,e.x2,e.y2)}}])}(Al);Vl.PARSED_STYLE_LIST=new Set([].concat(h(Al.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var Hl=["style"],Gl=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.style,i=Dr(n,Hl);l(this,t),(e=m(this,t,[s({type:zr.PATH,style:r,initialParsedStyle:{miterLimit:4,d:s({},Ti)}},i)])).markerStartAngle=0,e.markerEndAngle=0,e.markerMidList=[];var o=e.parsedStyle,a=o.markerStart,u=o.markerEnd,c=o.markerMid;return a&&Nl(a)&&(e.markerStartAngle=a.getLocalEulerAngles(),e.appendChild(a)),c&&Nl(c)&&e.placeMarkerMid(c),u&&Nl(u)&&(e.markerEndAngle=u.getLocalEulerAngles(),e.appendChild(u)),e.transformMarker(!0),e.transformMarker(!1),e}return b(t,e),c(t,[{key:"attributeChangedCallback",value:function(e,t,n,r,i){"d"===e?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===e||"markerEndOffset"===e?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===e?(r&&Nl(r)&&(this.markerStartAngle=0,r.remove()),i&&Nl(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===e?(r&&Nl(r)&&(this.markerEndAngle=0,r.remove()),i&&Nl(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1))):"markerMid"===e&&this.placeMarkerMid(i)}},{key:"transformMarker",value:function(e){var t=this.parsedStyle,n=t.markerStart,r=t.markerEnd,i=t.markerStartOffset,o=t.markerEndOffset,a=e?n:r;if(a&&Nl(a)){var s,l,u,c,d,f,h;if(e){var p=w(this.getStartTangent(),2),g=p[0],v=p[1];c=v[0],d=v[1],l=g[0]-v[0],u=g[1]-v[1],f=i||0,h=this.markerStartAngle}else{var m=w(this.getEndTangent(),2),y=m[0],b=m[1];c=b[0],d=b[1],l=y[0]-b[0],u=y[1]-b[1],f=o||0,h=this.markerEndAngle}s=Math.atan2(u,l),a.setLocalEulerAngles(180*s/Math.PI+h),a.setLocalPosition(c+Math.cos(s)*f,d+Math.sin(s)*f)}}},{key:"placeMarkerMid",value:function(e){var t=this.parsedStyle.d.segments;if(this.markerMidList.forEach((function(e){e.remove()})),e&&Nl(e))for(var n=1;n<t.length-1;n++){var r=w(t[n].currentPoint,2),i=r[0],o=r[1],a=1===n?e:e.cloneNode(!0);this.markerMidList.push(a),this.appendChild(a),a.setLocalPosition(i,o)}}},{key:"getTotalLength",value:function(){return Ao(this)}},{key:"getPointAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e,t,n){return Mn(e,t,Ft(Ft({},n),{bbox:!1,length:!0})).point}(this.parsedStyle.d.absolutePath,e),r=n.x,i=n.y,o=Me(fe(),ge(r,i,0),t?this.getWorldTransform():this.getLocalTransform());return new Qr(o[0],o[1])}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPointAtLength(e*Ao(this),t)}},{key:"getStartTangent",value:function(){var e=this.parsedStyle.d.segments,t=[];if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,i=e[1].startTangent;t=[],i?(t.push([n[0]-i[0],n[1]-i[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t}},{key:"getEndTangent",value:function(){var e=this.parsedStyle.d.segments,t=e.length,n=[];if(t>1){var r=e[t-2].currentPoint,i=e[t-1].currentPoint,o=e[t-1].endTangent;n=[],o?(n.push([i[0]-o[0],i[1]-o[1]]),n.push([i[0],i[1]])):(n.push([r[0],r[1]]),n.push([i[0],i[1]]))}return n}}])}(Al);Gl.PARSED_STYLE_LIST=new Set([].concat(h(Al.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var $l=["style"],Yl=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.style,i=Dr(n,$l);l(this,t),(e=m(this,t,[s({type:zr.POLYGON,style:r,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},i)])).markerStartAngle=0,e.markerEndAngle=0,e.markerMidList=[];var o=e.parsedStyle,a=o.markerStart,u=o.markerEnd,c=o.markerMid;return a&&Nl(a)&&(e.markerStartAngle=a.getLocalEulerAngles(),e.appendChild(a)),c&&Nl(c)&&e.placeMarkerMid(c),u&&Nl(u)&&(e.markerEndAngle=u.getLocalEulerAngles(),e.appendChild(u)),e.transformMarker(!0),e.transformMarker(!1),e}return b(t,e),c(t,[{key:"attributeChangedCallback",value:function(e,t,n,r,i){"points"===e?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===e||"markerEndOffset"===e?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===e?(r&&Nl(r)&&(this.markerStartAngle=0,r.remove()),i&&Nl(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===e?(r&&Nl(r)&&(this.markerEndAngle=0,r.remove()),i&&Nl(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1))):"markerMid"===e&&this.placeMarkerMid(i)}},{key:"transformMarker",value:function(e){var t=this.parsedStyle,n=t.markerStart,r=t.markerEnd,i=t.markerStartOffset,o=t.markerEndOffset,a=(t.points||{}).points,s=e?n:r;if(s&&Nl(s)&&a){var l,u,c,d,f,h,p;if(d=a[0][0],f=a[0][1],e)u=a[1][0]-a[0][0],c=a[1][1]-a[0][1],h=i||0,p=this.markerStartAngle;else{var g=a.length;this.parsedStyle.isClosed?(u=a[g-1][0]-a[0][0],c=a[g-1][1]-a[0][1]):(d=a[g-1][0],f=a[g-1][1],u=a[g-2][0]-a[g-1][0],c=a[g-2][1]-a[g-1][1]),h=o||0,p=this.markerEndAngle}l=Math.atan2(c,u),s.setLocalEulerAngles(180*l/Math.PI+p),s.setLocalPosition(d+Math.cos(l)*h,f+Math.sin(l)*h)}}},{key:"placeMarkerMid",value:function(e){var t=(this.parsedStyle.points||{}).points;if(this.markerMidList.forEach((function(e){e.remove()})),this.markerMidList=[],e&&Nl(e)&&t)for(var n=1;n<(this.parsedStyle.isClosed?t.length:t.length-1);n++){var r=t[n][0],i=t[n][1],o=1===n?e:e.cloneNode(!0);this.markerMidList.push(o),this.appendChild(o),o.setLocalPosition(r,i)}}}])}(Al);Yl.PARSED_STYLE_LIST=new Set([].concat(h(Al.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var ql=["style"],Kl=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.style,r=Dr(e,ql);return l(this,t),m(this,t,[s({type:zr.POLYLINE,style:n,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},r)])}return b(t,e),c(t,[{key:"getTotalLength",value:function(){return 0===(e=this).parsedStyle.points.totalLength&&(e.parsedStyle.points.totalLength=Mr(e.parsedStyle.points.points)),e.parsedStyle.points.totalLength;var e}},{key:"getPointAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPoint(e/this.getTotalLength(),t)}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.parsedStyle.points.points;if(0===this.parsedStyle.points.segments.length){var r,i,o=[],a=0,s=this.getTotalLength();n.forEach((function(e,t){n[t+1]&&((r=[0,0])[0]=a/s,i=yr(e[0],e[1],n[t+1][0],n[t+1][1]),a+=i,r[1]=a/s,o.push(r))})),this.parsedStyle.points.segments=o}var l=0,u=0;this.parsedStyle.points.segments.forEach((function(t,n){e>=t[0]&&e<=t[1]&&(l=(e-t[0])/(t[1]-t[0]),u=n)}));var c=br(n[u][0],n[u][1],n[u+1][0],n[u+1][1],l),d=c.x,f=c.y,h=Me(fe(),ge(d,f,0),t?this.getWorldTransform():this.getLocalTransform());return new Qr(h[0],h[1])}},{key:"getStartTangent",value:function(){var e=this.parsedStyle.points.points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t}},{key:"getEndTangent",value:function(){var e=this.parsedStyle.points.points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n}}])}(Yl);Kl.PARSED_STYLE_LIST=new Set([].concat(h(Yl.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var Xl=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,t),m(this,t,[s({type:zr.RECT},e)])}return b(t,e),c(t)}(Al);Xl.PARSED_STYLE_LIST=new Set([].concat(h(Al.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var Ql=["style"],Zl=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.style,r=Dr(e,Ql);return l(this,t),m(this,t,[s({type:zr.TEXT,style:s({fill:"black"},n)},r)])}return b(t,e),c(t,[{key:"getComputedTextLength",value:function(){var e;return this.getGeometryBounds(),(null===(e=this.parsedStyle.metrics)||void 0===e?void 0:e.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var e;return this.getGeometryBounds(),(null===(e=this.parsedStyle.metrics)||void 0===e?void 0:e.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(Al);Zl.PARSED_STYLE_LIST=new Set([].concat(h(Al.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var Jl=function(){return c((function e(){l(this,e),this.registry={},this.define(zr.CIRCLE,Dl),this.define(zr.ELLIPSE,zl),this.define(zr.RECT,Xl),this.define(zr.IMAGE,Ul),this.define(zr.LINE,Vl),this.define(zr.GROUP,jl),this.define(zr.PATH,Gl),this.define(zr.POLYGON,Yl),this.define(zr.POLYLINE,Kl),this.define(zr.TEXT,Zl),this.define(zr.HTML,Bl)}),[{key:"define",value:function(e,t){this.registry[e]=t}},{key:"get",value:function(e){return this.registry[e]}}])}(),eu=function(e){function t(){var e;l(this,t),(e=m(this,t)).defaultView=null,e.ownerDocument=null,e.nodeName="document";try{e.timeline=new wl.AnimationTimeline(e)}catch(e){}var n={};return pa.forEach((function(e){var t=e.n,r=e.inh,i=e.d;r&&i&&(n[t]=$e(i)?i(zr.GROUP):i)})),e.documentElement=new jl({id:"g-root",style:n}),e.documentElement.ownerDocument=e,e.documentElement.parentNode=e,e.childNodes=[e.documentElement],e}return b(t,e),c(t,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(e,t){if("svg"===e)return this.documentElement;var n=this.defaultView.customElements.get(e);n||(console.warn("Unsupported tagName: ",e),n="tspan"===e?Zl:jl);var r=new n(t);return r.ownerDocument=this,r}},{key:"createElementNS",value:function(e,t,n){return this.createElement(t,n)}},{key:"cloneNode",value:function(e){throw new Error(Jr)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch(e){}}},{key:"elementsFromBBox",value:function(e,t,n,r){var i=this.defaultView.context.rBushRoot.search({minX:e,minY:t,maxX:n,maxY:r}),o=[];return i.forEach((function(e){var t=e.displayObject,n=t.parsedStyle.pointerEvents,r=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(void 0===n?"auto":n);(!r||r&&t.isVisible())&&!t.isCulled()&&t.isInteractive()&&o.push(t)})),o.sort((function(e,t){return t.sortable.renderOrder-e.sortable.renderOrder})),o}},{key:"elementFromPointSync",value:function(e,t){var n=this.defaultView.canvas2Viewport({x:e,y:t}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height;if(r<0||i<0||r>a||i>s)return null;var l=this.defaultView.viewport2Client({x:r,y:i}),u=l.x,c=l.y,d=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:e,y:t,viewportX:r,viewportY:i,clientX:u,clientY:c},picked:[]}).picked;return d&&d[0]||this.documentElement}},{key:"elementFromPoint",value:(r=Rr(Or().mark((function e(t,n){var r,i,o,a,s,l,u,c,d,f,h;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.defaultView.canvas2Viewport({x:t,y:n}),i=r.x,o=r.y,a=this.defaultView.getConfig(),s=a.width,l=a.height,!(i<0||o<0||i>s||o>l)){e.next=4;break}return e.abrupt("return",null);case 4:return u=this.defaultView.viewport2Client({x:i,y:o}),c=u.x,d=u.y,e.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:t,y:n,viewportX:i,viewportY:o,clientX:c,clientY:d},picked:[]});case 7:return f=e.sent,h=f.picked,e.abrupt("return",h&&h[0]||this.documentElement);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"elementsFromPointSync",value:function(e,t){var n=this.defaultView.canvas2Viewport({x:e,y:t}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height;if(r<0||i<0||r>a||i>s)return[];var l=this.defaultView.viewport2Client({x:r,y:i}),u=l.x,c=l.y,d=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:e,y:t,viewportX:r,viewportY:i,clientX:u,clientY:c},picked:[]}).picked;return d[d.length-1]!==this.documentElement&&d.push(this.documentElement),d}},{key:"elementsFromPoint",value:(n=Rr(Or().mark((function e(t,n){var r,i,o,a,s,l,u,c,d,f,h;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.defaultView.canvas2Viewport({x:t,y:n}),i=r.x,o=r.y,a=this.defaultView.getConfig(),s=a.width,l=a.height,!(i<0||o<0||i>s||o>l)){e.next=4;break}return e.abrupt("return",[]);case 4:return u=this.defaultView.viewport2Client({x:i,y:o}),c=u.x,d=u.y,e.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:t,y:n,viewportX:i,viewportY:o,clientX:c,clientY:d},picked:[]});case 7:return f=e.sent,(h=f.picked)[h.length-1]!==this.documentElement&&h.push(this.documentElement),e.abrupt("return",h);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"appendChild",value:function(e,t){throw new Error(ei)}},{key:"insertBefore",value:function(e,t){throw new Error(ei)}},{key:"removeChild",value:function(e,t){throw new Error(ei)}},{key:"replaceChild",value:function(e,t,n){throw new Error(ei)}},{key:"append",value:function(){throw new Error(ei)}},{key:"prepend",value:function(){throw new Error(ei)}},{key:"getElementById",value:function(e){return this.documentElement.getElementById(e)}},{key:"getElementsByName",value:function(e){return this.documentElement.getElementsByName(e)}},{key:"getElementsByTagName",value:function(e){return this.documentElement.getElementsByTagName(e)}},{key:"getElementsByClassName",value:function(e){return this.documentElement.getElementsByClassName(e)}},{key:"querySelector",value:function(e){return this.documentElement.querySelector(e)}},{key:"querySelectorAll",value:function(e){return this.documentElement.querySelectorAll(e)}},{key:"find",value:function(e){return this.documentElement.find(e)}},{key:"findAll",value:function(e){return this.documentElement.findAll(e)}}]);var n,r}(Is),tu=function(){function e(t){l(this,e),this.strategies=t}return c(e,[{key:"apply",value:function(t){var n=t.camera,r=t.renderingService,i=t.renderingContext,o=this.strategies;r.hooks.cull.tap(e.tag,(function(e){if(e){var t=e.cullable;return 0===o.length?t.visible=i.unculledEntities.indexOf(e.entity)>-1:t.visible=o.every((function(t){return t.isVisible(n,e)})),!e.isCulled()&&e.isVisible()?e:(e.dispatchEvent(new As(Vs.CULLED)),null)}return e})),r.hooks.afterRender.tap(e.tag,(function(e){e.cullable.visibilityPlaneMask=-1}))}}])}();tu.tag="Culling";var nu=function(){function e(){var t=this;l(this,e),this.autoPreventDefault=!1,this.rootPointerEvent=new _s(null),this.rootWheelEvent=new Rs(null),this.onPointerMove=function(e){var n,r=null===(n=t.context.renderingContext.root)||void 0===n||null===(n=n.ownerDocument)||void 0===n?void 0:n.defaultView;if(!r.supportsTouchEvents||"touch"!==e.pointerType){var i,o=Ar(t.normalizeToPointerEvent(e,r));try{for(o.s();!(i=o.n()).done;){var a=i.value,s=t.bootstrapEvent(t.rootPointerEvent,a,r,e);t.context.eventService.mapEvent(s)}}catch(e){o.e(e)}finally{o.f()}t.setCursor(t.context.eventService.cursor)}},this.onClick=function(e){var n,r,i=null===(n=t.context.renderingContext.root)||void 0===n||null===(n=n.ownerDocument)||void 0===n?void 0:n.defaultView,o=Ar(t.normalizeToPointerEvent(e,i));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=t.bootstrapEvent(t.rootPointerEvent,a,i,e);t.context.eventService.mapEvent(s)}}catch(e){o.e(e)}finally{o.f()}t.setCursor(t.context.eventService.cursor)}}return c(e,[{key:"apply",value:function(t){var n=this;this.context=t;var r=t.renderingService,i=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler((function(e){return n.context.renderingService.hooks.pickSync.call({position:e,picked:[],topmost:!0}).picked[0]||null})),r.hooks.pointerWheel.tap(e.tag,(function(e){var t=n.normalizeWheelEvent(e);n.context.eventService.mapEvent(t)})),r.hooks.pointerDown.tap(e.tag,(function(e){if(!i.supportsTouchEvents||"touch"!==e.pointerType){var t=n.normalizeToPointerEvent(e,i);if(n.autoPreventDefault&&t[0].isNormalized)(e.cancelable||!("cancelable"in e))&&e.preventDefault();var r,o=Ar(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=n.bootstrapEvent(n.rootPointerEvent,a,i,e);n.context.eventService.mapEvent(s)}}catch(e){o.e(e)}finally{o.f()}n.setCursor(n.context.eventService.cursor)}})),r.hooks.pointerUp.tap(e.tag,(function(e){if(!i.supportsTouchEvents||"touch"!==e.pointerType){var t,r=n.context.contextService.getDomElement(),o=n.context.eventService.isNativeEventFromCanvas(r,e)?"":"outside",a=Ar(n.normalizeToPointerEvent(e,i));try{for(a.s();!(t=a.n()).done;){var s=t.value,l=n.bootstrapEvent(n.rootPointerEvent,s,i,e);l.type+=o,n.context.eventService.mapEvent(l)}}catch(e){a.e(e)}finally{a.f()}n.setCursor(n.context.eventService.cursor)}})),r.hooks.pointerMove.tap(e.tag,this.onPointerMove),r.hooks.pointerOver.tap(e.tag,this.onPointerMove),r.hooks.pointerOut.tap(e.tag,this.onPointerMove),r.hooks.click.tap(e.tag,this.onClick),r.hooks.pointerCancel.tap(e.tag,(function(e){var t,r=Ar(n.normalizeToPointerEvent(e,i));try{for(r.s();!(t=r.n()).done;){var o=t.value,a=n.bootstrapEvent(n.rootPointerEvent,o,i,e);n.context.eventService.mapEvent(a)}}catch(e){r.e(e)}finally{r.f()}n.setCursor(n.context.eventService.cursor)}))}},{key:"bootstrapEvent",value:function(e,t,n,r){e.view=n,e.originalEvent=null,e.nativeEvent=r,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t);var i=this.context.eventService.client2Viewport({x:t.clientX,y:t.clientY}),o=i.x,a=i.y;e.viewport.x=o,e.viewport.y=a;var s=this.context.eventService.viewport2Canvas(e.viewport),l=s.x,u=s.y;return e.canvas.x=l,e.canvas.y=u,e.global.copyFrom(e.canvas),e.offset.copyFrom(e.canvas),e.isTrusted=r.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Wa[e.type]||e.type),e}},{key:"normalizeWheelEvent",value:function(e){var t=this.rootWheelEvent;this.transferMouseData(t,e),t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ;var n=this.context.eventService.client2Viewport({x:e.clientX,y:e.clientY}),r=n.x,i=n.y;t.viewport.x=r,t.viewport.y=i;var o=this.context.eventService.viewport2Canvas(t.viewport),a=o.x,s=o.y;return t.canvas.x=a,t.canvas.y=s,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.nativeEvent=e,t.type=e.type,t}},{key:"transferMouseData",value:function(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=Va.now(),e.type=t.type,e.altKey=t.altKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.ctrlKey=t.ctrlKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.screen.x=t.screenX,e.screen.y=t.screenY,e.relatedTarget=null}},{key:"setCursor",value:function(e){this.context.contextService.applyCursorStyle(e||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(e,t){var n=[];if(t.isTouchEvent(e))for(var r=0;r<e.changedTouches.length;r++){var i=e.changedTouches[r];mt(i.button)&&(i.button=0),mt(i.buttons)&&(i.buttons=1),mt(i.isPrimary)&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),mt(i.width)&&(i.width=i.radiusX||1),mt(i.height)&&(i.height=i.radiusY||1),mt(i.tiltX)&&(i.tiltX=0),mt(i.tiltY)&&(i.tiltY=0),mt(i.pointerType)&&(i.pointerType="touch"),mt(i.pointerId)&&(i.pointerId=i.identifier||0),mt(i.pressure)&&(i.pressure=i.force||.5),mt(i.twist)&&(i.twist=0),mt(i.tangentialPressure)&&(i.tangentialPressure=0),i.isNormalized=!0,i.type=e.type,n.push(i)}else if(t.isMouseEvent(e)){var o=e;mt(o.isPrimary)&&(o.isPrimary=!0),mt(o.width)&&(o.width=1),mt(o.height)&&(o.height=1),mt(o.tiltX)&&(o.tiltX=0),mt(o.tiltY)&&(o.tiltY=0),mt(o.pointerType)&&(o.pointerType="mouse"),mt(o.pointerId)&&(o.pointerId=1),mt(o.pressure)&&(o.pressure=.5),mt(o.twist)&&(o.twist=0),mt(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,n.push(o)}else n.push(e);return n}}])}();nu.tag="Event";var ru=[zr.CIRCLE,zr.ELLIPSE,zr.IMAGE,zr.RECT,zr.LINE,zr.POLYLINE,zr.POLYGON,zr.TEXT,zr.PATH,zr.HTML],iu=function(){return c((function e(){l(this,e)}),[{key:"isVisible",value:function(e,t){var n,r=t.cullable;if(!r.enable)return!0;var i=t.getRenderBounds();if(Yr.isEmpty(i))return!1;var o=e.getFrustum(),a=null===(n=t.parentNode)||void 0===n||null===(n=n.cullable)||void 0===n?void 0:n.visibilityPlaneMask;return r.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(t,i,a||Kr.INDETERMINATE,o.planes),r.visible=r.visibilityPlaneMask!==Kr.OUTSIDE,r.visible}},{key:"computeVisibilityWithPlaneMask",value:function(e,t,n,r){if(n===Kr.OUTSIDE||n===Kr.INSIDE)return n;for(var i=Kr.INSIDE,o=ru.indexOf(e.nodeName)>-1,a=0,s=r.length;a<s;++a){var l=1<<a;if(n&l&&(!o||4!==a&&5!==a)){var u=r[a],c=u.normal,d=u.distance;if(Ee(c,t.getPositiveFarPoint(r[a]))+d<0)return Kr.OUTSIDE;Ee(c,t.getNegativeFarPoint(r[a]))+d<0&&(i|=l)}}return i}}])}(),ou=function(){function e(){l(this,e),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return c(e,[{key:"apply",value:function(t){var n,r=this,i=t.renderingService,o=t.renderingContext,a=t.rBushRoot,s=o.root.ownerDocument.defaultView;this.rBush=a;var l=function(e){e.target.renderable.dirty=!0,i.dirtify()},u=function(e){r.syncTasks.set(e.target,e.detail.affectChildren),i.dirtify()},c=function(e){var t=e.target;wl.enableSizeAttenuation&&wl.styleValueRegistry.updateSizeAttenuation(t,s.getCamera().getZoom())},d=function(e){var t=e.target,n=t.rBushNode;n.aabb&&r.rBush.remove(n.aabb),r.syncTasks.delete(t),wl.sceneGraphService.dirtifyToRoot(t),i.dirtify()};i.hooks.init.tap(e.tag,(function(){s.addEventListener(Vs.MOUNTED,c),s.addEventListener(Vs.UNMOUNTED,d),s.addEventListener(Vs.ATTR_MODIFIED,l),s.addEventListener(Vs.BOUNDS_CHANGED,u)})),i.hooks.destroy.tap(e.tag,(function(){s.removeEventListener(Vs.MOUNTED,c),s.removeEventListener(Vs.UNMOUNTED,d),s.removeEventListener(Vs.ATTR_MODIFIED,l),s.removeEventListener(Vs.BOUNDS_CHANGED,u),r.syncTasks.clear()}));var f=null!==(n=wl.globalThis.requestIdleCallback)&&void 0!==n?n:ts.bind(wl.globalThis);i.hooks.endFrame.tap(e.tag,(function(){r.isFirstTimeRendering?(r.isFirstTimeRendering=!1,r.syncing=!0,f((function(){r.syncRTree(!0),r.isFirstTimeRenderingFinished=!0}))):r.syncRTree()}))}},{key:"syncNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.isConnected){var n=e.rBushNode;n.aabb&&this.rBush.remove(n.aabb);var r=e.getRenderBounds();if(r){var i=e.renderable;t&&(i.dirtyRenderBounds||(i.dirtyRenderBounds=new Yr),i.dirtyRenderBounds.update(r.center,r.halfExtents));var o=w(r.getMin(),2),a=o[0],s=o[1],l=w(r.getMax(),2),u=l[0],c=l[1];n.aabb||(n.aabb={}),n.aabb.displayObject=e,n.aabb.minX=a,n.aabb.minY=s,n.aabb.maxX=u,n.aabb.maxY=c}return n.aabb&&!(isNaN(n.aabb.maxX)||isNaN(n.aabb.maxX)||isNaN(n.aabb.minX)||isNaN(n.aabb.minY))?n.aabb:void 0}}},{key:"syncRTree",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||!this.syncing&&0!==this.syncTasks.size){this.syncing=!0;var n=[],r=new Set,i=function(i){if(!r.has(i)&&i.renderable){var o=e.syncNode(i,t);o&&(n.push(o),r.add(i))}};this.syncTasks.forEach((function(e,t){e&&t.forEach(i);for(var n=t;n;)i(n),n=n.parentElement})),this.rBush.load(n),n.length=0,this.syncing=!1}}}])}();ou.tag="Prepare";var au=function(e){return e.READY="ready",e.BEFORE_RENDER="beforerender",e.RERENDER="rerender",e.AFTER_RENDER="afterrender",e.BEFORE_DESTROY="beforedestroy",e.AFTER_DESTROY="afterdestroy",e.RESIZE="resize",e.DIRTY_RECTANGLE="dirtyrectangle",e.RENDERER_CHANGED="rendererchanged",e}({}),su=new As(Vs.MOUNTED),lu=new As(Vs.UNMOUNTED),uu=new As(au.BEFORE_RENDER),cu=new As(au.RERENDER),du=new As(au.AFTER_RENDER),fu=function(e){function t(e){var n;l(this,t),(n=m(this,t)).Element=Al,n.inited=!1,n.context={};var r=e.container,i=e.canvas,o=e.renderer,a=e.width,u=e.height,c=e.background,d=e.cursor,f=e.supportsMutipleCanvasesInOneContainer,h=e.cleanUpOnDestroy,p=void 0===h||h,g=e.offscreenCanvas,v=e.devicePixelRatio,y=e.requestAnimationFrame,b=e.cancelAnimationFrame,w=e.createImage,x=e.supportsTouchEvents,E=e.supportsPointerEvents,k=e.isTouchEvent,S=e.isMouseEvent,M=e.dblClickSpeed,T=a,C=u,N=v||za&&window.devicePixelRatio||1;return N=N>=1?Math.ceil(N):1,i&&(T=a||function(e){var t=Ua(e,"width");return"auto"===t?e.offsetWidth:parseFloat(t)}(i)||i.width/N,C=u||function(e){var t=Ua(e,"height");return"auto"===t?e.offsetHeight:parseFloat(t)}(i)||i.height/N),n.customElements=new Jl,n.devicePixelRatio=N,n.requestAnimationFrame=null!=y?y:ts.bind(wl.globalThis),n.cancelAnimationFrame=null!=b?b:ns.bind(wl.globalThis),n.supportsTouchEvents=null!=x?x:"ontouchstart"in wl.globalThis,n.supportsPointerEvents=null!=E?E:!!wl.globalThis.PointerEvent,n.isTouchEvent=null!=k?k:function(e){return n.supportsTouchEvents&&e instanceof wl.globalThis.TouchEvent},n.isMouseEvent=null!=S?S:function(e){return!wl.globalThis.MouseEvent||e instanceof wl.globalThis.MouseEvent&&(!n.supportsPointerEvents||!(e instanceof wl.globalThis.PointerEvent))},g&&(wl.offscreenCanvas=g),n.document=new eu,n.document.defaultView=n,f||function(e,t,n){if(e){var r="string"==typeof e?document.getElementById(e):e;Ia.has(r)&&Ia.get(r).destroy(n),Ia.set(r,t)}}(r,n,p),n.initRenderingContext(s(s({},e),{},{width:T,height:C,background:null!=c?c:"transparent",cursor:null!=d?d:"default",cleanUpOnDestroy:p,devicePixelRatio:N,requestAnimationFrame:n.requestAnimationFrame,cancelAnimationFrame:n.cancelAnimationFrame,supportsTouchEvents:n.supportsTouchEvents,supportsPointerEvents:n.supportsPointerEvents,isTouchEvent:n.isTouchEvent,isMouseEvent:n.isMouseEvent,dblClickSpeed:null!=M?M:200,createImage:null!=w?w:function(){return new window.Image}})),n.initDefaultCamera(T,C,o.clipSpaceNearZ),n.initRenderer(o,!0),n}return b(t,e),c(t,[{key:"initRenderingContext",value:function(e){this.context.config=e,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(e,t,n){var r=this,i=new wl.CameraContribution;i.clipSpaceNearZ=n,i.setType(yi.EXPLORING,bi.DEFAULT).setPosition(e/2,t/2,500).setFocalPoint(e/2,t/2,0).setOrthographic(e/-2,e/2,t/2,t/-2,.1,1e3),i.canvas=this,i.eventEmitter.on(xi,(function(){r.context.renderingContext.renderReasons.add(Fs.CAMERA_CHANGED),wl.enableSizeAttenuation&&r.getConfig().renderer.getConfig().enableSizeAttenuation&&r.updateSizeAttenuation()})),this.context.camera=i}},{key:"updateSizeAttenuation",value:function(){var e=this.getCamera().getZoom();this.document.documentElement.forEach((function(t){wl.styleValueRegistry.updateSizeAttenuation(t,e)}))}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var e=this;return this.readyPromise||(this.readyPromise=new Promise((function(t){e.resolveReadyPromise=function(){t(e)}})),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;t||this.dispatchEvent(new As(au.BEFORE_DESTROY)),this.frameId&&this.cancelAnimationFrame(this.frameId);var n=this.getRoot();e&&(this.unmountChildren(n),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),this.context.rBushRoot&&this.context.rBushRoot.clear(),t||this.dispatchEvent(new As(au.AFTER_DESTROY));var r=function(e){e.currentTarget=null,e.manager=null,e.target=null,e.relatedNode=null};r(su),r(lu),r(uu),r(cu),r(du),r(Ol),r(Sl),r(Ml),r(Tl)}},{key:"changeSize",value:function(e,t){this.resize(e,t)}},{key:"resize",value:function(e,t){var n=this.context.config;n.width=e,n.height=t,this.getContextService().resize(e,t);var r=this.context.camera,i=r.getProjectionMode();r.setPosition(e/2,t/2,500).setFocalPoint(e/2,t/2,0),i===wi.ORTHOGRAPHIC?r.setOrthographic(e/-2,e/2,t/2,t/-2,r.getNear(),r.getFar()):r.setAspect(e/t),this.dispatchEvent(new As(au.RESIZE,{width:e,height:t}))}},{key:"appendChild",value:function(e,t){return this.document.documentElement.appendChild(e,t)}},{key:"insertBefore",value:function(e,t){return this.document.documentElement.insertBefore(e,t)}},{key:"removeChild",value:function(e){return this.document.documentElement.removeChild(e)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(e){var t=this;e&&(uu.detail=e,du.detail=e),this.dispatchEvent(uu),this.getRenderingService().render(this.getConfig(),e,(function(){t.dispatchEvent(cu)})),this.dispatchEvent(du)}},{key:"run",value:function(){var e=this,t=function(n,r){e.render(r),e.frameId=e.requestAnimationFrame(t)};t()}},{key:"initRenderer",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new Ir,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new nu,new ou,new tu([new iu])),this.loadRendererContainerModule(e),this.context.contextService=new this.context.ContextService(s(s({},wl),this.context)),this.context.renderingService=new Bs(wl,this.context),this.context.eventService=new zs(wl,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(e,n,!0)):this.context.contextService.initAsync().then((function(){t.initRenderingService(e,n)})).catch((function(e){console.error(e)}))}},{key:"initRenderingService",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.context.renderingService.init((function(){t.inited=!0,n?r?t.requestAnimationFrame((function(){t.dispatchEvent(new As(au.READY))})):t.dispatchEvent(new As(au.READY)):t.dispatchEvent(new As(au.RENDERER_CHANGED)),t.readyPromise&&t.resolveReadyPromise(),n||t.getRoot().forEach((function(e){var t=e.renderable;t&&(t.renderBoundsDirty=!0,t.boundsDirty=!0,t.dirty=!0)})),t.mountChildren(t.getRoot()),e.getConfig().enableAutoRendering&&t.run()}))}},{key:"loadRendererContainerModule",value:function(e){var t=this;e.getPlugins().forEach((function(e){e.context=t.context,e.init(wl)}))}},{key:"setRenderer",value:function(e){var t=this.getConfig();if(t.renderer!==e){var n=t.renderer;t.renderer=e,this.destroy(!1,!0),h((null==n?void 0:n.getPlugins())||[]).reverse().forEach((function(e){e.destroy(wl)})),this.initRenderer(e)}}},{key:"setCursor",value:function(e){this.getConfig().cursor=e,this.getContextService().applyCursorStyle(e)}},{key:"unmountChildren",value:function(e){var t=this;e.childNodes.forEach((function(e){t.unmountChildren(e)})),this.inited&&(e.isMutationObserved?e.dispatchEvent(lu):(lu.target=e,this.dispatchEvent(lu,!0)),e!==this.document.documentElement&&(e.ownerDocument=null),e.isConnected=!1),e.isCustomElement&&e.disconnectedCallback&&e.disconnectedCallback()}},{key:"mountChildren",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ha(e);this.inited?e.isConnected||(e.ownerDocument=this.document,e.isConnected=!0,n||(e.isMutationObserved?e.dispatchEvent(su):(su.target=e,this.dispatchEvent(su,!0)))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",e.nodeName),e.childNodes.forEach((function(e){t.mountChildren(e,n)})),e.isCustomElement&&e.connectedCallback&&e.connectedCallback()}},{key:"mountFragment",value:function(e){this.mountChildren(e,!1)}},{key:"client2Viewport",value:function(e){return this.getEventService().client2Viewport(e)}},{key:"viewport2Client",value:function(e){return this.getEventService().viewport2Client(e)}},{key:"viewport2Canvas",value:function(e){return this.getEventService().viewport2Canvas(e)}},{key:"canvas2Viewport",value:function(e){return this.getEventService().canvas2Viewport(e)}},{key:"getPointByClient",value:function(e,t){return this.client2Viewport({x:e,y:t})}},{key:"getClientByPoint",value:function(e,t){return this.viewport2Client({x:e,y:t})}}])}(Ls),hu=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=m(this,t,[].concat(r))).landmarks=[],e}return b(t,e),c(t,[{key:"rotate",value:function(e,t,n){if(this.relElevation=ti(t),this.relAzimuth=ti(e),this.relRoll=ti(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===yi.EXPLORING){var r=De(Ae(),[1,0,0],oi((this.rotateWorld?1:-1)*this.relElevation)),i=De(Ae(),[0,1,0],oi((this.rotateWorld?1:-1)*this.relAzimuth)),o=De(Ae(),[0,0,1],oi(this.relRoll)),a=Le(Ae(),i,r);a=Le(Ae(),a,o);var s=ee(P(),a);F(this.matrix,this.matrix,[0,0,-this.distance]),j(this.matrix,this.matrix,s),F(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===yi.ORBITING||this.type===yi.EXPLORING?this._getPosition():this.type===yi.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(e,t){var n=ri(e,t,0),r=he(this.position);return ye(r,r,we(fe(),this.right,n[0])),ye(r,r,we(fe(),this.up,n[1])),this._setPosition(r),this.triggerUpdate(),this}},{key:"dolly",value:function(e){var t=this.forward,n=he(this.position),r=this.dollyingStep,i=this.distance+e*this.dollyingStep;return r=Math.max(Math.min(i,this.maxDistance),this.minDistance)-this.distance,n[0]+=r*t[0],n[1]+=r*t[1],n[2]+=r*t[2],this._setPosition(n),this.type===yi.ORBITING||this.type===yi.EXPLORING?this._getDistance():this.type===yi.TRACKING&&ye(this.focalPoint,n,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){void 0!==this.landmarkAnimationID&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(e){var t,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.position,s=void 0===a?this.position:a,l=o.focalPoint,u=void 0===l?this.focalPoint:l,c=o.roll,d=o.zoom,f=new wl.CameraContribution;f.setType(this.type,void 0),f.setPosition(s[0],null!==(t=s[1])&&void 0!==t?t:this.position[1],null!==(n=s[2])&&void 0!==n?n:this.position[2]),f.setFocalPoint(u[0],null!==(r=u[1])&&void 0!==r?r:this.focalPoint[1],null!==(i=u[2])&&void 0!==i?i:this.focalPoint[2]),f.setRoll(null!=c?c:this.roll),f.setZoom(null!=d?d:this.zoom);var h={name:e,matrix:O(f.getWorldTransform()),right:he(f.right),up:he(f.up),forward:he(f.forward),position:he(f.getPosition()),focalPoint:he(f.getFocalPoint()),distanceVector:he(f.getDistanceVector()),distance:f.getDistance(),dollyingStep:f.getDollyingStep(),azimuth:f.getAzimuth(),elevation:f.getElevation(),roll:f.getRoll(),relAzimuth:f.relAzimuth,relElevation:f.relElevation,relRoll:f.relRoll,zoom:f.getZoom()};return this.landmarks.push(h),h}},{key:"gotoLandmark",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=rt(e)?this.landmarks.find((function(t){return t.name===e})):e;if(r){var i=st(n)?{duration:n}:n,o=i.easing,a=void 0===o?"linear":o,s=i.duration,l=void 0===s?100:s,u=i.easingFunction,c=void 0===u?void 0:u,d=i.onfinish,f=void 0===d?void 0:d,h=i.onframe,p=void 0===h?void 0:h;this.cancelLandmarkAnimation();var g,v=r.position,m=r.focalPoint,y=r.zoom,b=r.roll,w=c||wl.EasingFunction(a),x=function(){t.setFocalPoint(m),t.setPosition(v),t.setRoll(b),t.setZoom(y),t.computeMatrix(),t.triggerUpdate(),null==f||f()};if(0===l)return x();var E=function(e){void 0===g&&(g=e);var n=e-g;if(n>=l)x();else{var r,i,o=w(n/l),a=fe(),s=fe();if(Se(a,t.focalPoint,m,o),Se(s,t.position,v,o),i=t.roll*(1-o)+b*o,r=t.zoom*(1-o)+y*o,t.setFocalPoint(a),t.setPosition(s),t.setRoll(i),t.setZoom(r),Ne(a,m)+Ne(s,v)<=.01&&void 0===y&&void 0===b)return x();t.computeMatrix(),t.triggerUpdate(),n<l&&(null==p||p(o),t.landmarkAnimationID=t.canvas.requestAnimationFrame(E))}};this.canvas.requestAnimationFrame(E)}}}])}(ki);wl.CameraContribution=hu;
/*!
   * @antv/g-web-animations-api
   * @description A simple implementation of Web Animations API.
   * @version 2.1.19
   * @date 1/2/2025, 2:56:26 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */
var pu=function(e){function t(e,n,r,i){var o;return l(this,t),(o=m(this,t,[e])).currentTime=r,o.timelineTime=i,o.target=n,o.type="finish",o.bubbles=!1,o.currentTarget=n,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=r,o.timelineTime=i,o}return b(t,e),c(t)}(Ps),gu=0,vu=function(){return c((function e(t,n){var r;l(this,e),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=t,t.animation=this,this.timeline=n,this.id="".concat(gu++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number(null===(r=this.effect)||void 0===r?void 0:r.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}),[{key:"pending",get:function(){return null===this._startTime&&!this._paused&&0!==this.playbackRate||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var e=this;return this.readyPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise((function(t,n){e.resolveReadyPromise=function(){t(e)},e.rejectReadyPromise=function(){n(new Error)}})),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var e=this;return this.finishedPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise((function(t,n){e.resolveFinishedPromise=function(){t(e)},e.rejectFinishedPromise=function(){n(new Error)}})),"finished"===this.playState&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(e){if(e=Number(e),!isNaN(e)){var t;if(this.timeline.restart(),!this._paused&&null!==this._startTime)this._startTime=Number(null===(t=this.timeline)||void 0===t?void 0:t.currentTime)-e/this.playbackRate;this.currentTimePending=!1,this._currentTime!==e&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(e,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(e){if(null!==e){if(this.updatePromises(),e=Number(e),isNaN(e))return;if(this._paused||this._idle)return;this._startTime=e,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(e){if(e!==this._playbackRate){this.updatePromises();var t=this.currentTime;this._playbackRate=e,this.startTime=null,"paused"!==this.playState&&"idle"!==this.playState&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),null!==t&&(this.currentTime=t),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||"running"===this.playState||!this._finishedFlag}},{key:"updatePromises",value:function(){var e=this.oldPlayState,t=this.pending?"pending":this.playState;return this.readyPromise&&t!==e&&("idle"===t?(this.rejectReadyPromise(),this.readyPromise=void 0):"pending"===e?this.resolveReadyPromise():"pending"===t&&(this.readyPromise=void 0)),this.finishedPromise&&t!==e&&("idle"===t?(this.rejectFinishedPromise(),this.finishedPromise=void 0):"finished"===t?this.resolveFinishedPromise():"finished"===e&&(this.finishedPromise=void 0)),this.oldPlayState=t,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),-1===this.timeline.animations.indexOf(this)&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._isFinished||this._paused||this._idle?this._idle&&(this.rewind(),this._idle=!1):this.currentTimePending=!0,this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var e=this;if(this.updatePromises(),this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var t=new pu(null,this,this.currentTime,null);setTimeout((function(){e.oncancel(t)}))}}},{key:"reverse",value:function(){this.updatePromises();var e=this.currentTime;this.playbackRate*=-1,this.play(),null!==e&&(this.currentTime=e),this.updatePromises()}},{key:"updatePlaybackRate",value:function(e){this.playbackRate=e}},{key:"targetAnimations",value:function(){var e;return(null===(e=this.effect)||void 0===e?void 0:e.target).getAnimations()}},{key:"markTarget",value:function(){var e=this.targetAnimations();-1===e.indexOf(this)&&e.push(this)}},{key:"unmarkTarget",value:function(){var e=this.targetAnimations(),t=e.indexOf(this);-1!==t&&e.splice(t,1)}},{key:"tick",value:function(e,t){this._idle||this._paused||(null===this._startTime?t&&(this.startTime=e-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((e-this._startTime)*this.playbackRate)),t&&(this.currentTimePending=!1,this.fireEvents(e))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else{if(!(this._totalDuration<1/0))throw new Error("Unable to rewind negative playback rate animation with infinite duration");this.currentTime=this._totalDuration}}},{key:"persist",value:function(){throw new Error(Jr)}},{key:"addEventListener",value:function(e,t,n){throw new Error(Jr)}},{key:"removeEventListener",value:function(e,t,n){throw new Error(Jr)}},{key:"dispatchEvent",value:function(e){throw new Error(Jr)}},{key:"commitStyles",value:function(){throw new Error(Jr)}},{key:"ensureAlive",value:function(){var e,t;this.playbackRate<0&&0===this.currentTime?this._inEffect=!(null===(e=this.effect)||void 0===e||!e.update(-1)):this._inEffect=!(null===(t=this.effect)||void 0===t||!t.update(this.currentTime));this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(e,t){e!==this._currentTime&&(this._currentTime=e,this._isFinished&&!t&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(e){var t=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var n=new pu(null,this,this.currentTime,e);setTimeout((function(){t.onfinish&&t.onfinish(n)}))}this._finishedFlag=!0}}else{if(this.onframe&&"running"===this.playState){var r=new pu(null,this,this.currentTime,e);this.onframe(r)}this._finishedFlag=!1}}}])}(),mu=.1,yu="function"==typeof Float32Array,bu=function(e,t){return 1-3*t+3*e},wu=function(e,t){return 3*t-6*e},xu=function(e){return 3*e},Eu=function(e,t,n){return((bu(t,n)*e+wu(t,n))*e+xu(t))*e},ku=function(e,t,n){return 3*bu(t,n)*e*e+2*wu(t,n)*e+xu(t)},Su=function(e,t,n,r){if(!(e>=0&&e<=1&&n>=0&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&n===r)return function(e){return e};for(var i=yu?new Float32Array(11):new Array(11),o=0;o<11;++o)i[o]=Eu(o*mu,e,n);var a=function(t){for(var r=0,o=1;10!==o&&i[o]<=t;++o)r+=mu;--o;var a=r+(t-i[o])/(i[o+1]-i[o])*mu,s=ku(a,e,n);return s>=.001?function(e,t,n,r){for(var i=0;i<4;++i){var o=ku(t,n,r);if(0===o)return t;t-=(Eu(t,n,r)-e)/o}return t}(t,a,e,n):0===s?a:function(e,t,n,r,i){var o,a,s=0;do{(o=Eu(a=t+(n-t)/2,r,i)-e)>0?n=a:t=a}while(Math.abs(o)>1e-7&&++s<10);return a}(t,r,r+mu,e,n)};return function(e){return 0===e||1===e?e:Eu(a(e),t,r)}},Mu=function(e){return Math.pow(e,2)},Tu=function(e){return Math.pow(e,3)},Cu=function(e){return Math.pow(e,4)},Nu=function(e){return Math.pow(e,5)},Pu=function(e){return Math.pow(e,6)},Ou=function(e){return 1-Math.cos(e*Math.PI/2)},_u=function(e){return 1-Math.sqrt(1-e*e)},Ru=function(e){return e*e*(3*e-2)},Au=function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)},Du=function(e){var t=w(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],2),n=t[0],r=void 0===n?1:n,i=t[1],o=void 0===i?.5:i,a=at(Number(r),1,10),s=at(Number(o),.1,2);return 0===e||1===e?e:-a*Math.pow(2,10*(e-1))*Math.sin((e-1-s/(2*Math.PI)*Math.asin(1/a))*(2*Math.PI)/s)},Lu=function(e){var t=arguments.length>2?arguments[2]:void 0,n=w(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],4),r=n[0],i=void 0===r?1:r,o=n[1],a=void 0===o?100:o,s=n[2],l=void 0===s?10:s,u=n[3],c=void 0===u?0:u;i=at(i,.1,1e3),a=at(a,.1,1e3),l=at(l,.1,1e3),c=at(c,.1,1e3);var d=Math.sqrt(a/i),f=l/(2*Math.sqrt(a*i)),h=f<1?d*Math.sqrt(1-f*f):0,p=f<1?(f*d-c)/h:-c+d,g=t?t*e/1e3:e;return g=f<1?Math.exp(-g*f*d)*(1*Math.cos(h*g)+p*Math.sin(h*g)):(1+p*g)*Math.exp(-g*d),0===e||1===e?e:1-g},Iu=function(e){var t=w(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],2),n=t[0],r=void 0===n?10:n;return("start"===t[1]?Math.ceil:Math.floor)(at(e,0,1)*r)/r},zu=function(e){var t=w(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],4),n=t[0],r=t[1],i=t[2],o=t[3];return Su(n,r,i,o)(e)},ju=Su(.42,0,1,1),Fu=function(e){return function(t){return 1-e(1-t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],arguments.length>2?arguments[2]:void 0)}},Bu=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return t<.5?e(2*t,n,r)/2:1-e(-2*t+2,n,r)/2}},Uu=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return t<.5?(1-e(1-2*t,n,r))/2:(e(2*t-1,n,r)+1)/2}},Wu={steps:Iu,"step-start":function(e){return Iu(e,[1,"start"])},"step-end":function(e){return Iu(e,[1,"end"])},linear:function(e){return e},"cubic-bezier":zu,ease:function(e){return zu(e,[.25,.1,.25,1])},in:ju,out:Fu(ju),"in-out":Bu(ju),"out-in":Uu(ju),"in-quad":Mu,"out-quad":Fu(Mu),"in-out-quad":Bu(Mu),"out-in-quad":Uu(Mu),"in-cubic":Tu,"out-cubic":Fu(Tu),"in-out-cubic":Bu(Tu),"out-in-cubic":Uu(Tu),"in-quart":Cu,"out-quart":Fu(Cu),"in-out-quart":Bu(Cu),"out-in-quart":Uu(Cu),"in-quint":Nu,"out-quint":Fu(Nu),"in-out-quint":Bu(Nu),"out-in-quint":Uu(Nu),"in-expo":Pu,"out-expo":Fu(Pu),"in-out-expo":Bu(Pu),"out-in-expo":Uu(Pu),"in-sine":Ou,"out-sine":Fu(Ou),"in-out-sine":Bu(Ou),"out-in-sine":Uu(Ou),"in-circ":_u,"out-circ":Fu(_u),"in-out-circ":Bu(_u),"out-in-circ":Uu(_u),"in-back":Ru,"out-back":Fu(Ru),"in-out-back":Bu(Ru),"out-in-back":Uu(Ru),"in-bounce":Au,"out-bounce":Fu(Au),"in-out-bounce":Bu(Au),"out-in-bounce":Uu(Au),"in-elastic":Du,"out-elastic":Fu(Du),"in-out-elastic":Bu(Du),"out-in-elastic":Uu(Du),spring:Lu,"spring-in":Lu,"spring-out":Fu(Lu),"spring-in-out":Bu(Lu),"spring-out-in":Uu(Lu)},Vu=function(e){return e};function Hu(e,t){return function(n){if(n>=1)return 1;var r=1/e;return(n+=t*r)-n%r}}var Gu="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",$u=new RegExp("cubic-bezier\\(".concat(Gu,",").concat(Gu,",").concat(Gu,",").concat(Gu,"\\)")),Yu=/steps\(\s*(\d+)\s*\)/,qu=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function Ku(e){var t=$u.exec(e);if(t)return Su.apply(void 0,h(t.slice(1).map(Number)));var n=Yu.exec(e);if(n)return Hu(Number(n[1]),0);var r=qu.exec(e);return r?Hu(Number(r[1]),{start:1,middle:.5,end:0}[r[2]]):Wu[function(e){return function(e){return"-"===(e=e.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())}))).charAt(0)?e.substring(1):e}(e).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()}(e)]||Wu.linear}function Xu(e){return Math.abs(function(e){var t;if(0===e.duration||0===e.iterations)return 0;return("auto"===e.duration?0:Number(e.duration))*(null!==(t=e.iterations)&&void 0!==t?t:1)}(e)/(e.playbackRate||1))}function Qu(e,t,n){var r=function(e,t,n){if(null===t)return 0;var r=n.endTime;return t<Math.min(n.delay,r)?1:t>=Math.min(n.delay+e+n.endDelay,r)?2:3}(e,t,n),i=function(e,t,n,r,i){switch(r){case 1:return"backwards"===t||"both"===t?0:null;case 3:return n-i;case 2:return"forwards"===t||"both"===t?e:null;case 0:return null}}(e,n.fill,t,r,n.delay);if(null===i)return null;var o="auto"===n.duration?0:n.duration,a=function(e,t,n,r,i){var o=i;return 0===e?1!==t&&(o+=n):o+=r/e,o}(o,r,n.iterations,i,n.iterationStart),s=function(e,t,n,r,i,o){var a=e===1/0?t%1:e%1;return 0!==a||2!==n||0===r||0===i&&0!==o||(a=1),a}(a,n.iterationStart,r,n.iterations,i,o),l=function(e,t,n,r){return 2===e&&t===1/0?1/0:1===n?Math.floor(r)-1:Math.floor(r)}(r,n.iterations,s,a),u=function(e,t,n){var r=e;if("normal"!==e&&"reverse"!==e){var i=t;"alternate-reverse"===e&&(i+=1),r="normal",i!==1/0&&i%2!=0&&(r="reverse")}return"normal"===r?n:1-n}(n.direction,l,s);return n.currentIteration=l,n.progress=u,n.easingFunction(u)}function Zu(e,t,n){var r=function(e,t){for(var n={},r=0;r<e.length;r++)for(var i in e[r])if(Ju(i)){var o={offset:e[r].offset,computedOffset:e[r].computedOffset,easing:e[r].easing,easingFunction:Ku(e[r].easing)||t.easingFunction,value:e[r][i]};n[i]=n[i]||[],n[i].push(o)}return n}(e,t),i=function(e,t){var n=[];for(var r in e)for(var i=e[r],o=0;o<i.length-1;o++){var a=o,s=o+1,l=i[a].computedOffset,u=i[s].computedOffset,c=l,d=u;0===o&&(c=-1/0,0===u&&(s=a)),o===i.length-2&&(d=1/0,1===l&&(a=s)),n.push({applyFrom:c,applyTo:d,startOffset:i[a].computedOffset,endOffset:i[s].computedOffset,easingFunction:i[a].easingFunction,property:r,interpolation:tc(r,i[a].value,i[s].value,t)})}return n.sort((function(e,t){return e.startOffset-t.startOffset})),n}(r,n);return function(e,t){if(null!==t)i.filter((function(e){return t>=e.applyFrom&&t<e.applyTo})).forEach((function(n){var r=t-n.startOffset,i=n.endOffset-n.startOffset,o=0===i?0:r/i;e.setAttribute(n.property,n.interpolation(o),!1,!1)}));else for(var n in r)Ju(n)&&e.setAttribute(n,null)}}function Ju(e){return"offset"!==e&&"easing"!==e&&"composite"!==e&&"computedOffset"!==e}var ec=function(e,t,n){return function(r){var i=nc(e,t,r);return st(i)?i:n(i)}};function tc(e,t,n,r){var i=va[e];if(i&&i.syntax&&i.int){var o=wl.styleValueRegistry.getPropertySyntax(i.syntax);if(o){var a=o.parser,s=a?a(t,r):t,l=a?a(n,r):n,u=o.mixer(s,l,r);if(u){var c=ec.apply(void 0,h(u));return function(e){return 0===e?t:1===e?n:c(e)}}}}return ec(!1,!0,(function(e){return e?n:t}))}function nc(e,t,n){if("number"==typeof e&&"number"==typeof t)return e*(1-n)+t*n;if("boolean"==typeof e&&"boolean"==typeof t||"string"==typeof e&&"string"==typeof t)return n<.5?e:t;if(Array.isArray(e)&&Array.isArray(t)){for(var r=e.length,i=t.length,o=Math.max(r,i),a=[],s=0;s<o;s++)a.push(nc(e[s<r?s:r-1],t[s<i?s:i-1],n));return a}throw new Error("Mismatched interpolation arguments ".concat(e,":").concat(t))}var rc=function(){return c((function e(){l(this,e),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=Vu,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}),[{key:"easing",get:function(){return this._easing},set:function(e){this.easingFunction=Ku(e),this._easing=e}}])}();function ic(e,t){if(null===e)return[];Array.isArray(e)||(e=function(e){var t=[];for(var n in e)if(!(n in["easing","offset","composite"])){var r=e[n];Array.isArray(r)||(r=[r]);for(var i=r.length,o=0;o<i;o++){if(!t[o]){var a={};"offset"in e&&(a.offset=Number(e.offset)),"easing"in e&&(a.easing=e.easing),"composite"in e&&(a.composite=e.composite),t[o]=a}void 0!==r[o]&&null!==r[o]&&(t[o][n]=r[o])}}return t.sort((function(e,t){return(e.computedOffset||0)-(t.computedOffset||0)})),t}(e));for(var n=e.map((function(e){var n={};for(var r in null!=t&&t.composite&&(n.composite="auto"),e){var i=e[r];if("offset"===r){if(null!==i){if(i=Number(i),!isFinite(i))throw new Error("Keyframe offsets must be numbers.");if(i<0||i>1)throw new Error("Keyframe offsets must be between 0 and 1.");n.computedOffset=i}}else if("composite"===r&&-1===["replace","add","accumulate","auto"].indexOf(i))throw new Error("".concat(i," compositing is not supported"));n[r]=i}return void 0===n.offset&&(n.offset=null),void 0===n.easing&&(n.easing=(null==t?void 0:t.easing)||"linear"),void 0===n.composite&&(n.composite="auto"),n})),r=!0,i=-1/0,o=0;o<n.length;o++){var a=n[o].offset;if(Ye(a))r=!1;else{if(a<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=a}}return n=n.filter((function(e){return Number(e.offset)>=0&&Number(e.offset)<=1})),r||function(){var e,t,r=n.length;n[r-1].computedOffset=Number(null!==(e=n[r-1].offset)&&void 0!==e?e:1),r>1&&(n[0].computedOffset=Number(null!==(t=n[0].offset)&&void 0!==t?t:0));for(var i=0,o=Number(n[0].computedOffset),a=1;a<r;a++){var s=n[a].computedOffset;if(!Ye(s)&&!Ye(o)){for(var l=1;l<a-i;l++)n[i+l].computedOffset=o+(Number(s)-o)*l/(a-i);i=a,o=Number(s)}}}(),n}var oc="backwards|forwards|both|none".split("|"),ac="reverse|alternate|alternate-reverse".split("|");function sc(e,t){var n;return function(e){var t=new rc;return"number"!=typeof e||isNaN(e)?void 0!==e&&Object.keys(e).forEach((function(n){if(void 0!==e[n]&&null!==e[n]&&"auto"!==e[n]){if(("number"==typeof t[n]||"duration"===n)&&("number"!=typeof e[n]||isNaN(e[n])))return;if("fill"===n&&-1===oc.indexOf(e[n]))return;if("direction"===n&&-1===ac.indexOf(e[n]))return;t[n]=e[n]}})):t.duration=e,t}(e=function(e){"number"==typeof e&&(e=isNaN(e)?{duration:"auto"}:{duration:e});return e}(null!==(n=e)&&void 0!==n?n:{duration:"auto"}))}var lc=function(){return c((function e(t,n,r){var i=this;l(this,e),this.composite="replace",this.iterationComposite="replace",this.target=t,this.timing=sc(r),this.timing.effect=this,this.timing.activeDuration=Xu(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=ic(n,this.timing),this.interpolations=Zu(this.normalizedKeyframes,this.timing,this.target);var o=wl.globalThis.Proxy;this.computedTiming=o?new o(this.timing,{get:function(e,t){return"duration"===t?"auto"===e.duration?0:e.duration:"fill"===t?"auto"===e.fill?"none":e.fill:"localTime"===t?i.animation&&i.animation.currentTime||null:"currentIteration"===t?i.animation&&"running"===i.animation.playState?e.currentIteration||0:null:"progress"===t?i.animation&&"running"===i.animation.playState?e.progress||0:null:e[t]},set:function(){return!0}}):this.timing}),[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(e){return null!==e&&(this.timeFraction=Qu(this.timing.activeDuration,e,this.timing),null!==this.timeFraction)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(e){this.normalizedKeyframes=ic(e)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(e){var t=this;Object.keys(e||{}).forEach((function(n){t.timing[n]=e[n]}))}}])}();function uc(e,t){return Number(e.id)-Number(t.id)}var cc=function(){return c((function e(t){var n=this;l(this,e),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(e){n.currentTime=e,n.discardAnimations(),0===n.animations.length?n.timelineTicking=!1:n.requestAnimationFrame(n.webAnimationsNextTick)},this.processRafCallbacks=function(e){var t=n.rafCallbacks;n.rafCallbacks=[],e<Number(n.currentTime)&&(e=Number(n.currentTime)),n.animations.sort(uc),n.animations=n.tick(e,!0,n.animations)[0],t.forEach((function(t){t[1](e)})),n.applyPendingEffects()},this.document=t}),[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(e,t,n){var r=new lc(e,t,n),i=new vu(r,this);return this.animations.push(i),this.restartWebAnimationsNextTick(),i.updatePromises(),i.play(),i.updatePromises(),i}},{key:"applyDirtiedAnimation",value:function(e){var t=this;if(!this.inTick){e.markTarget();var n=e.targetAnimations();n.sort(uc),this.tick(Number(this.currentTime),!1,n.slice())[1].forEach((function(e){var n=t.animations.indexOf(e);-1!==n&&t.animations.splice(n,1)})),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame((function(){})),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach((function(e){null==e||e.applyInterpolations()})),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter((function(e){return e.updatePromises()}))}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter((function(e){return"finished"!==e.playState&&"idle"!==e.playState}))}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(e){var t=this.rafId++;return 0===this.rafCallbacks.length&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([t,e]),t}},{key:"requestAnimationFrame",value:function(e){var t=this;return this.rAF((function(n){t.updateAnimationsPromises(),e(n),t.updateAnimationsPromises()}))}},{key:"tick",value:function(e,t,n){var r,i,o=this;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=e,this.ticking=!1;var a=[],s=[],l=[],u=[];return n.forEach((function(n){n.tick(e,t),n._inEffect?(s.push(n.effect),n.markTarget()):(a.push(n.effect),n.unmarkTarget()),n._needsTick&&(o.ticking=!0);var r=n._inEffect||n._needsTick;n._inTimeline=r,r?l.push(n):u.push(n)})),(r=this.pendingEffects).push.apply(r,a),(i=this.pendingEffects).push.apply(i,s),this.ticking&&this.requestAnimationFrame((function(){})),this.inTick=!1,[l,u]}}])}();wl.EasingFunction=Ku,wl.AnimationTimeline=cc;const dc={duration:500},fc={duration:1e3,easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",iterations:1,fill:"both"};var hc,pc,gc,vc,mc,yc,bc,wc,xc,Ec;!function(e){e.NodeAdded="NodeAdded",e.NodeUpdated="NodeUpdated",e.NodeRemoved="NodeRemoved",e.EdgeAdded="EdgeAdded",e.EdgeUpdated="EdgeUpdated",e.EdgeRemoved="EdgeRemoved",e.ComboAdded="ComboAdded",e.ComboUpdated="ComboUpdated",e.ComboRemoved="ComboRemoved"}(hc||(hc={})),function(e){e.DRAW="draw",e.COLLAPSE="collapse",e.EXPAND="expand",e.TRANSFORM="transform"}(pc||(pc={})),function(e){e.CLICK="canvas:click",e.DBLCLICK="canvas:dblclick",e.POINTER_OVER="canvas:pointerover",e.POINTER_LEAVE="canvas:pointerleave",e.POINTER_ENTER="canvas:pointerenter",e.POINTER_MOVE="canvas:pointermove",e.POINTER_OUT="canvas:pointerout",e.POINTER_DOWN="canvas:pointerdown",e.POINTER_UP="canvas:pointerup",e.CONTEXT_MENU="canvas:contextmenu",e.DRAG_START="canvas:dragstart",e.DRAG="canvas:drag",e.DRAG_END="canvas:dragend",e.DRAG_ENTER="canvas:dragenter",e.DRAG_OVER="canvas:dragover",e.DRAG_LEAVE="canvas:dragleave",e.DROP="canvas:drop",e.WHEEL="canvas:wheel"}(gc||(gc={})),function(e){e.CLICK="combo:click",e.DBLCLICK="combo:dblclick",e.POINTER_OVER="combo:pointerover",e.POINTER_LEAVE="combo:pointerleave",e.POINTER_ENTER="combo:pointerenter",e.POINTER_MOVE="combo:pointermove",e.POINTER_OUT="combo:pointerout",e.POINTER_DOWN="combo:pointerdown",e.POINTER_UP="combo:pointerup",e.CONTEXT_MENU="combo:contextmenu",e.DRAG_START="combo:dragstart",e.DRAG="combo:drag",e.DRAG_END="combo:dragend",e.DRAG_ENTER="combo:dragenter",e.DRAG_OVER="combo:dragover",e.DRAG_LEAVE="combo:dragleave",e.DROP="combo:drop"}(vc||(vc={})),function(e){e.CLICK="click",e.DBLCLICK="dblclick",e.POINTER_OVER="pointerover",e.POINTER_LEAVE="pointerleave",e.POINTER_ENTER="pointerenter",e.POINTER_MOVE="pointermove",e.POINTER_OUT="pointerout",e.POINTER_DOWN="pointerdown",e.POINTER_UP="pointerup",e.CONTEXT_MENU="contextmenu",e.DRAG_START="dragstart",e.DRAG="drag",e.DRAG_END="dragend",e.DRAG_ENTER="dragenter",e.DRAG_OVER="dragover",e.DRAG_LEAVE="dragleave",e.DROP="drop",e.KEY_DOWN="keydown",e.KEY_UP="keyup",e.WHEEL="wheel"}(mc||(mc={})),function(e){e.KEY_DOWN="keydown",e.KEY_UP="keyup"}(yc||(yc={})),function(e){e.CLICK="edge:click",e.DBLCLICK="edge:dblclick",e.POINTER_OVER="edge:pointerover",e.POINTER_LEAVE="edge:pointerleave",e.POINTER_ENTER="edge:pointerenter",e.POINTER_MOVE="edge:pointermove",e.POINTER_OUT="edge:pointerout",e.POINTER_DOWN="edge:pointerdown",e.POINTER_UP="edge:pointerup",e.CONTEXT_MENU="edge:contextmenu",e.DRAG_ENTER="edge:dragenter",e.DRAG_OVER="edge:dragover",e.DRAG_LEAVE="edge:dragleave",e.DROP="edge:drop"}(bc||(bc={})),function(e){e.BEFORE_CANVAS_INIT="beforecanvasinit",e.AFTER_CANVAS_INIT="aftercanvasinit",e.BEFORE_SIZE_CHANGE="beforesizechange",e.AFTER_SIZE_CHANGE="aftersizechange",e.BEFORE_ELEMENT_CREATE="beforeelementcreate",e.AFTER_ELEMENT_CREATE="afterelementcreate",e.BEFORE_ELEMENT_UPDATE="beforeelementupdate",e.AFTER_ELEMENT_UPDATE="afterelementupdate",e.BEFORE_ELEMENT_DESTROY="beforeelementdestroy",e.AFTER_ELEMENT_DESTROY="afterelementdestroy",e.BEFORE_ELEMENT_TRANSLATE="beforeelementtranslate",e.AFTER_ELEMENT_TRANSLATE="afterelementtranslate",e.BEFORE_DRAW="beforedraw",e.AFTER_DRAW="afterdraw",e.BEFORE_RENDER="beforerender",e.AFTER_RENDER="afterrender",e.BEFORE_ANIMATE="beforeanimate",e.AFTER_ANIMATE="afteranimate",e.BEFORE_LAYOUT="beforelayout",e.AFTER_LAYOUT="afterlayout",e.BEFORE_STAGE_LAYOUT="beforestagelayout",e.AFTER_STAGE_LAYOUT="afterstagelayout",e.BEFORE_TRANSFORM="beforetransform",e.AFTER_TRANSFORM="aftertransform",e.BATCH_START="batchstart",e.BATCH_END="batchend",e.BEFORE_DESTROY="beforedestroy",e.AFTER_DESTROY="afterdestroy",e.BEFORE_RENDERER_CHANGE="beforerendererchange",e.AFTER_RENDERER_CHANGE="afterrendererchange"}(wc||(wc={})),function(e){e.UNDO="undo",e.REDO="redo",e.CANCEL="cancel",e.ADD="add",e.CLEAR="clear",e.CHANGE="change"}(xc||(xc={})),function(e){e.CLICK="node:click",e.DBLCLICK="node:dblclick",e.POINTER_OVER="node:pointerover",e.POINTER_LEAVE="node:pointerleave",e.POINTER_ENTER="node:pointerenter",e.POINTER_MOVE="node:pointermove",e.POINTER_OUT="node:pointerout",e.POINTER_DOWN="node:pointerdown",e.POINTER_UP="node:pointerup",e.CONTEXT_MENU="node:contextmenu",e.DRAG_START="node:dragstart",e.DRAG="node:drag",e.DRAG_END="node:dragend",e.DRAG_ENTER="node:dragenter",e.DRAG_OVER="node:dragover",e.DRAG_LEAVE="node:dragleave",e.DROP="node:drop"}(Ec||(Ec={}));const kc="combo",Sc="tree";var Mc;!function(e){e.NODE="node",e.EDGE="edge",e.COMBO="combo",e.THEME="theme",e.PALETTE="palette",e.LAYOUT="layout",e.BEHAVIOR="behavior",e.PLUGIN="plugin",e.ANIMATION="animation",e.TRANSFORM="transform",e.SHAPE="shape"}(Mc||(Mc={}));const Tc={animation:{},behavior:{},combo:{},edge:{},layout:{},node:{},palette:{},theme:{},plugin:{},transform:{},shape:{}};function Cc(e,t){var n;const r=null===(n=Tc[e])||void 0===n?void 0:n[t];if(r)return r}function Nc(e){return`[G6 v5.0.40] ${e}`}const Pc=e=>{console.warn(Nc(e))};function Oc(e){const{theme:t}=e;if(!t)return{};const n=Cc(Mc.THEME,t);return n||(Pc(`The theme of ${t} is not registered.`),{})}function _c(e,t){if(Array.isArray(e)&&0===e.length)return null;const n=Array.isArray(e)?e[0]:e,r=Array.isArray(e)?e.slice(1):t||[];return new Proxy(n,{get:(e,t)=>"function"!=typeof e[t]||["onframe","onfinish"].includes(t)?"finished"===t?Promise.all([n.finished,...r.map((e=>e.finished))]):Reflect.get(e,t):(...n)=>{e[t](...n),r.forEach((e=>{var r;return null===(r=e[t])||void 0===r?void 0:r.call(e,...n)}))},set:(e,t,n)=>(["onframe","onfinish"].includes(t)||r.forEach((e=>{e[t]=n})),Reflect.set(e,t,n))})}function Rc(e){const t=e.reduce(((e,t)=>(Object.entries(t).forEach((([t,n])=>{void 0===e[t]?e[t]=[n]:e[t].push(n)})),e)),{});Object.entries(t).forEach((([n,r])=>{(r.length!==e.length||r.some((e=>Ye(e)))||r.every((e=>!["sourceNode","targetNode","childrenNode"].includes(n)&&Ct(e,r[0]))))&&delete t[n]}));const n=Object.entries(t).reduce(((e,[t,n])=>(n.forEach(((n,r)=>{e[r]?e[r][t]=n:e[r]={[t]:n}})),e)),[]);return 0!==e.length&&0===n.length&&n.push({_:0},{_:0}),n}function Ac(e){switch(e){case"opacity":return 1;case"x":case"y":case"z":case"zIndex":return 0;case"visibility":return"visible";case"collapsed":return!1;case"states":return[];default:return}}function Dc(e,t){const{animation:n}=e;if(!1===n||!1===t)return!1;const r=Object.assign({},dc);return Ke(n)&&Object.assign(r,n),Ke(t)&&Object.assign(r,t),r}function Lc(e,t,n,r){var i,o;const{animation:a}=e;if(!1===a||!1===r)return[];const s=null===(i=null==e?void 0:e[t])||void 0===i?void 0:i.animation;if(!1===s)return[];const l=null==s?void 0:s[n];if(!1===l)return[];const u=null===(o=Oc(e)[t])||void 0===o?void 0:o.animation,c=(e=[])=>function(e){if("string"==typeof e){return Cc(Mc.ANIMATION,e)||(Pc(`The animation of ${e} is not registered.`),[])}return e}(e).map((e=>Object.assign(Object.assign(Object.assign(Object.assign({},fc),Ke(a)&&a),e),Ke(r)&&r)));if(l)return c(l);if(!u)return[];const d=u[n];return!1===d?[]:c(d)}function Ic(e,t,n,r=[]){if(!r&&0===e&&0===t&&0===n)return null;if(Array.isArray(r)){let i=-1;const o=[];for(let a=0;a<r.length;a++){const s=r[a];if("translate"===s[0]){if(s[1]===e&&s[2]===t)return null;i=a,o.push(["translate",e,t])}else if("translate3d"===s[0]){if(s[1]===e&&s[2]===t&&s[3]===n)return null;i=a,o.push(["translate3d",e,t,null!=n?n:0])}else o.push(s)}return-1===i&&o.splice(0,0,st(n)?["translate3d",e,t,null!=n?n:0]:["translate",e,t]),0===o.length?null:o}const i=r?r.replace(/translate(3d)?\([^)]*\)/g,""):"";return 0===n?`translate(${e}, ${t})${i}`:`translate3d(${e}, ${t}, ${n})${i}`}var zc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const jc=(e,t,n)=>{if(!n.length)return null;const[r,i]=t;let o;const a=n.map((t=>{var{fields:n,shape:a,states:s}=t,l=zc(t,["fields","shape","states"]);const u=(t=>{var n;if(t){const o=e.getShape(t);if(!o)return null;const a=`get${ht(t)}Style`,s=(null===(n=null==e?void 0:e[a])||void 0===n?void 0:n.bind(e))||(e=>e);return{shape:o,fromStyle:(null==s?void 0:s(r))||{},toStyle:(null==s?void 0:s(i))||{}}}return{shape:e,fromStyle:r,toStyle:i}})(a);if(!u)return null;const{shape:c,fromStyle:d,toStyle:f}=u,h=[{},{}];if(n.forEach((e=>{var t,n;Object.assign(h[0],{[e]:null!==(t=d[e])&&void 0!==t?t:Ac(e)}),Object.assign(h[1],{[e]:null!==(n=f[e])&&void 0!==n?n:Ac(e)})})),h.some((e=>Object.keys(e).some((e=>["x","y","z"].includes(e)))))){const{x:e=0,y:t=0,z:n,transform:r=""}=c.attributes||{};h.forEach((i=>{var o,a,s;i.transform=Ic(null!==(o=i.x)&&void 0!==o?o:e,null!==(a=i.y)&&void 0!==a?a:t,null!==(s=i.z)&&void 0!==s?s:n,r)}))}const p=c.animate(Rc(h),l);return void 0===a&&(o=p),p})).filter(Boolean),s=o||(null==a?void 0:a[0]);return s?_c(s,a.filter((e=>e!=e))):null},Fc=[{fields:["x","y"]}],Bc=Fc,Uc=[{fields:["sourceNode","targetNode"]}],Wc=Uc,Vc=[{fields:["childrenNode","x","y"]}],Hc=Vc;function Gc(e){return e instanceof Float32Array||!(!Array.isArray(e)||2!==e.length&&3!==e.length)&&e.every((e=>"number"==typeof e))}function $c(e,t,n){return e>=t&&e<=n}function Yc(e=0){if(Array.isArray(e)){const[t=0,n=t,r=t,i=n]=e;return[t,n,r,i]}return[e,e,e,e]}function qc(e=0){const t=Yc(e);return t[0]+t[2]}function Kc(e){return e.max[0]-e.min[0]}function Xc(e){return e.max[1]-e.min[1]}function Qc(e){return[Kc(e),Xc(e)]}function Zc(e,t){const n=Gc(e)?Jc(e):e.getShape("key").getBounds();return t?ed(n,t):n}function Jc(e){const[t,n,r=0]=e,i=new Yr;return i.setMinMax([t,n,r],[t,n,r]),i}function ed(e,t){const[n,r,i,o]=Yc(t),[a,s,l]=e.min,[u,c,d]=e.max,f=new Yr;return f.setMinMax([a-o,s-n,l],[u+r,c+i,d]),f}function td(e){if(0===e.length)return new Yr;if(1===e.length)return e[0];const t=new Yr;t.setMinMax(e[0].min,e[0].max);for(let n=1;n<e.length;n++){const r=e[n];t.setMinMax([Math.min(t.min[0],r.min[0]),Math.min(t.min[1],r.min[1]),Math.min(t.min[2],r.min[2])],[Math.max(t.max[0],r.max[0]),Math.max(t.max[1],r.max[1]),Math.max(t.max[2],r.max[2])])}return t}function nd(e,t){return $c(e[0],t.min[0],t.max[0])&&$c(e[1],t.min[1],t.max[1])}function rd(e,t,n=!1){const{min:[r,i],max:[o,a]}=t,s=(e[1]===i||e[1]===a)&&(n||$c(e[0],r,o)),l=(e[0]===r||e[0]===o)&&(n||$c(e[1],i,a));return s||l}function id(e,t){const{center:n}=t;return e[0]===n[0]&&e[1]===n[1]}function od(e,t){const[n,r]=e,[i,o]=t.min,[a,s]=t.max,l=n-i,u=a-n,c=r-o,d=s-r,f=Math.min(l,u,c,d);return f===l?"left":f===u?"right":f===c?"top":f===d?"bottom":"left"}function ad(e,t){const n=yt(e);if(nd(e,t)){switch(od(e,t)){case"left":n[0]=t.min[0];break;case"right":n[0]=t.max[0];break;case"top":n[1]=t.min[1];break;case"bottom":n[1]=t.max[1]}}else{const[r,i]=e,[o,a]=t.min,[s,l]=t.max;n[0]=$c(r,o,s)?r:r<o?o:s,n[1]=$c(i,a,l)?i:i<a?a:l}return n}var sd=function(e,t){return e===t},ld=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},e}(),ud=function(){function e(e){void 0===e&&(e=sd),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new ld(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new ld(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,e)?(t=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,e)&&(this.tail=n),t},e.prototype.find=function(e){var t=e.value,n=void 0===t?void 0:t,r=e.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach((function(e){return t.append(e)})),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,n=null;e;)n=e.next,e.next=t,t=e,e=n;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map((function(t){return t.toString(e)})).toString()},e}(),cd=function(e,t,n){void 0===t&&(t=[]);var r=t.filter((function(t){return t.source===e||t.target===e}));if("target"===n){return r.filter((function(t){return t.source===e})).map((function(e){return e.target}))}if("source"===n){return r.filter((function(t){return t.target===e})).map((function(e){return e.source}))}return r.map((function(t){return t.source===e?t.target:t.source}))},dd={}.toString,fd=function(e,t){return dd.call(e)==="[object "+t+"]"},hd=function(e){return fd(e,"Function")},pd=function(e){return Array.isArray?Array.isArray(e):fd(e,"Array")};var gd,vd=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return function(e,t){var n,r;if(e)if(pd(e))for(var i=0,o=e.length;i<o&&!1!==t(e[i],i);i++);else if(r=typeof(n=e),null!==n&&"object"===r||"function"===r)for(var a in e)if(e.hasOwnProperty(a)&&!1===t(e[a],a))break}(e,(function(n,r){hd(e)&&"prototype"===r||t.push(n)})),t};!function(e,t){if(!hd(e))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t.apply(this,r),a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return a.set(o,s),s};n.cache=new Map}((function(e,t){void 0===t&&(t={});var n=t.fontSize,r=t.fontFamily,i=t.fontWeight,o=t.fontStyle,a=t.fontVariant;return gd||(gd=document.createElement("canvas").getContext("2d")),gd.font=[o,a,i,n+"px",r].join(" "),gd.measureText(function(e){return fd(e,"String")}(e)?e:"").width}),(function(e,t){return void 0===t&&(t={}),function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}([e],vd(t)).join("")}));function md(e,t,n,r){if(e===t)return[e];if(r[t])return r[t];for(var i=[],o=0,a=n[t];o<a.length;o++){var s=md(e,a[o],n,r);if(!s)return;for(var l=0,u=s;l<u.length;l++){var c=u[l];pd(c)?i.push(Ht(Ht([],c,!0),[t],!1)):i.push([c,t])}}return r[t]=i,r[t]}var yd,bd=function(e,t,n,r,i){var o=function(e,t,n,r){var i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a,l={},u={},c={};o.forEach((function(e,n){var r=e.id;u[r]=1/0,r===t&&(u[r]=0)}));for(var d=o.length,f=function(e){var t=function(e,t,n){for(var r,i=1/0,o=0;o<t.length;o++){var a=t[o].id;!n[a]&&e[a]<=i&&(i=e[a],r=t[o])}return r}(u,o,l),i=t.id;if(l[i]=!0,u[i]===1/0)return"continue";var a=[];a=n?function(e,t){return t.filter((function(t){return t.source===e}))}(i,s):function(e,t){return t.filter((function(t){return t.source===e||t.target===e}))}(i,s),a.forEach((function(e){var n=e.target,o=e.source,a=n===i?o:n,s=r&&e[r]?e[r]:1;u[a]>u[t.id]+s?(u[a]=u[t.id]+s,c[a]=[t.id]):u[a]===u[t.id]+s&&c[a].push(t.id)}))},h=0;h<d;h++)f();c[t]=[t];var p={};for(var g in u)u[g]!==1/0&&md(t,g,c,p);var v={};for(var g in p)v[g]=p[g][0];return{length:u,path:v,allPath:p}}(e,t,r,i),a=o.length,s=o.path,l=o.allPath;return{length:a[n],path:s[n],allPath:l[n]}};!function(e){e.EuclideanDistance="euclideanDistance"}(yd||(yd={}));function wd(e){if(void 0!==e.id)return e.id;if(void 0!==e.source&&void 0!==e.target)return`${e.source}-${e.target}`;throw new Error(Nc("The datum does not have available id."))}function xd(e){return e.combo}function Ed(e,t){const n={nodes:(e.nodes||[]).map(wd),edges:(e.edges||[]).map(wd),combos:(e.combos||[]).map(wd)};return t?Object.values(n).flat():n}!function(){function e(e){void 0===e&&(e=10),this.linkedList=new ud,this.maxStep=e}Object.defineProperty(e.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},e.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},e.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},e.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toArray=function(){return this.linkedList.toArray().map((function(e){return e.value}))},e.prototype.clear=function(){for(;!this.isEmpty();)this.pop()}}();const kd=(e,t,n)=>{var r;switch(n.type){case"degree":{const i=new Map;return null===(r=e.nodes)||void 0===r||r.forEach((e=>{const r=t(wd(e),n.direction).length;i.set(wd(e),r)})),i}case"betweenness":return Md(e,n.directed,n.weightPropertyName);case"closeness":return Td(e,n.directed,n.weightPropertyName);case"eigenvector":return Nd(e,n.directed);case"pagerank":return Cd(e,n.epsilon,n.linkProb);default:return Sd(e)}},Sd=e=>{var t;const n=new Map;return null===(t=e.nodes)||void 0===t||t.forEach((e=>{n.set(wd(e),0)})),n},Md=(e,t,n)=>{const r=Sd(e),{nodes:i=[]}=e;return i.forEach((o=>{i.forEach((i=>{if(o!==i){const{allPath:a}=bd(e,wd(o),wd(i),t,n),s=a.length;a.flat().forEach((e=>{e!==wd(o)&&e!==wd(i)&&r.set(e,r.get(e)+1/s)}))}}))})),r},Td=(e,t,n)=>{const r=new Map,{nodes:i=[]}=e;return i.forEach((o=>{const a=i.reduce(((r,i)=>{if(o!==i){const{length:a}=bd(e,wd(o),wd(i),t,n);r+=a}return r}),0);r.set(wd(o),1/a)})),r},Cd=(e,t,n)=>{var r;const i=new Map,o=function(e,t,n){"number"!=typeof t&&(t=1e-6),"number"!=typeof n&&(n=.85);for(var r,i=1,o=0,a=1e3,s=e.nodes,l=void 0===s?[]:s,u=e.edges,c=void 0===u?[]:u,d=l.length,f={},h={},p=0;p<d;++p)f[v=(x=l[p]).id]=1/d,h[v]=1/d;for(var g=function(e){var t={},n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i;return r.forEach((function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}})),o.forEach((function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++})),t}(e);a>0&&i>t;){for(o=0,p=0;p<d;++p){var v=(x=l[p]).id;if(r=0,0===g[x.id].inDegree)f[v]=0;else{for(var m=cd(v,c,"source"),y=0;y<m.length;++y){var b=m[y],w=g[b].outDegree;w>0&&(r+=h[b]/w)}f[v]=n*r,o+=f[v]}}for(o=(1-o)/d,i=0,p=0;p<d;++p){var x;r=f[v=(x=l[p]).id]+o,i+=Math.abs(r-h[v]),h[v]=r}a-=1}return h}(e,t,n);return null===(r=e.nodes)||void 0===r||r.forEach((e=>{i.set(wd(e),o[wd(e)])})),i},Nd=(e,t)=>{const{nodes:n=[]}=e,r=Pd(e,t),i=Od(r,n.length),o=new Map;return n.forEach(((e,t)=>{o.set(wd(e),i[t])})),o},Pd=(e,t)=>{const{nodes:n=[],edges:r=[]}=e,i=Array(n.length).fill(null).map((()=>Array(n.length).fill(0)));return r.forEach((({source:e,target:r})=>{const o=n.findIndex((t=>wd(t)===e)),a=n.findIndex((e=>wd(e)===r));t?i[o][a]=1:(i[o][a]=1,i[a][o]=1)})),i},Od=(e,t,n=100,r=1e-6)=>{let i=Array(t).fill(1),o=1/0;for(let a=0;a<n&&o>r;a++){const n=Array(t).fill(0);for(let r=0;r<t;r++)for(let o=0;o<t;o++)n[r]+=e[r][o]*i[o];const r=Math.sqrt(n.reduce(((e,t)=>e+t*t),0));for(let e=0;e<t;e++)n[e]/=r;o=Math.sqrt(n.reduce(((e,t,n)=>e+(t-i[n])*t),0)),i=n}return i};function _d(e,t,n,r=Ct){const i=new Map(e.map((e=>[n(e),e]))),o=new Map(t.map((e=>[n(e),e]))),a=new Set(i.keys()),s=new Set(o.keys()),l=[],u=[],c=[],d=[];return s.forEach((e=>{a.has(e)?r(i.get(e),o.get(e))?d.push(o.get(e)):u.push(o.get(e)):l.push(o.get(e))})),a.forEach((e=>{s.has(e)||c.push(i.get(e))})),{enter:l,exit:c,keep:d,update:u}}function Rd(e,t,n){e.forEach((e=>{(e=>{n&&!n(e)||(e.style.visibility=t)})(e)}))}class Ad{constructor(e){this.extensions=[],this.extensionMap={},this.context=e}setExtensions(e){const t=function(e,t,n){const r={},i=e=>(e in r||(r[e]=0),`${t}-${e}-${r[e]++}`);return n.map((t=>"string"==typeof t?{type:t,key:i(t)}:"function"==typeof t?t.call(e):t.key?t:Object.assign(Object.assign({},t),{key:i(t.type)})))}(this.context.graph,this.category,e),{enter:n,update:r,exit:i,keep:o}=_d(this.extensions,t,(e=>e.key));this.createExtensions(n),this.updateExtensions([...r,...o]),this.destroyExtensions(i),this.extensions=t}createExtension(e){const{category:t}=this,{key:n,type:r}=e,i=Cc(t,r);if(!i)return Pc(`The extension ${r} of ${t} is not registered.`);const o=new i(this.context,e);this.extensionMap[n]=o}createExtensions(e){e.forEach((e=>this.createExtension(e)))}updateExtension(e){const{key:t}=e,n=this.extensionMap[t];n&&n.update(e)}updateExtensions(e){e.forEach((e=>this.updateExtension(e)))}destroyExtension(e){const t=this.extensionMap[e];t&&(t.destroy(),delete this.extensionMap[e])}destroyExtensions(e){e.forEach((({key:e})=>this.destroyExtension(e)))}destroy(){Object.values(this.extensionMap).forEach((e=>e.destroy())),this.context={},this.extensions=[],this.extensionMap={}}}class Dd{constructor(e,t){this.events=[],this.destroyed=!1,this.context=e,this.options=t}update(e){this.options=Object.assign(this.options,e)}destroy(){this.context={},this.options={},this.destroyed=!0}}class Ld extends Dd{}class Id extends Ld{constructor(e,t){super(e,Object.assign({},Id.defaultOptions,t)),this.isOverlapping=(e,t)=>t.some((t=>e.intersects(t))),this.occupiedBounds=[],this.detectLabelCollision=e=>{const t=this.context.viewport,n={show:[],hide:[]};return this.occupiedBounds=[],e.forEach((e=>{const r=e.getShape("label").getRenderBounds();t.isInViewport(r,!0)&&!this.isOverlapping(r,this.occupiedBounds)?(n.show.push(e),this.occupiedBounds.push(ed(r,this.options.padding))):n.hide.push(e)})),n},this.hideLabelIfExceedViewport=(e,t)=>{const{exit:n}=_d(e,t,(e=>e.id));null==n||n.forEach(this.hideLabel)},this.nodeCentralities=new Map,this.sortNodesByCentrality=(e,t)=>{const{model:n}=this.context,r=n.getData(),i=n.getRelatedEdgesData.bind(n);return e.map((e=>(this.nodeCentralities.has(e.id)||(this.nodeCentralities=kd(r,i,t)),{node:e,centrality:this.nodeCentralities.get(e.id)}))).sort(((e,t)=>t.centrality-e.centrality)).map((e=>e.node))},this.sortLabelElementsInView=e=>{const{sort:t,sortNode:n,sortCombo:r,sortEdge:i}=this.options,{model:o}=this.context;if($e(t))return e.sort(((e,n)=>t(o.getElementDataById(e.id),o.getElementDataById(n.id))));const{node:a=[],edge:s=[],combo:l=[]}=ot(e,(e=>e.type)),u=$e(r)?l.sort(((e,t)=>r(...o.getComboData([e.id,t.id])))):l,c=$e(n)?a.sort(((e,t)=>n(...o.getNodeData([e.id,t.id])))):this.sortNodesByCentrality(a,n),d=$e(i)?s.sort(((e,t)=>i(...o.getEdgeData([e.id,t.id])))):s;return[...u,...c,...d]},this.labelElementsInView=[],this.isFirstRender=!0,this.onToggleVisibility=e=>{var t;if("zIndex"===(null===(t=e.data)||void 0===t?void 0:t.stage))return;if(!this.validate(e))return void(this.hiddenElements.size>0&&(this.hiddenElements.forEach(this.showLabel),this.hiddenElements.clear()));const n=this.isFirstRender?this.getLabelElements():this.getLabelElementsInView();this.hideLabelIfExceedViewport(this.labelElementsInView,n),this.labelElementsInView=n;const r=this.sortLabelElementsInView(this.labelElementsInView),{show:i,hide:o}=this.detectLabelCollision(r);for(let e=i.length-1;e>=0;e--)this.showLabel(i[e]);o.forEach(this.hideLabel)},this.hiddenElements=new Map,this.hideLabel=e=>{const t=e.getShape("label");t&&Rd(t,"hidden"),this.hiddenElements.set(e.id,e)},this.showLabel=e=>{const t=e.getShape("label");t&&Rd(t,"visible"),e.toFront(),this.hiddenElements.delete(e.id)},this.onTransform=At(this.onToggleVisibility,this.options.throttle,{leading:!0}),this.enableToggle=!0,this.toggle=e=>{this.enableToggle&&this.onToggleVisibility(e)},this.onBeforeRender=()=>{this.enableToggle=!1},this.onAfterRender=e=>{this.onToggleVisibility(e),this.enableToggle=!0},this.bindEvents()}update(e){this.unbindEvents(),super.update(e),this.bindEvents(),this.onToggleVisibility({})}getLabelElements(){const{elementMap:e}=this.context.element,t=[];for(const n in e){const r=e[n];r.isVisible()&&r.getShape("label")&&t.push(r)}return t}getLabelElementsInView(){const e=this.context.viewport;return this.getLabelElements().filter((t=>e.isInViewport(t.getShape("key").getRenderBounds())))}bindEvents(){const{graph:e}=this.context;e.on(wc.BEFORE_RENDER,this.onBeforeRender),e.on(wc.AFTER_RENDER,this.onAfterRender),e.on(wc.AFTER_DRAW,this.toggle),e.on(wc.AFTER_LAYOUT,this.toggle),e.on(wc.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){const{graph:e}=this.context;e.off(wc.BEFORE_RENDER,this.onBeforeRender),e.off(wc.AFTER_RENDER,this.onAfterRender),e.off(wc.AFTER_DRAW,this.toggle),e.off(wc.AFTER_LAYOUT,this.toggle),e.off(wc.AFTER_TRANSFORM,this.onTransform)}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}destroy(){this.unbindEvents(),super.destroy()}}Id.defaultOptions={enable:!0,throttle:100,padding:0,sortNode:{type:"degree"}};const zd=[0,0,0];function jd(e,t){return e.map(((e,n)=>e+t[n]))}function Fd(e,t){return e.map(((e,n)=>e-t[n]))}function Bd(e,t){return"number"==typeof t?e.map((e=>e*t)):e.map(((e,n)=>e*t[n]))}function Ud(e,t){return"number"==typeof t?e.map((e=>e/t)):e.map(((e,n)=>e/t[n]))}function Wd(e,t){return e.map((e=>e*t))}function Vd(e,t){return Math.sqrt(e.reduce(((e,n,r)=>e+Math.pow(n-t[r]||0,2)),0))}function Hd(e,t){return e.reduce(((e,n,r)=>e+Math.abs(n-t[r])),0)}function Gd(e){const t=e.reduce(((e,t)=>e+Math.pow(t,2)),0);return e.map((e=>e/Math.sqrt(t)))}function $d(e,t,n=!1){const r=e[0]*t[1]-e[1]*t[0];let i=Math.acos(Bd(e,t).reduce(((e,t)=>e+t),0)/(Vd(e,zd)*Vd(t,zd)));return n&&r<0&&(i=2*Math.PI-i),i}function Yd(e,t=!0){return t?[-e[1],e[0]]:[e[1],-e[0]]}function qd(e){return[e[0],e[1]]}function Kd(e){return 2===e.length?[e[0],e[1],0]:e}function Xd(e){const[t,n]=e;return t||n?Math.atan2(n,t):0}function Qd(e,t){const[n,r]=e,[i,o]=t;return function(e,t){const n=Kd(e),r=Kd(t);return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}(Fd(n,r),Fd(i,o)).every((e=>0===e))}function Zd(e,t,n=!1){if(Qd(e,t))return;const[r,i]=e,[o,a]=t,s=((r[0]-o[0])*(o[1]-a[1])-(r[1]-o[1])*(o[0]-a[0]))/((r[0]-i[0])*(o[1]-a[1])-(r[1]-i[1])*(o[0]-a[0])),l=a[0]-o[0]?(r[0]-o[0]+s*(i[0]-r[0]))/(a[0]-o[0]):(r[1]-o[1]+s*(i[1]-r[1]))/(a[1]-o[1]);return n||$c(s,0,1)&&$c(l,0,1)?[r[0]+s*(i[0]-r[0]),r[1]+s*(i[1]-r[1])]:void 0}function Jd(e){if(Array.isArray(e))return $c(e[0],0,1)&&$c(e[1],0,1)?e:[.5,.5];const t=e.split("-");return[t.includes("left")?0:t.includes("right")?1:.5,t.includes("top")?0:t.includes("bottom")?1:.5]}function ef(e){const{x:t=0,y:n=0,z:r=0}=e.style||{};return[+t,+n,+r]}function tf(e){const{x:t,y:n,z:r}=e.style||{};return void 0!==t||void 0!==n||void 0!==r}function nf(e,t="center"){return function(e,t){const[n,r]=t,{min:i,max:o}=e;return[i[0]+n*(o[0]-i[0]),i[1]+r*(o[1]-i[1])]}(e,Jd(t))}function rf(e){var t;return[e.x,e.y,null!==(t=e.z)&&void 0!==t?t:0]}function of(e){var t;return{x:e[0],y:e[1],z:null!==(t=e[2])&&void 0!==t?t:0}}function af(e,t=0){return e.map((e=>parseFloat(e.toFixed(t))))}function sf(e,t,n,r=!1){if(Ct(e,t))return e;const i=Gd(r?Fd(e,t):Fd(t,e)),o=[i[0]*n,i[1]*n];return jd(qd(e),o)}function lf(e,t){return e[1]===t[1]}function uf(e,t,n){return Qd([e,t],[t,n])}function cf(e,t){return[2*t[0]-e[0],2*t[1]-e[1]]}function df(e,t,n,r=!0,i=!1){for(let o=0;o<n.length;o++){let a=n[o],s=n[(o+1)%n.length];r&&(a=jd(t,a),s=jd(t,s));const l=Zd([t,i?cf(e,t):e],[a,s]);if(l)return{point:l,line:[a,s]}}return{point:t,line:void 0}}function ff(e,t,n=!1){const r=t.center,i=Fd(n?cf(e,r):e,t.center),o=Math.atan2(i[1],i[0]);if(isNaN(o))return r;const a=Kc(t)/2,s=Xc(t)/2;return[r[0]+a*Math.cos(o),r[1]+s*Math.sin(o)]}function hf(e,t){let n=1/0,r=[[0,0],[0,0]];return t.forEach((t=>{const i=function(e,t){const n=pf(e,t);return Vd(e,n)}(e,t);i<n&&(n=i,r=t)})),r}function pf(e,t){const[n,r]=t[0],[i,o]=t[1],[a,s]=e,l=i-n,u=o-r;if(0===l&&0===u)return[n,r];let c=((a-n)*l+(s-r)*u)/(l*l+u*u);c>1?c=1:c<0&&(c=0);return[n+c*l,r+c*u]}function gf(e,t=!0){const n=function(e){return Ud(e.reduce(((e,t)=>jd(e,t)),[0,0]),e.length)}(e);return e.sort((([e,r],[i,o])=>{const a=Math.atan2(r-n[1],e-n[0]),s=Math.atan2(o-n[1],i-n[0]);return t?s-a:a-s}))}function vf(e,t){return[e,[e[0],t[1]],t,[t[0],e[1]]]}const mf=e=>e.map((e=>rt(e)?e.toLocaleLowerCase():e));class yf{constructor(e){this.map=new Map,this.recordKey=new Set,this.onKeyDown=e=>{(null==e?void 0:e.key)&&(this.recordKey.add(e.key),this.trigger(e))},this.onKeyUp=e=>{(null==e?void 0:e.key)&&this.recordKey.delete(e.key)},this.onWheel=e=>{this.triggerExtendKey(mc.WHEEL,e)},this.onDrag=e=>{this.triggerExtendKey(mc.DRAG,e)},this.onFocus=()=>{this.recordKey.clear()},this.emitter=e,this.bindEvents()}bind(e,t){0!==e.length&&this.map.set(e,t)}unbind(e,t){this.map.forEach(((n,r)=>{Ct(r,e)&&(t&&t!==n||this.map.delete(r))}))}unbindAll(){this.map.clear()}match(e){const t=mf(Array.from(this.recordKey)).sort(),n=mf(e).sort();return Ct(t,n)}bindEvents(){var e;const{emitter:t}=this;t.on(mc.KEY_DOWN,this.onKeyDown),t.on(mc.KEY_UP,this.onKeyUp),t.on(mc.WHEEL,this.onWheel),t.on(mc.DRAG,this.onDrag),null===(e=globalThis.addEventListener)||void 0===e||e.call(globalThis,"focus",this.onFocus)}trigger(e){this.map.forEach(((t,n)=>{this.match(n)&&t(e)}))}triggerExtendKey(e,t){this.map.forEach(((n,r)=>{r.includes(e)&&Ct(Array.from(this.recordKey),r.filter((t=>t!==e)))&&n(t)}))}destroy(){var e;this.unbindAll(),this.emitter.off(mc.KEY_DOWN,this.onKeyDown),this.emitter.off(mc.KEY_UP,this.onKeyUp),this.emitter.off(mc.WHEEL,this.onWheel),this.emitter.off(mc.DRAG,this.onDrag),null===(e=globalThis.removeEventListener)||void 0===e||e.call(globalThis,"blur",this.onFocus)}}class bf extends Ld{constructor(e,t){super(e,St({},bf.defaultOptions,t)),this.shortcut=new yf(e.graph),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.clearStates=this.clearStates.bind(this),this.bindEvents()}onPointerDown(e){if(!this.validate(e)||!this.isKeydown()||this.startPoint)return;const{canvas:t,graph:n}=this.context,r=Object.assign({},this.options.style);this.options.style.lineWidth&&(r.lineWidth=+this.options.style.lineWidth/n.getZoom()),this.rectShape=new Xl({id:"g6-brush-select",style:r}),t.appendChild(this.rectShape),this.startPoint=[e.canvas.x,e.canvas.y]}onPointerMove(e){var t;if(!this.startPoint)return;const{immediately:n,mode:r}=this.options;this.endPoint=wf(e),null===(t=this.rectShape)||void 0===t||t.attr({x:Math.min(this.endPoint[0],this.startPoint[0]),y:Math.min(this.endPoint[1],this.startPoint[1]),width:Math.abs(this.endPoint[0]-this.startPoint[0]),height:Math.abs(this.endPoint[1]-this.startPoint[1])}),n&&"default"===r&&this.updateElementsStates(vf(this.startPoint,this.endPoint))}onPointerUp(e){this.startPoint&&(this.endPoint?(this.endPoint=wf(e),this.updateElementsStates(vf(this.startPoint,this.endPoint)),this.clearBrush()):this.clearBrush())}clearStates(){this.endPoint||this.clearElementsStates()}clearElementsStates(){const{graph:e}=this.context,t=Object.values(e.getData()).reduce(((e,t)=>Object.assign({},e,t.reduce(((e,t)=>(e[wd(t)]=[],e)),{}))),{});e.setElementState(t,this.options.animation)}updateElementsStates(e){const{graph:t}=this.context,{enableElements:n,state:r,mode:i,onSelect:o}=this.options,a=this.selector(t,e,n);let s={};switch(i){case"union":a.forEach((e=>{s[e]=[...t.getElementState(e),r]}));break;case"diff":a.forEach((e=>{const n=t.getElementState(e);s[e]=n.includes(r)?n.filter((e=>e!==r)):[...n,r]}));break;case"intersect":a.forEach((e=>{const n=t.getElementState(e);s[e]=n.includes(r)?[r]:[]}));break;default:a.forEach((e=>{s[e]=[r]}))}$e(o)&&(s=o(s)),t.setElementState(s,this.options.animation)}selector(e,t,n){if(!n||0===n.length)return[];const r=[],i=e.getData();if(n.forEach((n=>{i[`${n}s`].forEach((n=>{const i=wd(n);"hidden"!==e.getElementVisibility(i)&&function(e,t,n,r){const i=e[0],o=e[1];let a=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);const s=r-n;for(let e=0,r=s-1;e<s;r=e++){const s=t[e+n][0],l=t[e+n][1],u=t[r+n][0],c=t[r+n][1];l>o!=c>o&&i<(u-s)*(o-l)/(c-l)+s&&(a=!a)}return a}(e.getElementPosition(i),t)&&r.push(i)}))})),n.includes("edge")){const e=i.edges;null==e||e.forEach((e=>{const{source:t,target:n}=e;r.includes(t)&&r.includes(n)&&r.push(wd(e))}))}return r}clearBrush(){var e;null===(e=this.rectShape)||void 0===e||e.remove(),this.rectShape=void 0,this.startPoint=void 0,this.endPoint=void 0}isKeydown(){const{trigger:e}=this.options,t=Array.isArray(e)?e:[e];return this.shortcut.match(t.filter((e=>"drag"!==e)))}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}bindEvents(){const{graph:e}=this.context;e.on(mc.POINTER_DOWN,this.onPointerDown),e.on(mc.POINTER_MOVE,this.onPointerMove),e.on(mc.POINTER_UP,this.onPointerUp),e.on(gc.CLICK,this.clearStates)}unbindEvents(){const{graph:e}=this.context;e.off(mc.POINTER_DOWN,this.onPointerDown),e.off(mc.POINTER_MOVE,this.onPointerMove),e.off(mc.POINTER_UP,this.onPointerUp),e.off(gc.CLICK,this.clearStates)}update(e){this.unbindEvents(),this.options=St(this.options,e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}bf.defaultOptions={animation:!1,enable:!0,enableElements:["node","combo","edge"],immediately:!1,mode:"default",state:"selected",trigger:["shift"],style:{width:0,height:0,lineWidth:1,fill:"#1677FF",stroke:"#1677FF",fillOpacity:.1,zIndex:2,pointerEvents:"none"}};const wf=e=>[e.canvas.x,e.canvas.y],xf=.8,Ef=["node","edge","combo"];function kf(e,t,n,r,i=0){"TB"===r&&t(e,i);const o=n(e);if(o)for(const e of o)kf(e,t,n,r,i+1);"BT"===r&&t(e,i)}function Sf(e,t,n,r,i="both"){if("combo"===t||"node"===t)return Mf(e,n,r,i);const o=e.getEdgeData(n);if(!o)return[];const a=Mf(e,o.source,r-1,i),s=Mf(e,o.target,r-1,i);return Array.from(new Set([...a,...s,n]))}function Mf(e,t,n,r="both"){const i=new Set,o=new Set,a=new Set;return function(e,t,n){const r=[[e,0]];for(;r.length;){const[e,i]=r.shift();t(e,i);const o=n(e);if(o)for(const e of o)r.push([e,i+1])}}(t,((t,i)=>{i>n||(a.add(t),e.getRelatedEdgesData(t,r).forEach((e=>{const t=wd(e);!o.has(t)&&i<n&&(a.add(t),o.add(t))})))}),(t=>e.getRelatedEdgesData(t,r).map((e=>e.source===t?e.target:e.source)).filter((e=>!i.has(e)&&(i.add(e),!0))))),Array.from(a)}function Tf(e){return e.states||[]}var Cf=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class Nf extends Ld{constructor(e,t){super(e,Object.assign({},Nf.defaultOptions,t)),this.onClickSelect=e=>Cf(this,void 0,void 0,(function*(){var t,n;this.validate(e)&&(yield this.updateState(e),null===(n=(t=this.options).onClick)||void 0===n||n.call(t,e))})),this.onClickCanvas=e=>Cf(this,void 0,void 0,(function*(){var t,n;this.validate(e)&&(yield this.clearState(),null===(n=(t=this.options).onClick)||void 0===n||n.call(t,e))})),this.shortcut=new yf(e.graph),this.bindEvents()}bindEvents(){const{graph:e}=this.context;this.unbindEvents(),Ef.forEach((t=>{e.on(`${t}:${mc.CLICK}`,this.onClickSelect)})),e.on(gc.CLICK,this.onClickCanvas)}get isMultipleSelect(){const{multiple:e,trigger:t}=this.options;return e&&this.shortcut.match(t)}getNeighborIds(e){const{target:t,targetType:n}=e,{graph:r}=this.context,{degree:i}=this.options;return Sf(r,n,t.id,"function"==typeof i?i(e):i).filter((e=>e!==t.id))}updateState(e){return Cf(this,void 0,void 0,(function*(){const{state:t,unselectedState:n,neighborState:r,animation:i}=this.options;if(!t&&!r&&!n)return;const{target:o}=e,{graph:a}=this.context,s=Tf(a.getElementData(o.id)).includes(t)?"unselect":"select",l={},u=this.isMultipleSelect,c=[o.id],d=this.getNeighborIds(e);if(u)if(Object.assign(l,this.getDataStates()),"select"===s){const e=(e,t)=>{e.forEach((e=>{const r=new Set(a.getElementState(e));r.add(t),r.delete(n),l[e]=Array.from(r)}))};e(c,t),e(d,r),n&&Object.keys(l).forEach((e=>{const i=l[e];i.includes(t)||i.includes(r)||i.includes(n)||l[e].push(n)}))}else{const e=l[o.id];l[o.id]=e.filter((e=>e!==t&&e!==r)),e.includes(n)||l[o.id].push(n),d.forEach((e=>{l[e]=l[e].filter((e=>e!==r)),l[e].includes(t)||l[e].push(n)}))}else if("select"===s){Object.assign(l,this.getClearStates(!!n));const e=(e,t)=>{e.forEach((e=>{l[e]||(l[e]=a.getElementState(e)),l[e].push(t)}))};e(c,t),e(d,r),n&&Object.keys(l).forEach((e=>{c.includes(e)||d.includes(e)||l[e].push(n)}))}else Object.assign(l,this.getClearStates());yield a.setElementState(l,i)}))}getDataStates(){const{graph:e}=this.context,{nodes:t,edges:n,combos:r}=e.getData(),i={};return[...t,...n,...r].forEach((e=>{i[wd(e)]=Tf(e)})),i}getClearStates(e=!1){const{graph:t}=this.context,{state:n,unselectedState:r,neighborState:i}=this.options,o=new Set([n,r,i]),{nodes:a,edges:s,combos:l}=t.getData(),u={};return[...a,...s,...l].forEach((t=>{const n=Tf(t),r=n.filter((e=>!o.has(e)));(e||r.length!==n.length)&&(u[wd(t)]=r)})),u}clearState(){return Cf(this,void 0,void 0,(function*(){const{graph:e}=this.context;yield e.setElementState(this.getClearStates(),this.options.animation)}))}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}unbindEvents(){const{graph:e}=this.context;Ef.forEach((t=>{e.off(`${t}:${mc.CLICK}`,this.onClickSelect)})),e.off(gc.CLICK,this.onClickCanvas)}destroy(){this.unbindEvents(),super.destroy()}}function Pf(e){var t;return!!(null===(t=e.style)||void 0===t?void 0:t.collapsed)}function Of(e,t){if(!e.startsWith(t))return!1;const n=e[t.length];return n>="A"&&n<="Z"}function _f(e,t,n=!0){if(!t)return e;if(!Of(e,t))return e;const r=e.slice(t.length);return n?function(e){var t=ft(e);return t.charAt(0).toLowerCase()+t.substring(1)}(r):r}function Rf(e,t){const n=Object.entries(e).reduce(((e,[n,r])=>("className"===n||"class"===n||Of(n,t)&&Object.assign(e,{[_f(n,t)]:r}),e)),{});if("opacity"in e){const r=function(e,t){return`${t}${ht(e)}`}("opacity",t),i=e.opacity;if(r in e){const t=e[r];Object.assign(n,{opacity:i*t})}else Object.assign(n,{opacity:i})}return n}function Af(e,t){const n=t.length;return Object.keys(e).reduce(((r,i)=>{if(i.startsWith(t)){r[i.slice(n)]=e[i]}return r}),{})}function Df(e,t){const n="string"==typeof t?[t]:t,r={};return Object.keys(e).forEach((t=>{n.find((e=>t.startsWith(e)))||(r[t]=e[t])})),r}function Lf(e=0){if("number"==typeof e)return[e,e,e];const[t,n=t,r=t]=e;return[t,n,r]}Nf.defaultOptions={animation:!0,enable:!0,multiple:!1,trigger:["shift"],state:"selected",neighborState:"selected",unselectedState:void 0,degree:0};var If=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function zf(e,t){const{datum:n,graph:r}=t;return"function"==typeof e?e.call(r,n):Object.fromEntries(Object.entries(e).map((([e,t])=>"function"==typeof t?[e,t.call(r,n)]:[e,t])))}function jf(e,t){const n=(null==e?void 0:e.style)||{},r=(null==t?void 0:t.style)||{};for(const e in n)e in r||(r[e]=n[e]);return Object.assign({},e,t,{style:r})}function Ff(e){if(e)return"string"==typeof e||"function"==typeof e||Array.isArray(e)?{type:"group",field:e=>e.id,color:e,invert:!1}:e}function Bf(e){const t="string"==typeof e?Cc("palette",e):e;if("function"!=typeof t)return t}function Uf(e,t){let n=2*e;return"string"==typeof t?n=e*Number(t.replace("%",""))/100:"number"==typeof t&&(n=t),isNaN(n)&&(n=2*e),n}function Wf(e,t,n=1,r=!1){const i=r?n:1;return Uf((e.max[0]-e.min[0])*i,t)}class Vf extends Il{constructor(e){Gf(e.style),super(e),this.shapeMap={},this.animateMap={},this.render(this.attributes,this),this.setVisibility(),this.bindEvents()}get parsedAttributes(){return this.attributes}upsert(e,t,n,r,i){var o,a,s,l,u,c,d,f;const h=this.shapeMap[e];if(!1===n)return void(h&&(null===(o=null==i?void 0:i.beforeDestroy)||void 0===o||o.call(i,h),r.removeChild(h),delete this.shapeMap[e],null===(a=null==i?void 0:i.afterDestroy)||void 0===a||a.call(i,h)));const p="string"==typeof t?Cc(Mc.SHAPE,t):t;if(!p)throw new Error(Nc(`Shape ${t} not found`));if(!h||h.destroyed||!(h instanceof p)){h&&(null===(s=null==i?void 0:i.beforeDestroy)||void 0===s||s.call(i,h),null==h||h.destroy(),null===(l=null==i?void 0:i.afterDestroy)||void 0===l||l.call(i,h)),null===(u=null==i?void 0:i.beforeCreate)||void 0===u||u.call(i);const t=new p({className:e,style:n});return r.appendChild(t),this.shapeMap[e]=t,null===(c=null==i?void 0:i.afterCreate)||void 0===c||c.call(i,t),t}return null===(d=null==i?void 0:i.beforeUpdate)||void 0===d||d.call(i,h),Ug(h,n),null===(f=null==i?void 0:i.afterUpdate)||void 0===f||f.call(i,h),h}update(e={}){const t=Object.assign({},this.attributes,e);Gf(t),function(e,t){const{zIndex:n,transform:r,transformOrigin:i,visibility:o,cursor:a,clipPath:s,component:l}=t,u=Cg(t,["zIndex","transform","transformOrigin","visibility","cursor","clipPath","component"]);Object.assign(e.attributes,u),r&&e.setAttribute("transform",r);st(n)&&e.setAttribute("zIndex",n);i&&e.setAttribute("transformOrigin",i);o&&e.setAttribute("visibility",o);a&&e.setAttribute("cursor",a);s&&e.setAttribute("clipPath",s);l&&e.setAttribute("component",l)}(this,t),this.render(t,this),this.setVisibility()}bindEvents(){}getGraphicStyle(e){return function(e){return If(e,["x","y","z","class","className","transform","transformOrigin","zIndex","visibility"])}(e)}get compositeShapes(){return[["badges","badge-"],["ports","port-"]]}animate(e,t){if(0===e.length)return null;const n=[];if(void 0!==e[0].x||void 0!==e[0].y||void 0!==e[0].z){const{x:t=0,y:n=0,z:r=0}=this.attributes;e.forEach((e=>{const{x:i=t,y:o=n,z:a=r}=e;Object.assign(e,{transform:a?[["translate3d",i,o,a]]:[["translate",i,o]]})}))}const r=super.animate(e,t);if(r&&(Hf(this,r),n.push(r)),Array.isArray(e)&&e.length>0){const r=["transform","transformOrigin","x","y","z","zIndex"];if(Object.keys(e[0]).some((e=>!r.includes(e)))){Object.entries(this.shapeMap).forEach((([r,i])=>{const o=this[`get${ht(r)}Style`];if($e(o)){const r=e.map((e=>o.call(this,Object.assign(Object.assign({},this.attributes),e)))),a=i.animate(Rc(r),t);a&&(Hf(i,a),n.push(a))}}));const r=(r,i)=>{if(!Tt(r)){const o=this[`get${ht(i)}Style`];if($e(o)){const i=e.map((e=>o.call(this,Object.assign(Object.assign({},this.attributes),e))));Object.entries(i[0]).map((([e])=>{const o=i.map((t=>t[e])),a=r[e];if(a){const e=a.animate(Rc(o),t);e&&(Hf(a,e),n.push(e))}}))}}};this.compositeShapes.forEach((([e,t])=>{const n=Af(this.shapeMap,t);r(n,e)}))}}return _c(n)}getShape(e){return this.shapeMap[e]}setVisibility(){const{visibility:e}=this.attributes;Rd(this,e)}destroy(){this.shapeMap={},this.animateMap={},super.destroy()}}function Hf(e,t){null==t||t.finished.then((()=>{const n=e.activeAnimations.findIndex((e=>e===t));n>-1&&e.activeAnimations.splice(n,1)}))}function Gf(e){if(!e)return{};if("x"in e||"y"in e||"z"in e){const{x:t=0,y:n=0,z:r,transform:i}=e,o=Ic(t,n,r,i);o&&(e.transform=o)}return e}var $f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class Yf extends Vf{constructor(e){super(jf({style:Yf.defaultStyleProps},e))}isTextStyle(e){return Of(e,"label")}isBackgroundStyle(e){return Of(e,"background")}getTextStyle(e){const t=this.getGraphicStyle(e);return Df($f(t,["padding"]),"background")}getBackgroundStyle(e){if(!1===e.background)return!1;const t=this.getGraphicStyle(e),{wordWrap:n,wordWrapWidth:r,padding:i}=t,o=Rf(t,"background"),{min:[a,s],center:[l,u],halfExtents:[c,d]}=this.shapeMap.text.getGeometryBounds(),[f,h,p,g]=Yc(i),v=2*c+g+h,{width:m,height:y}=o;m&&y?Object.assign(o,{x:l-Number(m)/2,y:u-Number(y)/2}):Object.assign(o,{x:a-g,y:s-f,width:n?Math.min(v,r+g+h):v,height:2*d+f+p});const{radius:b}=o;if("string"==typeof b&&b.endsWith("%")){const e=Number(b.replace("%",""))/100;o.radius=Math.min(+o.width,+o.height)*e}return o}render(e=this.parsedAttributes,t=this){this.upsert("text",Zl,this.getTextStyle(e),t),this.upsert("background",Xl,this.getBackgroundStyle(e),t)}getGeometryBounds(){return(this.getShape("background")||this.getShape("text")).getGeometryBounds()}}Yf.defaultStyleProps={padding:0,fontSize:12,fontFamily:"system-ui, sans-serif",wordWrap:!0,maxLines:1,wordWrapWidth:128,textOverflow:"...",textBaseline:"middle",backgroundOpacity:.75,backgroundZIndex:-1,backgroundLineWidth:0};class qf extends Vf{constructor(e){super(jf({style:qf.defaultStyleProps},e))}getBadgeStyle(e){return this.getGraphicStyle(e)}render(e=this.parsedAttributes,t=this){this.upsert("label",Yf,this.getBadgeStyle(e),t)}getGeometryBounds(){const e=this.getShape("label");return(e.getShape("background")||e.getShape("text")).getGeometryBounds()}}qf.defaultStyleProps={padding:[2,4,2,4],fontSize:10,wordWrap:!1,backgroundRadius:"50%",backgroundOpacity:1};const Kf={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]};function Xf(e){const t=[],n="string"==typeof e?function(e){const t=e.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").trim().split(/\s*,|\s+/),n=[];let r="",i={};for(;t.length>0;){let e=t.shift();e in Kf?r=e:t.unshift(e),i={type:r},Kf[r].forEach((n=>{e=t.shift(),i[n]=e})),"M"===r?r="L":"m"===r&&(r="l");const[o,...a]=Object.values(i);n.push([o,...a.map(Number)])}return n}(e):e;return n.forEach((e=>{const n=e[0];if("Z"!==n)if("A"!==n)for(let n=1;n<e.length;n+=2)t.push([e[n],e[n+1],0]);else{const n=e.length;t.push([e[n-2],e[n-1],0])}else t.push(t[0])})),t}const Qf=e=>{if(e.length<2)return[["M",0,0],["L",0,0]];const t=e[0],n=e[1],r=e[e.length-1],i=e[e.length-2];e.unshift(i,r),e.push(t,n);const o=[["M",r[0],r[1]]];for(let t=1;t<e.length-2;t+=1){const[n,r]=e[t-1],[i,a]=e[t],[s,l]=e[t+1],[u,c]=t!==e.length-2?e[t+2]:[s,l],d=i+(s-n)/6,f=a+(l-r)/6,h=s-(u-i)/6,p=l-(c-a)/6;o.push(["C",d,f,h,p,s,l])}return o};var Zf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class Jf extends Vf{constructor(e){super(jf({style:Jf.defaultStyleProps},e))}getLabelStyle(e){if(!e.label||!e.d||0===e.d.length)return!1;const t=Rf(this.getGraphicStyle(e),"label"),{maxWidth:n,offsetX:r,offsetY:i,autoRotate:o,placement:a,closeToPath:s}=t,l=Zf(t,["maxWidth","offsetX","offsetY","autoRotate","placement","closeToPath"]),u=this.shapeMap.key,c=null==u?void 0:u.getRenderBounds();return Object.assign(function(e,t,n,r,i,o,a){const[s,l]=nf(e,t),u={textAlign:"left"===t?"right":"right"===t?"left":"center",textBaseline:"top"===t?"bottom":"bottom"===t?"top":"middle",transform:[["translate",s+n,l+r]]};if("center"===t||!i)return u;const c=Xf(o);if(!c||c.length<=3)return u;const d=c.map(((e,t)=>{const n=e,r=c[(t+1)%c.length];return Ct(n,r)?null:[n,r]})).filter(Boolean),f=hf([s,l],d),h=pf([s,l],f);if(h&&f&&(u.transform=[["translate",h[0]+n,h[1]+r]],a)){const e=Math.atan((f[0][1]-f[1][1])/(f[0][0]-f[1][0]));u.transform.push(["rotate",e/Math.PI*180]),u.textAlign="center","right"!==t&&"left"!==t||(u.textBaseline=e>0?"right"===t?"bottom":"top":"right"===t?"top":"bottom")}return u}(c,a,r,i,s,e.d,o),{wordWrapWidth:Wf(c,n)},l)}getKeyStyle(e){return this.getGraphicStyle(e)}render(e,t){this.upsert("key",Gl,this.getKeyStyle(e),t),this.upsert("label",Yf,this.getLabelStyle(e),t)}}Jf.defaultStyleProps={label:!0,labelPlacement:"bottom",labelCloseToPath:!0,labelAutoRotate:!0,labelOffsetX:0,labelOffsetY:0};let eh=class extends Ul{constructor(e){super(e),this.onMounted=()=>{this.handleRadius()},this.onAttrModified=()=>{this.handleRadius()},nh=this,this.isMutationObserved=!0,this.addEventListener(Vs.MOUNTED,this.onMounted),this.addEventListener(Vs.ATTR_MODIFIED,this.onAttrModified)}handleRadius(){const{radius:e,clipPath:t,width:n=0,height:r=0}=this.attributes;if(e&&n&&r){const[i,o]=this.getBounds().min,a={x:i,y:o,radius:e,width:n,height:r};if(t)Object.assign(this.parsedStyle.clipPath.style,a);else{const e=new Xl({style:a});this.style.clipPath=e}}else t&&(this.style.clipPath=null)}};const th=new WeakMap;let nh=null;const rh=e=>{if(nh&&function(e){const t=[];let n=e.parentNode;for(;n;)t.push(n),n=n.parentNode;return t}(nh).includes(e)){const t=th.get(e);t?t.includes(nh)||t.push(nh):th.set(e,[nh])}},ih=e=>{const t=th.get(e);t&&t.forEach((e=>e.handleRadius()))};class oh extends Vf{constructor(e){super(e)}isImage(){const{src:e}=this.attributes;return!!e}getIconStyle(e=this.attributes){const{width:t=0,height:n=0}=e,r=this.getGraphicStyle(e);return this.isImage()?Object.assign({x:-t/2,y:-n/2},r):Object.assign({textBaseline:"middle",textAlign:"center"},r)}render(e=this.attributes,t=this){this.upsert("icon",this.isImage()?eh:Zl,this.getIconStyle(e),t)}}class ah extends Vf{get context(){return this.config.context}get parsedAttributes(){return this.attributes}onframe(){}animate(e,t){const n=super.animate(e,t);return n&&(n.onframe=()=>this.onframe(),n.finished.then((()=>this.onframe()))),n}}var sh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class lh extends ah{constructor(e){super(jf({style:lh.defaultStyleProps},e)),this.type="node"}getSize(e=this.attributes){const{size:t}=e;return Lf(t)}getKeyStyle(e){const t=this.getGraphicStyle(e);return Object.assign(Df(t,["label","halo","icon","badge","port"]))}getLabelStyle(e){if(!1===e.label||!e.labelText)return!1;const t=Rf(this.getGraphicStyle(e),"label"),{placement:n,maxWidth:r,offsetX:i,offsetY:o}=t,a=sh(t,["placement","maxWidth","offsetX","offsetY"]),s=this.getShape("key").getLocalBounds();return Object.assign(Bg(s,n,i,o),{wordWrapWidth:Wf(s,r)},a)}getHaloStyle(e){if(!1===e.halo)return!1;const t=this.getKeyStyle(e),{fill:n}=t,r=sh(t,["fill"]),i=Rf(this.getGraphicStyle(e),"halo");return Object.assign(Object.assign(Object.assign({},r),{stroke:n}),i)}getIconStyle(e){if(!1===e.icon||!e.iconText&&!e.iconSrc)return!1;const t=Rf(this.getGraphicStyle(e),"icon");return Object.assign(function(e,t){const n=Lf(e);let r={};return t.text&&!t.fontSize&&(r={fontSize:.5*Math.min(...n)}),!t.src||t.width&&t.height||(r={width:.5*n[0],height:.5*n[1]}),r}(e.size,t),t)}getBadgesStyle(e){var t;const n=Af(this.shapeMap,"badge-"),r={};if(Object.keys(n).forEach((e=>{r[e]=!1})),!1===e.badge||!(null===(t=e.badges)||void 0===t?void 0:t.length))return r;const{badges:i=[],badgePalette:o,opacity:a=1}=e,s=sh(e,["badges","badgePalette","opacity"]),l=Bf(o),u=Rf(this.getGraphicStyle(s),"badge");return i.forEach(((e,t)=>{r[t]=Object.assign(Object.assign({backgroundFill:l?l[t%(null==l?void 0:l.length)]:void 0,opacity:a},u),this.getBadgeStyle(e))})),r}getBadgeStyle(e){const t=this.getShape("key"),{placement:n="top",offsetX:r,offsetY:i}=e,o=sh(e,["placement","offsetX","offsetY"]),a=Bg(t.getLocalBounds(),n,r,i,!0);return Object.assign(Object.assign({},a),o)}getPortsStyle(e){var t;const n=this.getPorts(),r={};if(Object.keys(n).forEach((e=>{r[e]=!1})),!1===e.port||!(null===(t=e.ports)||void 0===t?void 0:t.length))return r;const i=Rf(this.getGraphicStyle(e),"port"),{ports:o=[]}=e;return o.forEach(((t,n)=>{const o=t.key||n,a=Object.assign(Object.assign({},i),t);if(Dg(a))r[o]=!1;else{const[n,i]=this.getPortXY(e,t);r[o]=Object.assign({transform:[["translate",n,i]]},a)}})),r}getPortXY(e,t){const{placement:n="left"}=t,r=this.getShape("key");return Rg(function(e,t){if(!e)return t.getLocalBounds();const n=e.canvas.getLayer(),r=t.cloneNode();Rd(r,"hidden"),n.appendChild(r);const i=r.getLocalBounds();return r.destroy(),i}(this.context,r),n)}getPorts(){return Af(this.shapeMap,"port-")}getCenter(){return this.getShape("key").getBounds().center}getIntersectPoint(e,t=!1){return function(e,t,n=!1){return df(e,nf(t,"center"),[nf(t,"left-top"),nf(t,"right-top"),nf(t,"right-bottom"),nf(t,"left-bottom")],!1,n).point}(e,this.getShape("key").getBounds(),t)}drawHaloShape(e,t){const n=this.getHaloStyle(e),r=this.getShape("key");this.upsert("halo",r.constructor,n,t)}drawIconShape(e,t){const n=this.getIconStyle(e);this.upsert("icon",oh,n,t),rh(this)}drawBadgeShapes(e,t){const n=this.getBadgesStyle(e);Object.keys(n).forEach((e=>{const r=n[e];this.upsert(`badge-${e}`,qf,r,t)}))}drawPortShapes(e,t){const n=this.getPortsStyle(e);Object.keys(n).forEach((e=>{const r=n[e],i=`port-${e}`;this.upsert(i,Dl,r,t)}))}drawLabelShape(e,t){const n=this.getLabelStyle(e);this.upsert("label",Yf,n,t)}_drawKeyShape(e,t){return this.drawKeyShape(e,t)}render(e=this.parsedAttributes,t=this){this._drawKeyShape(e,t),this.getShape("key")&&(this.drawHaloShape(e,t),this.drawIconShape(e,t),this.drawBadgeShapes(e,t),this.drawLabelShape(e,t),this.drawPortShapes(e,t))}update(e){super.update(e),e&&("x"in e||"y"in e||"z"in e)&&ih(this)}onframe(){this.drawBadgeShapes(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this)}}lh.defaultStyleProps={x:0,y:0,size:32,droppable:!0,draggable:!0,port:!0,ports:[],portZIndex:2,portLinkToCenter:!1,badge:!0,badges:[],badgeZIndex:3,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloStrokeOpacity:.25,haloPointerEvents:"none",haloZIndex:-1,icon:!0,iconZIndex:1,label:!0,labelIsBillboard:!0,labelMaxWidth:"200%",labelPlacement:"bottom",labelWordWrap:!1,labelZIndex:0};let uh=class e extends lh{constructor(t){super(jf({style:e.defaultStyleProps},t))}drawKeyShape(e,t){return this.upsert("key",Dl,this.getKeyStyle(e),t)}getKeyStyle(e){const t=super.getKeyStyle(e);return Object.assign(Object.assign({},t),{r:Math.min(...this.getSize(e))/2})}getIconStyle(e){const t=super.getIconStyle(e),{r:n}=this.getShape("key").attributes,r=2*n*xf;return!!t&&Object.assign({width:r,height:r},t)}getIntersectPoint(e,t=!1){return ff(e,this.getShape("key").getBounds(),t)}};uh.defaultStyleProps={size:32};let ch=class extends lh{constructor(e){super(e)}get parsedAttributes(){return this.attributes}drawKeyShape(e,t){return this.upsert("key",Yl,this.getKeyStyle(e),t)}getKeyStyle(e){const t=super.getKeyStyle(e);return Object.assign(Object.assign({},t),{points:this.getPoints(e)})}getIntersectPoint(e,t=!1){var n,r;const{points:i}=this.getShape("key").attributes;return df(e,[+((null===(n=this.attributes)||void 0===n?void 0:n.x)||0),+((null===(r=this.attributes)||void 0===r?void 0:r.y)||0)],i,!0,t).point}};var dh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class fh extends uh{constructor(e){super(jf({style:fh.defaultStyleProps},e))}parseOuterR(){const{size:e}=this.parsedAttributes;return Math.min(...Lf(e))/2}parseInnerR(){const{innerR:e}=this.parsedAttributes;return rt(e)?parseInt(e)/100*this.parseOuterR():e}drawDonutShape(e,t){const{donuts:n}=e;if(!(null==n?void 0:n.length))return;const r=n.map((e=>st(e)?{value:e}:e)),i=Rf(this.getGraphicStyle(e),"donut"),o=Bf(e.donutPalette);if(!o)return;const a=r.reduce(((e,t)=>{var n;return e+(null!==(n=t.value)&&void 0!==n?n:0)}),0),s=this.parseOuterR(),l=this.parseInnerR();let u=0;r.forEach(((e,n)=>{const{value:c=0,color:d=o[n%o.length]}=e,f=dh(e,["value","color"]),h=360*(0===a?1/r.length:c/a);this.upsert(`round${n}`,Gl,Object.assign(Object.assign(Object.assign({},i),{d:ph(s,l,u,u+h),fill:d}),f),t),u+=h}))}render(e,t=this){super.render(e,t),this.drawDonutShape(e,t)}}fh.defaultStyleProps={innerR:"50%",donuts:[],donutPalette:"tableau"};const hh=(e,t,n,r)=>[e+Math.sin(r)*n,t-Math.cos(r)*n],ph=(e=0,t=0,n,r)=>{const[i,o]=[0,0];return Math.abs(n-r)%360<1e-6?((e,t,n,r)=>r<=0||n<=r?[["M",e-n,t],["A",n,n,0,1,1,e+n,t],["A",n,n,0,1,1,e-n,t],["Z"]]:[["M",e-n,t],["A",n,n,0,1,1,e+n,t],["A",n,n,0,1,1,e-n,t],["Z"],["M",e+r,t],["A",r,r,0,1,0,e-r,t],["A",r,r,0,1,0,e+r,t],["Z"]])(i,o,e,t):((e,t,n,r,i,o)=>{const[a,s]=[i/360*2*Math.PI,o/360*2*Math.PI],l=[hh(e,t,r,a),hh(e,t,n,a),hh(e,t,n,s),hh(e,t,r,s)],u=s-a>Math.PI?1:0;return[["M",l[0][0],l[0][1]],["L",l[1][0],l[1][1]],["A",n,n,0,u,1,l[2][0],l[2][1]],["L",l[3][0],l[3][1]],["A",r,r,0,u,0,l[0][0],l[0][1]],["Z"]]})(i,o,e,t,n,r)};let gh=class e extends lh{constructor(t){super(jf({style:e.defaultStyleProps},t))}drawKeyShape(e,t){return this.upsert("key",zl,this.getKeyStyle(e),t)}getKeyStyle(e){const t=super.getKeyStyle(e),[n,r]=this.getSize(e);return Object.assign(Object.assign({},t),{rx:n/2,ry:r/2})}getIconStyle(e){const t=super.getIconStyle(e),{rx:n,ry:r}=this.getShape("key").attributes,i=2*Math.min(+n,+r)*xf;return!!t&&Object.assign({width:i,height:i},t)}getIntersectPoint(e,t=!1){return ff(e,this.getShape("key").getBounds(),t)}};gh.defaultStyleProps={size:[45,35]};
/*!
   * @antv/g-plugin-canvas-path-generator
   * @description A G plugin of path generator with Canvas2D API
   * @version 2.1.14
   * @date 1/2/2025, 2:55:27 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */
function vh(e,t){var n=t.cx,r=void 0===n?0:n,i=t.cy,o=void 0===i?0:i,a=t.r;e.arc(r,o,a,0,2*Math.PI,!1)}function mh(e,t){var n=t.cx,r=void 0===n?0:n,i=t.cy,o=void 0===i?0:i,a=t.rx,s=t.ry;if(e.ellipse)e.ellipse(r,o,a,s,0,0,2*Math.PI,!1);else{var l=a>s?a:s,u=a>s?1:a/s,c=a>s?s/a:1;e.save(),e.scale(u,c),e.arc(r,o,l,0,2*Math.PI)}}function yh(e,t){var n,r,i=t.x1,o=t.y1,a=t.x2,s=t.y2,l=t.markerStart,u=t.markerEnd,c=t.markerStartOffset,d=t.markerEndOffset,f=0,h=0,p=0,g=0,v=0;l&&Nl(l)&&c&&(n=a-i,r=s-o,v=Math.atan2(r,n),f=Math.cos(v)*(c||0),h=Math.sin(v)*(c||0)),u&&Nl(u)&&d&&(n=i-a,r=o-s,v=Math.atan2(r,n),p=Math.cos(v)*(d||0),g=Math.sin(v)*(d||0)),e.moveTo(i+f,o+h),e.lineTo(a+p,s+g)}function bh(e,t){var n,r,i=t.markerStart,o=t.markerEnd,a=t.markerStartOffset,s=t.markerEndOffset,l=t.d,u=l.absolutePath,c=l.segments,d=0,f=0,h=0,p=0,g=0;if(i&&Nl(i)&&a){var v=w(i.parentNode.getStartTangent(),2),m=v[0],y=v[1];n=m[0]-y[0],r=m[1]-y[1],g=Math.atan2(r,n),d=Math.cos(g)*(a||0),f=Math.sin(g)*(a||0)}if(o&&Nl(o)&&s){var b=w(o.parentNode.getEndTangent(),2),x=b[0],E=b[1];n=x[0]-E[0],r=x[1]-E[1],g=Math.atan2(r,n),h=Math.cos(g)*(s||0),p=Math.sin(g)*(s||0)}for(var k=0;k<u.length;k++){var S=u[k],M=S[0],T=u[k+1],C=0===k&&(0!==d||0!==f),N=(k===u.length-1||T&&("M"===T[0]||"Z"===T[0]))&&0!==h&&0!==p,P=w(C?[d,f]:[0,0],2),O=P[0],_=P[1],R=w(N?[h,p]:[0,0],2),A=R[0],D=R[1];switch(M){case"M":e.moveTo(S[1]+O,S[2]+_);break;case"L":e.lineTo(S[1]+A,S[2]+D);break;case"Q":e.quadraticCurveTo(S[1],S[2],S[3]+A,S[4]+D);break;case"C":e.bezierCurveTo(S[1],S[2],S[3],S[4],S[5]+A,S[6]+D);break;case"A":var L=c[k].arcParams,I=L.cx,z=L.cy,j=L.rx,F=L.ry,B=L.startAngle,U=L.endAngle,W=L.xRotation,V=L.sweepFlag;if(e.ellipse)e.ellipse(I,z,j,F,W,B,U,!!(1-V));else{var H=j>F?j:F,G=j>F?1:j/F,$=j>F?F/j:1;e.translate(I,z),e.rotate(W),e.scale(G,$),e.arc(0,0,H,B,U,!!(1-V)),e.scale(1/G,1/$),e.rotate(-W),e.translate(-I,-z)}N&&e.lineTo(S[6]+h,S[7]+p);break;case"Z":e.closePath()}}}function wh(e,t){var n,r,i=t.markerStart,o=t.markerEnd,a=t.markerStartOffset,s=t.markerEndOffset,l=t.points.points,u=l.length,c=l[0][0],d=l[0][1],f=l[u-1][0],h=l[u-1][1],p=0,g=0,v=0,m=0,y=0;i&&Nl(i)&&a&&(n=l[1][0]-l[0][0],r=l[1][1]-l[0][1],y=Math.atan2(r,n),p=Math.cos(y)*(a||0),g=Math.sin(y)*(a||0)),o&&Nl(o)&&s&&(n=l[u-1][0]-l[0][0],r=l[u-1][1]-l[0][1],y=Math.atan2(r,n),v=Math.cos(y)*(s||0),m=Math.sin(y)*(s||0)),e.moveTo(c+(p||v),d+(g||m));for(var b=1;b<u-1;b++){var w=l[b];e.lineTo(w[0],w[1])}e.lineTo(f,h)}function xh(e,t){var n,r,i=t.markerStart,o=t.markerEnd,a=t.markerStartOffset,s=t.markerEndOffset,l=t.points.points,u=l.length,c=l[0][0],d=l[0][1],f=l[u-1][0],h=l[u-1][1],p=0,g=0,v=0,m=0,y=0;i&&Nl(i)&&a&&(n=l[1][0]-l[0][0],r=l[1][1]-l[0][1],y=Math.atan2(r,n),p=Math.cos(y)*(a||0),g=Math.sin(y)*(a||0)),o&&Nl(o)&&s&&(n=l[u-2][0]-l[u-1][0],r=l[u-2][1]-l[u-1][1],y=Math.atan2(r,n),v=Math.cos(y)*(s||0),m=Math.sin(y)*(s||0)),e.moveTo(c+p,d+g);for(var b=1;b<u-1;b++){var w=l[b];e.lineTo(w[0],w[1])}e.lineTo(f+v,h+m)}function Eh(e,t){var n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,a=t.radius,s=t.width,l=t.height,u=s,c=l;if(a&&a.some((function(e){return 0!==e}))){var d=s>0?1:-1,f=l>0?1:-1,h=d+f===0,p=w(a.map((function(e){return at(e,0,Math.min(Math.abs(u)/2,Math.abs(c)/2))})),4),g=p[0],v=p[1],m=p[2],y=p[3];e.moveTo(d*g+r,o),e.lineTo(u-d*v+r,o),0!==v&&e.arc(u-d*v+r,f*v+o,v,-f*Math.PI/2,d>0?0:Math.PI,h),e.lineTo(u+r,c-f*m+o),0!==m&&e.arc(u-d*m+r,c-f*m+o,m,d>0?0:Math.PI,f>0?Math.PI/2:1.5*Math.PI,h),e.lineTo(d*y+r,c+o),0!==y&&e.arc(d*y+r,c-f*y+o,y,f>0?Math.PI/2:-Math.PI/2,d>0?Math.PI:0,h),e.lineTo(r,f*g+o),0!==g&&e.arc(d*g+r,f*g+o,g,d>0?Math.PI:0,f>0?1.5*Math.PI:Math.PI/2,h)}else e.rect(r,o,u,c)}var kh=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=m(this,t,[].concat(r))).name="canvas-path-generator",e}return b(t,e),c(t,[{key:"init",value:function(){var e,t=(o(o(o(o(o(o(o(o(o(o(e={},zr.CIRCLE,vh),zr.ELLIPSE,mh),zr.RECT,Eh),zr.LINE,yh),zr.POLYLINE,xh),zr.POLYGON,wh),zr.PATH,bh),zr.TEXT,void 0),zr.GROUP,void 0),zr.IMAGE,void 0),o(o(o(e,zr.HTML,void 0),zr.MESH,void 0),zr.FRAGMENT,void 0));this.context.pathGeneratorFactory=t}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(Fr),Sh=fe(),Mh=fe(),Th=fe(),Ch=P(),Nh=function(){function e(){var t=this;l(this,e),this.isHit=function(e,n,r,i){var o=t.context.pointInPathPickerFactory[e.nodeName];if(o){var a=I(Ch,r),s=Me(Mh,me(Th,n[0],n[1],0),a);if(o(e,new Qr(s[0],s[1]),i,t.isPointInPath,t.context,t.runtime))return!0}return!1},this.isPointInPath=function(e,n){var r=t.runtime.offscreenCanvasCreator.getOrCreateContext(t.context.config.offscreenCanvas),i=t.context.pathGeneratorFactory[e.nodeName];return i&&(r.beginPath(),i(r,e.parsedStyle),r.closePath()),r.isPointInPath(n.x,n.y)}}return c(e,[{key:"apply",value:function(t,n){var r,i=this,o=t.renderingService,a=t.renderingContext;this.context=t,this.runtime=n;var s=null===(r=a.root)||void 0===r?void 0:r.ownerDocument;o.hooks.pick.tapPromise(e.tag,function(){var e=Rr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.pick(s,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.hooks.pickSync.tap(e.tag,(function(e){return i.pick(s,e)}))}},{key:"pick",value:function(e,t){var n,r=t.topmost,i=t.position,o=i.x,a=i.y,s=me(Sh,o,a,0),l=[],u=Ar(e.elementsFromBBox(s[0],s[1],s[0],s[1]));try{for(u.s();!(n=u.n()).done;){var c=n.value,d=c.getWorldTransform();if(this.isHit(c,s,d,!1)){var f=Ba(c);if(f){var h=f.parsedStyle.clipPath;if(this.isHit(h,s,h.getWorldTransform(),!0)){if(r)return t.picked=[c],t;l.push(c)}}else{if(r)return t.picked=[c],t;l.push(c)}}}}catch(e){u.e(e)}finally{u.f()}return t.picked=l,t}}])}();
/*!
   * @antv/g-plugin-canvas-picker
   * @description A G plugin for picking in canvas
   * @version 2.1.16
   * @date 1/2/2025, 2:57:34 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */function Ph(e,t,n){var r=e.parsedStyle,i=r.cx,o=void 0===i?0:i,a=r.cy,s=void 0===a?0:a,l=r.r,u=r.fill,c=r.stroke,d=r.lineWidth,f=void 0===d?1:d,h=r.increasedLineWidthForHitTesting,p=void 0===h?0:h,g=r.pointerEvents,v=void 0===g?"auto":g,m=(f+p)/2,y=fr(o,s,t.x,t.y),b=w(Ga(v,u,c),2),x=b[0],E=b[1];return x&&E||n?y<=l+m:x?y<=l:!!E&&(y>=l-m&&y<=l+m)}function Oh(e,t,n,r){return e/(n*n)+t/(r*r)}function _h(e,t,n){var r=e.parsedStyle,i=r.cx,o=void 0===i?0:i,a=r.cy,s=void 0===a?0:a,l=r.rx,u=r.ry,c=r.fill,d=r.stroke,f=r.lineWidth,h=void 0===f?1:f,p=r.increasedLineWidthForHitTesting,g=void 0===p?0:p,v=r.pointerEvents,m=void 0===v?"auto":v,y=t.x,b=t.y,x=w(Ga(m,c,d),2),E=x[0],k=x[1],S=(h+g)/2,M=(y-o)*(y-o),T=(b-s)*(b-s);return E&&k||n?Oh(M,T,l+S,u+S)<=1:E?Oh(M,T,l,u)<=1:!!k&&(Oh(M,T,l-S,u-S)>=1&&Oh(M,T,l+S,u+S)<=1)}function Rh(e,t,n,r,i,o){return i>=e&&i<=e+n&&o>=t&&o<=t+r}function Ah(e,t,n,r,i,o,a,s){var l=(Math.atan2(s-t,a-e)+2*Math.PI)%(2*Math.PI),u={x:e+n*Math.cos(l),y:t+n*Math.sin(l)};return fr(u.x,u.y,a,s)<=o/2}function Dh(e,t,n,r,i,o,a){var s=Math.min(e,n),l=Math.max(e,n),u=Math.min(t,r),c=Math.max(t,r),d=i/2;return o>=s-d&&o<=l+d&&a>=u-d&&a<=c+d&&wr(e,t,n,r,o,a)<=i/2}function Lh(e,t,n,r,i){var o=e.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(Dh(e[a][0],e[a][1],e[a+1][0],e[a+1][1],t,n,r))return!0}if(i){var s=e[0],l=e[o-1];if(Dh(s[0],s[1],l[0],l[1],t,n,r))return!0}return!1}Nh.tag="CanvasPicker";function Ih(e){return Math.abs(e)<1e-6?0:e<0?-1:1}function zh(e,t,n){return(n[0]-e[0])*(t[1]-e[1])==(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}function jh(e,t,n){var r=!1,i=e.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=e[o],s=e[(o+1)%i];if(zh(a,s,[t,n]))return!0;Ih(a[1]-n)>0!=Ih(s[1]-n)>0&&Ih(t-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}function Fh(e,t,n){for(var r=!1,i=0;i<e.length;i++){if(r=jh(e[i],t,n))break}return r}function Bh(e,t,n){var r=e.parsedStyle,i=r.x1,o=r.y1,a=r.x2,s=r.y2,l=r.lineWidth,u=void 0===l?1:l,c=r.increasedLineWidthForHitTesting,d=void 0===c?0:c,f=r.pointerEvents;return!(!w(Ga(void 0===f?"auto":f,r.fill,r.stroke),2)[1]&&!n||!u)&&Dh(i,o,a,s,u+d,t.x,t.y)}function Uh(e,t,n,r,i,o){var a=e.parsedStyle,s=a.lineWidth,l=void 0===s?1:s,u=a.increasedLineWidthForHitTesting,c=void 0===u?0:u,d=a.stroke,f=a.fill,h=a.d,p=a.pointerEvents,g=void 0===p?"auto":p,v=h.segments,m=h.hasArc,y=h.polylines,b=h.polygons,x=w(Ga(g,(null==b?void 0:b.length)&&f,d),2),E=x[0],k=x[1],S=Ao(e),M=!1;return E||n?M=m?r(e,t):Fh(b,t.x,t.y)||Fh(y,t.x,t.y):((k||n)&&(M=function(e,t,n,r,i){for(var o=!1,a=t/2,s=0;s<e.length;s++){var l=e[s],u=l.currentPoint,c=l.params,d=l.prePoint,f=l.box;if(!f||Rh(f.x-a,f.y-a,f.width+t,f.height+t,n,r))switch(l.command){case"L":case"Z":if(o=Dh(d[0],d[1],u[0],u[1],t,n,r))return!0;break;case"Q":if(o=Pr(d[0],d[1],c[1],c[2],c[3],c[4],n,r)<=t/2)return!0;break;case"C":if(o=Sr(d[0],d[1],c[1],c[2],c[3],c[4],c[5],c[6],n,r,i)<=t/2)return!0;break;case"A":l.cubicParams||(l.cubicParams=dn(d[0],d[1],c[1],c[2],c[3],c[4],c[5],c[6],c[7],void 0));for(var h=l.cubicParams,p=d,g=0;g<h.length;g+=6){var v=Sr(p[0],p[1],h[g],h[g+1],h[g+2],h[g+3],h[g+4],h[g+5],n,r,i);if(p=[h[g+4],h[g+5]],o=v<=t/2)return!0}}}return o}(v,l+c,t.x,t.y,S)),M)}function Wh(e,t,n){var r=e.parsedStyle,i=r.stroke,o=r.fill,a=r.lineWidth,s=void 0===a?1:a,l=r.increasedLineWidthForHitTesting,u=void 0===l?0:l,c=r.points,d=r.pointerEvents,f=w(Ga(void 0===d?"auto":d,o,i),2),h=f[0],p=!1;return(f[1]||n)&&(p=Lh(c.points,s+u,t.x,t.y,!0)),p||!h&&!n||(p=jh(c.points,t.x,t.y)),p}function Vh(e,t,n){var r=e.parsedStyle,i=r.lineWidth,o=void 0===i?1:i,a=r.increasedLineWidthForHitTesting,s=void 0===a?0:a,l=r.points,u=r.pointerEvents;return!(!w(Ga(void 0===u?"auto":u,r.fill,r.stroke),2)[1]&&!n||!o)&&Lh(l.points,o+s,t.x,t.y,!1)}function Hh(e,t,n,r,i){var o=e.parsedStyle,a=o.radius,s=o.fill,l=o.stroke,u=o.lineWidth,c=void 0===u?1:u,d=o.increasedLineWidthForHitTesting,f=void 0===d?0:d,h=o.x,p=void 0===h?0:h,g=o.y,v=void 0===g?0:g,m=o.width,y=o.height,b=o.pointerEvents,x=w(Ga(void 0===b?"auto":b,s,l),2),E=x[0],k=x[1],S=c+f;if(a&&a.some((function(e){return 0!==e}))){var M=!1;return(k||n)&&(M=function(e,t,n,r,i,o,a,s){var l=w(i,4),u=l[0],c=l[1],d=l[2],f=l[3];return Dh(e+u,t,e+n-c,t,o,a,s)||Dh(e+n,t+c,e+n,t+r-d,o,a,s)||Dh(e+n-d,t+r,e+f,t+r,o,a,s)||Dh(e,t+r-f,e,t+u,o,a,s)||Ah(e+n-c,t+c,c,Math.PI,Math.PI,o,a,s)||Ah(e+n-d,t+r-d,d,0,Math.PI,o,a,s)||Ah(e+f,t+r-f,f,Math.PI,Math.PI,o,a,s)||Ah(e+u,t+u,u,Math.PI,Math.PI,o,a,s)}(p,v,m,y,a.map((function(e){return at(e,0,Math.min(Math.abs(m)/2,Math.abs(y)/2))})),S,t.x,t.y)),M||!E&&!n||(M=r(e,t)),M}var T=S/2;return E&&k||n?Rh(p-T,v-T,m+T,y+T,t.x,t.y):E?Rh(p,v,m,y,t.x,t.y):!!k&&function(e,t,n,r,i,o,a){var s=i/2;return Rh(e-s,t-s,n,i,o,a)||Rh(e+n-s,t-s,i,r,o,a)||Rh(e+s,t+r-s,n,i,o,a)||Rh(e-s,t+s,i,r,o,a)}(p,v,m,y,S,t.x,t.y)}function Gh(e,t,n,r,i,o){var a=e.parsedStyle,l=a.pointerEvents,u=void 0===l?"auto":l,c=a.x,d=void 0===c?0:c,f=a.y,h=void 0===f?0:f,p=a.width,g=a.height;if("non-transparent-pixel"===u){var v=i.config.offscreenCanvas,m=o.offscreenCanvasCreator.getOrCreateCanvas(v),y=o.offscreenCanvasCreator.getOrCreateContext(v,{willReadFrequently:!0});return m.width=p,m.height=g,i.defaultStyleRendererFactory[zr.IMAGE].render(y,s(s({},e.parsedStyle),{},{x:0,y:0}),e,void 0,void 0,void 0),y.getImageData(t.x-d,t.y-h,1,1).data.every((function(e){return 0!==e}))}return!0}function $h(e,t,n,r){var i=e.getGeometryBounds();return t.x>=i.min[0]&&t.y>=i.min[1]&&t.x<=i.max[0]&&t.y<=i.max[1]}var Yh=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=m(this,t,[].concat(r))).name="canvas-picker",e}return b(t,e),c(t,[{key:"init",value:function(){var e,t=(o(o(o(o(o(o(o(o(o(o(e={},zr.CIRCLE,Ph),zr.ELLIPSE,_h),zr.RECT,Hh),zr.LINE,Bh),zr.POLYLINE,Vh),zr.POLYGON,Wh),zr.PATH,Uh),zr.TEXT,$h),zr.GROUP,null),zr.IMAGE,Gh),o(o(e,zr.HTML,null),zr.MESH,null));this.context.pointInPathPickerFactory=t,this.addRenderingPlugin(new Nh)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(Fr);function qh(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Kh=0;function Xh(e){return"__private_"+Kh+++"_"+e}
/*!
   * @antv/g-plugin-image-loader
   * @description A G plugin for loading image
   * @version 2.1.16
   * @date 1/2/2025, 2:55:54 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */var Qh=function(){return c((function e(){l(this,e),this.cacheStore=new Map}),[{key:"onRefAdded",value:function(e){}},{key:"has",value:function(e){return this.cacheStore.has(e)}},{key:"put",value:function(e,t,n){return!this.cacheStore.has(e)&&(this.cacheStore.set(e,{value:t,counter:new Set([n])}),this.onRefAdded(n),!0)}},{key:"get",value:function(e,t){var n=this.cacheStore.get(e);return n?(n.counter.has(t)||(n.counter.add(t),this.onRefAdded(t)),n.value):null}},{key:"update",value:function(e,t,n){var r=this.cacheStore.get(e);return!!r&&(r.value=s(s({},r.value),t),r.counter.has(n)||(r.counter.add(n),this.onRefAdded(n)),!0)}},{key:"release",value:function(e,t){var n=this.cacheStore.get(e);return!!n&&(n.counter.delete(t),n.counter.size<=0&&this.cacheStore.delete(e),!0)}},{key:"releaseRef",value:function(e){var t=this;Array.from(this.cacheStore.keys()).forEach((function(n){t.release(n,e)}))}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])}(),Zh=[],Jh=[],ep=function(){function e(){l(this,e)}return c(e,null,[{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.api;e.rafId&&(t.cancelAnimationFrame(e.rafId),e.rafId=null)}},{key:"executeTask",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.api;Zh.length<=0&&Jh.length<=0||(Jh.forEach((function(e){return e()})),Jh=Zh.splice(0,e.TASK_NUM_PER_FRAME),e.rafId=t.requestAnimationFrame((function(){e.executeTask(t)})))}},{key:"sliceImage",value:function(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.api,s=t.naturalWidth||t.width,l=t.naturalHeight||t.height,u=n-o,c=r-o,d=Math.ceil(s/u),f=Math.ceil(l/c),h={tileSize:[n,r],gridSize:[f,d],tiles:Array(f).fill(null).map((function(){return Array(d).fill(null)}))},p=function(e){for(var o=function(o){Zh.push((function(){var d=o*u,f=e*c,p=[Math.min(n,s-d),Math.min(r,l-f)],g=p[0],v=p[1],m=a.createCanvas();m.width=n,m.height=r,m.getContext("2d").drawImage(t,d,f,g,v,0,0,g,v),h.tiles[e][o]={x:d,y:f,tileX:o,tileY:e,data:m},i()}))},f=0;f<d;f++)o(f)},g=0;g<f;g++)p(g);return e.stop(),e.executeTask(),h}}])}();ep.TASK_NUM_PER_FRAME=10;var tp=new Qh;tp.onRefAdded=function(e){var t=this;e.addEventListener(Vs.DESTROY,(function(){t.releaseRef(e)}),{once:!0})};var np=function(){return c((function e(t,n){l(this,e),this.gradientCache={},this.patternCache={},this.context=t,this.runtime=n}),[{key:"getImageSync",value:function(e,t,n){var r=rt(e)?e:e.src;if(tp.has(r)){var i=tp.get(r,t);if(i.img.complete)return null==n||n(i),i}return this.getOrCreateImage(e,t).then((function(e){null==n||n(e)})).catch((function(){})),null}},{key:"getOrCreateImage",value:function(e,t){var n=this,r=rt(e)?e:e.src;if(!rt(e)&&!tp.has(r)){var i={img:e,size:[e.naturalWidth||e.width,e.naturalHeight||e.height],tileSize:rp(e)};tp.put(r,i,t)}if(tp.has(r)){var o=tp.get(r,t);return o.img.complete?Promise.resolve(o):new Promise((function(e,t){o.img.addEventListener("load",(function(){o.size=[o.img.naturalWidth||o.img.width,o.img.naturalHeight||o.img.height],o.tileSize=rp(o.img),e(o)})),o.img.addEventListener("error",(function(e){t(e)}))}))}return new Promise((function(e,i){var o=n.context.config.createImage();if(o){var a={img:o,size:[0,0],tileSize:rp(o)};tp.put(r,a,t),o.onload=function(){a.size=[o.naturalWidth||o.width,o.naturalHeight||o.height],a.tileSize=rp(a.img),e(a)},o.onerror=function(e){i(e)},o.crossOrigin="Anonymous",o.src=r}}))}},{key:"createDownSampledImage",value:(t=Rr(Or().mark((function e(t,n){var r,i,o,a,l,u,c,d,f,h,p,g,v,m;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrCreateImage(t,n);case 2:if(void 0===(r=e.sent).downSamplingRate){e.next=5;break}return e.abrupt("return",r);case 5:if(i=this.context.config.enableLargeImageOptimization,a=(o="boolean"==typeof i?{}:i).maxDownSampledImageSize,l=void 0===a?2048:a,u=o.downSamplingRateThreshold,c=void 0===u?.5:u,d=this.runtime.globalThis.createImageBitmap,f=w(r.size,2),h=f[0],p=f[1],g=r.img,v=Math.min((l+l)/(h+p),Math.max(.01,Math.min(c,.5))),m=s(s({},r),{},{downSamplingRate:v}),tp.update(r.img.src,m,n),!d){e.next=25;break}return e.prev=14,e.next=17,d(r.img,{resizeWidth:h*v,resizeHeight:p*v});case 17:g=e.sent,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(14),v=1;case 23:e.next=26;break;case 25:v=1;case 26:return m=s(s({},this.getImageSync(t,n)),{},{downSampled:g,downSamplingRate:v}),tp.update(r.img.src,m,n),e.abrupt("return",m);case 29:case"end":return e.stop()}}),e,this,[[14,20]])}))),function(e,n){return t.apply(this,arguments)})},{key:"createImageTiles",value:(e=Rr(Or().mark((function e(t,n,r,i){var o,a,l,u,c;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrCreateImage(t,i);case 2:return o=e.sent,a=i.ownerDocument.defaultView,l=a.requestAnimationFrame,u=a.cancelAnimationFrame,ep.api={requestAnimationFrame:l,cancelAnimationFrame:u,createCanvas:function(){return js.createCanvas()}},c=s(s({},o),ep.sliceImage(o.img,o.tileSize[0],o.tileSize[0],r)),tp.update(o.img.src,c,i),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e,this)}))),function(t,n,r,i){return e.apply(this,arguments)})},{key:"releaseImage",value:function(e,t){tp.release(rt(e)?e:e.src,t)}},{key:"releaseImageRef",value:function(e){tp.releaseRef(e)}},{key:"getOrCreatePatternSync",value:function(e,t,n,r,i,o,a){var s=this.generatePatternKey(t);if(s&&this.patternCache[s])return this.patternCache[s];var l,u=t.image,c=t.repetition,d=t.transform,f=!1;if(rt(u)){var h=this.getImageSync(u,e,a);l=null==h?void 0:h.img}else r?(l=r,f=!0):l=u;var p,g=l&&n.createPattern(l,c);g&&(p=d?vs(ta(d),new Al({})):D(P()),f&&B(p,p,[1/i,1/i,1]),g.setTransform({a:p[0],b:p[1],c:p[4],d:p[5],e:p[12]+o[0],f:p[13]+o[1]}));return s&&g&&(this.patternCache[s]=g),g}},{key:"getOrCreateGradient",value:function(e,t){var n=this.generateGradientKey(e),r=e.type,i=e.steps,o=e.min,a=e.width,s=e.height,l=e.angle,u=e.cx,c=e.cy,d=e.size;if(this.gradientCache[n])return this.gradientCache[n];var f=null;if(r===Bi.LinearGradient){var h=function(e,t,n,r){var i=oi(r.value),o=0+t/2,a=0+n/2,s=Math.abs(t*Math.cos(i))+Math.abs(n*Math.sin(i));return{x1:e[0]+o-Math.cos(i)*s/2,y1:e[1]+a-Math.sin(i)*s/2,x2:e[0]+o+Math.cos(i)*s/2,y2:e[1]+a+Math.sin(i)*s/2}}(o,a,s,l),p=h.x1,g=h.y1,v=h.x2,m=h.y2;f=t.createLinearGradient(p,g,v,m)}else if(r===Bi.RadialGradient){var y=function(e,t,n,r,i,o){var a=r.value,s=i.value;r.unit===Pi.kPercentage&&(a=r.value/100*t),i.unit===Pi.kPercentage&&(s=i.value/100*n);var l=Math.max(vn([0,0],[a,s]),vn([0,n],[a,s]),vn([t,n],[a,s]),vn([t,0],[a,s]));return o&&(o instanceof Hi?l=o.value:o instanceof Wi&&("closest-side"===o.value?l=Math.min(a,t-a,s,n-s):"farthest-side"===o.value?l=Math.max(a,t-a,s,n-s):"closest-corner"===o.value&&(l=Math.min(vn([0,0],[a,s]),vn([0,n],[a,s]),vn([t,n],[a,s]),vn([t,0],[a,s]))))),{x:a+e[0],y:s+e[1],r:l}}(o,a,s,u,c,d),b=y.x,w=y.y,x=y.r;f=t.createRadialGradient(b,w,0,b,w,x)}return f&&(i.forEach((function(e){var t,n=e.offset,r=e.color;n.unit===Pi.kPercentage&&(null===(t=f)||void 0===t||t.addColorStop(n.value/100,r.toString()))})),this.gradientCache[n]=f),this.gradientCache[n]}},{key:"generateGradientKey",value:function(e){var t=e.type,n=e.min,r=e.width,i=e.height,o=e.steps,a=e.angle,s=e.cx,l=e.cy,u=e.size;return"gradient-".concat(t,"-").concat((null==a?void 0:a.toString())||0,"-").concat((null==s?void 0:s.toString())||0,"-").concat((null==l?void 0:l.toString())||0,"-").concat((null==u?void 0:u.toString())||0,"-").concat(n[0],"-").concat(n[1],"-").concat(r,"-").concat(i,"-").concat(o.map((function(e){var t=e.offset,n=e.color;return"".concat(t).concat(n)})).join("-"))}},{key:"generatePatternKey",value:function(e){var t=e.image,n=e.repetition;return rt(t)?"pattern-".concat(t,"-").concat(n):"rect"===t.nodeName?"pattern-".concat(t.entity,"-").concat(n):void 0}}]);var e,t}();function rp(e){if(!e.complete)return[0,0];var t=e.naturalWidth||e.width,n=e.naturalHeight||e.height,r=256;return[256,512].forEach((function(e){Math.ceil(n/e)*Math.ceil(t/e)<1e3&&(r=e)})),[r,r]}np.isSupportTile=!!js.createCanvas();var ip=function(){function e(){l(this,e)}return c(e,[{key:"apply",value:function(t){var n=t.renderingService,r=t.renderingContext,i=t.imagePool,o=r.root.ownerDocument.defaultView,a=function(e,t,n){var r=e.parsedStyle,i=r.width,o=r.height;i&&!o?e.setAttribute("height",n/t*i):!i&&o&&e.setAttribute("width",t/n*o)},s=function(e){var t=e.target,r=t.nodeName,o=t.attributes;if(r===zr.IMAGE){var s=o.src,l=o.keepAspectRatio;i.getImageSync(s,t,(function(e){var r=e.img,i=r.width,o=r.height;l&&a(t,i,o),t.renderable.dirty=!0,n.dirtify()}))}},l=function(e){var t=e.target,r=e.attrName,o=e.prevValue,s=e.newValue;t.nodeName===zr.IMAGE&&"src"===r&&(o!==s&&i.releaseImage(o,t),rt(s)&&i.getOrCreateImage(s,t).then((function(e){var r=e.img,i=r.width,o=r.height;t.attributes.keepAspectRatio&&a(t,i,o),t.renderable.dirty=!0,n.dirtify()})).catch((function(){})))};n.hooks.init.tap(e.tag,(function(){o.addEventListener(Vs.MOUNTED,s),o.addEventListener(Vs.ATTR_MODIFIED,l)})),n.hooks.destroy.tap(e.tag,(function(){o.removeEventListener(Vs.MOUNTED,s),o.removeEventListener(Vs.ATTR_MODIFIED,l)}))}}])}();ip.tag="LoadImage";var op=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=m(this,t,[].concat(r))).name="image-loader",e}return b(t,e),c(t,[{key:"init",value:function(e){this.context.imagePool=new np(this.context,e),this.addRenderingPlugin(new ip)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Fr),ap=Xh("renderState"),sp=function(){function e(t){l(this,e),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,ap,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=P(),this.dprMatrix=P(),this.tmpMat4=P(),this.vec3a=fe(),this.vec3b=fe(),this.vec3c=fe(),this.vec3d=fe(),this.canvasRendererPluginOptions=t}return c(e,[{key:"apply",value:function(t,n){var r=this;this.context=t;var i=this.context,o=i.config,a=i.camera,s=i.renderingService,l=i.renderingContext,u=i.rBushRoot,c=i.pathGeneratorFactory,d=o.renderer.getConfig().enableRenderingOptimization;o.renderer.getConfig().enableDirtyCheck=!1,o.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=u,this.pathGeneratorFactory=c;var f=t.contextService,p=l.root.ownerDocument.defaultView,g=function(e){var t=e.target.rBushNode;t.aabb&&r.removedRBushNodeAABBs.push(t.aabb)},v=function(e){var t=e.target.rBushNode;t.aabb&&r.removedRBushNodeAABBs.push(t.aabb)};s.hooks.init.tap(e.tag,(function(){p.addEventListener(Vs.UNMOUNTED,g),p.addEventListener(Vs.CULLED,v);var e=f.getDPR(),t=o.width,n=o.height,i=f.getContext();r.clearRect(i,0,0,t*e,n*e,o.background)})),s.hooks.destroy.tap(e.tag,(function(){p.removeEventListener(Vs.UNMOUNTED,g),p.removeEventListener(Vs.CULLED,v),r.renderQueue=[],r.removedRBushNodeAABBs=[],qh(r,ap)[ap]={restoreStack:[],prevObject:null,currentContext:null}})),s.hooks.beginFrame.tap(e.tag,(function(){var e,t=f.getContext(),n=f.getDPR(),i=o.width,a=o.height,l=r.canvasRendererPluginOptions,u=l.dirtyObjectNumThreshold,c=l.dirtyObjectRatioThreshold,d=s.getStats(),h=d.total,g=d.rendered,v=g/h;r.clearFullScreen=r.clearFullScreenLastFrame||!(null!==(e=p.context.renderingPlugins[1])&&void 0!==e&&e.isFirstTimeRenderingFinished)||s.disableDirtyRectangleRendering()||g>u&&v>c,t&&("function"==typeof t.resetTransform?t.resetTransform():t.setTransform(1,0,0,1,0,0),r.clearFullScreen&&r.clearRect(t,0,0,i*n,a*n,o.background))}));var m=function(e,t){for(var i=[e];i.length>0;){var o=i.pop();o.isVisible()&&!o.isCulled()&&(d?r.renderDisplayObjectOptimized(o,t,r.context,qh(r,ap)[ap],n):r.renderDisplayObject(o,t,r.context,qh(r,ap)[ap],n));for(var a=o.sortable.sorted||o.childNodes,s=a.length-1;s>=0;s--)i.push(a[s])}};s.hooks.endFrame.tap(e.tag,(function(){if(0!==l.root.childNodes.length){d=o.renderer.getConfig().enableRenderingOptimization,qh(r,ap)[ap]={restoreStack:[],prevObject:null,currentContext:qh(r,ap)[ap].currentContext},qh(r,ap)[ap].currentContext.clear(),r.clearFullScreenLastFrame=!1;var e=f.getContext(),t=f.getDPR();if(H(r.dprMatrix,[t,t,1]),j(r.vpMatrix,r.dprMatrix,a.getOrthoMatrix()),r.clearFullScreen)d?(e.save(),m(l.root,e),e.restore()):m(l.root,e),r.removedRBushNodeAABBs=[];else{var i=r.safeMergeAABB.apply(r,[r.mergeDirtyAABBs(r.renderQueue)].concat(h(r.removedRBushNodeAABBs.map((function(e){var t=e.minX,n=e.minY,r=e.maxX,i=e.maxY,o=new Yr;return o.setMinMax([t,n,0],[r,i,0]),o})))));if(r.removedRBushNodeAABBs=[],Yr.isEmpty(i))return void(r.renderQueue=[]);var s=r.convertAABB2Rect(i),u=s.x,c=s.y,g=s.width,v=s.height,y=Me(r.vec3a,[u,c,0],r.vpMatrix),b=Me(r.vec3b,[u+g,c,0],r.vpMatrix),w=Me(r.vec3c,[u,c+v,0],r.vpMatrix),x=Me(r.vec3d,[u+g,c+v,0],r.vpMatrix),E=Math.min(y[0],b[0],x[0],w[0]),k=Math.min(y[1],b[1],x[1],w[1]),S=Math.max(y[0],b[0],x[0],w[0]),M=Math.max(y[1],b[1],x[1],w[1]),T=Math.floor(E),C=Math.floor(k),N=Math.ceil(S-E),P=Math.ceil(M-k);e.save(),r.clearRect(e,T,C,N,P,o.background),e.beginPath(),e.rect(T,C,N,P),e.clip(),e.setTransform(r.vpMatrix[0],r.vpMatrix[1],r.vpMatrix[4],r.vpMatrix[5],r.vpMatrix[12],r.vpMatrix[13]),o.renderer.getConfig().enableDirtyRectangleRenderingDebug&&p.dispatchEvent(new As(au.DIRTY_RECTANGLE,{dirtyRect:{x:T,y:C,width:N,height:P}})),r.searchDirtyObjects(i).sort((function(e,t){return e.sortable.renderOrder-t.sortable.renderOrder})).forEach((function(t){t&&t.isVisible()&&!t.isCulled()&&r.renderDisplayObject(t,e,r.context,qh(r,ap)[ap],n)})),e.restore(),r.renderQueue.forEach((function(e){r.saveDirtyAABB(e)})),r.renderQueue=[]}qh(r,ap)[ap].restoreStack.forEach((function(){e.restore()})),qh(r,ap)[ap].restoreStack=[]}else r.clearFullScreenLastFrame=!0})),s.hooks.render.tap(e.tag,(function(e){r.clearFullScreen||r.renderQueue.push(e)}))}},{key:"clearRect",value:function(e,t,n,r,i,o){e.clearRect(t,n,r,i),o&&(e.fillStyle=o,e.fillRect(t,n,r,i))}},{key:"renderDisplayObjectOptimized",value:function(e,t,n,r,i){var o=e.nodeName,a=!1,s=this.context.styleRendererFactory[o],l=this.pathGeneratorFactory[o],u=e.parsedStyle.clipPath;if(u){(!r.prevObject||!le(u.getWorldTransform(),r.prevObject.getWorldTransform()))&&(this.applyWorldTransform(t,u),r.prevObject=null);var c=this.pathGeneratorFactory[u.nodeName];c&&(t.save(),a=!0,t.beginPath(),c(t,u.parsedStyle),t.closePath(),t.clip())}if(s){(!r.prevObject||!le(e.getWorldTransform(),r.prevObject.getWorldTransform()))&&this.applyWorldTransform(t,e);var d=!r.prevObject;if(!d){var f=r.prevObject.nodeName;d=o===zr.TEXT?f!==zr.TEXT:o===zr.IMAGE?f!==zr.IMAGE:f===zr.TEXT||f===zr.IMAGE}s.applyStyleToContext(t,e,d,r),r.prevObject=e}l&&(t.beginPath(),l(t,e.parsedStyle),o!==zr.LINE&&o!==zr.PATH&&o!==zr.POLYLINE&&t.closePath()),s&&s.drawToContext(t,e,qh(this,ap)[ap],this,i),a&&t.restore(),e.renderable.dirty=!1}},{key:"renderDisplayObject",value:function(e,t,n,r,i){var o=e.nodeName,a=r.restoreStack[r.restoreStack.length-1];!a||e.compareDocumentPosition(a)&Is.DOCUMENT_POSITION_CONTAINS||(t.restore(),r.restoreStack.pop());var s=this.context.styleRendererFactory[o],l=this.pathGeneratorFactory[o],u=e.parsedStyle.clipPath;if(u){this.applyWorldTransform(t,u);var c=this.pathGeneratorFactory[u.nodeName];c&&(t.save(),r.restoreStack.push(e),t.beginPath(),c(t,u.parsedStyle),t.closePath(),t.clip())}s&&(this.applyWorldTransform(t,e),t.save(),this.applyAttributesToContext(t,e)),l&&(t.beginPath(),l(t,e.parsedStyle),o!==zr.LINE&&o!==zr.PATH&&o!==zr.POLYLINE&&t.closePath()),s&&(s.render(t,e.parsedStyle,e,n,this,i),t.restore()),e.renderable.dirty=!1}},{key:"applyAttributesToContext",value:function(e,t){var n=t.parsedStyle,r=n.stroke,i=n.fill,o=n.opacity,a=n.lineDash,s=n.lineDashOffset;a&&e.setLineDash(a),Ye(s)||(e.lineDashOffset=s),Ye(o)||(e.globalAlpha*=o),Ye(r)||Array.isArray(r)||r.isNone||(e.strokeStyle=t.attributes.stroke),Ye(i)||Array.isArray(i)||i.isNone||(e.fillStyle=t.attributes.fill)}},{key:"convertAABB2Rect",value:function(e){var t=e.getMin(),n=e.getMax(),r=Math.floor(t[0]),i=Math.floor(t[1]);return{x:r,y:i,width:Math.ceil(n[0])-r,height:Math.ceil(n[1])-i}}},{key:"mergeDirtyAABBs",value:function(e){var t=new Yr;return e.forEach((function(e){var n=e.getRenderBounds();t.add(n);var r=e.renderable.dirtyRenderBounds;r&&t.add(r)})),t}},{key:"searchDirtyObjects",value:function(e){var t=w(e.getMin(),2),n=t[0],r=t[1],i=w(e.getMax(),2),o=i[0],a=i[1];return this.rBush.search({minX:n,minY:r,maxX:o,maxY:a}).map((function(e){return e.displayObject}))}},{key:"saveDirtyAABB",value:function(e){var t=e.renderable;t.dirtyRenderBounds||(t.dirtyRenderBounds=new Yr);var n=e.getRenderBounds();n&&t.dirtyRenderBounds.update(n.center,n.halfExtents)}},{key:"applyWorldTransform",value:function(e,t,n){n?(_(this.tmpMat4,t.getLocalTransform()),j(this.tmpMat4,n,this.tmpMat4),j(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(_(this.tmpMat4,t.getWorldTransform()),j(this.tmpMat4,this.vpMatrix,this.tmpMat4)),e.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var e=new Yr,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.add(t)})),e}}])}();
/*!
   * @antv/g-plugin-canvas-renderer
   * @description A G plugin of renderer implementation with Canvas2D API
   * @version 2.2.16
   * @date 1/2/2025, 2:56:41 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */function lp(e,t,n,r,i,o,a){var s,l;if("rect"===e.image.nodeName){var u=e.image.parsedStyle,c=u.width,d=u.height;l=r.contextService.getDPR();var f=r.config.offscreenCanvas;(s=o.offscreenCanvasCreator.getOrCreateCanvas(f)).width=c*l,s.height=d*l;var h=o.offscreenCanvasCreator.getOrCreateContext(f),p={restoreStack:[],prevObject:null,currentContext:new Map};e.image.forEach((function(e){i.renderDisplayObject(e,h,r,p,o)})),p.restoreStack.forEach((function(){h.restore()}))}return a.getOrCreatePatternSync(t,e,n,s,l,t.getGeometryBounds().min,(function(){t.renderable.dirty=!0,r.renderingService.dirtify()}))}function up(e,t,n,r){var i;if(e.type===Bi.LinearGradient||e.type===Bi.RadialGradient){var o=t.getGeometryBounds(),a=o&&2*o.halfExtents[0]||1,l=o&&2*o.halfExtents[1]||1,u=o&&o.min||[0,0];i=r.getOrCreateGradient(s(s({type:e.type},e.value),{},{min:u,width:a,height:l}),n)}return i}sp.tag="CanvasRenderer";var cp=["shadowBlur","shadowOffsetX","shadowOffsetY"],dp=["lineCap","lineJoin","miterLimit"],fp={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},hp={};function pp(e,t,n,r){var i=r.has(t)?r.get(t):fp[t];return i!==n&&("lineDash"===t?e.setLineDash(n):e[t]=n,r.set(t,n)),i}var gp=function(){return c((function e(t){l(this,e),this.imagePool=t}),[{key:"applyAttributesToContext",value:function(e,t){}},{key:"render",value:function(e,t,n,r,i,o){}},{key:"applyCommonStyleToContext",value:function(e,t,n,r){var i=n?hp:r.prevObject.parsedStyle,o=t.parsedStyle;(n||o.opacity!==i.opacity)&&pp(e,"globalAlpha",Ye(o.opacity)?fp.globalAlpha:o.opacity,r.currentContext),(n||o.blend!==i.blend)&&pp(e,"globalCompositeOperation",Ye(o.blend)?fp.globalCompositeOperation:o.blend,r.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(e,t,n,r){var i=n?hp:r.prevObject.parsedStyle,o=t.parsedStyle,a=o.lineWidth,s=void 0===a?fp.lineWidth:a,l=o.fill&&!o.fill.isNone;if(o.stroke&&!o.stroke.isNone&&s>0){if(n||t.attributes.stroke!==r.prevObject.attributes.stroke)pp(e,"strokeStyle",Ye(o.stroke)||Array.isArray(o.stroke)||o.stroke.isNone?fp.strokeStyle:t.attributes.stroke,r.currentContext);(n||o.lineWidth!==i.lineWidth)&&pp(e,"lineWidth",Ye(o.lineWidth)?fp.lineWidth:o.lineWidth,r.currentContext),(n||o.lineDash!==i.lineDash)&&pp(e,"lineDash",o.lineDash||fp.lineDash,r.currentContext),(n||o.lineDashOffset!==i.lineDashOffset)&&pp(e,"lineDashOffset",Ye(o.lineDashOffset)?fp.lineDashOffset:o.lineDashOffset,r.currentContext);for(var u=0;u<dp.length;u++){var c=dp[u];(n||o[c]!==i[c])&&pp(e,c,Ye(o[c])?fp[c]:o[c],r.currentContext)}}l&&(n||t.attributes.fill!==r.prevObject.attributes.fill)&&pp(e,"fillStyle",Ye(o.fill)||Array.isArray(o.fill)||o.fill.isNone?fp.fillStyle:t.attributes.fill,r.currentContext)}},{key:"applyStyleToContext",value:function(e,t,n,r){var i=t.nodeName;this.applyCommonStyleToContext(e,t,n,r),i===zr.IMAGE||this.applyStrokeFillStyleToContext(e,t,n,r)}},{key:"applyShadowAndFilterStyleToContext",value:function(e,t,n,r){var i=t.parsedStyle;if(n){pp(e,"shadowColor",i.shadowColor.toString(),r.currentContext);for(var o=0;o<cp.length;o++){var a=cp[o];pp(e,a,i[a]||fp[a],r.currentContext)}}i.filter&&i.filter.length&&pp(e,"filter",t.attributes.filter,r.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t){pp(e,"shadowColor",fp.shadowColor,r.currentContext);for(var o=0;o<cp.length;o++){var a=cp[o];pp(e,a,fp[a],r.currentContext)}}if(n)if(t&&i){var s=e.filter;!Ye(s)&&s.indexOf("drop-shadow")>-1&&pp(e,"filter",s.replace(/drop-shadow\([^)]*\)/,"").trim()||fp.filter,r.currentContext)}else pp(e,"filter",fp.filter,r.currentContext)}},{key:"fillToContext",value:function(e,t,n,r,i){var o=this,a=t.parsedStyle,s=a.fill,l=a.fillRule,u=null;if(Array.isArray(s)&&s.length>0)s.forEach((function(r){var i,a=pp(e,"fillStyle",up(r,t,e,o.imagePool),n.currentContext);u=null!==(i=u)&&void 0!==i?i:a,l?e.fill(l):e.fill()}));else{if(co(s)){var c=lp(s,t,e,t.ownerDocument.defaultView.context,r,i,this.imagePool);c&&(e.fillStyle=c,u=!0)}l?e.fill(l):e.fill()}null!==u&&pp(e,"fillStyle",u,n.currentContext)}},{key:"strokeToContext",value:function(e,t,n,r,i){var o=this,a=t.parsedStyle.stroke,s=null;if(Array.isArray(a)&&a.length>0)a.forEach((function(r){var i,a=pp(e,"strokeStyle",up(r,t,e,o.imagePool),n.currentContext);s=null!==(i=s)&&void 0!==i?i:a,e.stroke()}));else{if(co(a)){var l=lp(a,t,e,t.ownerDocument.defaultView.context,r,i,this.imagePool);if(l){var u,c=pp(e,"strokeStyle",l,n.currentContext);s=null!==(u=s)&&void 0!==u?u:c}}e.stroke()}null!==s&&pp(e,"strokeStyle",s,n.currentContext)}},{key:"drawToContext",value:function(e,t,n,r,i){var o,a=t.nodeName,s=t.parsedStyle,l=s.opacity,u=void 0===l?fp.globalAlpha:l,c=s.fillOpacity,d=void 0===c?fp.fillOpacity:c,f=s.strokeOpacity,h=void 0===f?fp.strokeOpacity:f,p=s.lineWidth,g=void 0===p?fp.lineWidth:p,v=s.fill&&!s.fill.isNone,m=s.stroke&&!s.stroke.isNone&&g>0;if(v||m){var y=!Ye(s.shadowColor)&&s.shadowBlur>0,b="inner"===s.shadowType,w=0===(null===(o=s.fill)||void 0===o?void 0:o.alpha),x=!(!s.filter||!s.filter.length),E=y&&m&&(a===zr.PATH||a===zr.LINE||a===zr.POLYLINE||w||b),k=null;if(v)E||this.applyShadowAndFilterStyleToContext(e,t,y,n),k=pp(e,"globalAlpha",u*d,n.currentContext),this.fillToContext(e,t,n,r,i),E||this.clearShadowAndFilterStyleForContext(e,y,x,n);if(m){var S=!1,M=pp(e,"globalAlpha",u*h,n.currentContext);if(k=v?k:M,E&&(this.applyShadowAndFilterStyleToContext(e,t,y,n),S=!0,b)){var T=e.globalCompositeOperation;e.globalCompositeOperation="source-atop",this.strokeToContext(e,t,n,r,i),e.globalCompositeOperation=T,this.clearShadowAndFilterStyleForContext(e,y,x,n,!0)}this.strokeToContext(e,t,n,r,i),S&&this.clearShadowAndFilterStyleForContext(e,y,x,n)}null!==k&&pp(e,"globalAlpha",k,n.currentContext)}}}])}(),vp=function(e){function t(){return l(this,t),m(this,t,arguments)}return b(t,e),c(t,[{key:"render",value:function(e,t,n,r,i,o){var a=t.fill,s=t.fillRule,l=t.opacity,u=void 0===l?1:l,c=t.fillOpacity,d=void 0===c?1:c,f=t.stroke,h=t.strokeOpacity,p=void 0===h?1:h,g=t.lineWidth,v=void 0===g?1:g,m=t.lineCap,y=t.lineJoin,b=t.shadowType,w=t.shadowColor,x=t.shadowBlur,E=t.filter,k=t.miterLimit,S=a&&!a.isNone,M=f&&!f.isNone&&v>0,T=0===(null==a?void 0:a.alpha),C=!(!E||!E.length),N=!Ye(w)&&x>0,P=n.nodeName,O="inner"===b,_=M&&N&&(P===zr.PATH||P===zr.LINE||P===zr.POLYLINE||T||O);S&&(e.globalAlpha=u*d,_||mp(n,e,N),yp(e,n,a,s,r,i,o,this.imagePool),_||this.clearShadowAndFilter(e,C,N)),M&&(e.globalAlpha=u*p,e.lineWidth=v,Ye(k)||(e.miterLimit=k),Ye(m)||(e.lineCap=m),Ye(y)||(e.lineJoin=y),_&&(O&&(e.globalCompositeOperation="source-atop"),mp(n,e,!0),O&&(bp(e,n,f,r,i,o,this.imagePool),e.globalCompositeOperation=fp.globalCompositeOperation,this.clearShadowAndFilter(e,C,!0))),bp(e,n,f,r,i,o,this.imagePool))}},{key:"clearShadowAndFilter",value:function(e,t,n){if(n&&(e.shadowColor="transparent",e.shadowBlur=0),t){var r=e.filter;!Ye(r)&&r.indexOf("drop-shadow")>-1&&(e.filter=r.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}(gp);function mp(e,t,n){var r=e.parsedStyle,i=r.filter,o=r.shadowColor,a=r.shadowBlur,s=r.shadowOffsetX,l=r.shadowOffsetY;i&&i.length&&(t.filter=e.style.filter),n&&(t.shadowColor=o.toString(),t.shadowBlur=a||0,t.shadowOffsetX=s||0,t.shadowOffsetY=l||0)}function yp(e,t,n,r,i,o,a,s){var l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];Array.isArray(n)?n.forEach((function(n){e.fillStyle=up(n,t,e,s),l||(r?e.fill(r):e.fill())})):(co(n)&&(e.fillStyle=lp(n,t,e,i,o,a,s)),l||(r?e.fill(r):e.fill()))}function bp(e,t,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Array.isArray(n)?n.forEach((function(n){e.strokeStyle=up(n,t,e,a),s||e.stroke()})):(co(n)&&(e.strokeStyle=lp(n,t,e,r,i,o,a)),s||e.stroke())}var wp=function(e){function t(){return l(this,t),m(this,t,arguments)}return b(t,e),c(t,[{key:"renderDownSampled",value:function(e,t,n,r){var i=r.src,o=r.imageCache;o.downSampled?e.drawImage(o.downSampled,Math.floor(r.drawRect[0]),Math.floor(r.drawRect[1]),Math.ceil(r.drawRect[2]),Math.ceil(r.drawRect[3])):this.imagePool.createDownSampledImage(i,n).then((function(e){n.renderable.dirty=!0,n.ownerDocument.defaultView.context.renderingService.dirtify()})).catch((function(){}))}},{key:"renderTile",value:function(e,t,n,r){var i=r.src,o=r.imageCache,a=r.imageRect,s=r.drawRect,l=o.size,u=e.getTransform(),c=u.a,d=u.b,f=u.c,h=u.d,p=u.e,g=u.f;if(e.resetTransform(),null!=o&&o.gridSize){for(var v=[l[0]/a[2],l[1]/a[3]],m=[o.tileSize[0]/v[0],o.tileSize[1]/v[1]],y=[Math.floor((s[0]-a[0])/m[0]),Math.ceil((s[0]+s[2]-a[0])/m[0])],b=y[0],w=y[1],x=[Math.floor((s[1]-a[1])/m[1]),Math.ceil((s[1]+s[3]-a[1])/m[1])],E=x[1],k=x[0];k<=E;k++)for(var S=b;S<=w;S++){var M=o.tiles[k][S];if(M){var T=[Math.floor(a[0]+M.tileX*m[0]),Math.floor(a[1]+M.tileY*m[1]),Math.ceil(m[0]),Math.ceil(m[1])];e.drawImage(M.data,T[0],T[1],T[2],T[3])}}e.setTransform(c,d,f,h,p,g)}else this.imagePool.createImageTiles(i,[],(function(){n.renderable.dirty=!0,n.ownerDocument.defaultView.context.renderingService.dirtify()}),n).catch((function(){}))}},{key:"render",value:function(e,n,r){var i=n.x,o=void 0===i?0:i,a=n.y,s=void 0===a?0:a,l=n.width,u=n.height,c=n.src,d=n.shadowColor,f=n.shadowBlur,h=this.imagePool.getImageSync(c,r),p=null==h?void 0:h.img,g=l,v=u;if(p){var m,y,b,x,E,k,S,M,T,C,N,P,O,_,A;g||(g=p.width),v||(v=p.height),mp(r,e,!Ye(d)&&f>0);try{var D=r.ownerDocument.defaultView.getContextService().getDomElement(),L=D.width,I=D.height,z=e.getTransform(),j=z.a,F=z.b,B=function(e,t){var n=Me(fe(),[e[0],e[1],0],t),r=Me(fe(),[e[0]+e[2],e[1],0],t),i=Me(fe(),[e[0],e[1]+e[3],0],t),o=Me(fe(),[e[0]+e[2],e[1]+e[3],0],t);return[Math.min(n[0],r[0],i[0],o[0]),Math.min(n[1],r[1],i[1],o[1]),Math.max(n[0],r[0],i[0],o[0])-Math.min(n[0],r[0],i[0],o[0]),Math.max(n[1],r[1],i[1],o[1])-Math.min(n[1],r[1],i[1],o[1])]}([o,s,g,v],R(j,z.c,0,0,F,z.d,0,0,0,0,1,0,z.e,z.f,0,1)),U=(m=B,y=w([0,0,L,I],4),b=y[0],x=y[1],E=y[2],k=y[3],S=w(m,4),M=S[0],T=S[1],C=S[2],N=S[3],P=Math.max(b,M),O=Math.max(x,T),_=Math.min(b+E,M+C),A=Math.min(x+k,T+N),_<=P||A<=O?null:[P,O,_-P,A-O]);if(!U)return;if(!r.ownerDocument.defaultView.getConfig().enableLargeImageOptimization)return void t.renderFull(e,n,r,{image:p,drawRect:[o,s,g,v]});if(B[2]/h.size[0]<(h.downSamplingRate||.5))return void this.renderDownSampled(e,n,r,{src:c,imageCache:h,drawRect:[o,s,g,v]});if(!np.isSupportTile)return void t.renderFull(e,n,r,{image:p,drawRect:[o,s,g,v]});this.renderTile(e,n,r,{src:c,imageCache:h,imageRect:B,drawRect:U})}catch(e){}}}},{key:"drawToContext",value:function(e,t,n,r,i){this.render(e,t.parsedStyle,t)}}],[{key:"renderFull",value:function(e,t,n,r){e.drawImage(r.image,Math.floor(r.drawRect[0]),Math.floor(r.drawRect[1]),Math.ceil(r.drawRect[2]),Math.ceil(r.drawRect[3]))}}])}(vp),xp=function(e){function t(){return l(this,t),m(this,t,arguments)}return b(t,e),c(t,[{key:"render",value:function(e,t,n,r,i,o){n.getBounds();var a=t.lineWidth,s=void 0===a?1:a,l=t.textAlign,u=void 0===l?"start":l,c=t.textBaseline,d=void 0===c?"alphabetic":c,f=t.lineJoin,h=void 0===f?"miter":f,p=t.miterLimit,g=void 0===p?10:p,v=t.letterSpacing,m=void 0===v?0:v,y=t.stroke,b=t.fill,w=t.fillRule,x=t.fillOpacity,E=void 0===x?1:x,k=t.strokeOpacity,S=void 0===k?1:k,M=t.opacity,T=void 0===M?1:M,C=t.metrics,N=t.x,P=void 0===N?0:N,O=t.y,_=void 0===O?0:O,R=t.dx,A=t.dy,D=t.shadowColor,L=t.shadowBlur,I=C.font,z=C.lines,j=C.height,F=C.lineHeight,B=C.lineMetrics;e.font=I,e.lineWidth=s,e.textAlign="middle"===u?"center":u;var U=d;"alphabetic"===U&&(U="bottom"),e.lineJoin=h,Ye(g)||(e.miterLimit=g);var W=_;"middle"===d?W+=-j/2-F/2:"bottom"===d||"alphabetic"===d||"ideographic"===d?W+=-j:"top"!==d&&"hanging"!==d||(W+=-F);var V=P+(R||0);W+=A||0,1===z.length&&("bottom"===U?(U="middle",W-=.5*j):"top"===U&&(U="middle",W+=.5*j)),e.textBaseline=U,mp(n,e,!Ye(D)&&L>0);for(var H=0;H<z.length;H++){var G=s/2+V;W+=F,Ye(y)||y.isNone||!s||this.drawLetterSpacing(e,n,z[H],B[H],u,G,W,m,b,w,E,y,S,T,!0,r,i,o),Ye(b)||this.drawLetterSpacing(e,n,z[H],B[H],u,G,W,m,b,w,E,y,S,T,!1,r,i,o)}}},{key:"drawLetterSpacing",value:function(e,t,n,r,i,o,a,s,l,u,c,d,f,h,p,g,v,m){if(0!==s){var y=e.textAlign;e.textAlign="left";var b=o;"center"===i||"middle"===i?b=o-r.width/2:"right"!==i&&"end"!==i||(b=o-r.width);for(var w=Array.from(n),x=e.measureText(n).width,E=0,k=0;k<w.length;++k){var S=w[k];p?this.strokeText(e,t,S,b,a,d,f,g,v,m):this.fillText(e,t,S,b,a,l,u,c,h,g,v,m),b+=x-(E=e.measureText(n.substring(k+1)).width)+s,x=E}e.textAlign=y}else p?this.strokeText(e,t,n,o,a,d,f,g,v,m):this.fillText(e,t,n,o,a,l,u,c,h,g,v,m)}},{key:"fillText",value:function(e,t,n,r,i,o,a,s,l,u,c,d){var f;yp(e,t,o,a,u,c,d,this.imagePool,!0);var h=!Ye(s)&&1!==s;h&&(f=e.globalAlpha,e.globalAlpha=s*l),e.fillText(n,r,i),h&&(e.globalAlpha=f)}},{key:"strokeText",value:function(e,t,n,r,i,o,a,s,l,u){var c;bp(e,t,o,s,l,u,this.imagePool,!0);var d=!Ye(a)&&1!==a;d&&(c=e.globalAlpha,e.globalAlpha=a),e.strokeText(n,r,i),d&&(e.globalAlpha=c)}},{key:"drawToContext",value:function(e,t,n,r,i){this.render(e,t.parsedStyle,t,t.ownerDocument.defaultView.context,r,i)}}])}(vp),Ep=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,t),(e=m(this,t)).name="canvas-renderer",e.options=n,e}return b(t,e),c(t,[{key:"init",value:function(){var e,t=s({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),n=this.context.imagePool,r=new vp(n),i=(o(o(o(o(o(o(o(o(o(o(e={},zr.CIRCLE,r),zr.ELLIPSE,r),zr.RECT,r),zr.IMAGE,new wp(n)),zr.TEXT,new xp(n)),zr.LINE,r),zr.POLYLINE,r),zr.POLYGON,r),zr.PATH,r),zr.GROUP,void 0),o(o(o(e,zr.HTML,void 0),zr.MESH,void 0),zr.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=i,this.context.styleRendererFactory=i,this.addRenderingPlugin(new sp(t))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(Fr),kp=function(){function e(){l(this,e)}return c(e,[{key:"apply",value:function(t,n){var r=this,i=t.renderingService,o=t.renderingContext,a=t.config;this.context=t;var s=o.root.ownerDocument.defaultView,l=function(e){i.hooks.pointerMove.call(e)},u=function(e){i.hooks.pointerUp.call(e)},c=function(e){i.hooks.pointerDown.call(e)},d=function(e){i.hooks.pointerOver.call(e)},f=function(e){i.hooks.pointerOut.call(e)},h=function(e){i.hooks.pointerCancel.call(e)},p=function(e){i.hooks.pointerWheel.call(e)},g=function(e){i.hooks.click.call(e)};i.hooks.init.tap(e.tag,(function(){var e=r.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(e.style.msContentZooming="none",e.style.msTouchAction="none"):s.supportsPointerEvents&&(e.style.touchAction="none"),s.supportsPointerEvents?function(e){n.globalThis.document.addEventListener("pointermove",l,!0),e.addEventListener("pointerdown",c,!0),e.addEventListener("pointerleave",f,!0),e.addEventListener("pointerover",d,!0),n.globalThis.addEventListener("pointerup",u,!0),n.globalThis.addEventListener("pointercancel",h,!0)}(e):function(e){n.globalThis.document.addEventListener("mousemove",l,!0),e.addEventListener("mousedown",c,!0),e.addEventListener("mouseout",f,!0),e.addEventListener("mouseover",d,!0),n.globalThis.addEventListener("mouseup",u,!0)}(e),s.supportsTouchEvents&&function(e){e.addEventListener("touchstart",c,!0),e.addEventListener("touchend",u,!0),e.addEventListener("touchmove",l,!0),e.addEventListener("touchcancel",h,!0)}(e),a.useNativeClickEvent&&e.addEventListener("click",g,!0),e.addEventListener("wheel",p,{passive:!0,capture:!0})})),i.hooks.destroy.tap(e.tag,(function(){var e=r.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(e.style.msContentZooming="",e.style.msTouchAction=""):s.supportsPointerEvents&&(e.style.touchAction=""),s.supportsPointerEvents?function(e){n.globalThis.document.removeEventListener("pointermove",l,!0),e.removeEventListener("pointerdown",c,!0),e.removeEventListener("pointerleave",f,!0),e.removeEventListener("pointerover",d,!0),n.globalThis.removeEventListener("pointerup",u,!0),n.globalThis.removeEventListener("pointercancel",h,!0)}(e):function(e){n.globalThis.document.removeEventListener("mousemove",l,!0),e.removeEventListener("mousedown",c,!0),e.removeEventListener("mouseout",f,!0),e.removeEventListener("mouseover",d,!0),n.globalThis.removeEventListener("mouseup",u,!0)}(e),s.supportsTouchEvents&&function(e){e.removeEventListener("touchstart",c,!0),e.removeEventListener("touchend",u,!0),e.removeEventListener("touchmove",l,!0),e.removeEventListener("touchcancel",h,!0)}(e),a.useNativeClickEvent&&e.removeEventListener("click",g,!0),e.removeEventListener("wheel",p,!0)}))}}])}();kp.tag="DOMInteraction";var Sp=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=m(this,t,[].concat(r))).name="dom-interaction",e}return b(t,e),c(t,[{key:"init",value:function(){this.addRenderingPlugin(new kp)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Fr),Mp=function(){function e(){l(this,e),this.displayObjectHTMLElementMap=new WeakMap}return c(e,[{key:"joinTransformMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return"matrix(".concat([e[0],e[1],e[4],e[5],e[12]+t[0],e[13]+t[1]].join(","),")")}},{key:"apply",value:function(t,n){var r=this,i=t.camera,o=t.renderingContext,a=t.renderingService;this.context=t;var s=o.root.ownerDocument.defaultView,l=s.context.eventService.nativeHTMLMap,u=function(e,t){t.style.transform=r.joinTransformMatrix(e.getWorldTransform(),e.getOrigin())},c=function(e){var t=e.target;if(t.nodeName===zr.HTML){r.$camera||(r.$camera=r.createCamera(i));var n=r.getOrCreateEl(t);r.$camera.appendChild(n),Object.keys(t.attributes).forEach((function(e){r.updateAttribute(e,t)})),u(t,n),l.set(n,t)}},d=function(e){var t=e.target;if(t.nodeName===zr.HTML&&r.$camera){var n=r.getOrCreateEl(t);n&&(n.remove(),l.delete(n))}},f=function(e){var t=e.target;if(t.nodeName===zr.HTML){var n=e.attrName;r.updateAttribute(n,t)}},h=function(e){var t=e.target;(t.nodeName===zr.FRAGMENT?t.childNodes:[t]).forEach((function(e){if(e.nodeName===zr.HTML){var t=r.getOrCreateEl(e);u(e,t)}}))},p=function(){if(r.$camera){var e=r.context.config,t=e.width,n=e.height;r.$camera.parentElement.style.width="".concat(t||0,"px"),r.$camera.parentElement.style.height="".concat(n||0,"px")}};a.hooks.init.tap(e.tag,(function(){s.addEventListener(au.RESIZE,p),s.addEventListener(Vs.MOUNTED,c),s.addEventListener(Vs.UNMOUNTED,d),s.addEventListener(Vs.ATTR_MODIFIED,f),s.addEventListener(Vs.BOUNDS_CHANGED,h)})),a.hooks.endFrame.tap(e.tag,(function(){r.$camera&&o.renderReasons.has(Fs.CAMERA_CHANGED)&&(r.$camera.style.transform=r.joinTransformMatrix(i.getOrthoMatrix()))})),a.hooks.destroy.tap(e.tag,(function(){r.$camera&&r.$camera.remove(),s.removeEventListener(au.RESIZE,p),s.removeEventListener(Vs.MOUNTED,c),s.removeEventListener(Vs.UNMOUNTED,d),s.removeEventListener(Vs.ATTR_MODIFIED,f),s.removeEventListener(Vs.BOUNDS_CHANGED,h)}))}},{key:"createCamera",value:function(e){var t=this.context.config,n=t.document,r=t.width,i=t.height,o=this.context.contextService.getDomElement(),a=o.parentNode;if(a){var s="g-canvas-camera",l=a.querySelector("#".concat(s));if(!l){var u=(n||document).createElement("div");u.style.overflow="hidden",u.style.pointerEvents="none",u.style.position="absolute",u.style.left="0px",u.style.top="0px",u.style.width="".concat(r||0,"px"),u.style.height="".concat(i||0,"px");var c=(n||document).createElement("div");l=c,c.id=s,c.style.position="absolute",c.style.left="".concat(o.offsetLeft||0,"px"),c.style.top="".concat(o.offsetTop||0,"px"),c.style.transformOrigin="left top",c.style.transform=this.joinTransformMatrix(e.getOrthoMatrix()),c.style.pointerEvents="none",c.style.width="100%",c.style.height="100%",u.appendChild(c),a.appendChild(u)}return l}return null}},{key:"getOrCreateEl",value:function(e){var t=this.context.config.document,n=this.displayObjectHTMLElementMap.get(e);return n||(n=(t||document).createElement("div"),e.parsedStyle.$el=n,this.displayObjectHTMLElementMap.set(e,n),e.id&&(n.id=e.id),e.name&&n.setAttribute("name",e.name),e.className&&(n.className=e.className),n.style.position="absolute",n.style["will-change"]="transform",n.style.transform=this.joinTransformMatrix(e.getWorldTransform(),e.getOrigin())),n}},{key:"updateAttribute",value:function(e,t){var n=this.getOrCreateEl(t);switch(e){case"innerHTML":var r=t.parsedStyle.innerHTML;rt(r)?n.innerHTML=r:(n.innerHTML="",n.appendChild(r));break;case"x":n.style.left="".concat(t.parsedStyle.x,"px");break;case"y":n.style.top="".concat(t.parsedStyle.y,"px");break;case"transformOrigin":var i=t.parsedStyle.transformOrigin;n.style["transform-origin"]="".concat(i[0].buildCSSText(null,null,"")," ").concat(i[1].buildCSSText(null,null,""));break;case"width":var o=t.parsedStyle.width;n.style.width=st(o)?"".concat(o,"px"):o.toString();break;case"height":var a=t.parsedStyle.height;n.style.height=st(a)?"".concat(a,"px"):a.toString();break;case"zIndex":var s=t.parsedStyle.zIndex;n.style["z-index"]="".concat(s);break;case"visibility":var l=t.parsedStyle.visibility;n.style.visibility=l;break;case"pointerEvents":var u=t.parsedStyle.pointerEvents,c=void 0===u?"auto":u;n.style.pointerEvents=c;break;case"opacity":var d=t.parsedStyle.opacity;n.style.opacity="".concat(d);break;case"fill":var f=t.parsedStyle.fill,h="";fo(f)?h=f.isNone?"transparent":t.getAttribute("fill"):Array.isArray(f)?h=t.getAttribute("fill"):co(f),n.style.background=h;break;case"stroke":var p=t.parsedStyle.stroke,g="";fo(p)?g=p.isNone?"transparent":t.getAttribute("stroke"):Array.isArray(p)?g=t.getAttribute("stroke"):co(p),n.style["border-color"]=g,n.style["border-style"]="solid";break;case"lineWidth":var v=t.parsedStyle.lineWidth;n.style["border-width"]="".concat(v||0,"px");break;case"lineDash":n.style["border-style"]="dashed";break;case"filter":var m=t.style.filter;n.style.filter=m;break;default:Ye(t.style[e])||""===t.style[e]||(n.style[e]=t.style[e])}}}])}();
/*!
   * @antv/g-plugin-html-renderer
   * @description A G plugin for rendering HTML
   * @version 2.1.19
   * @date 1/2/2025, 2:55:50 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */Mp.tag="HTMLRendering";var Tp=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=m(this,t,[].concat(r))).name="html-renderer",e}return b(t,e),c(t,[{key:"init",value:function(){this.addRenderingPlugin(new Mp)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Fr),Cp=function(){return c((function e(t){l(this,e),this.renderingContext=t.renderingContext,this.canvasConfig=t.config}),[{key:"init",value:function(){var e=this.canvasConfig,t=e.container,n=e.canvas;if(n)this.$canvas=n,t&&n.parentElement!==t&&t.appendChild(n),this.$container=n.parentElement,this.canvasConfig.container=this.$container;else if(t&&(this.$container=rt(t)?document.getElementById(t):t,this.$container)){var r=document.createElement("canvas");this.$container.appendChild(r),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=r}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(e,t){var n=this.canvasConfig.devicePixelRatio;this.dpr=n,this.$canvas&&(this.$canvas.width=this.dpr*e,this.$canvas.height=this.dpr*t,function(e,t,n){za&&e.style&&(e.style.width=t+"px",e.style.height=n+"px")}(this.$canvas,e,t)),this.renderingContext.renderReasons.add(Fs.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(e){this.$container&&this.$container.style&&(this.$container.style.cursor=e)}},{key:"toDataURL",value:(e=Rr(Or().mark((function e(){var t,n,r,i=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=i.length>0&&void 0!==i[0]?i[0]:{}).type,r=t.encoderOptions,e.abrupt("return",this.context.canvas.toDataURL(n,r));case 3:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}]);var e}(),Np=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=m(this,t,[].concat(r))).name="canvas-context-register",e}return b(t,e),c(t,[{key:"init",value:function(){this.context.ContextService=Cp}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(Fr),Pp=function(e){function t(e){var n;return l(this,t),(n=m(this,t,[e])).registerPlugin(new Np),n.registerPlugin(new op),n.registerPlugin(new kh),n.registerPlugin(new Ep),n.registerPlugin(new Sp),n.registerPlugin(new Yh),n.registerPlugin(new Tp),n}return b(t,e),c(t)}(Br),Op=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};
/*!
   * @antv/g-canvas
   * @description A renderer implemented by Canvas 2D API
   * @version 2.0.37
   * @date 1/2/2025, 2:58:21 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */let _p=class e extends lh{constructor(t){super(Object.assign(Object.assign({},t),{style:Object.assign({},e.defaultStyleProps,t.style)})),this.rootPointerEvent=new _s(null),this.forwardEvents=e=>{const t=this.context.canvas,n=t.context.renderingContext.root.ownerDocument.defaultView;this.normalizeToPointerEvent(e,n).forEach((r=>{const i=this.bootstrapEvent(this.rootPointerEvent,r,n,e);Pt(t.context.eventService,"mappingTable.pointerupoutside",[]),t.context.eventService.mapEvent(i)}))}}get eventService(){return this.context.canvas.context.eventService}get events(){return[mc.CLICK,mc.POINTER_DOWN,mc.POINTER_MOVE,mc.POINTER_UP,mc.POINTER_OVER,mc.POINTER_LEAVE]}getDomElement(){return this.getShape("key").getDomElement()}render(e=this.parsedAttributes,t=this){this.drawKeyShape(e,t),this.drawPortShapes(e,t)}getKeyStyle(e){const t=_t(e,["dx","dy","innerHTML","pointerEvents","cursor"]),{dx:n=0,dy:r=0}=t,i=Op(t,["dx","dy"]),[o,a]=this.getSize(e);return Object.assign(Object.assign({x:n,y:r},i),{width:o,height:a})}drawKeyShape(e,t){const n=this.getKeyStyle(e),{x:r,y:i,width:o=0,height:a=0}=n,s=this.upsert("key-container",Xl,{x:r,y:i,width:o,height:a,opacity:0},t);return this.upsert("key",Bl,n,s)}connectedCallback(){if(!(this.context.canvas.getRenderer("main")instanceof Pp))return;const e=this.getDomElement();this.events.forEach((t=>{e.addEventListener(t,this.forwardEvents)}))}attributeChangedCallback(e,t,n){"zIndex"===e&&t!==n&&(this.getDomElement().style.zIndex=n)}destroy(){const e=this.getDomElement();this.events.forEach((t=>{e.removeEventListener(t,this.forwardEvents)})),super.destroy()}normalizeToPointerEvent(e,t){const n=[];if(t.isTouchEvent(e))for(let t=0;t<e.changedTouches.length;t++){const r=e.changedTouches[t];mt(r.button)&&(r.button=0),mt(r.buttons)&&(r.buttons=1),mt(r.isPrimary)&&(r.isPrimary=1===e.touches.length&&"touchstart"===e.type),mt(r.width)&&(r.width=r.radiusX||1),mt(r.height)&&(r.height=r.radiusY||1),mt(r.tiltX)&&(r.tiltX=0),mt(r.tiltY)&&(r.tiltY=0),mt(r.pointerType)&&(r.pointerType="touch"),mt(r.pointerId)&&(r.pointerId=r.identifier||0),mt(r.pressure)&&(r.pressure=r.force||.5),mt(r.twist)&&(r.twist=0),mt(r.tangentialPressure)&&(r.tangentialPressure=0),r.isNormalized=!0,r.type=e.type,n.push(r)}else if(t.isMouseEvent(e)){const t=e;mt(t.isPrimary)&&(t.isPrimary=!0),mt(t.width)&&(t.width=1),mt(t.height)&&(t.height=1),mt(t.tiltX)&&(t.tiltX=0),mt(t.tiltY)&&(t.tiltY=0),mt(t.pointerType)&&(t.pointerType="mouse"),mt(t.pointerId)&&(t.pointerId=1),mt(t.pressure)&&(t.pressure=.5),mt(t.twist)&&(t.twist=0),mt(t.tangentialPressure)&&(t.tangentialPressure=0),t.isNormalized=!0,n.push(t)}else n.push(e);return n}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.ctrlKey=t.ctrlKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.screen.x=t.screenX,e.screen.y=t.screenY,e.relatedTarget=null}bootstrapEvent(e,t,n,r){e.view=n,e.originalEvent=null,e.nativeEvent=r,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t);const{x:i,y:o}=this.getViewportXY(t);e.viewport.x=i,e.viewport.y=o;const[a,s]=this.context.canvas.getCanvasByViewport([i,o]);return e.canvas.x=a,e.canvas.y=s,e.global.copyFrom(e.canvas),e.offset.copyFrom(e.canvas),e.isTrusted=r.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e}getViewportXY(e){let t,n;const{offsetX:r,offsetY:i,clientX:o,clientY:a}=e;if(Ye(r)||Ye(i)){const e=this.eventService.client2Viewport({x:o,y:a});t=e.x,n=e.y}else t=r,n=i;return{x:t,y:n}}onframe(){super.onframe();const{opacity:e}=this.attributes;this.getDomElement().style.opacity=`${e}`}};_p.defaultStyleProps={size:[160,80],halo:!1,icon:!1,label:!1,pointerEvents:"auto"};var Rp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};let Ap=class e extends lh{constructor(t){super(jf({style:e.defaultStyleProps},t))}getKeyStyle(e){const[t,n]=this.getSize(e),r=super.getKeyStyle(e),{fillOpacity:i,opacity:o=i}=r,a=Rp(r,["fillOpacity","opacity"]);return Object.assign(Object.assign({opacity:o},a),{width:t,height:n,x:-t/2,y:-n/2})}getHaloStyle(e){if(!1===e.halo)return!1;const t=this.getShape("key").attributes;Rp(t,["fill","stroke"]);const n=Rf(this.getGraphicStyle(e),"halo"),r=Number(n.lineWidth),[i,o]=jd(this.getSize(e),[r,r]);return Object.assign(Object.assign({},n),{width:i,height:o,fill:"transparent",x:-i/2,y:-o/2})}getIconStyle(e){const t=super.getIconStyle(e),[n,r]=this.getSize(e);return!!t&&Object.assign({width:n*xf,height:r*xf},t)}drawKeyShape(e,t){const n=this.upsert("key",eh,this.getKeyStyle(e),t);return rh(this),n}drawHaloShape(e,t){this.upsert("halo",Xl,this.getHaloStyle(e),t)}update(e){super.update(e),e&&("x"in e||"y"in e||"z"in e)&&ih(this)}};Ap.defaultStyleProps={size:32};let Dp=class extends lh{constructor(e){super(e)}getKeyStyle(e){const[t,n]=this.getSize(e);return Object.assign(Object.assign({},super.getKeyStyle(e)),{width:t,height:n,x:-t/2,y:-n/2})}getIconStyle(e){const t=super.getIconStyle(e),{width:n,height:r}=this.getShape("key").attributes;return!!t&&Object.assign({width:n*xf,height:r*xf},t)}drawKeyShape(e,t){return this.upsert("key",Xl,this.getKeyStyle(e),t)}};class Lp extends ch{constructor(e){super(jf({style:Lp.defaultStyleProps},e))}getPoints(e){const{direction:t}=e,[n,r]=this.getSize(e);return function(e,t,n){const r=t/2,i=e/2,o={up:[[-i,r],[i,r],[0,-r]],left:[[-i,0],[i,r],[i,-r]],right:[[-i,r],[-i,-r],[i,0]],down:[[-i,-r],[i,-r],[0,r]]};return o[n]||o.up}(n,r,t)}getPortXY(e,t){const{direction:n}=e,{placement:r="top"}=t,i=this.getShape("key").getLocalBounds(),[o,a]=this.getSize(e),s=function(e,t,n){const r=t/2,i=e/2,o={};"down"===n?(o.bottom=o.default=[0,r],o.right=[i,-r],o.left=[-i,-r]):"left"===n?(o.top=[i,-r],o.bottom=[i,r],o.left=o.default=[-i,0]):"right"===n?(o.top=[-i,-r],o.bottom=[-i,r],o.right=o.default=[i,0]):(o.left=[-i,r],o.top=o.default=[0,-r],o.right=[i,r]);return o}(o,a,n);return Rg(i,r,s,!1)}getIconStyle(e){const{icon:t,iconText:n,iconSrc:r,direction:i}=e;if(!1===t||Tt(n||r))return!1;const o=Rf(this.getGraphicStyle(e),"icon"),a=this.getShape("key").getLocalBounds(),[s,l]=function(e,t){const{center:n}=e,[r,i]=Qc(e);return["up"===t||"down"===t?n[0]:"right"===t?n[0]-r/6:n[0]+r/6,"left"===t||"right"===t?n[1]:"down"===t?n[1]-i/6:n[1]+i/6]}(a,i),u=2*function(e,t){let[n,r]=Qc(e);return[n,r]="up"===t||"down"===t?[n,r]:[r,n],(Math.pow(r,2)-Math.pow(Math.sqrt(Math.pow(n/2,2)+Math.pow(r,2))-n/2,2))/(2*r)}(a,i)*xf;return Object.assign({x:s,y:l,width:u,height:u},o)}}Lp.defaultStyleProps={size:40,direction:"up"};var Ip=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class zp extends lh{constructor(e){super(jf({style:zp.defaultStyleProps},e)),this.type="combo",this.updateComboPosition(this.parsedAttributes)}getKeySize(e){const{collapsed:t,childrenNode:n=[]}=e;return 0===n.length?this.getEmptyKeySize(e):t?this.getCollapsedKeySize(e):this.getExpandedKeySize(e)}getEmptyKeySize(e){const{padding:t,collapsedSize:n}=e,[r,i,o,a]=Yc(t);return jd(Lf(n),[a+i,r+o,0])}getCollapsedKeySize(e){return Lf(e.collapsedSize)}getExpandedKeySize(e){const t=this.getContentBBox(e);return[Kc(t),Xc(t),0]}getContentBBox(e){const{childrenNode:t=[],padding:n}=e,r=t.map((e=>this.context.element.getElement(e))).filter(Boolean);if(0===r.length){const t=new Yr,{x:n=0,y:r=0,size:i}=e,[o,a]=Lf(i);return t.setMinMax([n-o/2,r-a/2,0],[n+o/2,r+a/2,0]),t}const i=td(r.map((e=>e.getBounds())));return n?ed(i,n):i}drawCollapsedMarkerShape(e,t){const n=this.getCollapsedMarkerStyle(e);this.upsert("collapsed-marker",oh,n,t),rh(this)}getCollapsedMarkerStyle(e){if(!e.collapsed||!e.collapsedMarker)return!1;const t=Rf(this.getGraphicStyle(e),"collapsedMarker"),{type:n}=t,r=Ip(t,["type"]),i=this.getShape("key"),[o,a]=nf(i.getLocalBounds(),"center"),s=Object.assign(Object.assign({},r),{x:o,y:a});if(n){const t=this.getCollapsedMarkerText(n,e);Object.assign(s,{text:t})}return s}getCollapsedMarkerText(e,t){const{childrenData:n=[]}=t,{model:r}=this.context;return"descendant-count"===e?r.getDescendantsData(this.id).length.toString():"child-count"===e?n.length.toString():"node-count"===e?r.getDescendantsData(this.id).filter((e=>"node"===r.getElementType(wd(e)))).length.toString():$e(e)?e(n):""}getComboPosition(e){const{x:t=0,y:n=0,collapsed:r,childrenData:i=[]}=e;if(0===i.length)return[+t,+n,0];if(r){const{model:e}=this.context,r=e.getDescendantsData(this.id).filter((t=>!e.isCombo(wd(t))));if(r.length>0&&r.some(tf)){return Ud(r.reduce(((e,t)=>jd(e,ef(t))),[0,0,0]),r.length)}return[+t,+n,0]}return this.getContentBBox(e).center}getComboStyle(e){const[t,n]=this.getComboPosition(e);return{x:t,y:n,transform:[["translate",t,n]]}}updateComboPosition(e){const t=this.getComboStyle(e);Object.assign(this.style,t);const{x:n,y:r}=t;this.context.model.syncNodeLikeDatum({id:this.id,style:{x:n,y:r}}),ih(this)}render(e,t=this){super.render(e,t),this.drawCollapsedMarkerShape(e,t)}update(e={}){super.update(e),this.updateComboPosition(this.parsedAttributes)}onframe(){super.onframe(),this.attributes.collapsed||this.updateComboPosition(this.parsedAttributes),this.drawKeyShape(this.parsedAttributes,this)}animate(e,t){const n=super.animate(this.attributes.collapsed?e:e.map((e=>Ip(e,["x","y","z","transform"]))),t);return n?new Proxy(n,{set:(e,t,n)=>("currentTime"===t&&Promise.resolve().then((()=>this.onframe())),Reflect.set(e,t,n))}):n}}zp.defaultStyleProps={childrenNode:[],droppable:!0,draggable:!0,collapsed:!1,collapsedSize:32,collapsedMarker:!0,collapsedMarkerZIndex:1,collapsedMarkerFontSize:12,collapsedMarkerTextAlign:"center",collapsedMarkerTextBaseline:"middle",collapsedMarkerType:"child-count"};const jp={padding:10};function Fp(e,t,n,r,i,o){const{padding:a}=Object.assign(jp,o),s=Zc(n,a),l=Zc(r,a),u=[e,...i,t];let c=null;const d=[];for(let e=0,t=u.length;e<t-1;e++){const n=e+1,r=u[e],i=u[n],o=lf(f=r,h=i)||function(e,t){return e[0]===t[0]}(f,h);let p=null;if(0===e)if(n===t-1)if(s.intersects(l))p=qp(r,i,s,l);else if(id(r,s)||id(i,l))o||(p=Yp(r,i,s,l));else{const e=ad(r,s),t=ad(i,l);p=Hp(e,t,Wp(e,t)),p.points.unshift(e),p.points.push(t)}else nd(i,s)?p=qp(r,i,s,Zc(i,a),c):o||(p=Gp(r,i,s));else n===t-1?nd(r,l)?p=qp(r,i,Zc(r,a),l,c):o||(p=$p(r,i,l,c)):o||(p=Hp(r,i,c));p?(d.push(...p.points),c=p.direction):c=Wp(r,i),n<t-1&&d.push(i)}var f,h;return d.map(qd)}const Bp={N:"S",S:"N",W:"E",E:"W"},Up={N:-Math.PI/2,S:Math.PI/2,E:0,W:Math.PI};function Wp(e,t){const[n,r]=e,[i,o]=t;return n===i?r>o?"N":"S":r===o?n>i?"W":"E":null}function Vp(e,t){return"N"===t||"S"===t?Xc(e):Kc(e)}function Hp(e,t,n){const r=[e[0],t[1]],i=[t[0],e[1]],o=Wp(e,r),a=Wp(e,i),s=n?Bp[n]:null,l=o===n||o!==s&&a!==n?r:i;return{points:[l],direction:Wp(l,t)}}function Gp(e,t,n){if(id(e,n)){const r=Kp(e,t,n);return{points:[r],direction:Wp(r,t)}}{const r=ad(e,n),i=["left","right"].includes(od(e,n))?[t[0],r[1]]:[r[0],t[1]];return{points:[i],direction:Wp(i,t)}}}function $p(e,t,n,r){const i=id(t,n)?t:ad(t,n),o=[[i[0],e[1]],[e[0],i[1]]],a=o.filter((e=>function(e,t){return!nd(e,t)}(e,n)&&!rd(e,n,!0))),s=a.filter((t=>Wp(t,e)!==r));if(s.length>0){const n=s.find((t=>Wp(e,t)===r))||s[0];return{points:[n],direction:Wp(n,t)}}{const i=sf(t,Ge(o,a)[0],Vp(n,r)/2);return{points:[Kp(i,e,n),i],direction:Wp(i,t)}}}function Yp(e,t,n,r){let i=Gp(e,t,n);const o=Kd(i.points[0]);if(nd(o,r)){i=Gp(t,e,r);const a=Kd(i.points[0]);if(nd(a,n)){const s=sf(e,o,Vp(n,Wp(e,o))/2),l=sf(t,a,Vp(r,Wp(t,a))/2),u=[(s[0]+l[0])/2,(s[1]+l[1])/2],c=Gp(e,u,n),d=$p(u,t,r,c.direction);i.points=[c.points[0],d.points[0]],i.direction=d.direction}}return i}function qp(e,t,n,r,i){const o=.01,a=td([n,r]),s=Vd(t,a.center)>Vd(e,a.center),[l,u]=s?[t,e]:[e,t],c=Xc(a)+Kc(a);let d;if(i){const e=[l[0]+c*Math.cos(Up[i]),l[1]+c*Math.sin(Up[i])];d=sf(ad(e,a),e,o)}else d=sf(ad(l,a),l,-.01);let f=Kp(d,u,a),h=[af(d,2),af(f,2)];if(Ct(af(d),af(f))){const e=$d(Fd(d,l),[1,0,0])+Math.PI/2;f=[u[0]+c*Math.cos(e),u[1]+c*Math.sin(e),0],f=af(sf(ad(f,a),u,-.01),2);h=[d,Kp(d,f,a),f]}return{points:s?h.reverse():h,direction:Wp(s?d:f,t)}}function Kp(e,t,n){let r=[e[0],t[1]];return nd(r,n)&&(r=[t[0],e[1]]),r}function Xp(e,t,n,r,i){let o="number"==typeof t?t:.5;"start"===t&&(o=0),"end"===t&&(o=.99);const a=rf(e.getPoint(o)),s=rf(e.getPoint(o+.01));let l="start"===t?"left":"end"===t?"right":"center";if(lf(a,s)||!n){const[t,n]=Qp(e,o,r,i);return{transform:[["translate",t,n]],textAlign:l}}let u=Math.atan2(s[1]-a[1],s[0]-a[0]);s[0]<a[0]&&(l="center"===l?l:"left"===l?"right":"left",r*=-1,u+=Math.PI);const[c,d]=Qp(e,o,r,i,u);return{textAlign:l,transform:[["translate",c,d],["rotate",u/Math.PI*180]]}}function Qp(e,t,n,r,i){const[o,a]=rf(e.getPoint(t));let s=n,l=r;return i&&(s=n*Math.cos(i)-r*Math.sin(i),l=n*Math.sin(i)+r*Math.cos(i)),[o+s,a+l]}function Zp(e,t,n,r){if(Ct(e,t))return e;const i=Fd(t,e),o=[e[0]+n*i[0],e[1]+n*i[1]],a=Gd(Yd(i,!1));return o[0]+=r*a[0],o[1]+=r*a[1],o}function Jp(e,t,n){return[["M",e[0],e[1]],["C",n[0][0],n[0][1],n[1][0],n[1][1],t[0],t[1]]]}function eg(e,t=0,n=!1){const r=e[0],i=e[e.length-1],o=e.slice(1,e.length-1),a=[["M",r[0],r[1]]];return o.forEach(((e,n)=>{const s=o[n-1]||r,l=o[n+1]||i;if(!uf(s,e,l)&&t){const[n,r]=function(e,t,n,r){const i=Hd(e,t),o=Hd(n,t),a=Math.min(r,Math.min(i,o)/2),s=[t[0]-a/i*(t[0]-e[0]),t[1]-a/i*(t[1]-e[1])],l=[t[0]-a/o*(t[0]-n[0]),t[1]-a/o*(t[1]-n[1])];return[s,l]}(s,e,l,t);a.push(["L",n[0],n[1]],["Q",e[0],e[1],r[0],r[1]],["L",r[0],r[1]])}else a.push(["L",e[0],e[1]])})),a.push(["L",i[0],i[1]]),n&&a.push(["Z"]),a}function tg(e,t,n,r,i){const o=Zc(e),a=e.getCenter();let s=r&&Lg(r),l=i&&Lg(i);if(!s||!l){const r=(e=>{const t=Math.PI/2,n=Xc(e)/2,r=Kc(e)/2,i=Math.atan2(n,r)/2,o=Math.atan2(r,n)/2;return{top:[-t-o,-t+o],"top-right":[-t+o,-i],"right-top":[-t+o,-i],right:[-i,i],"bottom-right":[i,t-o],"right-bottom":[i,t-o],bottom:[t-o,t+o],"bottom-left":[t+o,Math.PI-i],"left-bottom":[t+o,Math.PI-i],left:[Math.PI-i,Math.PI+i],"top-left":[Math.PI+i,-t-o],"left-top":[Math.PI+i,-t-o]}})(o),i=r[t][0],u=r[t][1],[c,d]=Qc(o),f=Math.max(c,d),h=jd(a,[f*Math.cos(i),f*Math.sin(i),0]),p=jd(a,[f*Math.cos(u),f*Math.sin(u),0]);s=Fg(e,h),l=Fg(e,p),n||([s,l]=[l,s])}return[s,l]}function ng(e,t,n,r,i,o){const a=e.getPorts()[i||o],s=e.getPorts()[o||i];let[l,u]=tg(e,t,n,a,s);const c=function(e,t,n,r){const i=e.getCenter();if(Ct(t,n)){const e=Fd(t,i),o=[r*Math.sign(e[0])||r/2,r*Math.sign(e[1])||-r/2,0];return[jd(t,o),jd(n,Bd(o,[1,-1,1]))]}return[sf(i,t,Vd(i,t)+r),sf(i,n,Vd(i,n)+r)]}(e,l,u,r);return a&&(l=jg(a,c[0])),s&&(u=jg(s,c[c.length-1])),Jp(l,u,c)}function rg(e,t,n,r,i,o,a){const s=Ag(e),l=s[o||a],u=s[a||o];let[c,d]=tg(e,n,r,l,u);const f=function(e,t,n,r){const i=[],o=Zc(e);if(Ct(t,n)){switch(od(t,o)){case"left":i.push([t[0]-r,t[1]]),i.push([t[0]-r,t[1]+r]),i.push([t[0],t[1]+r]);break;case"right":i.push([t[0]+r,t[1]]),i.push([t[0]+r,t[1]+r]),i.push([t[0],t[1]+r]);break;case"top":i.push([t[0],t[1]-r]),i.push([t[0]+r,t[1]-r]),i.push([t[0]+r,t[1]]);break;case"bottom":i.push([t[0],t[1]+r]),i.push([t[0]+r,t[1]+r]),i.push([t[0]+r,t[1]])}}else{const e=od(t,o),a=od(n,o);if(e===a){let o,a;switch(e){case"left":o=Math.min(t[0],n[0])-r,i.push([o,t[1]]),i.push([o,n[1]]);break;case"right":o=Math.max(t[0],n[0])+r,i.push([o,t[1]]),i.push([o,n[1]]);break;case"top":a=Math.min(t[1],n[1])-r,i.push([t[0],a]),i.push([n[0],a]);break;case"bottom":a=Math.max(t[1],n[1])+r,i.push([t[0],a]),i.push([n[0],a])}}else{const s=(e,t)=>({left:[t[0]-r,t[1]],right:[t[0]+r,t[1]],top:[t[0],t[1]-r],bottom:[t[0],t[1]+r]}[e]),l=s(e,t),u=s(a,n),c=Kp(l,u,o);i.push(l,c,u)}}return i}(e,c,d,i);return l&&(c=jg(l,f[0])),u&&(d=jg(u,f[f.length-1])),eg([c,...f,d],t)}function ig(e,t){const n=new Set,r=new Set,i=new Set;return e.forEach((o=>{t(o).forEach((t=>{n.add(t),e.includes(t.source)&&e.includes(t.target)?r.add(t):i.add(t)}))})),{edges:Array.from(n),internal:Array.from(r),external:Array.from(i)}}function og(e,t){const n=[];let r=e;for(;r;){n.push(r);const e=t(wd(r));if(!e)break;r=e}if(n.some((e=>{var t;return null===(t=e.style)||void 0===t?void 0:t.collapsed}))){const e=n.reverse().findIndex(Pf);return n[e]||n.at(-1)}return e}const ag=(e,t)=>[["M",-e/2,0],["L",e/2,-t/2],["L",e/2,t/2],["Z"]];var sg=Object.freeze({__proto__:null,circle:(e,t)=>{const n=Math.max(e,t)/2;return[["M",-e/2,0],["A",n,n,0,1,0,2*n-e/2,0],["A",n,n,0,1,0,-e/2,0],["Z"]]},diamond:(e,t)=>[["M",-e/2,0],["L",0,-t/2],["L",e/2,0],["L",0,t/2],["Z"]],rect:(e,t)=>[["M",-e/2,-t/2],["L",e/2,-t/2],["L",e/2,t/2],["L",-e/2,t/2],["Z"]],simple:(e,t)=>[["M",e/2,-t/2],["L",-e/2,0],["L",e/2,0],["L",-e/2,0],["L",e/2,t/2]],triangle:ag,triangleRect:(e,t)=>{const n=e/2,r=e/7,i=e-r;return[["M",-n,0],["L",0,-t/2],["L",0,t/2],["Z"],["M",i-n,-t/2],["L",i+r-n,-t/2],["L",i+r-n,t/2],["L",i-n,t/2],["Z"]]},vee:(e,t)=>[["M",-e/2,0],["L",e/2,-t/2],["L",4*e/5-e/2,0],["L",e/2,t/2],["Z"]]}),lg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class ug extends ah{constructor(e){super(jf({style:ug.defaultStyleProps},e)),this.type="edge"}get sourceNode(){const{sourceNode:e}=this.parsedAttributes;return this.context.element.getElement(e)}get targetNode(){const{targetNode:e}=this.parsedAttributes;return this.context.element.getElement(e)}getKeyStyle(e){const t=this.getGraphicStyle(e),{loop:n}=t,r=lg(t,["loop"]),{sourceNode:i,targetNode:o}=this;var a,s;const l={d:n&&(s=o,(a=i)&&s&&a===s)?this.getLoopPath(e):this.getKeyPath(e)};return Gl.PARSED_STYLE_LIST.forEach((e=>{e in r&&(l[e]=r[e])})),l}getLoopPath(e){const{sourcePort:t,targetPort:n}=e,r=this.sourceNode,i=Zc(r),o=Math.max(Kc(i),Xc(i)),{placement:a,clockwise:s,dist:l=o}=Rf(this.getGraphicStyle(e),"loop");return ng(r,a,s,l,t,n)}getEndpoints(e,t=!0,n=[]){const{sourcePort:r,targetPort:i}=e,{sourceNode:o,targetNode:a}=this,[s,l]=function(e,t,n,r){const i=Ig(e,t,n,r),o=Ig(t,e,r,n);return[i,o]}(o,a,r,i);if(!t){return[s?Lg(s):o.getCenter(),l?Lg(l):a.getCenter()]}const u="function"==typeof n?n():n;return[zg(s||o,u[0]||l||a),zg(l||a,u[u.length-1]||s||o)]}getHaloStyle(e){if(!1===e.halo)return!1;const t=this.getKeyStyle(e),n=Rf(this.getGraphicStyle(e),"halo");return Object.assign(Object.assign({},t),n)}getLabelStyle(e){if(!1===e.label||!e.labelText)return!1;const t=Rf(this.getGraphicStyle(e),"label"),{placement:n,offsetX:r,offsetY:i,autoRotate:o,maxWidth:a}=t,s=lg(t,["placement","offsetX","offsetY","autoRotate","maxWidth"]),l=Xp(this.shapeMap.key,n,o,r,i),u=this.shapeMap.key.getLocalBounds(),c=function(e,t,n=1){return Uf(Vd(e[0],e[1])*n,t)}([u.min,u.max],a);return Object.assign({wordWrapWidth:c},l,s)}getBadgeStyle(e){if(!1===e.badge||!e.badgeText)return!1;const t=Rf(e,"badge"),{offsetX:n,offsetY:r,placement:i}=t,o=lg(t,["offsetX","offsetY","placement"]);return Object.assign(o,function(e,t,n,r,i){var o,a;const s=2*(null===(o=e.badge)||void 0===o?void 0:o.getGeometryBounds().halfExtents[0])||0,l=2*(null===(a=e.label)||void 0===a?void 0:a.getGeometryBounds().halfExtents[0])||0;return Xp(e.key,n,!0,(l?(l/2+s/2)*("suffix"===t?1:-1):0)+r,i)}(this.shapeMap,i,e.labelPlacement,n,r))}drawArrow(e,t){var n;const r="start"===t,i=e["start"===t?"startArrow":"endArrow"],o=this.shapeMap.key;if(i){const t=this.getArrowStyle(e,r),[n,i,a]=r?["markerStart","markerStartOffset","startArrowOffset"]:["markerEnd","markerEndOffset","endArrowOffset"],s=o.parsedStyle[n];if(s)s.attr(t);else{const e=new(t.src?Ul:Gl)({style:t});o.style[n]=e}o.style[i]=e[a]||t.width/2+ +t.lineWidth}else{const e=r?"markerStart":"markerEnd";null===(n=o.style[e])||void 0===n||n.destroy(),o.style[e]=null}}getArrowStyle(e,t){const n=this.getShape("key").attributes,r=t?"startArrow":"endArrow",i=Rf(this.getGraphicStyle(e),r),{size:o,type:a}=i,s=lg(i,["size","type"]),[l,u]=Lf(function(e,t){return t||(e<4?10:4===e?12:2.5*e)}(n.lineWidth,o)),c=($e(a)?a:sg[a]||ag)(l,u);return Object.assign(_t(n,["stroke","strokeOpacity","fillOpacity"]),{width:l,height:u},Object.assign({},c&&{d:c,fill:"simple"===a?"":n.stroke}),s)}drawLabelShape(e,t){const n=this.getLabelStyle(e);this.upsert("label",Yf,n,t)}drawHaloShape(e,t){const n=this.getHaloStyle(e);this.upsert("halo",Gl,n,t)}drawBadgeShape(e,t){const n=this.getBadgeStyle(e);this.upsert("badge",qf,n,t)}drawSourceArrow(e){this.drawArrow(e,"start")}drawTargetArrow(e){this.drawArrow(e,"end")}drawKeyShape(e,t){const n=this.getKeyStyle(e);return this.upsert("key",Gl,n,t)}render(e=this.parsedAttributes,t=this){this.drawKeyShape(e,t),this.getShape("key")&&(this.drawSourceArrow(e),this.drawTargetArrow(e),this.drawLabelShape(e,t),this.drawHaloShape(e,t),this.drawBadgeShape(e,t))}onframe(){this.drawKeyShape(this.parsedAttributes,this),this.drawSourceArrow(this.parsedAttributes),this.drawTargetArrow(this.parsedAttributes),this.drawHaloShape(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this),this.drawBadgeShape(this.parsedAttributes,this)}animate(e,t){const n=super.animate(e,t);return n?new Proxy(n,{set:(e,t,n)=>("currentTime"===t&&Promise.resolve().then((()=>this.onframe())),Reflect.set(e,t,n))}):n}}ug.defaultStyleProps={badge:!0,badgeOffsetX:0,badgeOffsetY:0,badgePlacement:"suffix",isBillboard:!0,label:!0,labelAutoRotate:!0,labelIsBillboard:!0,labelMaxWidth:"80%",labelOffsetX:4,labelOffsetY:0,labelPlacement:"center",labelTextBaseline:"middle",labelWordWrap:!1,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloPointerEvents:"none",haloStrokeOpacity:.25,haloZIndex:-1,loop:!0,startArrow:!1,startArrowLineDash:0,startArrowLineJoin:"round",startArrowLineWidth:1,startArrowTransformOrigin:"center",startArrowType:"vee",endArrow:!1,endArrowLineDash:0,endArrowLineJoin:"round",endArrowLineWidth:1,endArrowTransformOrigin:"center",endArrowType:"vee",loopPlacement:"top",loopClockwise:!0};class cg extends ug{constructor(e){super(jf({style:cg.defaultStyleProps},e))}getKeyPath(e){const[t,n]=this.getEndpoints(e),{controlPoints:r,curvePosition:i,curveOffset:o}=e,a=this.getControlPoints(t,n,function(e){return st(e)?[e,1-e]:e}(i),function(e){return st(e)?[e,-e]:e}(o),r);return Jp(t,n,a)}getControlPoints(e,t,n,r,i){return 2===(null==i?void 0:i.length)?i:[Zp(e,t,n[0],r[0]),Zp(e,t,n[1],r[1])]}}cg.defaultStyleProps={curvePosition:.5,curveOffset:20};class dg extends cg{constructor(e){super(jf({style:dg.defaultStyleProps},e))}getControlPoints(e,t,n,r){const i=t[0]-e[0];return[[e[0]+i*n[0]+r[0],e[1]],[t[0]-i*n[1]+r[1],t[1]]]}}dg.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]};class fg extends cg{constructor(e){super(jf({style:fg.defaultStyleProps},e))}get ref(){return this.context.model.getRootsData()[0]}getEndpoints(e){if(this.sourceNode.id===this.ref.id)return super.getEndpoints(e);const t=ef(this.ref);return[this.sourceNode.getIntersectPoint(t,!0),this.targetNode.getIntersectPoint(t)]}toRadialCoordinate(e){const t=ef(this.ref);return[Vd(e,t),Xd(Fd(e,t))]}getControlPoints(e,t,n,r){const[i,o]=this.toRadialCoordinate(e),[a]=this.toRadialCoordinate(t),s=a-i;return[[e[0]+(s*n[0]+r[0])*Math.cos(o),e[1]+(s*n[0]+r[0])*Math.sin(o)],[t[0]-(s*n[1]-r[0])*Math.cos(o),t[1]-(s*n[1]-r[0])*Math.sin(o)]]}}fg.defaultStyleProps={curvePosition:.5,curveOffset:20};class hg extends cg{constructor(e){super(jf({style:hg.defaultStyleProps},e))}getControlPoints(e,t,n,r){const i=t[1]-e[1];return[[e[0],e[1]+i*n[0]+r[0]],[t[0],t[1]-i*n[1]+r[1]]]}}hg.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]};let pg=class e extends ug{constructor(t){super(jf({style:e.defaultStyleProps},t))}getKeyPath(e){const[t,n]=this.getEndpoints(e);return[["M",t[0],t[1]],["L",n[0],n[1]]]}};pg.defaultStyleProps={};const gg={enableObstacleAvoidance:!1,offset:10,maxAllowedDirectionChange:Math.PI/2,maximumLoops:3e3,gridSize:5,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{right:{stepX:1,stepY:0},left:{stepX:-1,stepY:0},bottom:{stepX:0,stepY:1},top:{stepX:0,stepY:-1}},penalties:{0:0,90:0},distFunc:Hd},vg=e=>`${Math.round(e[0])}|||${Math.round(e[1])}`;function mg(e,t){const n=e=>Math.round(e/t);return st(e)?n(e):e.map(n)}function yg(e,t){const n=t[0]-e[0],r=t[1]-e[1];return n||r?Math.atan2(r,n):0}function bg(e,t,n,r){const i=yg(e,t),o=n[vg(e)];return function(e,t){const n=Math.abs(e-t);return n>Math.PI?2*Math.PI-n:n}(yg(o||r,e),i)}function wg(e,t,n){return Math.min(...t.map((t=>n(e,t))))}const xg=(e,t,n,r)=>{if(!t)return[e];const{directionMap:i,offset:o}=r,a=ed(t.getRenderBounds(),o),s=Object.keys(i).reduce(((t,r)=>{if(n.includes(r)){const n=i[r],[o,s]=Qc(a),l=[e[0]+n.stepX*o,e[1]+n.stepY*s],u=function(e){const{min:[t,n],max:[r,i]}=e,o=[t,i],a=[r,i],s=[r,n],l=[t,n];return[[o,a],[a,s],[s,l],[l,o]]}(a);for(let n=0;n<u.length;n++){const r=Zd([e,l],u[n]);r&&rd(r,a)&&t.push(r)}}return t}),[]);return nd(e,a)||s.push(e),s.map((e=>mg(e,r.gridSize)))},Eg=(e,t,n,r,i,o,a)=>{const s=[];let l=[o[0]===r[0]?r[0]:e[0]*a,o[1]===r[1]?r[1]:e[1]*a];s.unshift(l);let u=e,c=t[vg(u)];for(;c;){const e=c,r=u;bg(e,r,t,n)&&(l=[e[0]===r[0]?l[0]:e[0]*a,e[1]===r[1]?l[1]:e[1]*a],s.unshift(l)),c=t[vg(e)],u=e}const d=i.map((e=>[e[0]*a,e[1]*a])),f=function(e,t,n){let r=e[0],i=n(e[0],t);for(let o=0;o<e.length;o++){const a=e[o],s=n(a,t);s<i&&(r=a,i=s)}return r}(d,l,Hd);return s.unshift(f),s};function kg(e,t,n,r){const i=qd(e.getCenter()),o=qd(t.getCenter()),a=Object.assign(gg,r),{gridSize:s}=a,l=((e,t)=>{const{offset:n,gridSize:r}=t,i={};return e.forEach((e=>{if(!e||e.destroyed||!e.isVisible())return;const t=ed(e.getRenderBounds(),n);for(let e=mg(t.min[0],r);e<=mg(t.max[0],r);e+=1)for(let n=mg(t.min[1],r);n<=mg(t.max[1],r);n+=1)i[`${e}|||${n}`]=!0})),i})(a.enableObstacleAvoidance?n:[e,t],a),u=mg(i,s),c=mg(o,s),d=xg(i,e,a.startDirections,a),f=xg(o,t,a.endDirections,a);d.forEach((e=>delete l[vg(e)])),f.forEach((e=>delete l[vg(e)]));const h={},p={},g={},v={},m={},y=new Sg;for(let e=0;e<d.length;e++){const t=d[e],n=vg(t);h[n]=t,v[n]=0,m[n]=wg(t,f,a.distFunc),y.add({id:n,value:m[n]})}const b=f.map((e=>vg(e)));let w,x=a.maximumLoops,E=1/0;for(const[e,t]of Object.entries(h))m[e]<=E&&(E=m[e],w=t);for(;Object.keys(h).length>0&&x>0;){const e=y.minId(!1);if(!e)break;w=h[e];const t=vg(w);if(b.includes(t))return Eg(w,g,u,o,d,c,s);delete h[t],y.remove(t),p[t]=!0;for(const e of Object.values(a.directionMap)){const n=jd(w,[e.stepX,e.stepY]),r=vg(n);if(p[r])continue;const i=bg(w,n,g,u);if(i>a.maxAllowedDirectionChange)continue;if(l[r])continue;h[r]||(h[r]=n);const o=a.penalties[i],c=a.distFunc(w,n)+(isNaN(o)?s:o),d=v[t]+c,b=v[r];b&&d>=b||(g[r]=w,v[r]=d,m[r]=d+wg(n,f,a.distFunc),y.add({id:r,value:m[r]}))}x-=1}return[]}class Sg{constructor(){this.arr=[],this.map={},this.arr=[],this.map={}}_innerAdd(e,t){let n=0,r=t-1;for(;r-n>1;){const t=Math.floor((n+r)/2);if(this.arr[t].value>e.value)r=t;else{if(!(this.arr[t].value<e.value))return this.arr.splice(t,0,e),void(this.map[e.id]=!0);n=t}}this.arr.splice(r,0,e),this.map[e.id]=!0}add(e){delete this.map[e.id];const t=this.arr.length;if(!t||this.arr[t-1].value<e.value)return this.arr.push(e),void(this.map[e.id]=!0);this._innerAdd(e,t)}remove(e){this.map[e]&&delete this.map[e]}_clearAndGetMinId(){let e;for(let t=this.arr.length-1;t>=0;t--)this.map[this.arr[t].id]?e=this.arr[t].id:this.arr.splice(t,1);return e}_findFirstId(){for(;this.arr.length;){const e=this.arr.shift();if(this.map[e.id])return e.id}}minId(e){return e?this._clearAndGetMinId():this._findFirstId()}}let Mg=class e extends ug{constructor(t){super(jf({style:e.defaultStyleProps},t))}getControlPoints(e){const{router:t}=e,{sourceNode:n,targetNode:r}=this,[i,o]=this.getEndpoints(e,!1);let a=[];if(t)if("shortest-path"===t.type){a=kg(n,r,this.context.element.getNodes(),t),a.length||(a=Fp(i,o,n,r,e.controlPoints,{padding:t.offset}))}else"orth"===t.type&&(a=Fp(i,o,n,r,e.controlPoints,t));else a=e.controlPoints;return a}getPoints(e){const t=this.getControlPoints(e),[n,r]=this.getEndpoints(e,!0,t);return[n,...t,r]}getKeyPath(e){return eg(this.getPoints(e),e.radius)}getLoopPath(e){const{sourcePort:t,targetPort:n,radius:r}=e,i=this.sourceNode,o=Zc(i),a=Math.max(Kc(o),Xc(o))/4,{placement:s,clockwise:l,dist:u=a}=Rf(this.getGraphicStyle(e),"loop");return rg(i,r,s,l,u,t,n)}};Mg.defaultStyleProps={radius:0,controlPoints:[],router:!1};class Tg extends ug{constructor(e){super(jf({style:Tg.defaultStyleProps},e))}getKeyPath(e){const{curvePosition:t,curveOffset:n}=e,[r,i]=this.getEndpoints(e);return function(e,t,n){return[["M",e[0],e[1]],["Q",n[0],n[1],t[0],t[1]]]}(r,i,e.controlPoint||Zp(r,i,t,n))}}Tg.defaultStyleProps={curvePosition:.5,curveOffset:30};var Cg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Ng(e){return e instanceof lh&&"node"===e.type}function Pg(e){return e instanceof ug}function Og(e){return e instanceof zp}const _g={top:[.5,0],right:[1,.5],bottom:[.5,1],left:[0,.5],default:[.5,.5]};function Rg(e,t,n=_g,r=!0){const i=[.5,.5],o=rt(t)?Nt(n,t.toLocaleLowerCase(),i):t;if(!r&&rt(t))return o;const[a,s]=o||i;return[e.min[0]+Kc(e)*a,e.min[1]+Xc(e)*s]}function Ag(e){if(!e)return{};const t=e.getPorts();return(e.attributes.ports||[]).forEach(((n,r)=>{var i;const{key:o,placement:a}=n;Dg(n)&&(t[i=o||r]||(t[i]=nf(e.getShape("key").getBounds(),a)))})),t}function Dg(e){const{r:t}=e;return!t||0===Number(t)}function Lg(e){return Gc(e)?e:e.getPosition()}function Ig(e,t,n,r){const i=Ag(e);if(n)return i[n];const o=Object.values(i);if(0===o.length)return;const a=o.map((e=>Lg(e))),s=function(e,t){const n=Ag(e);if(t)return[Lg(n[t])];const r=Object.values(n);return r.length>0?r.map((e=>Lg(e))):[e.getCenter()]}(t,r),[l]=function(e,t){let n=1/0,r=[e[0],t[0]];return e.forEach((e=>{t.forEach((t=>{const i=Vd(e,t);i<n&&(n=i,r=[e,t])}))})),r}(a,s);return o.find((e=>Lg(e)===l))}function zg(e,t){return Og(e)||Ng(e)?Fg(e,t):jg(e,t)}function jg(e,t){if(!e||!t)return[0,0,0];if(Gc(e))return e;if(e.attributes.linkToCenter)return e.getPosition();return ff(Gc(t)?t:Ng(t)?t.getCenter():t.getPosition(),e.getBounds())}function Fg(e,t){if(!e||!t)return[0,0,0];const n=Gc(t)?t:Ng(t)?t.getCenter():t.getPosition();return e.getIntersectPoint(n)||e.getCenter()}function Bg(e,t="bottom",n=0,r=0,i=!1){const o=t.split("-"),[a,s]=nf(e,t),l=o.includes("left")?"right":o.includes("right")?"left":"center";let u=o.includes("top")?"bottom":o.includes("bottom")?"top":"middle";return i&&(u="top"===u?"bottom":"bottom"===u?"top":u),{transform:[["translate",a+n,s+r]],textBaseline:u,textAlign:l}}function Ug(e,t){"update"in e?e.update(t):e.attr(t)}function Wg(e){return Nt(e,"__to_be_destroyed__",!1)}var Vg=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class Hg extends Ld{constructor(e,t){super(e,Object.assign({},Hg.defaultOptions,t)),this.onCollapseExpand=e=>Vg(this,void 0,void 0,(function*(){if(!this.validate(e))return;const{target:t}=e;if(!(Ng(n=t)||Pg(n)||Og(n)))return;var n;const r=t.id,{model:i,graph:o}=this.context,a=i.getElementDataById(r);if(!a)return!1;const{onCollapse:s,onExpand:l,animation:u,align:c}=this.options;Pf(a)?(yield o.expandElement(r,{animation:u,align:c}),null==l||l(r)):(yield o.collapseElement(r,{animation:u,align:c}),null==s||s(r))})),this.bindEvents()}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}bindEvents(){const{graph:e}=this.context,{trigger:t}=this.options;e.on(`node:${t}`,this.onCollapseExpand),e.on(`combo:${t}`,this.onCollapseExpand)}unbindEvents(){const{graph:e}=this.context,{trigger:t}=this.options;e.off(`node:${t}`,this.onCollapseExpand),e.off(`combo:${t}`,this.onCollapseExpand)}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}destroy(){this.unbindEvents(),super.destroy()}}Hg.defaultOptions={enable:!0,animation:!0,trigger:mc.DBLCLICK,align:!0};var Gg=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const $g="g6-create-edge-assist-node-id";class Yg extends Ld{constructor(e,t){super(e,Object.assign({},Yg.defaultOptions,t)),this.drop=e=>Gg(this,void 0,void 0,(function*(){const{targetType:t}=e;["combo","node"].includes(t)&&this.source?yield this.handleCreateEdge(e):yield this.cancelEdge()})),this.handleCreateEdge=e=>Gg(this,void 0,void 0,(function*(){var t,n,r;if(!this.validate(e))return;const{graph:i,canvas:o,batch:a,element:s}=this.context,{style:l}=this.options;if(this.source)return this.createEdge(e),void(yield this.cancelEdge());a.startBatch(),o.setCursor("crosshair"),this.source=this.getSelectedNodeIDs([e.target.id])[0];const u=i.getElementData(this.source);i.addNodeData([{id:$g,style:{visibility:"hidden",ports:[{key:"port-1",placement:[.5,.5]}],x:null===(t=u.style)||void 0===t?void 0:t.x,y:null===(n=u.style)||void 0===n?void 0:n.y}}]),i.addEdgeData([{id:"g6-create-edge-assist-edge-id",source:this.source,target:$g,style:Object.assign({pointerEvents:"none"},l)}]),yield null===(r=s.draw({animation:!1}))||void 0===r?void 0:r.finished})),this.updateAssistEdge=e=>Gg(this,void 0,void 0,(function*(){var t;if(!this.source)return;const{model:n,element:r}=this.context;n.translateNodeTo($g,[e.canvas.x,e.canvas.y]),yield null===(t=r.draw({animation:!1,silence:!0}))||void 0===t?void 0:t.finished})),this.createEdge=e=>{var t,n;const{graph:r}=this.context,{style:i,onFinish:o,onCreate:a}=this.options;if(void 0===(null===(t=e.target)||void 0===t?void 0:t.id)||void 0===this.source)return;const s=null===(n=this.getSelectedNodeIDs([e.target.id]))||void 0===n?void 0:n[0];var l;const u=a({id:`${this.source}-${s}-${Dt[l=l||"g"]?Dt[l]+=1:Dt[l]=1,l+Dt[l]}`,source:this.source,target:s,style:i});r.addEdgeData([u]),o(u)},this.cancelEdge=()=>Gg(this,void 0,void 0,(function*(){var e;if(!this.source)return;const{graph:t,element:n,batch:r}=this.context;t.removeNodeData([$g]),this.source=void 0,yield null===(e=n.draw({animation:!1}))||void 0===e?void 0:e.finished,r.endBatch()})),this.bindEvents()}update(e){super.update(e),this.bindEvents()}bindEvents(){const{graph:e}=this.context,{trigger:t}=this.options;this.unbindEvents(),"click"===t?(e.on(Ec.CLICK,this.handleCreateEdge),e.on(vc.CLICK,this.handleCreateEdge),e.on(gc.CLICK,this.cancelEdge),e.on(bc.CLICK,this.cancelEdge)):(e.on(Ec.DRAG_START,this.handleCreateEdge),e.on(vc.DRAG_START,this.handleCreateEdge),e.on(mc.POINTER_UP,this.drop)),e.on(mc.POINTER_MOVE,this.updateAssistEdge)}getSelectedNodeIDs(e){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map((e=>e.id)).concat(e)))}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}unbindEvents(){const{graph:e}=this.context;e.off(Ec.CLICK,this.handleCreateEdge),e.off(vc.CLICK,this.handleCreateEdge),e.off(gc.CLICK,this.cancelEdge),e.off(bc.CLICK,this.cancelEdge),e.off(Ec.DRAG_START,this.handleCreateEdge),e.off(vc.DRAG_START,this.handleCreateEdge),e.off(mc.POINTER_UP,this.drop),e.off(mc.POINTER_MOVE,this.updateAssistEdge)}destroy(){this.unbindEvents(),super.destroy()}}Yg.defaultOptions={animation:!0,enable:!0,style:{},trigger:"drag",onCreate:e=>e,onFinish:()=>{}};var qg=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class Kg extends Ld{constructor(e,t){super(e,Object.assign({},Kg.defaultOptions,t)),this.isDragging=!1,this.onDragStart=e=>{this.validate(e)&&(this.isDragging=!0,this.context.canvas.setCursor("grabbing"))},this.onDrag=e=>{if(!this.isDragging)return;const{x:t,y:n}=e.movement;t|n&&this.translate([t,n],!1)},this.onDragEnd=()=>{var e,t;this.isDragging=!1,this.context.canvas.setCursor(this.defaultCursor),null===(t=(e=this.options).onFinish)||void 0===t||t.call(e)},this.invokeOnFinish=bt((()=>{var e,t;null===(t=(e=this.options).onFinish)||void 0===t||t.call(e)}),300),this.shortcut=new yf(e.graph),this.bindEvents(),this.defaultCursor=this.context.canvas.getConfig().cursor||"default"}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}bindEvents(){const{trigger:e}=this.options;if(Ke(e)){const{up:t=[],down:n=[],left:r=[],right:i=[]}=e;this.shortcut.bind(t,(e=>this.onTranslate([0,1],e))),this.shortcut.bind(n,(e=>this.onTranslate([0,-1],e))),this.shortcut.bind(r,(e=>this.onTranslate([1,0],e))),this.shortcut.bind(i,(e=>this.onTranslate([-1,0],e)))}else{const{graph:e}=this.context;e.on(mc.DRAG_START,this.onDragStart),e.on(mc.DRAG,this.onDrag),e.on(mc.DRAG_END,this.onDragEnd)}}onTranslate(e,t){return qg(this,void 0,void 0,(function*(){if(!this.validate(t))return;const{sensitivity:n}=this.options,r=-1*n;yield this.translate(Bd(e,r),this.options.animation),this.invokeOnFinish()}))}translate(e,t){return qg(this,void 0,void 0,(function*(){e=this.clampByDirection(e),e=this.clampByRange(e),yield this.context.graph.translateBy(e,t)}))}clampByDirection([e,t]){const{direction:n}=this.options;return"x"===n?t=0:"y"===n&&(e=0),[e,t]}clampByRange([e,t]){const{viewport:n,canvas:r}=this.context,[i,o]=r.getSize(),[a,s,l,u]=Yc(this.options.range),c=[o*a,i*s,o*l,i*u],d=ed(Jc(n.getCanvasCenter()),c),f=Fd(n.getViewportCenter(),[e,t,0]);if(!nd(f,d)){const{min:[n,r],max:[i,o]}=d;(f[0]<n&&e>0||f[0]>i&&e<0)&&(e=0),(f[1]<r&&t>0||f[1]>o&&t<0)&&(t=0)}return[e,t]}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return"function"==typeof t?t(e):!!t}unbindEvents(){this.shortcut.unbindAll();const{graph:e}=this.context;e.off(mc.DRAG_START,this.onDragStart),e.off(mc.DRAG,this.onDrag),e.off(mc.DRAG_END,this.onDragEnd)}destroy(){this.shortcut.destroy(),this.unbindEvents(),this.context.canvas.setCursor(this.defaultCursor),super.destroy()}}Kg.defaultOptions={enable:e=>!("targetType"in e)||"canvas"===e.targetType,sensitivity:10,direction:"both",range:1/0};var Xg=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class Qg extends Ld{constructor(e,t){super(e,Object.assign({},Qg.defaultOptions,t)),this.enable=!1,this.enableElements=["node","combo"],this.target=[],this.shadowOrigin=[0,0],this.hiddenEdges=[],this.isDragging=!1,this.onDrop=e=>Xg(this,void 0,void 0,(function*(){var t;if("link"!==this.options.dropEffect)return;const{model:n,element:r}=this.context,i=e.target.id;this.target.forEach((e=>{const t=n.getParentData(e,kc);t&&wd(t)===i&&n.refreshComboData(i),n.setParent(e,i,kc)})),yield null===(t=null==r?void 0:r.draw({animation:!0}))||void 0===t?void 0:t.finished})),this.setCursor=e=>{if(this.isDragging)return;const{type:t}=e,{canvas:n}=this.context,{cursor:r}=this.options;t===mc.POINTER_ENTER?n.setCursor((null==r?void 0:r.grab)||"grab"):n.setCursor((null==r?void 0:r.default)||"default")},this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onDrop=this.onDrop.bind(this),this.bindEvents()}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}bindEvents(){const{graph:e,canvas:t}=this.context,n=t.getLayer().getContextService().$canvas;n&&(n.addEventListener("blur",this.onDragEnd),n.addEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach((t=>{e.on(`${t}:${mc.DRAG_START}`,this.onDragStart),e.on(`${t}:${mc.DRAG}`,this.onDrag),e.on(`${t}:${mc.DRAG_END}`,this.onDragEnd),e.on(`${t}:${mc.POINTER_ENTER}`,this.setCursor),e.on(`${t}:${mc.POINTER_LEAVE}`,this.setCursor)})),["link"].includes(this.options.dropEffect)&&(e.on(vc.DROP,this.onDrop),e.on(gc.DROP,this.onDrop))}getSelectedNodeIDs(e){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map((e=>e.id)).concat(e)))}getDelta(e){const t=this.context.graph.getZoom();return Ud([e.dx,e.dy],t)}onDragStart(e){var t;if(this.enable=this.validate(e),!this.enable)return;const{batch:n,canvas:r,graph:i}=this.context;r.setCursor((null===(t=this.options.cursor)||void 0===t?void 0:t.grabbing)||"grabbing"),this.isDragging=!0,n.startBatch();const o=e.target.id;i.getElementState(o).includes(this.options.state)?this.target=this.getSelectedNodeIDs([o]):this.target=[o],this.hideEdge(),this.context.graph.frontElement(this.target),this.options.shadow&&this.createShadow(this.target)}onDrag(e){if(!this.enable)return;const t=this.getDelta(e);this.options.shadow?this.moveShadow(t):this.moveElement(this.target,t)}onDragEnd(){var e,t,n;if(this.enable=!1,this.options.shadow){if(!this.shadow)return;this.shadow.style.visibility="hidden";const{x:e=0,y:t=0}=this.shadow.attributes,[n,r]=Fd([+e,+t],this.shadowOrigin);this.moveElement(this.target,[n,r])}this.showEdges(),null===(t=(e=this.options).onFinish)||void 0===t||t.call(e,this.target);const{batch:r,canvas:i}=this.context;r.endBatch(),i.setCursor((null===(n=this.options.cursor)||void 0===n?void 0:n.grab)||"grab"),this.isDragging=!1,this.target=[]}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}moveElement(e,t){return Xg(this,void 0,void 0,(function*(){const{graph:n,model:r}=this.context,{dropEffect:i}=this.options;"move"===i&&e.forEach((e=>r.refreshComboData(e))),n.translateElementBy(Object.fromEntries(e.map((e=>[e,t]))),!1)}))}moveShadow(e){if(!this.shadow)return;const{x:t=0,y:n=0}=this.shadow.attributes,[r,i]=e;this.shadow.attr({x:+t+r,y:+n+i})}createShadow(e){const t=Rf(this.options,"shadow"),n=td(e.map((e=>this.context.element.getElement(e).getBounds()))),[r,i]=n.min;this.shadowOrigin=[r,i];const[o,a]=Qc(n),s={width:o,height:a,x:r,y:i};this.shadow?this.shadow.attr(Object.assign(Object.assign(Object.assign({},t),s),{visibility:"visible"})):(this.shadow=new Xl({style:Object.assign(Object.assign(Object.assign({$layer:"transient"},t),s),{pointerEvents:"none"})}),this.context.canvas.appendChild(this.shadow))}showEdges(){this.options.shadow||0===this.hiddenEdges.length||(this.context.graph.showElement(this.hiddenEdges),this.hiddenEdges=[])}hideEdge(){const{hideEdge:e,shadow:t}=this.options;if("none"===e||t)return;const{graph:n}=this.context;this.hiddenEdges="all"===e?n.getEdgeData().map(wd):Array.from(new Set(this.target.map((t=>n.getRelatedEdgesData(t,e).map(wd))).flat())),n.hideElement(this.hiddenEdges)}unbindEvents(){const{graph:e,canvas:t}=this.context,n=t.getLayer().getContextService().$canvas;n&&(n.removeEventListener("blur",this.onDragEnd),n.removeEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach((t=>{e.off(`${t}:${mc.DRAG_START}`,this.onDragStart),e.off(`${t}:${mc.DRAG}`,this.onDrag),e.off(`${t}:${mc.DRAG_END}`,this.onDragEnd),e.off(`${t}:${mc.POINTER_ENTER}`,this.setCursor),e.off(`${t}:${mc.POINTER_LEAVE}`,this.setCursor)})),e.off(`combo:${mc.DROP}`,this.onDrop),e.off(`canvas:${mc.DROP}`,this.onDrop)}destroy(){var e;this.unbindEvents(),null===(e=this.shadow)||void 0===e||e.destroy(),super.destroy()}}Qg.defaultOptions={animation:!0,enable:e=>["node","combo"].includes(e.targetType),dropEffect:"move",state:"selected",hideEdge:"none",shadow:!1,shadowZIndex:100,shadowFill:"#F3F9FF",shadowFillOpacity:.5,shadowStroke:"#1890FF",shadowStrokeOpacity:.9,shadowLineDash:[5,5],cursor:{default:"default",grab:"grab",grabbing:"grabbing"}};var Zg=function(){function e(){this._events={}}return e.prototype.on=function(e,t,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!n}),this},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.emit=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[e]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete t._events[e],i--,o--),s.apply(t,n)}};a(i),a(o)},e.prototype.off=function(e,t){if(e)if(t){for(var n=this._events[e]||[],r=n.length,i=0;i<r;i++)n[i].callback===t&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this},e.prototype.getEvents=function(){return this._events},e}();function Jg(e,t,n,r){for(;e.length;){const i=e.shift();if(n(i))return!0;t.add(i.id),r(i.id).forEach((n=>{t.has(n.id)||(t.add(n.id),e.push(n))}))}return!1}function ev(e,t,n,r){if(n(e))return!0;t.add(e.id);for(const i of r(e.id))if(!t.has(i.id)&&ev(i,t,n,r))return!0;return!1}const tv=()=>!0;class nv{graph;nodeFilter;edgeFilter;cacheEnabled;inEdgesMap=new Map;outEdgesMap=new Map;bothEdgesMap=new Map;allNodesMap=new Map;allEdgesMap=new Map;constructor(e){this.graph=e.graph;const t=e.nodeFilter||tv,n=e.edgeFilter||tv;this.nodeFilter=t,this.edgeFilter=e=>{const{source:r,target:i}=this.graph.getEdgeDetail(e.id);return!(!t(r)||!t(i))&&n(e,r,i)},"auto"===e.cache?(this.cacheEnabled=!0,this.startAutoCache()):"manual"===e.cache?this.cacheEnabled=!0:this.cacheEnabled=!1}clearCache=()=>{this.inEdgesMap.clear(),this.outEdgesMap.clear(),this.bothEdgesMap.clear(),this.allNodesMap.clear(),this.allEdgesMap.clear()};refreshCache=()=>{this.clearCache(),this.updateCache(this.graph.getAllNodes().map((e=>e.id)))};updateCache=e=>{const t=new Set;e.forEach((e=>{const n=this.bothEdgesMap.get(e);if(n&&n.forEach((e=>t.add(e.id))),this.hasNode(e)){const n=this.graph.getRelatedEdges(e,"in").filter(this.edgeFilter),r=this.graph.getRelatedEdges(e,"out").filter(this.edgeFilter),i=Array.from(new Set([...n,...r]));i.forEach((e=>t.add(e.id))),this.inEdgesMap.set(e,n),this.outEdgesMap.set(e,r),this.bothEdgesMap.set(e,i),this.allNodesMap.set(e,this.graph.getNode(e))}else this.inEdgesMap.delete(e),this.outEdgesMap.delete(e),this.bothEdgesMap.delete(e),this.allNodesMap.delete(e)})),t.forEach((e=>{this.hasEdge(e)?this.allEdgesMap.set(e,this.graph.getEdge(e)):this.allEdgesMap.delete(e)}))};startAutoCache(){this.refreshCache(),this.graph.on("changed",this.handleGraphChanged)}stopAutoCache(){this.graph.off("changed",this.handleGraphChanged)}handleGraphChanged=e=>{const t=new Set;e.changes.forEach((n=>{switch(n.type){case"NodeAdded":case"NodeRemoved":t.add(n.value.id);break;case"NodeDataUpdated":t.add(n.id);break;case"EdgeAdded":case"EdgeRemoved":t.add(n.value.source),t.add(n.value.target);break;case"EdgeUpdated":"source"!==n.propertyName&&"target"!==n.propertyName||(t.add(n.oldValue),t.add(n.newValue));break;case"EdgeDataUpdated":if(e.graph.hasEdge(n.id)){const r=e.graph.getEdge(n.id);t.add(r.source),t.add(r.target)}}})),this.updateCache(t)};checkNodeExistence(e){this.getNode(e)}hasNode(e){if(!this.graph.hasNode(e))return!1;const t=this.graph.getNode(e);return this.nodeFilter(t)}areNeighbors(e,t){return this.checkNodeExistence(e),this.getNeighbors(t).some((t=>t.id===e))}getNode(e){const t=this.graph.getNode(e);if(!this.nodeFilter(t))throw new Error("Node not found for id: "+e);return t}getRelatedEdges(e,t){if(this.checkNodeExistence(e),this.cacheEnabled)return"in"===t?this.inEdgesMap.get(e):"out"===t?this.outEdgesMap.get(e):this.bothEdgesMap.get(e);return this.graph.getRelatedEdges(e,t).filter(this.edgeFilter)}getDegree(e,t){return this.getRelatedEdges(e,t).length}getSuccessors(e){const t=this.getRelatedEdges(e,"out").map((e=>this.getNode(e.target)));return Array.from(new Set(t))}getPredecessors(e){const t=this.getRelatedEdges(e,"in").map((e=>this.getNode(e.source)));return Array.from(new Set(t))}getNeighbors(e){const t=this.getPredecessors(e),n=this.getSuccessors(e);return Array.from(new Set([...t,...n]))}hasEdge(e){if(!this.graph.hasEdge(e))return!1;const t=this.graph.getEdge(e);return this.edgeFilter(t)}getEdge(e){const t=this.graph.getEdge(e);if(!this.edgeFilter(t))throw new Error("Edge not found for id: "+e);return t}getEdgeDetail(e){const t=this.getEdge(e);return{edge:t,source:this.getNode(t.source),target:this.getNode(t.target)}}hasTreeStructure(e){return this.graph.hasTreeStructure(e)}getRoots(e){return this.graph.getRoots(e).filter(this.nodeFilter)}getChildren(e,t){return this.checkNodeExistence(e),this.graph.getChildren(e,t).filter(this.nodeFilter)}getParent(e,t){this.checkNodeExistence(e);const n=this.graph.getParent(e,t);return n&&this.nodeFilter(n)?n:null}getAllNodes(){return this.cacheEnabled?Array.from(this.allNodesMap.values()):this.graph.getAllNodes().filter(this.nodeFilter)}getAllEdges(){return this.cacheEnabled?Array.from(this.allEdgesMap.values()):this.graph.getAllEdges().filter(this.edgeFilter)}bfs(e,t,n="out"){const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];Jg([this.getNode(e)],new Set,t,r)}dfs(e,t,n="out"){const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];ev(this.getNode(e),new Set,t,r)}}let rv=class e extends Zg{nodeMap=new Map;edgeMap=new Map;inEdgesMap=new Map;outEdgesMap=new Map;bothEdgesMap=new Map;treeIndices=new Map;changes=[];batchCount=0;onChanged=()=>{};constructor(e){super(),e&&(e.nodes&&this.addNodes(e.nodes),e.edges&&this.addEdges(e.edges),e.tree&&this.addTree(e.tree),e.onChanged&&(this.onChanged=e.onChanged))}batch=e=>{this.batchCount+=1,e(),this.batchCount-=1,this.batchCount||this.commit()};commit(){const e=this.changes;this.changes=[];const t={graph:this,changes:e};this.emit("changed",t),this.onChanged(t)}reduceChanges(e){let t=[];return e.forEach((e=>{switch(e.type){case"NodeRemoved":{let n=!1;t=t.filter((t=>{if("NodeAdded"===t.type){const r=t.value.id===e.value.id;return r&&(n=!0),!r}return"NodeDataUpdated"===t.type?t.id!==e.value.id:"TreeStructureChanged"!==t.type||t.nodeId!==e.value.id})),n||t.push(e);break}case"EdgeRemoved":{let n=!1;t=t.filter((t=>{if("EdgeAdded"===t.type){const r=t.value.id===e.value.id;return r&&(n=!0),!r}return"EdgeDataUpdated"!==t.type&&"EdgeUpdated"!==t.type||t.id!==e.value.id})),n||t.push(e);break}case"NodeDataUpdated":case"EdgeDataUpdated":case"EdgeUpdated":{const n=t.findIndex((t=>t.type===e.type&&t.id===e.id&&(void 0===e.propertyName||t.propertyName===e.propertyName))),r=t[n];r?void 0!==e.propertyName?r.newValue=e.newValue:(t.splice(n,1),t.push(e)):t.push(e);break}case"TreeStructureDetached":t=t.filter((t=>"TreeStructureAttached"===t.type?t.treeKey!==e.treeKey:"TreeStructureChanged"!==t.type||t.treeKey!==e.treeKey)),t.push(e);break;case"TreeStructureChanged":{const n=t.find((t=>"TreeStructureChanged"===t.type&&t.treeKey===e.treeKey&&t.nodeId===e.nodeId));n?n.newParentId=e.newParentId:t.push(e);break}default:t.push(e)}})),t}checkNodeExistence(e){this.getNode(e)}hasNode(e){return this.nodeMap.has(e)}areNeighbors(e,t){return this.getNeighbors(t).some((t=>t.id===e))}getNode(e){const t=this.nodeMap.get(e);if(!t)throw new Error("Node not found for id: "+e);return t}getRelatedEdges(e,t){if(this.checkNodeExistence(e),"in"===t){const t=this.inEdgesMap.get(e);return Array.from(t)}if("out"===t){const t=this.outEdgesMap.get(e);return Array.from(t)}{const t=this.bothEdgesMap.get(e);return Array.from(t)}}getDegree(e,t){return this.getRelatedEdges(e,t).length}getSuccessors(e){const t=this.getRelatedEdges(e,"out").map((e=>this.getNode(e.target)));return Array.from(new Set(t))}getPredecessors(e){const t=this.getRelatedEdges(e,"in").map((e=>this.getNode(e.source)));return Array.from(new Set(t))}getNeighbors(e){const t=this.getPredecessors(e),n=this.getSuccessors(e);return Array.from(new Set([...t,...n]))}doAddNode(e){if(this.hasNode(e.id))throw new Error("Node already exists: "+e.id);this.nodeMap.set(e.id,e),this.inEdgesMap.set(e.id,new Set),this.outEdgesMap.set(e.id,new Set),this.bothEdgesMap.set(e.id,new Set),this.treeIndices.forEach((t=>{t.childrenMap.set(e.id,new Set)})),this.changes.push({type:"NodeAdded",value:e})}addNodes(e){this.batch((()=>{for(const t of e)this.doAddNode(t)}))}addNode(e){this.addNodes([e])}doRemoveNode(e){const t=this.getNode(e),n=this.bothEdgesMap.get(e);n?.forEach((e=>this.doRemoveEdge(e.id))),this.nodeMap.delete(e),this.treeIndices.forEach((n=>{n.childrenMap.get(e)?.forEach((e=>{n.parentMap.delete(e.id)}));const r=n.parentMap.get(e);r&&n.childrenMap.get(r.id)?.delete(t),n.parentMap.delete(e),n.childrenMap.delete(e)})),this.bothEdgesMap.delete(e),this.inEdgesMap.delete(e),this.outEdgesMap.delete(e),this.changes.push({type:"NodeRemoved",value:t})}removeNodes(e){this.batch((()=>{e.forEach((e=>this.doRemoveNode(e)))}))}removeNode(e){this.removeNodes([e])}updateNodeDataProperty(e,t,n){const r=this.getNode(e);this.batch((()=>{const i=r.data[t],o=n;r.data[t]=o,this.changes.push({type:"NodeDataUpdated",id:e,propertyName:t,oldValue:i,newValue:o})}))}mergeNodeData(e,t){this.batch((()=>{Object.entries(t).forEach((([t,n])=>{this.updateNodeDataProperty(e,t,n)}))}))}updateNodeData(...e){const t=e[0],n=this.getNode(t);if("string"==typeof e[1])return void this.updateNodeDataProperty(t,e[1],e[2]);let r;if("function"==typeof e[1]){const t=e[1];r=t(n.data)}else"object"==typeof e[1]&&(r=e[1]);this.batch((()=>{const e=n.data,i=r;n.data=r,this.changes.push({type:"NodeDataUpdated",id:t,oldValue:e,newValue:i})}))}checkEdgeExistence(e){if(!this.hasEdge(e))throw new Error("Edge not found for id: "+e)}hasEdge(e){return this.edgeMap.has(e)}getEdge(e){return this.checkEdgeExistence(e),this.edgeMap.get(e)}getEdgeDetail(e){const t=this.getEdge(e);return{edge:t,source:this.getNode(t.source),target:this.getNode(t.target)}}doAddEdge(e){if(this.hasEdge(e.id))throw new Error("Edge already exists: "+e.id);this.checkNodeExistence(e.source),this.checkNodeExistence(e.target),this.edgeMap.set(e.id,e);const t=this.inEdgesMap.get(e.target),n=this.outEdgesMap.get(e.source),r=this.bothEdgesMap.get(e.source),i=this.bothEdgesMap.get(e.target);t.add(e),n.add(e),r.add(e),i.add(e),this.changes.push({type:"EdgeAdded",value:e})}addEdges(e){this.batch((()=>{for(const t of e)this.doAddEdge(t)}))}addEdge(e){this.addEdges([e])}doRemoveEdge(e){const t=this.getEdge(e),n=this.outEdgesMap.get(t.source),r=this.inEdgesMap.get(t.target),i=this.bothEdgesMap.get(t.source),o=this.bothEdgesMap.get(t.target);n.delete(t),r.delete(t),i.delete(t),o.delete(t),this.edgeMap.delete(e),this.changes.push({type:"EdgeRemoved",value:t})}removeEdges(e){this.batch((()=>{e.forEach((e=>this.doRemoveEdge(e)))}))}removeEdge(e){this.removeEdges([e])}updateEdgeSource(e,t){const n=this.getEdge(e);this.checkNodeExistence(t);const r=n.source,i=t;this.outEdgesMap.get(r).delete(n),this.bothEdgesMap.get(r).delete(n),this.outEdgesMap.get(i).add(n),this.bothEdgesMap.get(i).add(n),n.source=t,this.batch((()=>{this.changes.push({type:"EdgeUpdated",id:e,propertyName:"source",oldValue:r,newValue:i})}))}updateEdgeTarget(e,t){const n=this.getEdge(e);this.checkNodeExistence(t);const r=n.target,i=t;this.inEdgesMap.get(r).delete(n),this.bothEdgesMap.get(r).delete(n),this.inEdgesMap.get(i).add(n),this.bothEdgesMap.get(i).add(n),n.target=t,this.batch((()=>{this.changes.push({type:"EdgeUpdated",id:e,propertyName:"target",oldValue:r,newValue:i})}))}updateEdgeDataProperty(e,t,n){const r=this.getEdge(e);this.batch((()=>{const i=r.data[t],o=n;r.data[t]=o,this.changes.push({type:"EdgeDataUpdated",id:e,propertyName:t,oldValue:i,newValue:o})}))}updateEdgeData(...e){const t=e[0],n=this.getEdge(t);if("string"==typeof e[1])return void this.updateEdgeDataProperty(t,e[1],e[2]);let r;if("function"==typeof e[1]){const t=e[1];r=t(n.data)}else"object"==typeof e[1]&&(r=e[1]);this.batch((()=>{const e=n.data,i=r;n.data=r,this.changes.push({type:"EdgeDataUpdated",id:t,oldValue:e,newValue:i})}))}mergeEdgeData(e,t){this.batch((()=>{Object.entries(t).forEach((([t,n])=>{this.updateEdgeDataProperty(e,t,n)}))}))}checkTreeExistence(e){if(!this.hasTreeStructure(e))throw new Error("Tree structure not found for treeKey: "+e)}hasTreeStructure(e){return this.treeIndices.has(e)}attachTreeStructure(e){this.treeIndices.has(e)||(this.treeIndices.set(e,{parentMap:new Map,childrenMap:new Map}),this.batch((()=>{this.changes.push({type:"TreeStructureAttached",treeKey:e})})))}detachTreeStructure(e){this.checkTreeExistence(e),this.treeIndices.delete(e),this.batch((()=>{this.changes.push({type:"TreeStructureDetached",treeKey:e})}))}addTree(e,t){this.batch((()=>{this.attachTreeStructure(t);const n=[],r=Array.isArray(e)?e:[e];for(;r.length;){const e=r.shift();n.push(e),e.children&&r.push(...e.children)}this.addNodes(n),n.forEach((e=>{e.children?.forEach((n=>{this.setParent(n.id,e.id,t)}))}))}))}getRoots(e){return this.checkTreeExistence(e),this.getAllNodes().filter((t=>!this.getParent(t.id,e)))}getChildren(e,t){this.checkNodeExistence(e),this.checkTreeExistence(t);const n=this.treeIndices.get(t).childrenMap.get(e);return Array.from(n||[])}getParent(e,t){this.checkNodeExistence(e),this.checkTreeExistence(t);return this.treeIndices.get(t).parentMap.get(e)||null}getAncestors(e,t){const n=[];let r,i=this.getNode(e);for(;r=this.getParent(i.id,t);)n.push(r),i=r;return n}setParent(e,t,n){this.checkTreeExistence(n);const r=this.treeIndices.get(n);if(!r)return;const i=this.getNode(e),o=r.parentMap.get(e);if(o?.id===t)return;if(null==t)return o&&r.childrenMap.get(o.id)?.delete(i),void r.parentMap.delete(e);const a=this.getNode(t);r.parentMap.set(e,a),o&&r.childrenMap.get(o.id)?.delete(i);let s=r.childrenMap.get(a.id);s||(s=new Set,r.childrenMap.set(a.id,s)),s.add(i),this.batch((()=>{this.changes.push({type:"TreeStructureChanged",treeKey:n,nodeId:e,oldParentId:o?.id,newParentId:a.id})}))}dfsTree(e,t,n){return ev(this.getNode(e),new Set,t,(e=>this.getChildren(e,n)))}bfsTree(e,t,n){return Jg([this.getNode(e)],new Set,t,(e=>this.getChildren(e,n)))}getAllNodes(){return Array.from(this.nodeMap.values())}getAllEdges(){return Array.from(this.edgeMap.values())}bfs(e,t,n="out"){const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];return Jg([this.getNode(e)],new Set,t,r)}dfs(e,t,n="out"){const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];return ev(this.getNode(e),new Set,t,r)}clone(){const t=this.getAllNodes().map((e=>({...e,data:{...e.data}}))),n=this.getAllEdges().map((e=>({...e,data:{...e.data}}))),r=new e({nodes:t,edges:n});return this.treeIndices.forEach((({parentMap:e,childrenMap:t},n)=>{const i=new Map;e.forEach(((e,t)=>{i.set(t,r.getNode(e.id))}));const o=new Map;t.forEach(((e,t)=>{o.set(t,new Set(Array.from(e).map((e=>r.getNode(e.id)))))})),r.treeIndices.set(n,{parentMap:i,childrenMap:o})})),r}toJSON(){return JSON.stringify({nodes:this.getAllNodes(),edges:this.getAllEdges()})}createView(e){return new nv({graph:this,...e})}};class iv{constructor(e,t){this.context=e,this.options=t||{}}}var ov=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},av=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function sv(e){const{nodes:t,edges:n}=e,r={nodes:[],edges:[],combos:[]};return t.forEach((e=>{const t=e.data._isCombo?r.combos:r.nodes,{x:n,y:i,z:o=0}=e.data;null==t||t.push({id:e.id,style:{x:n,y:i,z:o}})})),n.forEach((e=>{const{id:t,source:n,target:i,data:{points:o=[],controlPoints:a=o.slice(1,o.length-1)}}=e;r.edges.push({id:t,source:n,target:i,style:Object.assign({},(null==a?void 0:a.length)?{controlPoints:a.map(rf)}:{})})})),r}function lv(e,t,...n){if(t in e)return e[t](...n);if("instance"in e){const r=e.instance;if(t in r)return r[t](...n)}return null}function uv(e,t){if(t in e)return e[t];if("instance"in e){const n=e.instance;if(t in n)return n[t]}return null}var cv=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};var dv=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class fv extends Ld{constructor(e,t){super(e,Object.assign({},fv.defaultOptions,t)),this.isZoomEvent=e=>Boolean(e.data&&"scale"in e.data),this.relatedEdgeToUpdate=new Set,this.zoom=this.context.graph.getZoom(),this.fixElementSize=e=>dv(this,void 0,void 0,(function*(){if(!this.validate(e))return;const{graph:t}=this.context,{state:n,nodeFilter:r,edgeFilter:i,comboFilter:o}=this.options,a=(n?t.getElementDataByState("node",n):t.getNodeData()).filter(r),s=(n?t.getElementDataByState("edge",n):t.getEdgeData()).filter(i),l=(n?t.getElementDataByState("combo",n):t.getComboData()).filter(o),u=this.isZoomEvent(e)?this.zoom=Math.max(.01,Math.min(e.data.scale,10)):this.zoom,c=[...a,...l];c.length>0&&c.forEach((e=>this.fixNodeLike(e,u))),this.updateRelatedEdges(),s.length>0&&s.forEach((e=>this.fixEdge(e,u)))})),this.cachedStyles=new Map,this.getOriginalFieldValue=(e,t,n)=>{var r;const i=this.cachedStyles.get(e)||[],o=(null===(r=i.find((e=>e.shape===t)))||void 0===r?void 0:r.style)||{};return n in o||(o[n]=t.attributes[n],this.cachedStyles.set(e,[...i.filter((e=>e.shape!==t)),{shape:t,style:o}])),o[n]},this.scaleEntireElement=(e,t,n)=>{t.setLocalScale(1/n);const r=this.cachedStyles.get(e)||[];r.push({shape:t}),this.cachedStyles.set(e,r)},this.scaleSpecificShapes=(e,t,n)=>{const r=function(e){const t=[],n=e=>{(null==e?void 0:e.children.length)&&e.children.forEach((e=>{t.push(e),n(e)}))};return n(e),t}(e);(Array.isArray(n)?n:[n]).forEach((n=>{const{shape:i,fields:o}=n,a="function"==typeof i?i(r):e.getShape(i);a&&(o?o.forEach((n=>{const r=this.getOriginalFieldValue(e.id,a,n);st(r)&&(a.style[n]=r/t)})):this.scaleEntireElement(e.id,a,t))}))},this.skipIfExceedViewport=e=>{const{viewport:t}=this.context;return!(null==t?void 0:t.isInViewport(e.getRenderBounds(),!1,30))},this.fixNodeLike=(e,t)=>{const n=wd(e),{element:r,model:i}=this.context,o=r.getElement(n);if(!o||this.skipIfExceedViewport(o))return;i.getRelatedEdgesData(n).forEach((e=>this.relatedEdgeToUpdate.add(wd(e))));const a=this.options[o.type];a?this.scaleSpecificShapes(o,t,a):this.scaleEntireElement(n,o,t)},this.fixEdge=(e,t)=>{const n=wd(e),r=this.context.element.getElement(n);if(!r||this.skipIfExceedViewport(r))return;const i=this.options.edge;if(!i)return r.style.transformOrigin="center",void this.scaleEntireElement(n,r,t);this.scaleSpecificShapes(r,t,i)},this.updateRelatedEdges=()=>{const{element:e}=this.context;this.relatedEdgeToUpdate.size>0&&this.relatedEdgeToUpdate.forEach((t=>{const n=e.getElement(t);null==n||n.update({})})),this.relatedEdgeToUpdate.clear()},this.resetTransform=e=>dv(this,void 0,void 0,(function*(){var t;(null===(t=e.data)||void 0===t?void 0:t.firstRender)||(this.options.reset?this.restoreCachedStyles():this.fixElementSize({data:{scale:this.zoom}}))})),this.bindEvents()}restoreCachedStyles(){if(this.cachedStyles.size>0){this.cachedStyles.forEach((e=>{e.forEach((({shape:e,style:t})=>{if(Tt(t))e.setLocalScale(1);else{if(this.options.state)return;Object.entries(t).forEach((([t,n])=>e.style[t]=n))}}))}));const{graph:e,element:t}=this.context,n=Object.keys(Object.fromEntries(this.cachedStyles)).filter((t=>t&&"node"===e.getElementType(t)));if(n.length>0){const r=new Set;n.forEach((t=>{e.getRelatedEdgesData(t).forEach((e=>r.add(wd(e))))})),r.forEach((e=>{const n=null==t?void 0:t.getElement(e);null==n||n.update({})}))}}}bindEvents(){const{graph:e}=this.context;e.on(wc.AFTER_DRAW,this.resetTransform),e.on(wc.AFTER_TRANSFORM,this.fixElementSize)}unbindEvents(){const{graph:e}=this.context;e.off(wc.AFTER_DRAW,this.resetTransform),e.off(wc.AFTER_TRANSFORM,this.fixElementSize)}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}destroy(){this.unbindEvents(),super.destroy()}}fv.defaultOptions={enable:e=>e.data.scale<1,nodeFilter:()=>!0,edgeFilter:()=>!0,comboFilter:()=>!0,edge:[{shape:"key",fields:["lineWidth"]},{shape:"halo",fields:["lineWidth"]},{shape:"label"}],reset:!1};var hv=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class pv extends Ld{constructor(e,t){super(e,Object.assign({},pv.defaultOptions,t)),this.focus=e=>hv(this,void 0,void 0,(function*(){if(!this.validate(e))return;const{graph:t}=this.context;yield t.focusElement(e.target.id,this.options.animation)})),this.bindEvents()}bindEvents(){const{graph:e}=this.context;this.unbindEvents(),Ef.forEach((t=>{e.on(`${t}:${mc.CLICK}`,this.focus)}))}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}unbindEvents(){const{graph:e}=this.context;Ef.forEach((t=>{e.off(`${t}:${mc.CLICK}`,this.focus)}))}destroy(){this.unbindEvents(),super.destroy()}}pv.defaultOptions={animation:{easing:"ease-in",duration:500},enable:!0};class gv extends Ld{constructor(e,t){super(e,Object.assign({},gv.defaultOptions,t)),this.isFrozen=!1,this.toggleFrozen=e=>{this.isFrozen="dragstart"===e.type},this.hoverElement=e=>{if(!this.validate(e))return;const t=e.type===mc.POINTER_ENTER;this.updateElementsState(e,t);const{onHover:n,onHoverEnd:r}=this.options;t?null==n||n(e):null==r||r(e)},this.updateElementsState=(e,t)=>{if(!this.options.state&&!this.options.inactiveState)return;const{graph:n}=this.context,{state:r,animation:i,inactiveState:o}=this.options,a=this.getActiveIds(e),s={};if(r&&Object.assign(s,this.getElementsState(a,r,t)),o){const e=Ed(n.getData(),!0).filter((e=>!a.includes(e)));Object.assign(s,this.getElementsState(e,o,t))}n.setElementState(s,i)},this.getElementsState=(e,t,n)=>{const{graph:r}=this.context,i={};return e.forEach((e=>{const o=r.getElementState(e);i[e]=n?o.includes(t)?o:[...o,t]:o.filter((e=>e!==t))})),i},this.bindEvents()}bindEvents(){const{graph:e}=this.context;this.unbindEvents(),Ef.forEach((t=>{e.on(`${t}:${mc.POINTER_ENTER}`,this.hoverElement),e.on(`${t}:${mc.POINTER_LEAVE}`,this.hoverElement)}));const t=this.context.canvas.document;t.addEventListener(`${mc.DRAG_START}`,this.toggleFrozen),t.addEventListener(`${mc.DRAG_END}`,this.toggleFrozen)}getActiveIds(e){const{graph:t}=this.context,{degree:n,direction:r}=this.options,i=e.target.id;return n?Sf(t,e.targetType,i,"function"==typeof n?n(e):n,r):[i]}validate(e){if(this.destroyed||this.isFrozen||Wg(e.target)||this.context.graph.isCollapsingExpanding)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}unbindEvents(){const{graph:e}=this.context;Ef.forEach((t=>{e.off(`${t}:${mc.POINTER_ENTER}`,this.hoverElement),e.off(`${t}:${mc.POINTER_LEAVE}`,this.hoverElement)}));const t=this.context.canvas.document;t.removeEventListener(`${mc.DRAG_START}`,this.toggleFrozen),t.removeEventListener(`${mc.DRAG_END}`,this.toggleFrozen)}destroy(){this.unbindEvents(),super.destroy()}}gv.defaultOptions={animation:!1,enable:!0,degree:0,direction:"both",state:"active",inactiveState:void 0};class vv extends Ld{constructor(e,t){super(e,Object.assign({},vv.defaultOptions,t)),this.hiddenShapes=[],this.isVisible=!0,this.setElementsVisibility=(e,t,n)=>{e.filter(Boolean).forEach((e=>{"hidden"!==t||e.isVisible()?"visible"===t&&this.hiddenShapes.includes(e)?this.hiddenShapes.splice(this.hiddenShapes.indexOf(e),1):Rd(e,t,n):this.hiddenShapes.push(e)}))},this.filterShapes=(e,t)=>{if($e(t))return n=>!t(e,n);const n=null==t?void 0:t[e];return e=>!e.className||!(null==n?void 0:n.includes(e.className))},this.hideShapes=e=>{if(!this.validate(e)||!this.isVisible)return;const{element:t}=this.context,{shapes:n={}}=this.options;this.setElementsVisibility(t.getNodes(),"hidden",this.filterShapes("node",n)),this.setElementsVisibility(t.getEdges(),"hidden",this.filterShapes("edge",n)),this.setElementsVisibility(t.getCombos(),"hidden",this.filterShapes("combo",n)),this.isVisible=!1},this.showShapes=bt((e=>{if(!this.validate(e)||this.isVisible)return;const{element:t}=this.context;this.setElementsVisibility(t.getNodes(),"visible"),this.setElementsVisibility(t.getEdges(),"visible"),this.setElementsVisibility(t.getCombos(),"visible"),this.isVisible=!0}),this.options.debounce),this.bindEvents()}bindEvents(){const{graph:e}=this.context;e.on(wc.BEFORE_TRANSFORM,this.hideShapes),e.on(wc.AFTER_TRANSFORM,this.showShapes)}unbindEvents(){const{graph:e}=this.context;e.off(wc.BEFORE_TRANSFORM,this.hideShapes),e.off(wc.AFTER_TRANSFORM,this.showShapes)}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}vv.defaultOptions={enable:!0,debounce:200,shapes:e=>"node"===e};var mv=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class yv extends Ld{constructor(e,t){super(e,Object.assign({},yv.defaultOptions,t)),this.onWheel=e=>mv(this,void 0,void 0,(function*(){this.options.preventDefault&&e.preventDefault();const t=e.deltaX,n=e.deltaY;yield this.scroll([-t,-n],e)})),this.shortcut=new yf(e.graph),this.bindEvents()}update(e){super.update(e),this.bindEvents()}bindEvents(){var e,t;const{trigger:n}=this.options;if(this.shortcut.unbindAll(),Ke(n)){null===(e=this.graphDom)||void 0===e||e.removeEventListener(mc.WHEEL,this.onWheel);const{up:t=[],down:r=[],left:i=[],right:o=[]}=n;this.shortcut.bind(t,(e=>this.scroll([0,-10],e))),this.shortcut.bind(r,(e=>this.scroll([0,10],e))),this.shortcut.bind(i,(e=>this.scroll([-10,0],e))),this.shortcut.bind(o,(e=>this.scroll([10,0],e)))}else null===(t=this.graphDom)||void 0===t||t.addEventListener(mc.WHEEL,this.onWheel,{passive:!1})}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}formatDisplacement(e){const{sensitivity:t}=this.options;return e=Bd(e,t),e=this.clampByDirection(e),e=this.clampByRange(e)}clampByDirection([e,t]){const{direction:n}=this.options;return"x"===n?t=0:"y"===n&&(e=0),[e,t]}clampByRange([e,t]){const{viewport:n,canvas:r}=this.context,[i,o]=r.getSize(),[a,s,l,u]=Yc(this.options.range),c=[o*a,i*s,o*l,i*u],d=ed(Jc(n.getCanvasCenter()),c),f=Fd(n.getViewportCenter(),[e,t,0]);if(!nd(f,d)){const{min:[n,r],max:[i,o]}=d;(f[0]<n&&e>0||f[0]>i&&e<0)&&(e=0),(f[1]<r&&t>0||f[1]>o&&t<0)&&(t=0)}return[e,t]}scroll(e,t){return mv(this,void 0,void 0,(function*(){if(!this.validate(t))return;const{onFinish:n}=this.options,r=this.context.graph,i=this.formatDisplacement(e);yield r.translateBy(i,!1),null==n||n()}))}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}destroy(){var e;this.shortcut.destroy(),null===(e=this.graphDom)||void 0===e||e.removeEventListener(mc.WHEEL,this.onWheel),super.destroy()}}yv.defaultOptions={enable:!0,sensitivity:1,preventDefault:!0,range:1/0};var bv=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class wv extends Ld{constructor(e,t){super(e,Object.assign({},wv.defaultOptions,t)),this.zoom=(e,t,n)=>bv(this,void 0,void 0,(function*(){if(!this.validate(t))return;const{graph:r}=this.context;let i;"viewport"in t&&(i=rf(t.viewport));const{sensitivity:o,onFinish:a}=this.options,s=1+at(e,-50,50)*o/100,l=r.getZoom();yield r.zoomTo(l*s,n,i),null==a||a()})),this.onReset=()=>bv(this,void 0,void 0,(function*(){yield this.context.graph.zoomTo(1,this.options.animation)})),this.preventDefault=e=>{this.options.preventDefault&&e.preventDefault()},this.shortcut=new yf(e.graph),this.bindEvents()}update(e){super.update(e),this.bindEvents()}bindEvents(){var e;const{trigger:t}=this.options;if(this.shortcut.unbindAll(),Array.isArray(t)&&(null===(e=this.context.canvas.getContainer())||void 0===e||e.addEventListener(mc.WHEEL,this.preventDefault),this.shortcut.bind([...t,mc.WHEEL],(e=>{const{deltaX:t,deltaY:n}=e;this.zoom(-(null!=n?n:t),e,!1)}))),"object"==typeof t){const{zoomIn:e=[],zoomOut:n=[],reset:r=[]}=t;this.shortcut.bind(e,(e=>this.zoom(10,e,this.options.animation))),this.shortcut.bind(n,(e=>this.zoom(-10,e,this.options.animation))),this.shortcut.bind(r,this.onReset)}}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}destroy(){var e;this.shortcut.destroy(),null===(e=this.context.canvas.getContainer())||void 0===e||e.removeEventListener(mc.WHEEL,this.preventDefault),super.destroy()}}wv.defaultOptions={animation:{duration:200},enable:!0,sensitivity:1,trigger:[],preventDefault:!0};var xv={assign:Object.assign,getHeight:function(e,t,n,r){return void 0===r&&(r="height"),"center"===n?(e[r]+t[r])/2:e.height}},Ev=xv,kv={getId:function(e){return e.id||e.name},getPreH:function(e){return e.preH||0},getPreV:function(e){return e.preV||0},getHGap:function(e){return e.hgap||18},getVGap:function(e){return e.vgap||18},getChildren:function(e){return e.children},getHeight:function(e){return e.height||36},getWidth:function(e){var t=e.label||" ";return e.width||18*t.split("").length}};function Sv(e,t){var n=this;if(n.vgap=n.hgap=0,e instanceof Sv)return e;n.data=e;var r=t.getHGap(e),i=t.getVGap(e);return n.preH=t.getPreH(e),n.preV=t.getPreV(e),n.width=t.getWidth(e),n.height=t.getHeight(e),n.width+=n.preH,n.height+=n.preV,n.id=t.getId(e),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,i),n}Ev.assign(Sv.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(e,t){var n=this;n.hgap+=e,n.vgap+=t,n.width+=2*e,n.height+=2*t},eachNode:function(e){for(var t,n=[this];t=n.shift();)e(t),n=t.children.concat(n)},DFTraverse:function(e){this.eachNode(e)},BFTraverse:function(e){for(var t,n=[this];t=n.shift();)e(t),n=n.concat(t.children)},getBoundingBox:function(){var e={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode((function(t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.width=Math.max(e.width,t.x+t.width),e.height=Math.max(e.height,t.y+t.height)})),e},translate:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.eachNode((function(n){n.x+=e,n.y+=t,n.x+=n.preH,n.y+=n.preV}))},right2left:function(){var e=this,t=e.getBoundingBox();e.eachNode((function(e){e.x=e.x-2*(e.x-t.left)-e.width})),e.translate(t.width,0)},bottom2top:function(){var e=this,t=e.getBoundingBox();e.eachNode((function(e){e.y=e.y-2*(e.y-t.top)-e.height})),e.translate(0,t.height)}});var Mv=function(e,t,n){void 0===t&&(t={});var r,i=new Sv(e,t=Ev.assign({},kv,t)),o=[i];if(!n&&!e.collapsed)for(;r=o.shift();)if(!r.data.collapsed){var a=t.getChildren(r.data),s=a?a.length:0;if(r.children=new Array(s),a&&s)for(var l=0;l<s;l++){var u=new Sv(a[l],t);r.children[l]=u,o.push(u),u.parent=r,u.depth=r.depth+1}}return i},Tv=Mv,Cv=function(){function e(e,t){void 0===t&&(t={});this.options=t,this.rootNode=Tv(e,t)}return e.prototype.execute=function(){throw new Error("please override this method")},e}(),Nv=Cv;function Pv(e,t,n,r){void 0===r&&(r=[]);var i=this;i.w=e||0,i.h=t||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function Ov(e,t,n){n?e.y+=t:e.x+=t,e.children.forEach((function(e){Ov(e,t,n)}))}function _v(e,t){var n=t?e.y:e.x;return e.children.forEach((function(e){n=Math.min(_v(e,t),n)})),n}function Rv(e,t){Ov(e,-_v(e,t),t)}function Av(e,t,n){n?t.y=e.x:t.x=e.x,e.c.forEach((function(e,r){Av(e,t.children[r],n)}))}function Dv(e,t,n){void 0===n&&(n=0),t?(e.x=n,n+=e.width):(e.y=n,n+=e.height),e.children.forEach((function(e){Dv(e,t,n)}))}Pv.fromNode=function(e,t){if(!e)return null;var n=[];return e.children.forEach((function(e){n.push(Pv.fromNode(e,t))})),t?new Pv(e.height,e.width,e.x,n):new Pv(e.width,e.height,e.y,n)};var Lv=Mv,Iv=function(e,t){for(var n=Lv(e.data,t,!0),r=Lv(e.data,t,!0),i=e.children.length,o=Math.round(i/2),a=t.getSide||function(e,t){return t<o?"right":"left"},s=0;s<i;s++){var l=e.children[s];"right"===a(l,s)?r.children.push(l):n.children.push(l)}return n.eachNode((function(e){e.isRoot()||(e.side="left")})),r.eachNode((function(e){e.isRoot()||(e.side="right")})),{left:n,right:r}},zv=Iv,jv=["LR","RL","TB","BT","H","V"],Fv=["LR","RL","H"],Bv=jv[0],Uv=function(e,t,n){var r=t.direction||Bv;if(t.isHorizontal=function(e){return Fv.indexOf(e)>-1}(r),-1===jv.indexOf(r))throw new TypeError("Invalid direction: "+r);if(r===jv[0])n(e,t);else if(r===jv[1])n(e,t),e.right2left();else if(r===jv[2])n(e,t);else if(r===jv[3])n(e,t),e.bottom2top();else if(r===jv[4]||r===jv[5]){var i=zv(e,t),o=i.left,a=i.right;n(o,t),n(a,t),t.isHorizontal?o.right2left():o.bottom2top(),a.translate(o.x-a.x,o.y-a.y),e.x=o.x,e.y=a.y;var s=e.getBoundingBox();t.isHorizontal?s.top<0&&e.translate(0,-s.top):s.left<0&&e.translate(-s.left,0)}var l=t.fixedRoot;return void 0===l&&(l=!0),l&&e.translate(-(e.x+e.width/2+e.hgap),-(e.y+e.height/2+e.vgap)),function(e,t){if(t.radial){var n=t.isHorizontal?["x","y"]:["y","x"],r=n[0],i=n[1],o={x:1/0,y:1/0},a={x:-1/0,y:-1/0},s=0;e.DFTraverse((function(e){s++;var t=e.x,n=e.y;o.x=Math.min(o.x,t),o.y=Math.min(o.y,n),a.x=Math.max(a.x,t),a.y=Math.max(a.y,n)}));var l=a[i]-o[i];if(0===l)return;var u=2*Math.PI/s;e.DFTraverse((function(t){var n=(t[i]-o[i])/l*(2*Math.PI-u)+u,a=t[r]-e[r];t.x=Math.cos(n)*a,t.y=Math.sin(n)*a}))}}(e,t),e};function Wv(e,t){return Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wv(e,t)}var Vv=function(e,t){void 0===t&&(t={});var n=t.isHorizontal;function r(e){0===e.cs?(e.el=e,e.er=e,e.msel=e.mser=0):(e.el=e.c[0].el,e.msel=e.c[0].msel,e.er=e.c[e.cs-1].er,e.mser=e.c[e.cs-1].mser)}function i(e,t,n){for(var r=e.c[t-1],i=r.mod,u=e.c[t],c=u.mod;null!==r&&null!==u;){l(r)>n.low&&(n=n.nxt);var d=i+r.prelim+r.w-(c+u.prelim);d>0&&(c+=d,o(e,t,n.index,d));var f=l(r),h=l(u);f<=h&&null!==(r=s(r))&&(i+=r.mod),f>=h&&null!==(u=a(u))&&(c+=u.mod)}!r&&u?function(e,t,n,r){var i=e.c[0].el;i.tl=n;var o=r-n.mod-e.c[0].msel;i.mod+=o,i.prelim-=o,e.c[0].el=e.c[t].el,e.c[0].msel=e.c[t].msel}(e,t,u,c):r&&!u&&function(e,t,n,r){var i=e.c[t].er;i.tr=n;var o=r-n.mod-e.c[t].mser;i.mod+=o,i.prelim-=o,e.c[t].er=e.c[t-1].er,e.c[t].mser=e.c[t-1].mser}(e,t,r,i)}function o(e,t,n,r){e.c[t].mod+=r,e.c[t].msel+=r,e.c[t].mser+=r,function(e,t,n,r){if(n!==t-1){var i=t-n;e.c[n+1].shift+=r/i,e.c[t].shift-=r/i,e.c[t].change-=r-r/i}}(e,t,n,r)}function a(e){return 0===e.cs?e.tl:e.c[0]}function s(e){return 0===e.cs?e.tr:e.c[e.cs-1]}function l(e){return e.y+e.h}function u(e,t,n){for(;null!==n&&e>=n.low;)n=n.nxt;return{low:e,index:t,nxt:n}}Dv(e,n);var c=Pv.fromNode(e,n);return function e(t){if(0!==t.cs){e(t.c[0]);for(var n=u(l(t.c[0].el),0,null),o=1;o<t.cs;++o){e(t.c[o]);var a=l(t.c[o].er);i(t,o,n),n=u(a,o,n)}!function(e){e.prelim=(e.c[0].prelim+e.c[0].mod+e.c[e.cs-1].mod+e.c[e.cs-1].prelim+e.c[e.cs-1].w)/2-e.w/2}(t),r(t)}else r(t)}(c),function e(t,n){n+=t.mod,t.x=t.prelim+n,function(e){for(var t=0,n=0,r=0;r<e.cs;r++)n+=(t+=e.c[r].shift)+e.c[r].change,e.c[r].mod+=n}(t);for(var r=0;r<t.cs;r++)e(t.c[r],n)}(c,0),Av(c,e,n),Rv(e,n),e},Hv=Uv,Gv=xv,$v=function(e){function t(){return e.apply(this,arguments)||this}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,Wv(n,r),t.prototype.execute=function(){return Hv(this.rootNode,this.options,Vv)},t}(Nv),Yv={};var qv=function(e,t){return t=Gv.assign({},Yv,t),new $v(e,t).execute()},Kv=xv;function Xv(e,t){void 0===t&&(t=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=t}var Qv={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function Zv(e,t,n){n?(t.x=e.x,t.y=e.y):(t.x=e.y,t.y=e.x),e.children.forEach((function(e,r){Zv(e,t.children[r],n)}))}function Jv(e,t){return Jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jv(e,t)}var em=function(e,t){void 0===t&&(t={}),t=Kv.assign({},Qv,t);var n,r=0;var i=function e(t){if(!t)return null;t.width=0,t.depth&&t.depth>r&&(r=t.depth);var n=t.children,i=n.length,o=new Xv(t.height,[]);return n.forEach((function(t,n){var r=e(t);o.children.push(r),0===n&&(o.leftChild=r),n===i-1&&(o.rightChild=r)})),o.originNode=t,o.isLeaf=t.isLeaf(),o}(e);return function e(t){if(t.isLeaf||0===t.children.length)t.drawingDepth=r;else{var n=t.children.map((function(t){return e(t)})),i=Math.min.apply(null,n);t.drawingDepth=i-1}return t.drawingDepth}(i),function e(r){r.x=r.drawingDepth*t.rankSep,r.isLeaf?(r.y=0,n&&(r.y=n.y+n.height+t.nodeSep,r.originNode.parent!==n.originNode.parent&&(r.y+=t.subTreeSep)),n=r):(r.children.forEach((function(t){e(t)})),r.y=(r.leftChild.y+r.rightChild.y)/2)}(i),Zv(i,e,t.isHorizontal),e},tm=Uv,nm=xv,rm=function(e){function t(){return e.apply(this,arguments)||this}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,Jv(n,r),t.prototype.execute=function(){var e=this;return e.rootNode.width=0,tm(e.rootNode,e.options,em)},t}(Nv),im={};var om=function(e,t){return t=nm.assign({},im,t),new rm(e,t).execute()},am=xv;function sm(e,t){return sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sm(e,t)}var lm=Nv,um=function(e,t,n,r){var i=null;e.eachNode((function(e){!function(e,t,n,r,i){var o=("function"==typeof n?n(e):n)*e.depth;if(!r)try{if(e.id===e.parent.children[0].id)return e.x+=o,void(e.y=t?t.y:0)}catch(e){}if(e.x+=o,t){if(e.y=t.y+am.getHeight(t,e,i),t.parent&&e.parent.id!==t.parent.id){var a=t.parent,s=a.y+am.getHeight(a,e,i);e.y=s>e.y?s:e.y}}else e.y=0}(e,i,t,n,r),i=e}))},cm=Iv,dm=xv,fm=["LR","RL","H"],hm=fm[0],pm=function(e){function t(){return e.apply(this,arguments)||this}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,sm(n,r),t.prototype.execute=function(){var e=this.options,t=this.rootNode;e.isHorizontal=!0;var n=e.indent,r=void 0===n?20:n,i=e.dropCap,o=void 0===i||i,a=e.direction,s=void 0===a?hm:a,l=e.align;if(s&&-1===fm.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===fm[0])um(t,r,o,l);else if(s===fm[1])um(t,r,o,l),t.right2left();else if(s===fm[2]){var u=cm(t,e),c=u.left,d=u.right;um(c,r,o,l),c.right2left(),um(d,r,o,l);var f=c.getBoundingBox();d.translate(f.width,0),t.x=d.x-t.width/2}return t},t}(lm),gm={};var vm=function(e,t){return t=dm.assign({},gm,t),new pm(e,t).execute()},mm=xv;function ym(e,t){var n=0;return e.children.length?e.children.forEach((function(e){n+=ym(e,t)})):n=e.height,e._subTreeSep=t.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,n)+2*e._subTreeSep,e.totalHeight}function bm(e){var t=e.children,n=t.length;if(n){t.forEach((function(e){bm(e)}));var r=t[0],i=t[n-1],o=i.y-r.y+i.height,a=0;if(t.forEach((function(e){a+=e.totalHeight})),o>e.height)e.y=r.y+o/2-e.height/2;else if(1!==t.length||e.height>a){var s=e.y+(e.height-o)/2-r.y;t.forEach((function(e){e.translate(0,s)}))}else e.y=(r.y+r.height/2+i.y+i.height/2)/2-e.height/2}}var wm={getSubTreeSep:function(){return 0}};function xm(e,t){return xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xm(e,t)}var Em=function(e,t){void 0===t&&(t={}),t=mm.assign({},wm,t),e.parent={x:0,width:0,height:0,y:0},e.BFTraverse((function(e){e.x=e.parent.x+e.parent.width})),e.parent=null,ym(e,t),e.startY=0,e.y=e.totalHeight/2-e.height/2,e.eachNode((function(e){var t=e.children,n=t.length;if(n){var r=t[0];if(r.startY=e.startY+e._subTreeSep,1===n)r.y=e.y+e.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=t[i];o.startY=t[i-1].startY+t[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}})),bm(e)},km=Uv,Sm=xv,Mm=function(e){function t(){return e.apply(this,arguments)||this}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,xm(n,r),t.prototype.execute=function(){return km(this.rootNode,this.options,Em)},t}(Nv),Tm={};var Cm=function(e,t){return t=Sm.assign({},Tm,t),new Mm(e,t).execute()},Nm={compactBox:qv,dendrogram:om,indented:vm,mindmap:Cm};const Pm=(e,t)=>{if("next"!==e&&"prev"!==e)return t},Om=e=>{e.prev.next=e.next,e.next.prev=e.prev,delete e.next,delete e.prev};let _m=class{constructor(){const e={};e.prev=e,e.next=e.prev,this.shortcut=e}dequeue(){const e=this.shortcut,t=e.prev;if(t&&t!==e)return Om(t),t}enqueue(e){const t=this.shortcut;e.prev&&e.next&&Om(e),e.next=t.next,t.next.prev=e,t.next=e,e.prev=t}toString(){const e=[],t=this.shortcut;let n=t.prev;for(;n!==t;)e.push(JSON.stringify(n,Pm)),n=null==n?void 0:n.prev;return`[${e.join(", ")}]`}},Rm=class extends _m{};const Am=(e,t,n)=>{let r=[];const i=t[t.length-1],o=t[0];let a;for(;e.getAllNodes().length;){for(;a=o.dequeue();)Dm(e,t,n,a);for(;a=i.dequeue();)Dm(e,t,n,a);if(e.getAllNodes().length)for(let i=t.length-2;i>0;--i)if(a=t[i].dequeue(),a){r=r.concat(Dm(e,t,n,a,!0));break}}return r},Dm=(e,t,n,r,i)=>{var o,a;const s=[];return e.hasNode(r.v)&&(null===(o=e.getRelatedEdges(r.v,"in"))||void 0===o||o.forEach((r=>{const o=r.data.weight,a=e.getNode(r.source);i&&s.push({v:r.source,w:r.target,in:0,out:0}),void 0===a.data.out&&(a.data.out=0),a.data.out-=o,Im(t,n,Object.assign({v:a.id},a.data))})),null===(a=e.getRelatedEdges(r.v,"out"))||void 0===a||a.forEach((r=>{const i=r.data.weight,o=r.target,a=e.getNode(o);void 0===a.data.in&&(a.data.in=0),a.data.in-=i,Im(t,n,Object.assign({v:a.id},a.data))})),e.removeNode(r.v)),i?s:void 0},Lm=(e,t)=>{const n=new rv;let r=0,i=0;e.getAllNodes().forEach((e=>{n.addNode({id:e.id,data:{v:e.id,in:0,out:0}})})),e.getAllEdges().forEach((e=>{const o=n.getRelatedEdges(e.source,"out").find((t=>t.target===e.target)),a=(null==t?void 0:t(e))||1;o?n.updateEdgeData(null==o?void 0:o.id,Object.assign(Object.assign({},o.data),{weight:o.data.weight+a})):n.addEdge({id:e.id,source:e.source,target:e.target,data:{weight:a}}),i=Math.max(i,n.getNode(e.source).data.out+=a),r=Math.max(r,n.getNode(e.target).data.in+=a)}));const o=[],a=i+r+3;for(let e=0;e<a;e++)o.push(new Rm);const s=r+1;return n.getAllNodes().forEach((e=>{Im(o,s,Object.assign({v:e.id},n.getNode(e.id).data))})),{buckets:o,zeroIdx:s,graph:n}},Im=(e,t,n)=>{n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)},zm=(e,t)=>{const n="greedy"===t?((e,t)=>{var n;if(e.getAllNodes().length<=1)return[];const r=Lm(e,t);return null===(n=Am(r.graph,r.buckets,r.zeroIdx).map((t=>e.getRelatedEdges(t.v,"out").filter((({target:e})=>e===t.w)))))||void 0===n?void 0:n.flat()})(e,(e=>e.data.weight||1)):jm(e);null==n||n.forEach((t=>{const n=t.data;e.removeEdge(t.id),n.forwardName=t.data.name,n.reversed=!0,e.addEdge({id:t.id,source:t.target,target:t.source,data:Object.assign({},n)})}))},jm=e=>{const t=[],n={},r={},i=o=>{r[o]||(r[o]=!0,n[o]=!0,e.getRelatedEdges(o,"out").forEach((e=>{n[e.target]?t.push(e):i(e.target)})),delete n[o])};return e.getAllNodes().forEach((e=>i(e.id))),t},Fm=(e,t,n,r)=>{let i;do{i=`${r}${Math.random()}`}while(e.hasNode(i));return n.dummy=t,e.addNode({id:i,data:n}),i},Bm=e=>{const t=new rv;return e.getAllNodes().forEach((n=>{e.getChildren(n.id).length||t.addNode(Object.assign({},n))})),e.getAllEdges().forEach((e=>{t.addEdge(e)})),t},Um=(e,t)=>{const n=Number(e.x),r=Number(e.y),i=Number(t.x)-n,o=Number(t.y)-r;let a,s,l=Number(e.width)/2,u=Number(e.height)/2;return i||o?(Math.abs(o)*l>Math.abs(i)*u?(o<0&&(u=-u),a=u*i/o,s=u):(i<0&&(l=-l),a=l,s=l*o/i),{x:n+a,y:r+s}):{x:0,y:0}},Wm=e=>{const t=[],n=Hm(e)+1;for(let e=0;e<n;e++)t.push([]);e.getAllNodes().forEach((e=>{const n=e.data.rank;void 0!==n&&t[n]&&t[n].push(e.id)}));for(let r=0;r<n;r++)t[r]=t[r].sort(((t,n)=>{return r=e.getNode(t).data.order,i=e.getNode(n).data.order,Number(r)-Number(i);var r,i}));return t},Vm=(e,t,n,r)=>{const i={width:0,height:0};return st(n)&&st(r)&&(i.rank=n,i.order=r),Fm(e,"border",i,t)},Hm=e=>{let t;return e.getAllNodes().forEach((e=>{const n=e.data.rank;void 0!==n&&(void 0===t||n>t)&&(t=n)})),t||(t=0),t},Gm=(e,t)=>e.reduce(((e,n)=>t(e)>t(n)?n:e)),$m=(e,t,n,r,i,o)=>{r.includes(t.id)||(r.push(t.id),n||o.push(t.id),i(t.id).forEach((t=>$m(e,t,n,r,i,o))),n&&o.push(t.id))},Ym=(e,t,n,r)=>{const i=Array.isArray(t)?t:[t],o=t=>e.getNeighbors(t),a=[],s=[];return i.forEach((t=>{if(!e.hasNode(t.id))throw new Error(`Graph does not have node: ${t}`);$m(e,t,"post"===n,s,o,a)})),a},qm=(e,t,n,r,i,o)=>{const a={rank:o,borderType:t,width:0,height:0},s=i.data[t][o-1],l=Fm(e,"border",a,n);i.data[t][o]=l,e.setParent(l,r),s&&e.addEdge({id:`e${Math.random()}`,source:s,target:l,data:{weight:1}})},Km=e=>{e.getAllNodes().forEach((e=>{Xm(e)})),e.getAllEdges().forEach((e=>{Xm(e)}))},Xm=e=>{const t=e.data.width;e.data.width=e.data.height,e.data.height=t},Qm=e=>{e.getAllNodes().forEach((e=>{Zm(e.data)})),e.getAllEdges().forEach((e=>{var t;null===(t=e.data.points)||void 0===t||t.forEach((e=>Zm(e))),e.data.hasOwnProperty("y")&&Zm(e.data)}))},Zm=e=>{(null==e?void 0:e.y)&&(e.y=-e.y)},Jm=e=>{e.getAllNodes().forEach((e=>{ey(e.data)})),e.getAllEdges().forEach((e=>{var t;null===(t=e.data.points)||void 0===t||t.forEach((e=>ey(e))),e.data.hasOwnProperty("x")&&ey(e.data)}))},ey=e=>{const t=e.x;e.x=e.y,e.y=t},ty=(e,t,n,r,i,o,a)=>{const s=e.getChildren(a);if(!(null==s?void 0:s.length))return void(a!==t&&e.addEdge({id:`e${Math.random()}`,source:t,target:a,data:{weight:0,minlen:n}}));const l=Vm(e,"_bt"),u=Vm(e,"_bb"),c=e.getNode(a);e.setParent(l,a),c.data.borderTop=l,e.setParent(u,a),c.data.borderBottom=u,null==s||s.forEach((s=>{ty(e,t,n,r,i,o,s.id);const c=s.data.borderTop?s.data.borderTop:s.id,d=s.data.borderBottom?s.data.borderBottom:s.id,f=s.data.borderTop?r:2*r,h=c!==d?1:i-o[a]+1;e.addEdge({id:`e${Math.random()}`,source:l,target:c,data:{minlen:h,weight:f,nestingEdge:!0}}),e.addEdge({id:`e${Math.random()}`,source:d,target:u,data:{minlen:h,weight:f,nestingEdge:!0}})})),e.getParent(a)||e.addEdge({id:`e${Math.random()}`,source:t,target:l,data:{weight:0,minlen:i+o[a]}})},ny=e=>{const t={},n=(r,i)=>{const o=e.getChildren(r);null==o||o.forEach((e=>n(e.id,i+1))),t[r]=i};return e.getRoots().forEach((e=>n(e.id,1))),t},ry=e=>{let t=0;return e.getAllEdges().forEach((e=>{t+=e.data.weight})),t},iy="edge-label",oy=(e,t,n)=>{let r=t.source,i=e.getNode(r).data.rank;const o=t.target,a=e.getNode(o).data.rank,s=t.data.labelRank;if(a===i+1)return;let l,u,c;for(e.removeEdge(t.id),c=0,++i;i<a;++c,++i)t.data.points=[],u={originalEdge:t,width:0,height:0,rank:i},l=Fm(e,"edge",u,"_d"),i===s&&(u.width=t.data.width,u.height=t.data.height,u.dummy=iy,u.labelpos=t.data.labelpos),e.addEdge({id:`e${Math.random()}`,source:r,target:l,data:{weight:t.data.weight}}),0===c&&n.push(l),r=l;e.addEdge({id:`e${Math.random()}`,source:r,target:o,data:{weight:t.data.weight}})},ay=e=>{let t;for(;e.hasNode(t=`_root${Math.random()}`););return t},sy=(e,t,n)=>{const r=((e,t)=>null==e?void 0:e.reduce(((e,n,r)=>(e[n]=t[r],e)),{}))(n,n.map(((e,t)=>t))),i=t.map((t=>{const n=e.getRelatedEdges(t,"out").map((e=>({pos:r[e.target]||0,weight:e.data.weight})));return null==n?void 0:n.sort(((e,t)=>e.pos-t.pos))})),o=i.flat().filter((e=>void 0!==e));let a=1;for(;a<n.length;)a<<=1;const s=2*a-1;a-=1;const l=Array(s).fill(0,0,s);let u=0;return null==o||o.forEach((e=>{if(e){let t=e.pos+a;l[t]+=e.weight;let n=0;for(;t>0;)t%2&&(n+=l[t+1]),t=t-1>>1,l[t]+=e.weight;u+=e.weight*n}})),u},ly=(e,t)=>{let n=0;for(let r=1;r<(null==t?void 0:t.length);r+=1)n+=sy(e,t[r-1],t[r]);return n},uy=e=>{const t={},n=e.getAllNodes(),r=n.map((e=>{var t;return null!==(t=e.data.rank)&&void 0!==t?t:-1/0})),i=Math.max(...r),o=[];for(let e=0;e<i+1;e++)o.push([]);const a=n.sort(((t,n)=>e.getNode(t.id).data.rank-e.getNode(n.id).data.rank)),s=a.filter((t=>void 0!==e.getNode(t.id).data.fixorder)).sort(((t,n)=>e.getNode(t.id).data.fixorder-e.getNode(n.id).data.fixorder));return null==s||s.forEach((n=>{isNaN(e.getNode(n.id).data.rank)||o[e.getNode(n.id).data.rank].push(n.id),t[n.id]=!0})),null==a||a.forEach((n=>e.dfsTree(n.id,(e=>{if(t.hasOwnProperty(e.id))return!0;t[e.id]=!0,isNaN(e.data.rank)||o[e.data.rank].push(e.id)})))),o},cy=e=>{var t,n;const r=[];for(;null==e?void 0:e.length;){const i=e.pop();r.push(i),null===(t=i.in.reverse())||void 0===t||t.forEach((e=>{return(t=i,e=>{e.merged||(void 0===e.barycenter||void 0===t.barycenter||e.barycenter>=t.barycenter)&&dy(t,e)})(e);var t})),null===(n=i.out)||void 0===n||n.forEach((t=>{return(n=i,t=>{t.in.push(n),0==--t.indegree&&e.push(t)})(t);var n}))}const i=r.filter((e=>!e.merged)),o=["vs","i","barycenter","weight"];return i.map((e=>{const t={};return null==o||o.forEach((n=>{void 0!==e[n]&&(t[n]=e[n])})),t}))},dy=(e,t)=>{var n;let r=0,i=0;e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.vs=null===(n=t.vs)||void 0===n?void 0:n.concat(e.vs),e.barycenter=r/i,e.weight=i,e.i=Math.min(t.i,e.i),t.merged=!0},fy=(e,t,n)=>{let r,i=n;for(;t.length&&(r=t[t.length-1]).i<=i;)t.pop(),null==e||e.push(r.vs),i++;return i},hy=(e,t)=>(n,r)=>{if(void 0!==n.fixorder&&void 0!==r.fixorder)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(t&&void 0!==n.order&&void 0!==r.order){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return e?r.i-n.i:n.i-r.i},py=(e,t,n,r,i,o)=>{var a,s,l,u;let c=e.getChildren(t).map((e=>e.id));const d=e.getNode(t),f=d?d.data.borderLeft:void 0,h=d?d.data.borderRight:void 0,p={};f&&(c=null==c?void 0:c.filter((e=>e!==f&&e!==h)));const g=((e,t)=>t.map((t=>{const n=e.getRelatedEdges(t,"in");if(!(null==n?void 0:n.length))return{v:t};const r={sum:0,weight:0};return null==n||n.forEach((t=>{const n=e.getNode(t.source);r.sum+=t.data.weight*n.data.order,r.weight+=t.data.weight})),{v:t,barycenter:r.sum/r.weight,weight:r.weight}})))(e,c||[]);null==g||g.forEach((t=>{var i;if(null===(i=e.getChildren(t.v))||void 0===i?void 0:i.length){const i=py(e,t.v,n,r,o);p[t.v]=i,i.hasOwnProperty("barycenter")&&vy(t,i)}}));const v=((e,t)=>{var n,r,i;const o={};null==e||e.forEach(((e,t)=>{o[e.v]={i:t,indegree:0,in:[],out:[],vs:[e.v]};const n=o[e.v];void 0!==e.barycenter&&(n.barycenter=e.barycenter,n.weight=e.weight)})),null===(n=t.getAllEdges())||void 0===n||n.forEach((e=>{const t=o[e.source],n=o[e.target];void 0!==t&&void 0!==n&&(n.indegree++,t.out.push(o[e.target]))}));const a=null===(i=(r=Object.values(o)).filter)||void 0===i?void 0:i.call(r,(e=>!e.indegree));return cy(a)})(g,n);gy(v,p),null===(a=v.filter((e=>e.vs.length>0)))||void 0===a||a.forEach((t=>{const n=e.getNode(t.vs[0]);n&&(t.fixorder=n.data.fixorder,t.order=n.data.order)}));const m=((e,t,n,r)=>{const i=((e,t)=>{const n={lhs:[],rhs:[]};return null==e||e.forEach((e=>{t(e)?n.lhs.push(e):n.rhs.push(e)})),n})(e,(e=>{const t=e.hasOwnProperty("fixorder")&&!isNaN(e.fixorder);return r?!t&&e.hasOwnProperty("barycenter"):t||e.hasOwnProperty("barycenter")})),o=i.lhs,a=i.rhs.sort(((e,t)=>-e.i- -t.i)),s=[];let l=0,u=0,c=0;null==o||o.sort(hy(!!t,!!n)),c=fy(s,a,c),null==o||o.forEach((e=>{var t;c+=null===(t=e.vs)||void 0===t?void 0:t.length,s.push(e.vs),l+=e.barycenter*e.weight,u+=e.weight,c=fy(s,a,c)}));const d={vs:s.flat()};return u&&(d.barycenter=l/u,d.weight=u),d})(v,r,i,o);if(f&&(m.vs=[f,m.vs,h].flat(),null===(s=e.getPredecessors(f))||void 0===s?void 0:s.length)){const t=e.getNode((null===(l=e.getPredecessors(f))||void 0===l?void 0:l[0].id)||""),n=e.getNode((null===(u=e.getPredecessors(h))||void 0===u?void 0:u[0].id)||"");m.hasOwnProperty("barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+t.data.order+n.data.order)/(m.weight+2),m.weight+=2}return m},gy=(e,t)=>{null==e||e.forEach((e=>{var n;const r=null===(n=e.vs)||void 0===n?void 0:n.map((e=>t[e]?t[e].vs:e));e.vs=r.flat()}))},vy=(e,t)=>{void 0!==e.barycenter?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)},my=(e,t,n)=>t.map((t=>((e,t,n)=>{const r=ay(e),i=new rv({tree:[{id:r,children:[],data:{}}]});return e.getAllNodes().forEach((o=>{const a=e.getParent(o.id);(o.data.rank===t||o.data.minRank<=t&&t<=o.data.maxRank)&&(i.hasNode(o.id)||i.addNode(Object.assign({},o)),(null==a?void 0:a.id)&&!i.hasNode(null==a?void 0:a.id)&&i.addNode(Object.assign({},a)),i.setParent(o.id,(null==a?void 0:a.id)||r),e.getRelatedEdges(o.id,n).forEach((t=>{const n=t.source===o.id?t.target:t.source;i.hasNode(n)||i.addNode(Object.assign({},e.getNode(n)));const r=i.getRelatedEdges(n,"out").find((({target:e})=>e===o.id)),a=void 0!==r?r.data.weight:0;r?i.updateEdgeData(r.id,Object.assign(Object.assign({},r.data),{weight:t.data.weight+a})):i.addEdge({id:t.id,source:n,target:o.id,data:{weight:t.data.weight+a}})})),o.data.hasOwnProperty("minRank")&&i.updateNodeData(o.id,Object.assign(Object.assign({},o.data),{borderLeft:o.data.borderLeft[t],borderRight:o.data.borderRight[t]})))})),i})(e,t,n))),yy=(e,t,n,r)=>{const i=new rv;null==e||e.forEach((e=>{var o;const a=e.getRoots()[0].id,s=py(e,a,i,t,n,r);for(let t=0;t<(null===(o=s.vs)||void 0===o?void 0:o.length);t++){const n=e.getNode(s.vs[t]);n&&(n.data.order=t)}((e,t,n)=>{const r={};let i;null==n||n.forEach((n=>{let o,a,s=e.getParent(n);for(;s;){if(o=e.getParent(s.id),o?(a=r[o.id],r[o.id]=s.id):(a=i,i=s.id),a&&a!==s.id)return t.hasNode(a)||t.addNode({id:a,data:{}}),t.hasNode(s.id)||t.addNode({id:s.id,data:{}}),void(t.hasEdge(`e${a}-${s.id}`)||t.addEdge({id:`e${a}-${s.id}`,source:a,target:s.id,data:{}}));s=o}}))})(e,i,s.vs)}))},by=(e,t)=>{null==t||t.forEach((t=>{null==t||t.forEach(((t,n)=>{e.getNode(t).data.order=n}))}))},wy=(e,t)=>{const n=(e=>{const t={};let n=0;const r=i=>{const o=n;e.getChildren(i).forEach((e=>r(e.id))),t[i]={low:o,lim:n++}};return e.getRoots().forEach((e=>r(e.id))),t})(e);t.forEach((t=>{var r,i;let o=t,a=e.getNode(o);const s=a.data.originalEdge;if(!s)return;const l=((e,t,n,r)=>{var i,o;const a=[],s=[],l=Math.min(t[n].low,t[r].low),u=Math.max(t[n].lim,t[r].lim);let c,d;c=n;do{c=null===(i=e.getParent(c))||void 0===i?void 0:i.id,a.push(c)}while(c&&(t[c].low>l||u>t[c].lim));for(d=c,c=r;c&&c!==d;)s.push(c),c=null===(o=e.getParent(c))||void 0===o?void 0:o.id;return{lca:d,path:a.concat(s.reverse())}})(e,n,s.source,s.target),u=l.path,c=l.lca;let d=0,f=u[d],h=!0;for(;o!==s.target;){if(a=e.getNode(o),h){for(;f!==c&&(null===(r=e.getNode(f))||void 0===r?void 0:r.data.maxRank)<a.data.rank;)d++,f=u[d];f===c&&(h=!1)}if(!h){for(;d<u.length-1&&(null===(i=e.getNode(u[d+1]))||void 0===i?void 0:i.data.minRank)<=a.data.rank;)d++;f=u[d]}e.hasNode(f)&&e.setParent(o,f),o=e.getSuccessors(o)[0].id}}))},xy=(e,t)=>{const n={};function r(t,r){const i=function(e){return JSON.stringify(e.slice(1))}(t);r.get(i)||(!function(t,r,i,o,a){var s,l;let u;for(let c=r;c<i;c++)u=t[c],(null===(s=e.getNode(u))||void 0===s?void 0:s.data.dummy)&&(null===(l=e.getPredecessors(u))||void 0===l||l.forEach((t=>{const r=e.getNode(t.id);r.data.dummy&&(r.data.order<o||r.data.order>a)&&ky(n,t.id,u)})))}(...t),r.set(i,!0))}const i=(t,n)=>{let i,o=-1,a=0;const s=new Map;return null==n||n.forEach(((l,u)=>{var c;if("border"===(null===(c=e.getNode(l))||void 0===c?void 0:c.data.dummy)){const t=e.getPredecessors(l)||[];t.length&&(i=e.getNode(t[0].id).data.order,r([n,a,u,o,i],s),a=u,o=i)}r([n,a,n.length,i,t.length],s)})),n};return(null==t?void 0:t.length)&&t.reduce(i),n},Ey=(e,t)=>{var n,r;if(null===(n=e.getNode(t))||void 0===n?void 0:n.data.dummy)return null===(r=e.getPredecessors(t))||void 0===r?void 0:r.find((t=>e.getNode(t.id).data.dummy))},ky=(e,t,n)=>{let r=t,i=n;if(r>i){const e=r;r=i,i=e}let o=e[r];o||(e[r]=o={}),o[i]=!0},Sy=(e,t,n)=>{let r=t,i=n;if(r>n){r=n,i=t}return!!e[r]},My=(e,t,n,r,i,o)=>{const a=new rv,s=Ty(r,i,o);return null==t||t.forEach((t=>{let r;null==t||t.forEach((t=>{const i=n[t];if(a.hasNode(i)||a.addNode({id:i,data:{}}),r){const o=n[r],l=a.getRelatedEdges(o,"out").find((e=>e.target===i));l?a.updateEdgeData(l.id,Object.assign(Object.assign({},l.data),{weight:Math.max(s(e,t,r),l.data.weight||0)})):a.addEdge({id:`e${Math.random()}`,source:o,target:i,data:{weight:Math.max(s(e,t,r),0)}})}r=t}))})),a};const Ty=(e,t,n)=>(r,i,o)=>{const a=r.getNode(i),s=r.getNode(o);let l=0,u=0;if(l+=a.data.width/2,a.data.hasOwnProperty("labelpos"))switch((a.data.labelpos||"").toLowerCase()){case"l":u=-a.data.width/2;break;case"r":u=a.data.width/2}if(u&&(l+=n?u:-u),u=0,l+=(a.data.dummy?t:e)/2,l+=(s.data.dummy?t:e)/2,l+=s.data.width/2,s.data.labelpos)switch((s.data.labelpos||"").toLowerCase()){case"l":u=s.data.width/2;break;case"r":u=-s.data.width/2}return u&&(l+=n?u:-u),u=0,l},Cy=(e,t)=>e.getNode(t).data.width||0,Ny=(e,t)=>{const{align:n,nodesep:r=0,edgesep:i=0}=t,o=Wm(e),a=Object.assign(((e,t)=>{const n={},r=(t,r)=>{let i=0,o=0;const a=t.length,s=null==r?void 0:r[(null==r?void 0:r.length)-1];return null==r||r.forEach(((t,l)=>{var u;const c=Ey(e,t),d=c?e.getNode(c.id).data.order:a;(c||t===s)&&(null===(u=r.slice(o,l+1))||void 0===u||u.forEach((t=>{var r;null===(r=e.getPredecessors(t))||void 0===r||r.forEach((r=>{var o;const a=e.getNode(r.id),s=a.data.order;!(s<i||d<s)||a.data.dummy&&(null===(o=e.getNode(t))||void 0===o?void 0:o.data.dummy)||ky(n,r.id,t)}))})),o=l+1,i=d)})),r};return(null==t?void 0:t.length)&&t.reduce(r),n})(e,o),xy(e,o)),s={};let l=[];["u","d"].forEach((t=>{l="u"===t?o:Object.values(o).reverse(),["l","r"].forEach((n=>{"r"===n&&(l=l.map((e=>Object.values(e).reverse())));const o=("u"===t?e.getPredecessors:e.getSuccessors).bind(e),u=((e,t,n,r)=>{const i={},o={},a={};return null==t||t.forEach((e=>{null==e||e.forEach(((e,t)=>{i[e]=e,o[e]=e,a[e]=t}))})),null==t||t.forEach((e=>{let t=-1;null==e||e.forEach((e=>{let s=r(e).map((e=>e.id));if(s.length){s=s.sort(((e,t)=>a[e]-a[t]));const r=(s.length-1)/2;for(let l=Math.floor(r),u=Math.ceil(r);l<=u;++l){const r=s[l];o[e]===e&&t<a[r]&&!Sy(n,e,r)&&(o[r]=e,o[e]=i[e]=i[r],t=a[r])}}}))})),{root:i,align:o}})(0,l,a,o),c=((e,t,n,r,i,o,a)=>{var s;const l={},u=My(e,t,n,i,o,a),c=a?"borderLeft":"borderRight",d=(e,t)=>{let n=u.getAllNodes(),r=n.pop();const i={};for(;r;)i[r.id]?e(r.id):(i[r.id]=!0,n.push(r),n=n.concat(t(r.id))),r=n.pop()};return d((e=>{l[e]=(u.getRelatedEdges(e,"in")||[]).reduce(((e,t)=>Math.max(e,(l[t.source]||0)+t.data.weight)),0)}),u.getPredecessors.bind(u)),d((t=>{const n=(u.getRelatedEdges(t,"out")||[]).reduce(((e,t)=>Math.min(e,(l[t.target]||0)-t.data.weight)),Number.POSITIVE_INFINITY),r=e.getNode(t);n!==Number.POSITIVE_INFINITY&&r.data.borderType!==c&&(l[t]=Math.max(l[t],n))}),u.getSuccessors.bind(u)),null===(s=Object.values(r))||void 0===s||s.forEach((e=>{l[e]=l[n[e]]})),l})(e,l,u.root,u.align,r,i,"r"===n);"r"===n&&Object.keys(c).forEach((e=>c[e]=-c[e])),s[t+n]=c}))}));const u=((e,t)=>Gm(Object.values(t),(t=>{var n;let r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return null===(n=Object.keys(t))||void 0===n||n.forEach((n=>{const o=t[n],a=Cy(e,n)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)})),r-i})))(e,s);return u&&function(e,t){const n=Object.values(t),r=Math.min(...n),i=Math.max(...n);["u","d"].forEach((n=>{["l","r"].forEach((o=>{const a=n+o,s=e[a];let l;if(s===t)return;const u=Object.values(s);l="l"===o?r-Math.min(...u):i-Math.max(...u),l&&(e[a]={},Object.keys(s).forEach((t=>{e[a][t]=s[t]+l})))}))}))}(s,u),((e,t)=>{const n={};return Object.keys(e.ul).forEach((r=>{if(t)n[r]=e[t.toLowerCase()][r];else{const t=Object.values(e).map((e=>e[r]));n[r]=(t[0]+t[1])/2}})),n})(s,n)},Py=(e,t)=>{var n;const r=Bm(e);((e,t)=>{const{ranksep:n=0}=t,r=Wm(e);let i=0;null==r||r.forEach((t=>{const r=t.map((t=>e.getNode(t).data.height)),o=Math.max(...r,0);null==t||t.forEach((t=>{e.getNode(t).data.y=i+o/2})),i+=o+n}))})(r,t);const i=Ny(r,t);null===(n=Object.keys(i))||void 0===n||n.forEach((e=>{r.getNode(e).data.x=i[e]}))},Oy=e=>{const t={},n=r=>{var i;const o=e.getNode(r);if(!o)return 0;if(t[r])return o.data.rank;let a;return t[r]=!0,null===(i=e.getRelatedEdges(r,"out"))||void 0===i||i.forEach((e=>{const t=n(e.target)-e.data.minlen;t&&(void 0===a||t<a)&&(a=t)})),a||(a=0),o.data.rank=a,a};e.getAllNodes().filter((t=>0===e.getRelatedEdges(t.id,"in").length)).forEach((e=>n(e.id)))},_y=(e,t)=>e.getNode(t.target).data.rank-e.getNode(t.source).data.rank-t.data.minlen,Ry=(e,t)=>{const n=r=>{t.getRelatedEdges(r,"both").forEach((i=>{const o=i.source,a=r===o?i.target:o;e.hasNode(a)||_y(t,i)||(e.addNode({id:a,data:{}}),e.addEdge({id:i.id,source:r,target:a,data:{}}),n(a))}))};return e.getAllNodes().forEach((e=>n(e.id))),e.getAllNodes().length},Ay=(e,t)=>{const n=r=>{var i;null===(i=t.getRelatedEdges(r,"both"))||void 0===i||i.forEach((i=>{const o=i.source,a=r===o?i.target:o;e.hasNode(a)||void 0===t.getNode(a).data.layer&&_y(t,i)||(e.addNode({id:a,data:{}}),e.addEdge({id:i.id,source:r,target:a,data:{}}),n(a))}))};return e.getAllNodes().forEach((e=>n(e.id))),e.getAllNodes().length},Dy=(e,t)=>Gm(t.getAllEdges(),(n=>e.hasNode(n.source)!==e.hasNode(n.target)?_y(t,n):1/0)),Ly=(e,t,n)=>{e.getAllNodes().forEach((e=>{const r=t.getNode(e.id);r.data.rank||(r.data.rank=0),r.data.rank+=n}))},Iy=e=>{const t=(e=>{const t=new rv;return e.getAllNodes().forEach((e=>{t.addNode(Object.assign({},e))})),e.getAllEdges().forEach((e=>{const n=t.getRelatedEdges(e.source,"out").find((t=>t.target===e.target));n?t.updateEdgeData(null==n?void 0:n.id,Object.assign(Object.assign({},n.data),{weight:n.data.weight+e.data.weight||0,minlen:Math.max(n.data.minlen,e.data.minlen||1)})):t.addEdge({id:e.id,source:e.source,target:e.target,data:{weight:e.data.weight||0,minlen:e.data.minlen||1}})})),t})(e);Oy(t);const n=(e=>{const t=new rv({tree:[]}),n=e.getAllNodes()[0],r=e.getAllNodes().length;let i,o;for(t.addNode(n);Ry(t,e)<r;)i=Dy(t,e),o=t.hasNode(i.source)?_y(e,i):-_y(e,i),Ly(t,e,o);return t})(t);let r,i;for(By(n),zy(n,t);r=Wy(n);)i=Vy(n,t,r),Hy(n,t,r,i)},zy=(e,t)=>{let n=Ym(e,e.getAllNodes(),"post");n=n.slice(0,(null==n?void 0:n.length)-1),n.forEach((n=>{jy(e,t,n)}))},jy=(e,t,n)=>{const r=e.getNode(n).data.parent;e.getRelatedEdges(n,"both").find((e=>e.target===r||e.source===r)).data.cutvalue=Fy(e,t,n)},Fy=(e,t,n)=>{const r=e.getNode(n).data.parent;let i=!0,o=t.getRelatedEdges(n,"out").find((e=>e.target===r)),a=0;return o||(i=!1,o=t.getRelatedEdges(r,"out").find((e=>e.target===n))),a=o.data.weight,t.getRelatedEdges(n,"both").forEach((t=>{const o=t.source===n,s=o?t.target:t.source;if(s!==r){const r=o===i,l=t.data.weight;if(a+=r?l:-l,$y(e,n,s)){const t=e.getRelatedEdges(n,"both").find((e=>e.source===s||e.target===s)).data.cutvalue;a+=r?-t:t}}})),a},By=(e,t=e.getAllNodes()[0].id)=>{Uy(e,{},1,t)},Uy=(e,t,n,r,i)=>{var o;const a=n;let s=n;const l=e.getNode(r);return t[r]=!0,null===(o=e.getNeighbors(r))||void 0===o||o.forEach((n=>{t[n.id]||(s=Uy(e,t,s,n.id,r))})),l.data.low=a,l.data.lim=s++,i?l.data.parent=i:delete l.data.parent,s},Wy=e=>e.getAllEdges().find((e=>e.data.cutvalue<0)),Vy=(e,t,n)=>{let r=n.source,i=n.target;t.getRelatedEdges(r,"out").find((e=>e.target===i))||(r=n.target,i=n.source);const o=e.getNode(r),a=e.getNode(i);let s=o,l=!1;o.data.lim>a.data.lim&&(s=a,l=!0);const u=t.getAllEdges().filter((t=>l===Yy(e.getNode(t.source),s)&&l!==Yy(e.getNode(t.target),s)));return Gm(u,(e=>_y(t,e)))},Hy=(e,t,n,r)=>{const i=e.getRelatedEdges(n.source,"both").find((e=>e.source===n.target||e.target===n.target));i&&e.removeEdge(i.id),e.addEdge({id:`e${Math.random()}`,source:r.source,target:r.target,data:{}}),By(e),zy(e,t),Gy(e,t)},Gy=(e,t)=>{const n=e.getAllNodes().find((e=>!e.data.parent));let r=Ym(e,n,"pre");r=r.slice(1),r.forEach((n=>{const r=e.getNode(n).data.parent;let i=t.getRelatedEdges(n,"out").find((e=>e.target===r)),o=!1;!i&&t.hasNode(r)&&(i=t.getRelatedEdges(r,"out").find((e=>e.target===n)),o=!0),t.getNode(n).data.rank=(t.hasNode(r)&&t.getNode(r).data.rank||0)+(o?null==i?void 0:i.data.minlen:-(null==i?void 0:i.data.minlen))}))},$y=(e,t,n)=>e.getRelatedEdges(t,"both").find((e=>e.source===n||e.target===n)),Yy=(e,t)=>t.data.low<=e.data.lim&&e.data.lim<=t.data.lim,qy=Oy,Ky=e=>{(e=>{const t={};let n;const r=i=>{var o;const a=e.getNode(i);if(!a)return 0;if(t[i])return a.data.rank;let s;return t[i]=!0,null===(o=e.getRelatedEdges(i,"out"))||void 0===o||o.forEach((e=>{const t=r(e.target)-e.data.minlen;t&&(void 0===s||t<s)&&(s=t)})),s||(s=0),(void 0===n||s<n)&&(n=s),a.data.rank=s,s};e.getAllNodes().filter((t=>0===e.getRelatedEdges(t.id,"in").length)).forEach((e=>{e&&r(e.id)})),void 0===n&&(n=0);const i={},o=(t,n)=>{var r;const a=e.getNode(t),s=isNaN(a.data.layer)?n:a.data.layer;(void 0===a.data.rank||a.data.rank<s)&&(a.data.rank=s),i[t]||(i[t]=!0,null===(r=e.getRelatedEdges(t,"out"))||void 0===r||r.forEach((e=>{o(e.target,s+e.data.minlen)})))};e.getAllNodes().forEach((e=>{const t=e.data;t&&(isNaN(t.layer)?t.rank-=n:o(e.id,t.layer))}))})(e),(e=>{const t=new rv({tree:[]}),n=e.getAllNodes()[0],r=e.getAllNodes().length;let i,o;for(t.addNode(n);Ay(t,e)<r;)i=Dy(t,e),o=t.hasNode(i.source)?_y(e,i):-_y(e,i),Ly(t,e,o)})(e)},Xy=e=>{Iy(e)},Qy=(e,t)=>{const{acyclicer:n,ranker:r,rankdir:i="tb",nodeOrder:o,keepNodeOrder:a,align:s,nodesep:l=50,edgesep:u=20,ranksep:c=50}=t;gb(e),zm(e,n);const{nestingRoot:d,nodeRankFactor:f}=(e=>{const t=Fm(e,"root",{},"_root"),n=ny(e);let r=Math.max(...Object.values(n));Math.abs(r)===1/0&&(r=1);const i=r-1,o=2*i+1;e.getAllEdges().forEach((e=>{e.data.minlen*=o}));const a=ry(e)+1;return e.getRoots().forEach((r=>{ty(e,t,o,a,i,n,r.id)})),{nestingRoot:t,nodeRankFactor:o}})(e);((e,t)=>{switch(t){case"network-simplex":Xy(e);break;case"tight-tree":default:Ky(e);break;case"longest-path":qy(e)}})(Bm(e),r),sb(e),((e,t=0)=>{const n=e.getAllNodes(),r=n.filter((e=>void 0!==e.data.rank)).map((e=>e.data.rank)),i=Math.min(...r),o=[];n.forEach((e=>{const t=(e.data.rank||0)-i;o[t]||(o[t]=[]),o[t].push(e.id)}));let a=0;for(let n=0;n<o.length;n++){const r=o[n];void 0===r?n%t!=0&&(a-=1):a&&(null==r||r.forEach((t=>{const n=e.getNode(t);n&&(n.data.rank=n.data.rank||0,n.data.rank+=a)})))}})(e,f),((e,t)=>{t&&e.removeNode(t),e.getAllEdges().forEach((t=>{t.data.nestingEdge&&e.removeEdge(t.id)}))})(e,d),(e=>{const t=e.getAllNodes().filter((e=>void 0!==e.data.rank)).map((e=>e.data.rank)),n=Math.min(...t);e.getAllNodes().forEach((e=>{e.data.hasOwnProperty("rank")&&n!==1/0&&(e.data.rank-=n)}))})(e),lb(e),ub(e);const h=[];((e,t)=>{e.getAllEdges().forEach((n=>oy(e,n,t)))})(e,h),wy(e,h),(e=>{const t=n=>{const r=e.getChildren(n),i=e.getNode(n);if((null==r?void 0:r.length)&&r.forEach((e=>t(e.id))),i.data.hasOwnProperty("minRank")){i.data.borderLeft=[],i.data.borderRight=[];for(let t=i.data.minRank,r=i.data.maxRank+1;t<r;t+=1)qm(e,"borderLeft","_bl",n,i,t),qm(e,"borderRight","_br",n,i,t)}};e.getRoots().forEach((e=>t(e.id)))})(e),a&&((e,t)=>{const n=e.getAllNodes().filter((t=>{var n;return!(null===(n=e.getChildren(t.id))||void 0===n?void 0:n.length)})).map((e=>e.data.rank)),r=Math.max(...n),i=[];for(let e=0;e<r+1;e++)i[e]=[];null==t||t.forEach((t=>{const n=e.getNode(t);n&&!n.data.dummy&&(isNaN(n.data.rank)||(n.data.fixorder=i[n.data.rank].length,i[n.data.rank].push(t)))}))})(e,o),((e,t)=>{const n=Hm(e),r=[],i=[];for(let e=1;e<n+1;e++)r.push(e);for(let e=n-1;e>-1;e--)i.push(e);const o=my(e,r,"in"),a=my(e,i,"out");let s=uy(e);by(e,s);let l,u=Number.POSITIVE_INFINITY;for(let n=0,r=0;r<4;++n,++r){yy(n%2?o:a,n%4>=2,!1,t),s=Wm(e);const i=ly(e,s);i<u&&(r=0,l=yt(s),u=i)}s=uy(e),by(e,s);for(let n=0,r=0;r<4;++n,++r){yy(n%2?o:a,n%4>=2,!0,t),s=Wm(e);const i=ly(e,s);i<u&&(r=0,l=yt(s),u=i)}by(e,l)})(e,a),vb(e),((e,t)=>{const n=t.toLowerCase();"lr"!==n&&"rl"!==n||Km(e)})(e,i),Py(e,{align:s,nodesep:l,edgesep:u,ranksep:c}),mb(e),pb(e),((e,t)=>{t.forEach((t=>{let n=e.getNode(t);const{data:r}=n,i=r.originalEdge;let o;i&&e.addEdge(i);let a=t;for(;n.data.dummy;)o=e.getSuccessors(a)[0],e.removeNode(a),i.data.points.push({x:n.data.x,y:n.data.y}),n.data.dummy===iy&&(i.data.x=n.data.x,i.data.y=n.data.y,i.data.width=n.data.width,i.data.height=n.data.height),a=o.id,n=e.getNode(a)}))})(e,h),fb(e),((e,t)=>{const n=t.toLowerCase();"bt"!==n&&"rl"!==n||Qm(e),"lr"!==n&&"rl"!==n||(Jm(e),Km(e))})(e,i);const{width:p,height:g}=cb(e);return db(e),hb(e),(e=>{e.getAllEdges().forEach((t=>{const n=t.data;if(n.reversed){e.removeEdge(t.id);const r=n.forwardName;delete n.reversed,delete n.forwardName,e.addEdge({id:t.id,source:t.target,target:t.source,data:Object.assign(Object.assign({},n),{forwardName:r})})}}))})(e),{width:p,height:g}},Zy=(e,t)=>{e.getAllNodes().forEach((n=>{const r=e.getNode(n.id);if(t.hasNode(n.id)){const e=t.getNode(n.id);r.data.fixorder=e.data._order,delete e.data._order}else delete r.data.fixorder}))},Jy=(e,t)=>{e.getAllNodes().forEach((n=>{var r;const i=e.getNode(n.id);if(i){const e=t.getNode(n.id);i.data.x=e.data.x,i.data.y=e.data.y,i.data._order=e.data.order,i.data._rank=e.data.rank,(null===(r=t.getChildren(n.id))||void 0===r?void 0:r.length)&&(i.data.width=e.data.width,i.data.height=e.data.height)}})),e.getAllEdges().forEach((n=>{const r=e.getEdge(n.id),i=t.getEdge(n.id);r.data.points=i?i.data.points:[],i&&i.data.hasOwnProperty("x")&&(r.data.x=i.data.x,r.data.y=i.data.y)}))},eb=["width","height","layer","fixorder"],tb={width:0,height:0},nb=["minlen","weight","width","height","labeloffset"],rb={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ib=["labelpos"],ob=e=>{const t=new rv({tree:[]});return e.getAllNodes().forEach((n=>{const r=bb(e.getNode(n.id).data),i=Object.assign(Object.assign({},tb),r),o=yb(i,eb);t.hasNode(n.id)||t.addNode({id:n.id,data:Object.assign({},o)});const a=e.hasTreeStructure("combo")?e.getParent(n.id,"combo"):e.getParent(n.id);Ye(a)||(t.hasNode(a.id)||t.addNode(Object.assign({},a)),t.setParent(n.id,a.id))})),e.getAllEdges().forEach((n=>{const r=bb(e.getEdge(n.id).data),i={};null==ib||ib.forEach((e=>{void 0!==r[e]&&(i[e]=r[e])})),t.addEdge({id:n.id,source:n.source,target:n.target,data:Object.assign({},rb,yb(r,nb),i)})})),t},ab=(e,t)=>{const{ranksep:n=0,rankdir:r}=t;return e.getAllNodes().forEach((e=>{isNaN(e.data.layer)||e.data.layer||(e.data.layer=0)})),e.getAllEdges().forEach((e=>{var t;e.data.minlen*=2,"c"!==(null===(t=e.data.labelpos)||void 0===t?void 0:t.toLowerCase())&&("TB"===r||"BT"===r?e.data.width+=e.data.labeloffset:e.data.height+=e.data.labeloffset)})),n/2},sb=e=>{e.getAllEdges().forEach((t=>{if(t.data.width&&t.data.height){const n=e.getNode(t.source),r={e:t,rank:(e.getNode(t.target).data.rank-n.data.rank)/2+n.data.rank};Fm(e,"edge-proxy",r,"_ep")}}))},lb=e=>{let t=0;return e.getAllNodes().forEach((n=>{var r,i;n.data.borderTop&&(n.data.minRank=null===(r=e.getNode(n.data.borderTop))||void 0===r?void 0:r.data.rank,n.data.maxRank=null===(i=e.getNode(n.data.borderBottom))||void 0===i?void 0:i.data.rank,t=Math.max(t,n.data.maxRank||-1/0))})),t},ub=e=>{e.getAllNodes().forEach((t=>{"edge-proxy"===t.data.dummy&&(e.getEdge(t.data.e.id).data.labelRank=t.data.rank,e.removeNode(t.id))}))},cb=(e,t)=>{let n,r,i=0,o=0;const{marginx:a=0,marginy:s=0}={},l=e=>{if(!e.data)return;const t=e.data.x,a=e.data.y,s=e.data.width,l=e.data.height;isNaN(t)||isNaN(s)||(void 0===n&&(n=t-s/2),n=Math.min(n,t-s/2),i=Math.max(i,t+s/2)),isNaN(a)||isNaN(l)||(void 0===r&&(r=a-l/2),r=Math.min(r,a-l/2),o=Math.max(o,a+l/2))};return e.getAllNodes().forEach((e=>{l(e)})),e.getAllEdges().forEach((e=>{(null==e?void 0:e.data.hasOwnProperty("x"))&&l(e)})),n-=a,r-=s,e.getAllNodes().forEach((e=>{e.data.x-=n,e.data.y-=r})),e.getAllEdges().forEach((e=>{var t;null===(t=e.data.points)||void 0===t||t.forEach((e=>{e.x-=n,e.y-=r})),e.data.hasOwnProperty("x")&&(e.data.x-=n),e.data.hasOwnProperty("y")&&(e.data.y-=r)})),{width:i-n+a,height:o-r+s}},db=e=>{e.getAllEdges().forEach((t=>{const n=e.getNode(t.source),r=e.getNode(t.target);let i,o;t.data.points?(i=t.data.points[0],o=t.data.points[t.data.points.length-1]):(t.data.points=[],i={x:r.data.x,y:r.data.y},o={x:n.data.x,y:n.data.y}),t.data.points.unshift(Um(n.data,i)),t.data.points.push(Um(r.data,o))}))},fb=e=>{e.getAllEdges().forEach((e=>{if(e.data.hasOwnProperty("x"))switch("l"!==e.data.labelpos&&"r"!==e.data.labelpos||(e.data.width-=e.data.labeloffset),e.data.labelpos){case"l":e.data.x-=e.data.width/2+e.data.labeloffset;break;case"r":e.data.x+=e.data.width/2+e.data.labeloffset}}))},hb=e=>{e.getAllEdges().forEach((e=>{var t;e.data.reversed&&(null===(t=e.data.points)||void 0===t||t.reverse())}))},pb=e=>{e.getAllNodes().forEach((t=>{var n,r,i;if(null===(n=e.getChildren(t.id))||void 0===n?void 0:n.length){const n=e.getNode(t.id),o=e.getNode(n.data.borderTop),a=e.getNode(n.data.borderBottom),s=e.getNode(n.data.borderLeft[(null===(r=n.data.borderLeft)||void 0===r?void 0:r.length)-1]),l=e.getNode(n.data.borderRight[(null===(i=n.data.borderRight)||void 0===i?void 0:i.length)-1]);n.data.width=Math.abs((null==l?void 0:l.data.x)-(null==s?void 0:s.data.x))||10,n.data.height=Math.abs((null==a?void 0:a.data.y)-(null==o?void 0:o.data.y))||10,n.data.x=((null==s?void 0:s.data.x)||0)+n.data.width/2,n.data.y=((null==o?void 0:o.data.y)||0)+n.data.height/2}})),e.getAllNodes().forEach((t=>{"border"===t.data.dummy&&e.removeNode(t.id)}))},gb=e=>{e.getAllEdges().forEach((t=>{if(t.source===t.target){const n=e.getNode(t.source);n.data.selfEdges||(n.data.selfEdges=[]),n.data.selfEdges.push(t),e.removeEdge(t.id)}}))},vb=e=>{const t=Wm(e);null==t||t.forEach((t=>{let n=0;null==t||t.forEach(((t,r)=>{var i;const o=e.getNode(t);o.data.order=r+n,null===(i=o.data.selfEdges)||void 0===i||i.forEach((t=>{Fm(e,"selfedge",{width:t.data.width,height:t.data.height,rank:o.data.rank,order:r+ ++n,e:t},"_se")})),delete o.data.selfEdges}))}))},mb=e=>{e.getAllNodes().forEach((t=>{const n=e.getNode(t.id);if("selfedge"===n.data.dummy){const r=e.getNode(n.data.e.source),i=r.data.x+r.data.width/2,o=r.data.y,a=n.data.x-i,s=r.data.height/2;e.hasEdge(n.data.e.id)?e.updateEdgeData(n.data.e.id,n.data.e.data):e.addEdge({id:n.data.e.id,source:n.data.e.source,target:n.data.e.target,data:n.data.e.data}),e.removeNode(t.id),n.data.e.data.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{y:o,x:i+a},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.data.e.data.x=n.data.x,n.data.e.data.y=n.data.y}}))},yb=(e,t)=>{const n={};return null==t||t.forEach((t=>{void 0!==e[t]&&(n[t]=+e[t])})),n},bb=(e={})=>{const t={};return Object.keys(e).forEach((n=>{t[n.toLowerCase()]=e[n]})),t},wb=Array.isArray,xb=e=>{const t=[],n=e.length;for(let r=0;r<n;r+=1){t[r]=[];for(let i=0;i<n;i+=1)r===i?t[r][i]=0:0!==e[r][i]&&e[r][i]?t[r][i]=e[r][i]:t[r][i]=1/0}for(let e=0;e<n;e+=1)for(let r=0;r<n;r+=1)for(let i=0;i<n;i+=1)t[r][i]>t[r][e]+t[e][i]&&(t[r][i]=t[r][e]+t[e][i]);return t},Eb=(e,t)=>{const{nodes:n,edges:r}=e,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(((e,t)=>{o[e.id]=t;i.push([])})),null==r||r.forEach((e=>{const{source:t,target:n}=e,r=o[t],a=o[n];void 0!==r&&void 0!==a&&(i[r][a]=1,i[a][r]=1)})),i},kb=(e,t)=>Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)),Sb=(e,t,n,r="TB",i,o={})=>{if(!(null==t?void 0:t.length))return;const{stopBranchFn:a,stopAllFn:s}=o;for(let l=0;l<t.length;l++){const u=t[l];if(e.hasNode(u.id)&&!(null==a?void 0:a(u))){if(null==s?void 0:s(u))return;"TB"===r&&n(u),Sb(e,e.getChildren(u.id,i),n,r,i,o),"TB"!==r&&n(u)}}},Mb=e=>{if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){const t=[];return e.forEach((e=>{t.push(e)})),t.map((e=>Mb(e)))}if("object"==typeof e){const t={};return Object.keys(e).forEach((n=>{t[n]=Mb(e[n])})),t}return e},Tb=(e,t)=>{const n=Mb(e);return n.data=n.data||{},t&&(st(n.data.x)||(n.data.x=Math.random()*t[0]),st(n.data.y)||(n.data.y=Math.random()*t[1])),n};function Cb(e){if(!e)return[0,0,0];if(st(e))return[e,e,e];if(0===e.length)return[0,0,0];const[t,n=t,r=t]=e;return[t,n,r]}function Nb(e,t){let n;return n=$e(t)?t:st(t)?()=>t:()=>e,n}function Pb(e,t,n=!0){return t||0===t?$e(t)?t:st(t)?()=>t:Array.isArray(t)?()=>n?Math.max(...t)||e:t:Ke(t)&&t.width&&t.height?()=>n?Math.max(t.width,t.height)||e:[t.width,t.height]:()=>e:t=>{const{size:r}=t.data||{};return r?Array.isArray(r)?n?Math.max(...r)||e:r:Ke(r)&&r.width&&r.height?n?Math.max(r.width,r.height)||e:[r.width,r.height]:r:e}}const Ob=(e,t,n=10)=>{let r;const i="function"==typeof t?t:()=>t||0;r=e?Array.isArray(e)?t=>e:$e(e)?e:t=>e:e=>{var t,r,i;if(null===(t=e.data)||void 0===t?void 0:t.bboxSize)return null===(r=e.data)||void 0===r?void 0:r.bboxSize;if(null===(i=e.data)||void 0===i?void 0:i.size){const t=e.data.size;return Array.isArray(t)?t:Ke(t)?[t.width,t.height]:t}return n};return e=>{const t=r(e),n=i(e);return Math.max(...Cb(t))+n}},_b={rankdir:"TB",nodesep:50,ranksep:50,edgeLabelSpace:!0,ranker:"tight-tree",controlPoints:!1,radial:!1,focusNode:null};const Rb=(e,t,n,r,i,o,a)=>{let s=(null==e?void 0:e.slice(1,e.length-1))||[];if(t&&n){let{x:e,y:l}=t.data,{x:u,y:c}=n.data;if(i&&(e=t.data.y,l=t.data.x,u=n.data.y,c=n.data.x),c!==l&&e!==u){const d=r.indexOf(l),f=r[d+1];if(f){const e=s[0],t=i?{x:(l+f)/2,y:(null==e?void 0:e.y)||u}:{x:(null==e?void 0:e.x)||u,y:(l+f)/2};e&&!o(e,t)||s.unshift(t)}const h=r.indexOf(c),p=Math.abs(h-d);if(1===p)s=a(s,t.data,n.data),s.length||s.push(i?{x:(l+c)/2,y:e}:{x:e,y:(l+c)/2});else if(p>1){const t=r[h-1];if(t){const n=s[s.length-1],r=i?{x:(c+t)/2,y:(null==n?void 0:n.y)||u}:{x:(null==n?void 0:n.x)||e,y:(c+t)/2};n&&!o(n,r)||s.push(r)}}}}return s},Ab=(e,t,n)=>{const r=e.getAllNodes(),i=e.getAllEdges();if(!(null==r?void 0:r.length)){return{nodes:[],edges:i}}if(1===r.length){t&&e.mergeNodeData(r[0].id,{x:n[0],y:n[1]});return{nodes:[Object.assign(Object.assign({},r[0]),{data:Object.assign(Object.assign({},r[0].data),{x:n[0],y:n[1]})})],edges:i}}},Db={radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1};const Lb=(e,t,n=!1)=>{const r=[Tb(t[0])],i={},o=t.length;i[t[0].id]=!0;let a=0;return t.forEach(((s,l)=>{if(0!==l)if(l!==o-1&&e.getDegree(s.id,"both")===e.getDegree(t[l+1].id,"both")&&!e.areNeighbors(r[a].id,s.id)||i[s.id]){const l=n?e.getSuccessors(r[a].id):e.getNeighbors(r[a].id);let u=!1;for(let t=0;t<l.length;t++){const n=l[t];if(e.getDegree(n.id)===e.getDegree(s.id)&&!i[n.id]){r.push(Tb(n)),i[n.id]=!0,u=!0;break}}let c=0;for(;!u&&(i[t[c].id]||(r.push(Tb(t[c])),i[t[c].id]=!0,u=!0),c++,c!==o););}else r.push(Tb(s)),i[s.id]=!0,a++})),r};const Ib=(e,t,n)=>{let r=e,i=t,o=n;return r||"undefined"==typeof window||(r=window.innerWidth),i||"undefined"==typeof window||(i=window.innerHeight),o||(o=[r/2,i/2]),[r,i,o]},zb={nodeSize:30,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"};class jb{constructor(e={}){this.options=e,this.id="concentric",this.options=Object.assign(Object.assign({},zb),e)}execute(e,t){return Ut(this,void 0,void 0,(function*(){return this.genericConcentricLayout(!1,e,t)}))}assign(e,t){return Ut(this,void 0,void 0,(function*(){yield this.genericConcentricLayout(!0,e,t)}))}genericConcentricLayout(e,t,n){return Ut(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},this.options),n),{center:i,width:o,height:a,sortBy:s,maxLevelDiff:l,sweep:u,clockwise:c,equidistant:d,preventOverlap:f,startAngle:h=1.5*Math.PI,nodeSize:p,nodeSpacing:g}=r,v=t.getAllNodes(),m=t.getAllEdges(),y=o||"undefined"==typeof window?o:window.innerWidth,b=a||"undefined"==typeof window?a:window.innerHeight,w=i||[y/2,b/2];if(!(null==v?void 0:v.length)||1===v.length)return Ab(t,e,w);const x=[];let E,k=0;wb(p)?E=Math.max(p[0],p[1]):$e(p)?(E=-1/0,v.forEach((e=>{const t=Math.max(...Cb(p(e)));t>E&&(E=t)}))):E=p,wb(g)?k=Math.max(g[0],g[1]):st(g)&&(k=g),v.forEach((e=>{const t=Tb(e);x.push(t);let n=E;const{data:r}=t;wb(r.size)?n=Math.max(r.size[0],r.size[1]):st(r.size)?n=r.size:Ke(r.size)&&(n=Math.max(r.size.width,r.size.height)),E=Math.max(E,n),$e(g)&&(k=Math.max(g(e),k))}));const S={};x.forEach(((e,t)=>{S[e.id]=t}));let M=s;rt(M)&&void 0!==x[0].data[M]||(M="degree"),"degree"===M?x.sort(((e,n)=>t.getDegree(n.id,"both")-t.getDegree(e.id,"both"))):x.sort(((e,t)=>t.data[M]-e.data[M]));const T=x[0],C=(l||("degree"===M?t.getDegree(T.id,"both"):T.data[M]))/4,N=[{nodes:[]}];let P=N[0];x.forEach((e=>{if(P.nodes.length>0){const n="degree"===M?Math.abs(t.getDegree(P.nodes[0].id,"both")-t.getDegree(e.id,"both")):Math.abs(P.nodes[0].data[M]-e.data[M]);C&&n>=C&&(P={nodes:[]},N.push(P))}P.nodes.push(e)}));let O=E+k;if(!f){const e=N.length>0&&N[0].nodes.length>1,t=(Math.min(y,b)/2-O)/(N.length+(e?1:0));O=Math.min(O,t)}let _=0;if(N.forEach((e=>{const t=void 0===u?2*Math.PI-2*Math.PI/e.nodes.length:u;if(e.dTheta=t/Math.max(1,e.nodes.length-1),e.nodes.length>1&&f){const t=Math.cos(e.dTheta)-Math.cos(0),n=Math.sin(e.dTheta)-Math.sin(0),r=Math.sqrt(O*O/(t*t+n*n));_=Math.max(r,_)}e.r=_,_+=O})),d){let e=0,t=0;for(let n=0;n<N.length;n++){const r=(N[n].r||0)-t;e=Math.max(e,r)}t=0,N.forEach(((n,r)=>{0===r&&(t=n.r||0),n.r=t,t+=e}))}N.forEach((e=>{const t=e.dTheta||0,n=e.r||0;e.nodes.forEach(((e,r)=>{const i=h+(c?1:-1)*t*r;e.data.x=w[0]+n*Math.cos(i),e.data.y=w[1]+n*Math.sin(i)}))})),e&&x.forEach((e=>t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y})));return{nodes:x,edges:m}}))}}function Fb(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,l,u,c,d,f,h=e._root,p={data:r},g=e._x0,v=e._y0,m=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((u=t>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+y)/2))?v=a:y=a,i=h,!(h=h[d=c<<1|u]))return i[d]=p,e;if(s=+e._x.call(null,h.data),l=+e._y.call(null,h.data),t===s&&n===l)return p.next=h,i?i[d]=p:e._root=p,e;do{i=i?i[d]=new Array(4):e._root=new Array(4),(u=t>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+y)/2))?v=a:y=a}while((d=c<<1|u)==(f=(l>=a)<<1|s>=o));return i[f]=h,i[d]=p,e}function Bb(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function Ub(e){return e[0]}function Wb(e){return e[1]}function Vb(e,t,n){var r=new Hb(null==t?Ub:t,null==n?Wb:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Hb(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Gb(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var $b=Vb.prototype=Hb.prototype;function Yb(e,t,n,r,i){if(isNaN(t)||isNaN(n)||isNaN(r))return e;var o,a,s,l,u,c,d,f,h,p,g,v,m=e._root,y={data:i},b=e._x0,w=e._y0,x=e._z0,E=e._x1,k=e._y1,S=e._z1;if(!m)return e._root=y,e;for(;m.length;)if((f=t>=(a=(b+E)/2))?b=a:E=a,(h=n>=(s=(w+k)/2))?w=s:k=s,(p=r>=(l=(x+S)/2))?x=l:S=l,o=m,!(m=m[g=p<<2|h<<1|f]))return o[g]=y,e;if(u=+e._x.call(null,m.data),c=+e._y.call(null,m.data),d=+e._z.call(null,m.data),t===u&&n===c&&r===d)return y.next=m,o?o[g]=y:e._root=y,e;do{o=o?o[g]=new Array(8):e._root=new Array(8),(f=t>=(a=(b+E)/2))?b=a:E=a,(h=n>=(s=(w+k)/2))?w=s:k=s,(p=r>=(l=(x+S)/2))?x=l:S=l}while((g=p<<2|h<<1|f)==(v=(d>=l)<<2|(c>=s)<<1|u>=a));return o[v]=m,o[g]=y,e}function qb(e,t,n,r,i,o,a){this.node=e,this.x0=t,this.y0=n,this.z0=r,this.x1=i,this.y1=o,this.z1=a}$b.copy=function(){var e,t,n=new Hb(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Gb(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=Gb(t));return n},$b.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Fb(this.cover(t,n),t,n,e)},$b.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<l&&(l=r),r>c&&(c=r),i<u&&(u=i),i>d&&(d=i));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<o;++n)Fb(this,a[n],s[n],e[n]);return this},$b.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,l=i-n||1,u=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=u,u=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},$b.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},$b.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},$b.find=function(e,t,n){var r,i,o,a,s,l,u,c=this._x0,d=this._y0,f=this._x1,h=this._y1,p=[],g=this._root;for(g&&p.push(new Bb(g,c,d,f,h)),null==n?n=1/0:(c=e-n,d=t-n,f=e+n,h=t+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(i=l.x0)>f||(o=l.y0)>h||(a=l.x1)<c||(s=l.y1)<d))if(g.length){var v=(i+a)/2,m=(o+s)/2;p.push(new Bb(g[3],v,m,a,s),new Bb(g[2],i,m,v,s),new Bb(g[1],v,o,a,m),new Bb(g[0],i,o,v,m)),(u=(t>=m)<<1|e>=v)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var y=e-+this._x.call(null,g.data),b=t-+this._y.call(null,g.data),w=y*y+b*b;if(w<n){var x=Math.sqrt(n=w);c=e-x,d=t-x,f=e+x,h=t+x,r=g.data}}return r},$b.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,l,u,c,d,f,h=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((u=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(l=(g+m)/2))?g=l:m=l,t=h,!(h=h[d=c<<1|u]))return this;if(!h.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,f=d)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[d]=i:delete t[d],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[f]=h:this._root=h),this):(this._root=i,this)},$b.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},$b.root=function(){return this._root},$b.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},$b.visit=function(e){var t,n,r,i,o,a,s=[],l=this._root;for(l&&s.push(new Bb(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&l.length){var u=(r+o)/2,c=(i+a)/2;(n=l[3])&&s.push(new Bb(n,u,c,o,a)),(n=l[2])&&s.push(new Bb(n,r,c,u,a)),(n=l[1])&&s.push(new Bb(n,u,i,o,c)),(n=l[0])&&s.push(new Bb(n,r,i,u,c))}return this},$b.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new Bb(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,l=t.x1,u=t.y1,c=(a+l)/2,d=(s+u)/2;(o=i[0])&&n.push(new Bb(o,a,s,c,d)),(o=i[1])&&n.push(new Bb(o,c,s,l,d)),(o=i[2])&&n.push(new Bb(o,a,d,c,u)),(o=i[3])&&n.push(new Bb(o,c,d,l,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},$b.x=function(e){return arguments.length?(this._x=e,this):this._x},$b.y=function(e){return arguments.length?(this._y=e,this):this._y};const Kb=(e,t,n,r,i,o)=>Math.sqrt((e-r)**2+(t-i)**2+(n-o)**2);function Xb(e){return e[0]}function Qb(e){return e[1]}function Zb(e){return e[2]}function Jb(e,t,n,r){var i=new ew(null==t?Xb:t,null==n?Qb:n,null==r?Zb:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function ew(e,t,n,r,i,o,a,s,l){this._x=e,this._y=t,this._z=n,this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this._root=void 0}function tw(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var nw=Jb.prototype=ew.prototype;nw.copy=function(){var e,t,n=new ew(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=tw(r),n;for(e=[{source:r,target:n._root=new Array(8)}];r=e.pop();)for(var i=0;i<8;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(8)}):r.target[i]=tw(t));return n},nw.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e),r=+this._z.call(null,e);return Yb(this.cover(t,n,r),t,n,r,e)},nw.addAll=function(e){Array.isArray(e)||(e=Array.from(e));const t=e.length,n=new Float64Array(t),r=new Float64Array(t),i=new Float64Array(t);let o=1/0,a=1/0,s=1/0,l=-1/0,u=-1/0,c=-1/0;for(let d,f,h,p,g=0;g<t;++g)isNaN(f=+this._x.call(null,d=e[g]))||isNaN(h=+this._y.call(null,d))||isNaN(p=+this._z.call(null,d))||(n[g]=f,r[g]=h,i[g]=p,f<o&&(o=f),f>l&&(l=f),h<a&&(a=h),h>u&&(u=h),p<s&&(s=p),p>c&&(c=p));if(o>l||a>u||s>c)return this;this.cover(o,a,s).cover(l,u,c);for(let o=0;o<t;++o)Yb(this,n[o],r[o],i[o],e[o]);return this},nw.cover=function(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,o=this._z0,a=this._x1,s=this._y1,l=this._z1;if(isNaN(r))a=(r=Math.floor(e))+1,s=(i=Math.floor(t))+1,l=(o=Math.floor(n))+1;else{for(var u,c,d=a-r||1,f=this._root;r>e||e>=a||i>t||t>=s||o>n||n>=l;)switch(c=(n<o)<<2|(t<i)<<1|e<r,(u=new Array(8))[c]=f,f=u,d*=2,c){case 0:a=r+d,s=i+d,l=o+d;break;case 1:r=a-d,s=i+d,l=o+d;break;case 2:a=r+d,i=s-d,l=o+d;break;case 3:r=a-d,i=s-d,l=o+d;break;case 4:a=r+d,s=i+d,o=l-d;break;case 5:r=a-d,s=i+d,o=l-d;break;case 6:a=r+d,i=s-d,o=l-d;break;case 7:r=a-d,i=s-d,o=l-d}this._root&&this._root.length&&(this._root=f)}return this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this},nw.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},nw.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},nw.find=function(e,t,n,r){var i,o,a,s,l,u,c,d,f,h=this._x0,p=this._y0,g=this._z0,v=this._x1,m=this._y1,y=this._z1,b=[],w=this._root;for(w&&b.push(new qb(w,h,p,g,v,m,y)),null==r?r=1/0:(h=e-r,p=t-r,g=n-r,v=e+r,m=t+r,y=n+r,r*=r);d=b.pop();)if(!(!(w=d.node)||(o=d.x0)>v||(a=d.y0)>m||(s=d.z0)>y||(l=d.x1)<h||(u=d.y1)<p||(c=d.z1)<g))if(w.length){var x=(o+l)/2,E=(a+u)/2,k=(s+c)/2;b.push(new qb(w[7],x,E,k,l,u,c),new qb(w[6],o,E,k,x,u,c),new qb(w[5],x,a,k,l,E,c),new qb(w[4],o,a,k,x,E,c),new qb(w[3],x,E,s,l,u,k),new qb(w[2],o,E,s,x,u,k),new qb(w[1],x,a,s,l,E,k),new qb(w[0],o,a,s,x,E,k)),(f=(n>=k)<<2|(t>=E)<<1|e>=x)&&(d=b[b.length-1],b[b.length-1]=b[b.length-1-f],b[b.length-1-f]=d)}else{var S=e-+this._x.call(null,w.data),M=t-+this._y.call(null,w.data),T=n-+this._z.call(null,w.data),C=S*S+M*M+T*T;if(C<r){var N=Math.sqrt(r=C);h=e-N,p=t-N,g=n-N,v=e+N,m=t+N,y=n+N,i=w.data}}return i},nw.findAllWithinRadius=function(e,t,n,r){const i=[],o=e-r,a=t-r,s=n-r,l=e+r,u=t+r,c=n+r;return this.visit(((d,f,h,p,g,v,m)=>{if(!d.length)do{const o=d.data;Kb(e,t,n,this._x(o),this._y(o),this._z(o))<=r&&i.push(o)}while(d=d.next);return f>l||h>u||p>c||g<o||v<a||m<s})),i},nw.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e))||isNaN(s=+this._z.call(null,e)))return this;var t,n,r,i,o,a,s,l,u,c,d,f,h,p,g,v=this._root,m=this._x0,y=this._y0,b=this._z0,w=this._x1,x=this._y1,E=this._z1;if(!v)return this;if(v.length)for(;;){if((d=o>=(l=(m+w)/2))?m=l:w=l,(f=a>=(u=(y+x)/2))?y=u:x=u,(h=s>=(c=(b+E)/2))?b=c:E=c,t=v,!(v=v[p=h<<2|f<<1|d]))return this;if(!v.length)break;(t[p+1&7]||t[p+2&7]||t[p+3&7]||t[p+4&7]||t[p+5&7]||t[p+6&7]||t[p+7&7])&&(n=t,g=p)}for(;v.data!==e;)if(r=v,!(v=v.next))return this;return(i=v.next)&&delete v.next,r?(i?r.next=i:delete r.next,this):t?(i?t[p]=i:delete t[p],(v=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&v===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!v.length&&(n?n[g]=v:this._root=v),this):(this._root=i,this)},nw.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},nw.root=function(){return this._root},nw.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},nw.visit=function(e){var t,n,r,i,o,a,s,l,u=[],c=this._root;for(c&&u.push(new qb(c,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=u.pop();)if(!e(c=t.node,r=t.x0,i=t.y0,o=t.z0,a=t.x1,s=t.y1,l=t.z1)&&c.length){var d=(r+a)/2,f=(i+s)/2,h=(o+l)/2;(n=c[7])&&u.push(new qb(n,d,f,h,a,s,l)),(n=c[6])&&u.push(new qb(n,r,f,h,d,s,l)),(n=c[5])&&u.push(new qb(n,d,i,h,a,f,l)),(n=c[4])&&u.push(new qb(n,r,i,h,d,f,l)),(n=c[3])&&u.push(new qb(n,d,f,o,a,s,h)),(n=c[2])&&u.push(new qb(n,r,f,o,d,s,h)),(n=c[1])&&u.push(new qb(n,d,i,o,a,f,h)),(n=c[0])&&u.push(new qb(n,r,i,o,d,f,h))}return this},nw.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new qb(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,l=t.z0,u=t.x1,c=t.y1,d=t.z1,f=(a+u)/2,h=(s+c)/2,p=(l+d)/2;(o=i[0])&&n.push(new qb(o,a,s,l,f,h,p)),(o=i[1])&&n.push(new qb(o,f,s,l,u,h,p)),(o=i[2])&&n.push(new qb(o,a,h,l,f,c,p)),(o=i[3])&&n.push(new qb(o,f,h,l,u,c,p)),(o=i[4])&&n.push(new qb(o,a,s,p,f,h,d)),(o=i[5])&&n.push(new qb(o,f,s,p,u,h,d)),(o=i[6])&&n.push(new qb(o,a,h,p,f,c,d)),(o=i[7])&&n.push(new qb(o,f,h,p,u,c,d))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},nw.x=function(e){return arguments.length?(this._x=e,this):this._x},nw.y=function(e){return arguments.length?(this._y=e,this):this._y},nw.z=function(e){return arguments.length?(this._z=e,this):this._z};function rw(e,t,n,r,i=2){const o=t/n,a=e.getAllNodes(),s=a.map(((e,t)=>{const{nodeStrength:n,x:r,y:i,z:a,size:s}=e.data;return{x:r,y:i,z:a,size:s,index:t,id:e.id,vx:0,vy:0,vz:0,weight:o*n}})),l=(2===i?Vb(s,(e=>e.x),(e=>e.y)):Jb(s,(e=>e.x),(e=>e.y),(e=>e.z))).visitAfter(iw),u=new Map;return s.forEach((e=>{u.set(e.id,e),function(e,t,n){t.visit(((t,r,i,o,a)=>ow(t,r,i,o,a,e,n)))}(e,l,i)})),s.map(((e,t)=>{const{id:n,data:i}=a[t],{mass:o=1}=i;r[n]={x:e.vx/o,y:e.vy/o,z:e.vz/o}})),r}function iw(e){let t=0,n=0,r=0,i=0,o=0;const a=e.length;if(a){for(let s=0;s<a;s++){const a=e[s];a&&a.weight&&(t+=a.weight,n+=a.x*a.weight,r+=a.y*a.weight,i+=a.z*a.weight,o+=a.size*a.weight)}e.x=n/t,e.y=r/t,e.z=i/t,e.size=o/t,e.weight=t}else{const t=e;e.x=t.data.x,e.y=t.data.y,e.z=t.data.z,e.size=t.data.size,e.weight=t.data.weight}}const ow=(e,t,n,r,i,o,a)=>{var s;if((null===(s=e.data)||void 0===s?void 0:s.id)===o.id)return;const l=[n,r,i][a-1],u=o.x-e.x||.1,c=o.y-e.y||.1,d=o.z-e.z||.1,f=[u,c,d],h=l-t;let p=0;for(let e=0;e<a;e++)p+=f[e]*f[e];const g=Math.sqrt(p)*p;if(h*h*.81<p){const t=e.weight/g;return o.vx+=u*t,o.vy+=c*t,o.vz+=d*t,!0}if(e.length)return!1;if(e.data!==o){const t=e.data.weight/g;o.vx+=u*t,o.vy+=c*t,o.vz+=d*t}};const aw={dimensions:2,maxIteration:500,gravity:10,factor:1,edgeStrength:50,nodeStrength:1e3,coulombDisScale:.005,damping:.9,maxSpeed:200,minMovement:.4,interval:.02,linkDistance:200,clusterNodeStrength:20,preventOverlap:!0,distanceThresholdMode:"mean"};class sw{constructor(e={}){this.options=e,this.id="force",this.timeInterval=0,this.judgingDistance=0,this.running=!1,this.options=Object.assign(Object.assign({},aw),e)}execute(e,t){return Ut(this,void 0,void 0,(function*(){return this.genericForceLayout(!1,e,t)}))}assign(e,t){return Ut(this,void 0,void 0,(function*(){yield this.genericForceLayout(!0,e,t)}))}stop(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval),this.running=!1}tick(e=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let t=0;(this.judgingDistance>this.lastOptions.minMovement||t<1)&&t<e;t++)this.runOneStep(this.lastCalcGraph,this.lastGraph,t,this.lastVelMap,this.lastOptions),this.updatePosition(this.lastGraph,this.lastCalcGraph,this.lastVelMap,this.lastOptions);const t={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&t.nodes.forEach((e=>this.lastGraph.mergeNodeData(e.id,{x:e.data.x,y:e.data.y,z:3===this.options.dimensions?e.data.z:void 0}))),t}genericForceLayout(e,t,n){return Ut(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},this.options),n),i=t.getAllNodes(),o=t.getAllEdges(),a=this.formatOptions(r,t),{dimensions:s,width:l,height:u,nodeSize:c,getMass:d,nodeStrength:f,edgeStrength:h,linkDistance:p}=a,g=i.map(((e,t)=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{x:st(e.data.x)?e.data.x:Math.random()*l,y:st(e.data.y)?e.data.y:Math.random()*u,z:st(e.data.z)?e.data.z:Math.random()*Math.sqrt(l*u),size:c(e)||30,mass:d(e),nodeStrength:f(e)})}))),v=o.map((e=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{edgeStrength:h(e),linkDistance:p(e,t.getNode(e.source),t.getNode(e.target))})})));if(!(null==i?void 0:i.length))return this.lastResult={nodes:[],edges:o},{nodes:[],edges:o};const m={};i.forEach(((e,t)=>{m[e.id]={x:0,y:0,z:0}}));const y=new rv({nodes:g,edges:v});this.formatCentripetal(a,y);const{maxIteration:b,minMovement:w,onTick:x}=a;if(this.lastLayoutNodes=g,this.lastLayoutEdges=v,this.lastAssign=e,this.lastGraph=t,this.lastCalcGraph=y,this.lastOptions=a,this.lastVelMap=m,"undefined"==typeof window)return;let E=0;return new Promise((n=>{this.timeInterval=window.setInterval((()=>{i&&this.running||n({nodes:fw(t,g),edges:o}),this.runOneStep(y,t,E,m,a),this.updatePosition(t,y,m,a),e&&g.forEach((e=>t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y,z:3===s?e.data.z:void 0}))),null==x||x({nodes:fw(t,g),edges:o}),E++,(E>=b||this.judgingDistance<w)&&(window.clearInterval(this.timeInterval),n({nodes:fw(t,g),edges:o}))}),0),this.running=!0}))}))}formatOptions(e,t){const n=Object.assign({},e),{width:r,height:i,getMass:o}=e;n.width=r||"undefined"==typeof window?r:window.innerWidth,n.height=i||"undefined"==typeof window?i:window.innerHeight,e.center||(n.center=[n.width/2,n.height/2]),o||(n.getMass=e=>{let n=1;st(null==e?void 0:e.data.mass)&&(n=null==e?void 0:e.data.mass);const r=t.getDegree(e.id,"both");return!r||r<5?n:5*r*n}),n.nodeSize=Ob(e.nodeSize,e.nodeSpacing);const a=e.linkDistance?Nb(1,e.linkDistance):e=>1+n.nodeSize(t.getNode(e.source))+n.nodeSize(t.getNode(e.target));return n.linkDistance=a,n.nodeStrength=Nb(1,e.nodeStrength),n.edgeStrength=Nb(1,e.edgeStrength),n}formatCentripetal(e,t){const{dimensions:n,centripetalOptions:r,center:i,clusterNodeStrength:o,leafCluster:a,clustering:s,nodeClusterBy:l}=e,u=t.getAllNodes(),c=r||{leaf:2,single:2,others:1,center:e=>({x:i[0],y:i[1],z:3===n?i[2]:void 0})};let d,f;if("function"!=typeof o&&(e.clusterNodeStrength=e=>o),a&&l&&(d=lw(t,l),f=Array.from(new Set(null==u?void 0:u.map((e=>e.data[l]))))||[],e.centripetalOptions=Object.assign(c,{single:100,leaf:t=>{const{siblingLeaves:n,sameTypeLeaves:r}=d[t.id]||{};return(null==r?void 0:r.length)===(null==n?void 0:n.length)||1===(null==f?void 0:f.length)?1:e.clusterNodeStrength(t)},others:1,center:e=>{const n=t.getDegree(e.id,"both");if(!n)return{x:100,y:100,z:0};let r;if(1===n){const{sameTypeLeaves:t=[]}=d[e.id]||{};1===t.length?r=void 0:t.length>1&&(r=dw(t))}else r=void 0;return{x:null==r?void 0:r.x,y:null==r?void 0:r.y,z:null==r?void 0:r.z}}})),s&&l){d||(d=lw(t,l)),f||(f=Array.from(new Set(u.map((e=>e.data[l]))))),f=f.filter((e=>void 0!==e));const n={};f.forEach((e=>{const r=u.filter((t=>t.data[l]===e)).map((e=>t.getNode(e.id)));n[e]=dw(r)})),e.centripetalOptions=Object.assign(c,{single:t=>e.clusterNodeStrength(t),leaf:t=>e.clusterNodeStrength(t),others:t=>e.clusterNodeStrength(t),center:e=>{const t=n[e.data[l]];return{x:null==t?void 0:t.x,y:null==t?void 0:t.y,z:null==t?void 0:t.z}}})}const{leaf:h,single:p,others:g}=e.centripetalOptions||{};h&&"function"!=typeof h&&(e.centripetalOptions.leaf=()=>h),p&&"function"!=typeof p&&(e.centripetalOptions.single=()=>p),g&&"function"!=typeof g&&(e.centripetalOptions.others=()=>g)}runOneStep(e,t,n,r,i){const o={},a=e.getAllNodes(),s=e.getAllEdges();if(!(null==a?void 0:a.length))return;const{monitor:l}=i;if(this.calRepulsive(e,o,i),s&&this.calAttractive(e,o,i),this.calGravity(e,t,o,i),this.updateVelocity(e,o,r,i),l){l({energy:this.calTotalEnergy(o,a),nodes:t.getAllNodes(),edges:t.getAllEdges(),iterations:n})}}calTotalEnergy(e,t){if(!(null==t?void 0:t.length))return 0;let n=0;return t.forEach(((t,r)=>{const i=e[t.id].x,o=e[t.id].y,a=3===this.options.dimensions?e[t.id].z:0,s=i*i+o*o+a*a,{mass:l=1}=t.data;n+=l*s*.5})),n}calRepulsive(e,t,n){const{dimensions:r,factor:i,coulombDisScale:o}=n;rw(e,i,o*o,t,r)}calAttractive(e,t,n){const{dimensions:r,nodeSize:i}=n;e.getAllEdges().forEach(((n,o)=>{const{source:a,target:s}=n,l=e.getNode(a),u=e.getNode(s);if(!l||!u)return;let c=u.data.x-l.data.x,d=u.data.y-l.data.y,f=3===r?u.data.z-l.data.z:0;c||d||(c=.01*Math.random(),d=.01*Math.random(),3!==r||f||(f=.01*Math.random()));const h=Math.sqrt(c*c+d*d+f*f);if(h<i(l)+i(u))return;const p=c/h,g=d/h,v=f/h,{linkDistance:m=200,edgeStrength:y=200}=n.data||{},b=(m-h)*y,w=1/(l.data.mass||1),x=1/(u.data.mass||1),E=p*b,k=g*b,S=v*b;t[a].x-=E*w,t[a].y-=k*w,t[a].z-=S*w,t[s].x+=E*x,t[s].y+=k*x,t[s].z+=S*x}))}calGravity(e,t,n,r){const{getCenter:i}=r,o=e.getAllNodes(),a=t.getAllNodes(),s=t.getAllEdges(),{width:l,height:u,center:c,gravity:d,centripetalOptions:f}=r;o&&o.forEach((r=>{const{id:o,data:h}=r,{mass:p,x:g,y:v,z:m}=h,y=t.getNode(o);let b=0,w=0,x=0,E=d;const k=e.getDegree(o,"in"),S=e.getDegree(o,"out"),M=e.getDegree(o,"both"),T=null==i?void 0:i(y,M);if(T){const[e,t,n]=T;b=g-e,w=v-t,E=n}else b=g-c[0],w=v-c[1],x=m-c[2];if(E&&(n[o].x-=E*b/p,n[o].y-=E*w/p,n[o].z-=E*x/p),f){const{leaf:e,single:t,others:r,center:i}=f,{x:c,y:d,z:h,centerStrength:b}=(null==i?void 0:i(y,a,s,l,u))||{x:0,y:0,z:0,centerStrength:0};if(!st(c)||!st(d))return;const w=(g-c)/p,x=(v-d)/p,E=(m-h)/p;if(b&&(n[o].x-=b*w,n[o].y-=b*x,n[o].z-=b*E),0===M){const e=t(y);if(!e)return;return n[o].x-=e*w,n[o].y-=e*x,void(n[o].z-=e*E)}if(0===k||0===S){const t=e(y,a,s);if(!t)return;return n[o].x-=t*w,n[o].y-=t*x,void(n[o].z-=t*E)}const T=r(y);if(!T)return;n[o].x-=T*w,n[o].y-=T*x,n[o].z-=T*E}}))}updateVelocity(e,t,n,r){const{damping:i,maxSpeed:o,interval:a,dimensions:s}=r,l=e.getAllNodes();(null==l?void 0:l.length)&&l.forEach((e=>{const{id:r}=e;let l=(n[r].x+t[r].x*a)*i||.01,u=(n[r].y+t[r].y*a)*i||.01,c=3===s?(n[r].z+t[r].z*a)*i||.01:0;const d=Math.sqrt(l*l+u*u+c*c);if(d>o){const e=o/d;l*=e,u*=e,c*=e}n[r]={x:l,y:u,z:c}}))}updatePosition(e,t,n,r){const{distanceThresholdMode:i,interval:o,dimensions:a}=r,s=t.getAllNodes();if(!(null==s?void 0:s.length))return void(this.judgingDistance=0);let l=0;"max"===i?this.judgingDistance=-1/0:"min"===i&&(this.judgingDistance=1/0),s.forEach((r=>{const{id:s}=r,u=e.getNode(s);if(st(u.data.fx)&&st(u.data.fy))return void t.mergeNodeData(s,{x:u.data.fx,y:u.data.fy,z:3===a?u.data.fz:void 0});const c=n[s].x*o,d=n[s].y*o,f=3===a?n[s].z*o:0;t.mergeNodeData(s,{x:r.data.x+c,y:r.data.y+d,z:r.data.z+f});const h=Math.sqrt(c*c+d*d+f*f);switch(i){case"max":this.judgingDistance<h&&(this.judgingDistance=h);break;case"min":this.judgingDistance>h&&(this.judgingDistance=h);break;default:l+=h}})),i&&"mean"!==i||(this.judgingDistance=l/s.length)}}const lw=(e,t)=>{const n=e.getAllNodes();if(!(null==n?void 0:n.length))return{};const r={};return n.forEach(((n,i)=>{1===e.getDegree(n.id,"both")&&(r[n.id]=uw(e,"leaf",n,t))})),r},uw=(e,t,n,r)=>{const i=e.getDegree(n.id,"in"),o=e.getDegree(n.id,"out");let a=n,s=[];0===i?(a=e.getSuccessors(n.id)[0],s=e.getNeighbors(a.id)):0===o&&(a=e.getPredecessors(n.id)[0],s=e.getNeighbors(a.id)),s=s.filter((t=>0===e.getDegree(t.id,"in")||0===e.getDegree(t.id,"out")));return{coreNode:a,siblingLeaves:s,sameTypeLeaves:cw(e,t,r,n,s)}},cw=(e,t,n,r,i)=>{const o=r.data[n]||"";let a=(null==i?void 0:i.filter((e=>e.data[n]===o)))||[];return a=a.filter((t=>0===e.getDegree(t.id,"in")||0===e.getDegree(t.id,"out"))),a},dw=e=>{const t={x:0,y:0};e.forEach((e=>{const{x:n,y:r}=e.data;t.x+=n||0,t.y+=r||0}));const n=e.length||1;return{x:t.x/n,y:t.y/n}},fw=(e,t)=>t.map((t=>{const{id:n,data:r}=t,i=e.getNode(n);return Object.assign(Object.assign({},i),{data:Object.assign(Object.assign({},i.data),{x:r.x,y:r.y,z:r.z})})}));var hw={};const pw=Object.prototype.toString;function gw(e){const t=pw.call(e);return t.endsWith("Array]")&&!t.includes("Big")}var vw=k(Object.freeze({__proto__:null,isAnyArray:gw}));var mw=Object.freeze({__proto__:null,default:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!gw(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!gw(n.output))throw new TypeError("output option must be an array if specified");t=n.output}else t=new Array(e.length);var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!gw(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<o;s++)e[s]<a&&(a=e[s]);return a}(e),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!gw(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<o;s++)e[s]>a&&(a=e[s]);return a}(e);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=n.min,a=void 0===o?n.autoMinMax?r:0:o,s=n.max,l=void 0===s?n.autoMinMax?i:1:s;if(a>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-a)/(i-r),c=0;c<e.length;c++)t[c]=(e[c]-r)*u+a;return t}}),yw=k(mw);Object.defineProperty(hw,"__esModule",{value:!0});var bw=vw,ww=yw;const xw=" ".repeat(2),Ew=" ".repeat(4);function kw(e,t={}){const{maxRows:n=15,maxColumns:r=10,maxNumSize:i=8,padMinus:o="auto"}=t;return`${e.constructor.name} {\n${xw}[\n${Ew}${function(e,t,n,r,i){const{rows:o,columns:a}=e,s=Math.min(o,t),l=Math.min(a,n),u=[];if("auto"===i){i=!1;e:for(let t=0;t<s;t++)for(let n=0;n<l;n++)if(e.get(t,n)<0){i=!0;break e}}for(let t=0;t<s;t++){let n=[];for(let o=0;o<l;o++)n.push(Sw(e.get(t,o),r,i));u.push(`${n.join(" ")}`)}l!==a&&(u[u.length-1]+=` ... ${a-n} more columns`);s!==o&&u.push(`... ${o-t} more rows`);return u.join(`\n${Ew}`)}(e,n,r,i,o)}\n${xw}]\n${xw}rows: ${e.rows}\n${xw}columns: ${e.columns}\n}`}function Sw(e,t,n){return(e>=0&&n?` ${Mw(e,t-1)}`:Mw(e,t)).padEnd(t)}function Mw(e,t){let n=e.toString();if(n.length<=t)return n;let r=e.toFixed(t);if(r.length>t&&(r=e.toFixed(Math.max(0,t-(r.length-t)))),r.length<=t&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;let i=e.toExponential(t);return i.length>t&&(i=e.toExponential(Math.max(0,t-(i.length-t)))),i.slice(0)}function Tw(e,t,n){let r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function Cw(e,t,n){let r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function Nw(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function Pw(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function Ow(e,t){if(!bw.isAnyArray(t))throw new TypeError("row indices must be an array");for(let n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.rows)throw new RangeError("row indices are out of range")}function _w(e,t){if(!bw.isAnyArray(t))throw new TypeError("column indices must be an array");for(let n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.columns)throw new RangeError("column indices are out of range")}function Rw(e,t,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(Dw("startRow",t),Dw("endRow",n),Dw("startColumn",r),Dw("endColumn",i),t>n||r>i||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||i<0||i>=e.columns)throw new RangeError("Submatrix indices are out of range")}function Aw(e,t=0){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function Dw(e,t){if("number"!=typeof t)throw new TypeError(`${e} must be a number`)}function Lw(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}class Iw{static from1DArray(e,t,n){if(e*t!==n.length)throw new RangeError("data length does not match given dimensions");let r=new jw(e,t);for(let i=0;i<e;i++)for(let e=0;e<t;e++)r.set(i,e,n[i*t+e]);return r}static rowVector(e){let t=new jw(1,e.length);for(let n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){let t=new jw(e.length,1);for(let n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static zeros(e,t){return new jw(e,t)}static ones(e,t){return new jw(e,t).fill(1)}static rand(e,t,n={}){if("object"!=typeof n)throw new TypeError("options must be an object");const{random:r=Math.random}=n;let i=new jw(e,t);for(let n=0;n<e;n++)for(let e=0;e<t;e++)i.set(n,e,r());return i}static randInt(e,t,n={}){if("object"!=typeof n)throw new TypeError("options must be an object");const{min:r=0,max:i=1e3,random:o=Math.random}=n;if(!Number.isInteger(r))throw new TypeError("min must be an integer");if(!Number.isInteger(i))throw new TypeError("max must be an integer");if(r>=i)throw new RangeError("min must be smaller than max");let a=i-r,s=new jw(e,t);for(let n=0;n<e;n++)for(let e=0;e<t;e++){let t=r+Math.round(o()*a);s.set(n,e,t)}return s}static eye(e,t,n){void 0===t&&(t=e),void 0===n&&(n=1);let r=Math.min(e,t),i=this.zeros(e,t);for(let e=0;e<r;e++)i.set(e,e,n);return i}static diag(e,t,n){let r=e.length;void 0===t&&(t=r),void 0===n&&(n=t);let i=Math.min(r,t,n),o=this.zeros(t,n);for(let t=0;t<i;t++)o.set(t,t,e[t]);return o}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let n=e.rows,r=e.columns,i=new jw(n,r);for(let o=0;o<n;o++)for(let n=0;n<r;n++)i.set(o,n,Math.min(e.get(o,n),t.get(o,n)));return i}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let n=e.rows,r=e.columns,i=new this(n,r);for(let o=0;o<n;o++)for(let n=0;n<r;n++)i.set(o,n,Math.max(e.get(o,n),t.get(o,n)));return i}static checkMatrix(e){return Iw.isMatrix(e)?e:new jw(e)}static isMatrix(e){return null!=e&&"Matrix"===e.klass}get size(){return this.rows*this.columns}apply(e){if("function"!=typeof e)throw new TypeError("callback must be a function");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)e.call(this,t,n);return this}to1DArray(){let e=[];for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)e.push(this.get(t,n));return e}to2DArray(){let e=[];for(let t=0;t<this.rows;t++){e.push([]);for(let n=0;n<this.columns;n++)e[t].push(this.get(t,n))}return e}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let e=0;e<this.rows;e++)if(0!==this.get(e,e))return!1;return!0}isEchelonForm(){let e=0,t=0,n=-1,r=!0,i=!1;for(;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);e++}return r}isReducedEchelonForm(){let e=0,t=0,n=-1,r=!0,i=!1;for(;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);for(let n=t+1;n<this.rows;n++)0!==this.get(e,n)&&(r=!1);e++}return r}echelonForm(){let e=this.clone(),t=0,n=0;for(;t<e.rows&&n<e.columns;){let r=t;for(let i=t;i<e.rows;i++)e.get(i,n)>e.get(r,n)&&(r=i);if(0===e.get(r,n))n++;else{e.swapRows(t,r);let i=e.get(t,n);for(let r=n;r<e.columns;r++)e.set(t,r,e.get(t,r)/i);for(let r=t+1;r<e.rows;r++){let i=e.get(r,n)/e.get(t,n);e.set(r,n,0);for(let o=n+1;o<e.columns;o++)e.set(r,o,e.get(r,o)-e.get(t,o)*i)}t++,n++}}return e}reducedEchelonForm(){let e=this.echelonForm(),t=e.columns,n=e.rows,r=n-1;for(;r>=0;)if(0===e.maxRow(r))r--;else{let i=0,o=!1;for(;i<n&&!1===o;)1===e.get(r,i)?o=!0:i++;for(let n=0;n<r;n++){let o=e.get(n,i);for(let a=i;a<t;a++){let t=e.get(n,a)-o*e.get(r,a);e.set(n,a,t)}}r--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{rows:t=1,columns:n=1}=e;if(!Number.isInteger(t)||t<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");let r=new jw(this.rows*t,this.columns*n);for(let e=0;e<t;e++)for(let t=0;t<n;t++)r.setSubMatrix(this,this.rows*e,this.columns*t);return r}fill(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,e);return this}neg(){return this.mulS(-1)}getRow(e){Tw(this,e);let t=[];for(let n=0;n<this.columns;n++)t.push(this.get(e,n));return t}getRowVector(e){return jw.rowVector(this.getRow(e))}setRow(e,t){Tw(this,e),t=Nw(this,t);for(let n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){Tw(this,e),Tw(this,t);for(let n=0;n<this.columns;n++){let r=this.get(e,n);this.set(e,n,this.get(t,n)),this.set(t,n,r)}return this}getColumn(e){Cw(this,e);let t=[];for(let n=0;n<this.rows;n++)t.push(this.get(n,e));return t}getColumnVector(e){return jw.columnVector(this.getColumn(e))}setColumn(e,t){Cw(this,e),t=Pw(this,t);for(let n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){Cw(this,e),Cw(this,t);for(let n=0;n<this.rows;n++){let r=this.get(n,e);this.set(n,e,this.get(n,t)),this.set(n,t,r)}return this}addRowVector(e){e=Nw(this,e);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[n]);return this}subRowVector(e){e=Nw(this,e);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[n]);return this}mulRowVector(e){e=Nw(this,e);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[n]);return this}divRowVector(e){e=Nw(this,e);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[n]);return this}addColumnVector(e){e=Pw(this,e);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[t]);return this}subColumnVector(e){e=Pw(this,e);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[t]);return this}mulColumnVector(e){e=Pw(this,e);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[t]);return this}divColumnVector(e){e=Pw(this,e);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[t]);return this}mulRow(e,t){Tw(this,e);for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){Cw(this,e);for(let n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(e){if(this.isEmpty())return NaN;switch(e){case"row":{const e=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>e[t]&&(e[t]=this.get(t,n));return e}case"column":{const e=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>e[n]&&(e[n]=this.get(t,n));return e}case void 0:{let e=this.get(0,0);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}default:throw new Error(`invalid option: ${e}`)}}maxIndex(){Lw(this);let e=this.get(0,0),t=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)>e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}min(e){if(this.isEmpty())return NaN;switch(e){case"row":{const e=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<e[t]&&(e[t]=this.get(t,n));return e}case"column":{const e=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<e[n]&&(e[n]=this.get(t,n));return e}case void 0:{let e=this.get(0,0);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}default:throw new Error(`invalid option: ${e}`)}}minIndex(){Lw(this);let e=this.get(0,0),t=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)<e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}maxRow(e){if(Tw(this,e),this.isEmpty())return NaN;let t=this.get(e,0);for(let n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){Tw(this,e),Lw(this);let t=this.get(e,0),n=[e,0];for(let r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r),n[1]=r);return n}minRow(e){if(Tw(this,e),this.isEmpty())return NaN;let t=this.get(e,0);for(let n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){Tw(this,e),Lw(this);let t=this.get(e,0),n=[e,0];for(let r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r),n[1]=r);return n}maxColumn(e){if(Cw(this,e),this.isEmpty())return NaN;let t=this.get(0,e);for(let n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){Cw(this,e),Lw(this);let t=this.get(0,e),n=[0,e];for(let r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e),n[0]=r);return n}minColumn(e){if(Cw(this,e),this.isEmpty())return NaN;let t=this.get(0,e);for(let n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){Cw(this,e),Lw(this);let t=this.get(0,e),n=[0,e];for(let r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e),n[0]=r);return n}diag(){let e=Math.min(this.rows,this.columns),t=[];for(let n=0;n<e;n++)t.push(this.get(n,n));return t}norm(e="frobenius"){switch(e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${e}`)}}cumulativeSum(){let e=0;for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)e+=this.get(t,n),this.set(t,n,e);return this}dot(e){Iw.isMatrix(e)&&(e=e.to1DArray());let t=this.to1DArray();if(t.length!==e.length)throw new RangeError("vectors do not have the same size");let n=0;for(let r=0;r<t.length;r++)n+=t[r]*e[r];return n}mmul(e){e=jw.checkMatrix(e);let t=this.rows,n=this.columns,r=e.columns,i=new jw(t,r),o=new Float64Array(n);for(let a=0;a<r;a++){for(let t=0;t<n;t++)o[t]=e.get(t,a);for(let e=0;e<t;e++){let t=0;for(let r=0;r<n;r++)t+=this.get(e,r)*o[r];i.set(e,a,t)}}return i}mpow(e){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(e)||e<0)throw new RangeError("Exponent must be a non-negative integer");let t=jw.eye(this.rows),n=this;for(let r=e;r>1;r/=2)1&r&&(t=t.mmul(n)),n=n.mmul(n);return t}strassen2x2(e){e=jw.checkMatrix(e);let t=new jw(2,2);const n=this.get(0,0),r=e.get(0,0),i=this.get(0,1),o=e.get(0,1),a=this.get(1,0),s=e.get(1,0),l=this.get(1,1),u=e.get(1,1),c=(n+l)*(r+u),d=(a+l)*r,f=n*(o-u),h=l*(s-r),p=(n+i)*u,g=c+h-p+(i-l)*(s+u),v=f+p,m=d+h,y=c-d+f+(a-n)*(r+o);return t.set(0,0,g),t.set(0,1,v),t.set(1,0,m),t.set(1,1,y),t}strassen3x3(e){e=jw.checkMatrix(e);let t=new jw(3,3);const n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),l=this.get(2,0),u=this.get(2,1),c=this.get(2,2),d=e.get(0,0),f=e.get(0,1),h=e.get(0,2),p=e.get(1,0),g=e.get(1,1),v=e.get(1,2),m=e.get(2,0),y=e.get(2,1),b=e.get(2,2),w=(n-o)*(-f+g),x=(-n+o+a)*(d-f+g),E=(o+a)*(-d+f),k=n*d,S=(-n+l+u)*(d-h+v),M=(-n+l)*(h-v),T=(l+u)*(-d+h),C=(-i+u+c)*(g+m-y),N=(i-c)*(g-y),P=i*m,O=(u+c)*(-m+y),_=(-i+a+s)*(v+m-b),R=(i-s)*(v-b),A=(a+s)*(-m+b),D=k+P+r*p,L=(n+r+i-o-a-u-c)*g+x+E+k+C+P+O,I=k+S+T+(n+r+i-a-s-l-u)*v+P+_+A,z=w+a*(-d+f+p-g-v-m+b)+x+k+P+_+R,j=w+x+E+k+s*y,F=P+_+R+A+o*h,B=k+S+M+u*(-d+h+p-g-v-m+y)+C+N+P,U=C+N+P+O+l*f,W=k+S+M+T+c*b;return t.set(0,0,D),t.set(0,1,L),t.set(0,2,I),t.set(1,0,z),t.set(1,1,j),t.set(1,2,F),t.set(2,0,B),t.set(2,1,U),t.set(2,2,W),t}mmulStrassen(e){e=jw.checkMatrix(e);let t=this.clone(),n=t.rows,r=t.columns,i=e.rows,o=e.columns;function a(e,t,n){let r=e.rows,i=e.columns;if(r===t&&i===n)return e;{let r=Iw.zeros(t,n);return r=r.setSubMatrix(e,0,0),r}}r!==i&&console.warn(`Multiplying ${n} x ${r} and ${i} x ${o} matrix: dimensions do not match.`);let s=Math.max(n,i),l=Math.max(r,o);return t=a(t,s,l),function e(t,n,r,i){if(r<=512||i<=512)return t.mmul(n);r%2==1&&i%2==1?(t=a(t,r+1,i+1),n=a(n,r+1,i+1)):r%2==1?(t=a(t,r+1,i),n=a(n,r+1,i)):i%2==1&&(t=a(t,r,i+1),n=a(n,r,i+1));let o=parseInt(t.rows/2,10),s=parseInt(t.columns/2,10),l=t.subMatrix(0,o-1,0,s-1),u=n.subMatrix(0,o-1,0,s-1),c=t.subMatrix(0,o-1,s,t.columns-1),d=n.subMatrix(0,o-1,s,n.columns-1),f=t.subMatrix(o,t.rows-1,0,s-1),h=n.subMatrix(o,n.rows-1,0,s-1),p=t.subMatrix(o,t.rows-1,s,t.columns-1),g=n.subMatrix(o,n.rows-1,s,n.columns-1),v=e(Iw.add(l,p),Iw.add(u,g),o,s),m=e(Iw.add(f,p),u,o,s),y=e(l,Iw.sub(d,g),o,s),b=e(p,Iw.sub(h,u),o,s),w=e(Iw.add(l,c),g,o,s),x=e(Iw.sub(f,l),Iw.add(u,d),o,s),E=e(Iw.sub(c,p),Iw.add(h,g),o,s),k=Iw.add(v,b);k.sub(w),k.add(E);let S=Iw.add(y,w),M=Iw.add(m,b),T=Iw.sub(v,m);T.add(y),T.add(x);let C=Iw.zeros(2*k.rows,2*k.columns);return C=C.setSubMatrix(k,0,0),C=C.setSubMatrix(S,k.rows,0),C=C.setSubMatrix(M,0,k.columns),C=C.setSubMatrix(T,k.rows,k.columns),C.subMatrix(0,r-1,0,i-1)}(t,e=a(e,s,l),s,l)}scaleRows(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{min:t=0,max:n=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(t>=n)throw new RangeError("min must be smaller than max");let r=new jw(this.rows,this.columns);for(let e=0;e<this.rows;e++){const i=this.getRow(e);i.length>0&&ww(i,{min:t,max:n,output:i}),r.setRow(e,i)}return r}scaleColumns(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{min:t=0,max:n=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(t>=n)throw new RangeError("min must be smaller than max");let r=new jw(this.rows,this.columns);for(let e=0;e<this.columns;e++){const i=this.getColumn(e);i.length&&ww(i,{min:t,max:n,output:i}),r.setColumn(e,i)}return r}flipRows(){const e=Math.ceil(this.columns/2);for(let t=0;t<this.rows;t++)for(let n=0;n<e;n++){let e=this.get(t,n),r=this.get(t,this.columns-1-n);this.set(t,n,r),this.set(t,this.columns-1-n,e)}return this}flipColumns(){const e=Math.ceil(this.rows/2);for(let t=0;t<this.columns;t++)for(let n=0;n<e;n++){let e=this.get(n,t),r=this.get(this.rows-1-n,t);this.set(n,t,r),this.set(this.rows-1-n,t,e)}return this}kroneckerProduct(e){e=jw.checkMatrix(e);let t=this.rows,n=this.columns,r=e.rows,i=e.columns,o=new jw(t*r,n*i);for(let a=0;a<t;a++)for(let t=0;t<n;t++)for(let n=0;n<r;n++)for(let s=0;s<i;s++)o.set(r*a+n,i*t+s,this.get(a,t)*e.get(n,s));return o}kroneckerSum(e){if(e=jw.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let t=this.rows,n=e.rows,r=this.kroneckerProduct(jw.eye(n,n)),i=jw.eye(t,t).kroneckerProduct(e);return r.add(i)}transpose(){let e=new jw(this.columns,this.rows);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)e.set(n,t,this.get(t,n));return e}sortRows(e=zw){for(let t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e=zw){for(let t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,n,r){Rw(this,e,t,n,r);let i=new jw(t-e+1,r-n+1);for(let o=e;o<=t;o++)for(let t=n;t<=r;t++)i.set(o-e,t-n,this.get(o,t));return i}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||t<0||t>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");let r=new jw(e.length,n-t+1);for(let i=0;i<e.length;i++)for(let o=t;o<=n;o++){if(e[i]<0||e[i]>=this.rows)throw new RangeError(`Row index out of range: ${e[i]}`);r.set(i,o-t,this.get(e[i],o))}return r}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||t<0||t>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");let r=new jw(n-t+1,e.length);for(let i=0;i<e.length;i++)for(let o=t;o<=n;o++){if(e[i]<0||e[i]>=this.columns)throw new RangeError(`Column index out of range: ${e[i]}`);r.set(o-t,i,this.get(o,e[i]))}return r}setSubMatrix(e,t,n){if((e=jw.checkMatrix(e)).isEmpty())return this;Rw(this,t,t+e.rows-1,n,n+e.columns-1);for(let r=0;r<e.rows;r++)for(let i=0;i<e.columns;i++)this.set(t+r,n+i,e.get(r,i));return this}selection(e,t){Ow(this,e),_w(this,t);let n=new jw(e.length,t.length);for(let r=0;r<e.length;r++){let i=e[r];for(let e=0;e<t.length;e++){let o=t[e];n.set(r,e,this.get(i,o))}}return n}trace(){let e=Math.min(this.rows,this.columns),t=0;for(let n=0;n<e;n++)t+=this.get(n,n);return t}clone(){return this.constructor.copy(this,new jw(this.rows,this.columns))}static copy(e,t){for(const[n,r,i]of e.entries())t.set(n,r,i);return t}sum(e){switch(e){case"row":return function(e){let t=Aw(e.rows);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}(this);case"column":return function(e){let t=Aw(e.columns);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}(this);case void 0:return function(e){let t=0;for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)t+=e.get(n,r);return t}(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return function(e){let t=Aw(e.rows,1);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}(this);case"column":return function(e){let t=Aw(e.columns,1);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}(this);case void 0:return function(e){let t=1;for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)t*=e.get(n,r);return t}(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){const t=this.sum(e);switch(e){case"row":for(let e=0;e<this.rows;e++)t[e]/=this.columns;return t;case"column":for(let e=0;e<this.columns;e++)t[e]/=this.rows;return t;case void 0:return t/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,t={}){if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");const{unbiased:n=!0,mean:r=this.mean(e)}=t;if("boolean"!=typeof n)throw new TypeError("unbiased must be a boolean");switch(e){case"row":if(!bw.isAnyArray(r))throw new TypeError("mean must be an array");return function(e,t,n){const r=e.rows,i=e.columns,o=[];for(let a=0;a<r;a++){let r=0,s=0,l=0;for(let t=0;t<i;t++)l=e.get(a,t)-n[a],r+=l,s+=l*l;t?o.push((s-r*r/i)/(i-1)):o.push((s-r*r/i)/i)}return o}(this,n,r);case"column":if(!bw.isAnyArray(r))throw new TypeError("mean must be an array");return function(e,t,n){const r=e.rows,i=e.columns,o=[];for(let a=0;a<i;a++){let i=0,s=0,l=0;for(let t=0;t<r;t++)l=e.get(t,a)-n[a],i+=l,s+=l*l;t?o.push((s-i*i/r)/(r-1)):o.push((s-i*i/r)/r)}return o}(this,n,r);case void 0:if("number"!=typeof r)throw new TypeError("mean must be a number");return function(e,t,n){const r=e.rows,i=e.columns,o=r*i;let a=0,s=0,l=0;for(let t=0;t<r;t++)for(let r=0;r<i;r++)l=e.get(t,r)-n,a+=l,s+=l*l;return t?(s-a*a/o)/(o-1):(s-a*a/o)/o}(this,n,r);default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,t){"object"==typeof e&&(t=e,e=void 0);const n=this.variance(e,t);if(void 0===e)return Math.sqrt(n);for(let e=0;e<n.length;e++)n[e]=Math.sqrt(n[e]);return n}center(e,t={}){if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");const{center:n=this.mean(e)}=t;switch(e){case"row":if(!bw.isAnyArray(n))throw new TypeError("center must be an array");return function(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}(this,n),this;case"column":if(!bw.isAnyArray(n))throw new TypeError("center must be an array");return function(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}(this,n),this;case void 0:if("number"!=typeof n)throw new TypeError("center must be a number");return function(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}(this,n),this;default:throw new Error(`invalid option: ${e}`)}}scale(e,t={}){if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");let n=t.scale;switch(e){case"row":if(void 0===n)n=function(e){const t=[];for(let n=0;n<e.rows;n++){let r=0;for(let t=0;t<e.columns;t++)r+=e.get(n,t)**2/(e.columns-1);t.push(Math.sqrt(r))}return t}(this);else if(!bw.isAnyArray(n))throw new TypeError("scale must be an array");return function(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}(this,n),this;case"column":if(void 0===n)n=function(e){const t=[];for(let n=0;n<e.columns;n++){let r=0;for(let t=0;t<e.rows;t++)r+=e.get(t,n)**2/(e.rows-1);t.push(Math.sqrt(r))}return t}(this);else if(!bw.isAnyArray(n))throw new TypeError("scale must be an array");return function(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}(this,n),this;case void 0:if(void 0===n)n=function(e){const t=e.size-1;let n=0;for(let r=0;r<e.columns;r++)for(let i=0;i<e.rows;i++)n+=e.get(i,r)**2/t;return Math.sqrt(n)}(this);else if("number"!=typeof n)throw new TypeError("scale must be a number");return function(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}(this,n),this;default:throw new Error(`invalid option: ${e}`)}}toString(e){return kw(this,e)}[Symbol.iterator](){return this.entries()}*entries(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)yield[e,t,this.get(e,t)]}*values(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)yield this.get(e,t)}}function zw(e,t){return e-t}Iw.prototype.klass="Matrix","undefined"!=typeof Symbol&&(Iw.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return kw(this)}),Iw.random=Iw.rand,Iw.randomInt=Iw.randInt,Iw.diagonal=Iw.diag,Iw.prototype.diagonal=Iw.prototype.diag,Iw.identity=Iw.eye,Iw.prototype.negate=Iw.prototype.neg,Iw.prototype.tensorProduct=Iw.prototype.kroneckerProduct;let jw=class e extends Iw{data;#e(e,t){if(this.data=[],!(Number.isInteger(t)&&t>=0))throw new TypeError("nColumns must be a positive integer");for(let n=0;n<e;n++)this.data.push(new Float64Array(t));this.rows=e,this.columns=t}constructor(t,n){if(super(),e.isMatrix(t))this.#e(t.rows,t.columns),e.copy(t,this);else if(Number.isInteger(t)&&t>=0)this.#e(t,n);else{if(!bw.isAnyArray(t))throw new TypeError("First argument must be a positive number or an array");{const e=t;if("number"!=typeof(n=(t=e.length)?e[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let r=0;r<t;r++){if(e[r].length!==n)throw new RangeError("Inconsistent array dimensions");if(!e[r].every((e=>"number"==typeof e)))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(e[r]))}this.rows=t,this.columns=n}}}set(e,t,n){return this.data[e][t]=n,this}get(e,t){return this.data[e][t]}removeRow(e){return Tw(this,e),this.data.splice(e,1),this.rows-=1,this}addRow(e,t){return void 0===t&&(t=e,e=this.rows),Tw(this,e,!0),t=Float64Array.from(Nw(this,t)),this.data.splice(e,0,t),this.rows+=1,this}removeColumn(e){Cw(this,e);for(let t=0;t<this.rows;t++){const n=new Float64Array(this.columns-1);for(let r=0;r<e;r++)n[r]=this.data[t][r];for(let r=e+1;r<this.columns;r++)n[r-1]=this.data[t][r];this.data[t]=n}return this.columns-=1,this}addColumn(e,t){void 0===t&&(t=e,e=this.columns),Cw(this,e,!0),t=Pw(this,t);for(let n=0;n<this.rows;n++){const r=new Float64Array(this.columns+1);let i=0;for(;i<e;i++)r[i]=this.data[n][i];for(r[i++]=t[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}};!function(e,t){e.prototype.add=function(e){return"number"==typeof e?this.addS(e):this.addM(e)},e.prototype.addS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e);return this},e.prototype.addM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e.get(t,n));return this},e.add=function(e,n){return new t(e).add(n)},e.prototype.sub=function(e){return"number"==typeof e?this.subS(e):this.subM(e)},e.prototype.subS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e);return this},e.prototype.subM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e.get(t,n));return this},e.sub=function(e,n){return new t(e).sub(n)},e.prototype.subtract=e.prototype.sub,e.prototype.subtractS=e.prototype.subS,e.prototype.subtractM=e.prototype.subM,e.subtract=e.sub,e.prototype.mul=function(e){return"number"==typeof e?this.mulS(e):this.mulM(e)},e.prototype.mulS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this},e.prototype.mulM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e.get(t,n));return this},e.mul=function(e,n){return new t(e).mul(n)},e.prototype.multiply=e.prototype.mul,e.prototype.multiplyS=e.prototype.mulS,e.prototype.multiplyM=e.prototype.mulM,e.multiply=e.mul,e.prototype.div=function(e){return"number"==typeof e?this.divS(e):this.divM(e)},e.prototype.divS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e);return this},e.prototype.divM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e.get(t,n));return this},e.div=function(e,n){return new t(e).div(n)},e.prototype.divide=e.prototype.div,e.prototype.divideS=e.prototype.divS,e.prototype.divideM=e.prototype.divM,e.divide=e.div,e.prototype.mod=function(e){return"number"==typeof e?this.modS(e):this.modM(e)},e.prototype.modS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e);return this},e.prototype.modM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e.get(t,n));return this},e.mod=function(e,n){return new t(e).mod(n)},e.prototype.modulus=e.prototype.mod,e.prototype.modulusS=e.prototype.modS,e.prototype.modulusM=e.prototype.modM,e.modulus=e.mod,e.prototype.and=function(e){return"number"==typeof e?this.andS(e):this.andM(e)},e.prototype.andS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e);return this},e.prototype.andM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e.get(t,n));return this},e.and=function(e,n){return new t(e).and(n)},e.prototype.or=function(e){return"number"==typeof e?this.orS(e):this.orM(e)},e.prototype.orS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e);return this},e.prototype.orM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e.get(t,n));return this},e.or=function(e,n){return new t(e).or(n)},e.prototype.xor=function(e){return"number"==typeof e?this.xorS(e):this.xorM(e)},e.prototype.xorS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e);return this},e.prototype.xorM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e.get(t,n));return this},e.xor=function(e,n){return new t(e).xor(n)},e.prototype.leftShift=function(e){return"number"==typeof e?this.leftShiftS(e):this.leftShiftM(e)},e.prototype.leftShiftS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e);return this},e.prototype.leftShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e.get(t,n));return this},e.leftShift=function(e,n){return new t(e).leftShift(n)},e.prototype.signPropagatingRightShift=function(e){return"number"==typeof e?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},e.prototype.signPropagatingRightShiftS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e);return this},e.prototype.signPropagatingRightShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e.get(t,n));return this},e.signPropagatingRightShift=function(e,n){return new t(e).signPropagatingRightShift(n)},e.prototype.rightShift=function(e){return"number"==typeof e?this.rightShiftS(e):this.rightShiftM(e)},e.prototype.rightShiftS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e);return this},e.prototype.rightShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e.get(t,n));return this},e.rightShift=function(e,n){return new t(e).rightShift(n)},e.prototype.zeroFillRightShift=e.prototype.rightShift,e.prototype.zeroFillRightShiftS=e.prototype.rightShiftS,e.prototype.zeroFillRightShiftM=e.prototype.rightShiftM,e.zeroFillRightShift=e.rightShift,e.prototype.not=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,~this.get(e,t));return this},e.not=function(e){return new t(e).not()},e.prototype.abs=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.abs(this.get(e,t)));return this},e.abs=function(e){return new t(e).abs()},e.prototype.acos=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.acos(this.get(e,t)));return this},e.acos=function(e){return new t(e).acos()},e.prototype.acosh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.acosh(this.get(e,t)));return this},e.acosh=function(e){return new t(e).acosh()},e.prototype.asin=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.asin(this.get(e,t)));return this},e.asin=function(e){return new t(e).asin()},e.prototype.asinh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.asinh(this.get(e,t)));return this},e.asinh=function(e){return new t(e).asinh()},e.prototype.atan=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.atan(this.get(e,t)));return this},e.atan=function(e){return new t(e).atan()},e.prototype.atanh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.atanh(this.get(e,t)));return this},e.atanh=function(e){return new t(e).atanh()},e.prototype.cbrt=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.cbrt(this.get(e,t)));return this},e.cbrt=function(e){return new t(e).cbrt()},e.prototype.ceil=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.ceil(this.get(e,t)));return this},e.ceil=function(e){return new t(e).ceil()},e.prototype.clz32=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.clz32(this.get(e,t)));return this},e.clz32=function(e){return new t(e).clz32()},e.prototype.cos=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.cos(this.get(e,t)));return this},e.cos=function(e){return new t(e).cos()},e.prototype.cosh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.cosh(this.get(e,t)));return this},e.cosh=function(e){return new t(e).cosh()},e.prototype.exp=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.exp(this.get(e,t)));return this},e.exp=function(e){return new t(e).exp()},e.prototype.expm1=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.expm1(this.get(e,t)));return this},e.expm1=function(e){return new t(e).expm1()},e.prototype.floor=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.floor(this.get(e,t)));return this},e.floor=function(e){return new t(e).floor()},e.prototype.fround=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.fround(this.get(e,t)));return this},e.fround=function(e){return new t(e).fround()},e.prototype.log=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.log(this.get(e,t)));return this},e.log=function(e){return new t(e).log()},e.prototype.log1p=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.log1p(this.get(e,t)));return this},e.log1p=function(e){return new t(e).log1p()},e.prototype.log10=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.log10(this.get(e,t)));return this},e.log10=function(e){return new t(e).log10()},e.prototype.log2=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.log2(this.get(e,t)));return this},e.log2=function(e){return new t(e).log2()},e.prototype.round=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.round(this.get(e,t)));return this},e.round=function(e){return new t(e).round()},e.prototype.sign=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.sign(this.get(e,t)));return this},e.sign=function(e){return new t(e).sign()},e.prototype.sin=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.sin(this.get(e,t)));return this},e.sin=function(e){return new t(e).sin()},e.prototype.sinh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.sinh(this.get(e,t)));return this},e.sinh=function(e){return new t(e).sinh()},e.prototype.sqrt=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.sqrt(this.get(e,t)));return this},e.sqrt=function(e){return new t(e).sqrt()},e.prototype.tan=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.tan(this.get(e,t)));return this},e.tan=function(e){return new t(e).tan()},e.prototype.tanh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.tanh(this.get(e,t)));return this},e.tanh=function(e){return new t(e).tanh()},e.prototype.trunc=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.trunc(this.get(e,t)));return this},e.trunc=function(e){return new t(e).trunc()},e.pow=function(e,n){return new t(e).pow(n)},e.prototype.pow=function(e){return"number"==typeof e?this.powS(e):this.powM(e)},e.prototype.powS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)**e);return this},e.prototype.powM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)**e.get(t,n));return this}}(Iw,jw);class Fw extends Iw{#t;get size(){return this.#t.size}get rows(){return this.#t.rows}get columns(){return this.#t.columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(e){return jw.isMatrix(e)&&"SymmetricMatrix"===e.klassType}static zeros(e){return new this(e)}static ones(e){return new this(e).fill(1)}constructor(e){if(super(),jw.isMatrix(e)){if(!e.isSymmetric())throw new TypeError("not symmetric data");this.#t=jw.copy(e,new jw(e.rows,e.rows))}else if(Number.isInteger(e)&&e>=0)this.#t=new jw(e,e);else if(this.#t=new jw(e),!this.isSymmetric())throw new TypeError("not symmetric data")}clone(){const e=new Fw(this.diagonalSize);for(const[t,n,r]of this.upperRightEntries())e.set(t,n,r);return e}toMatrix(){return new jw(this)}get(e,t){return this.#t.get(e,t)}set(e,t,n){return this.#t.set(e,t,n),this.#t.set(t,e,n),this}removeCross(e){return this.#t.removeRow(e),this.#t.removeColumn(e),this}addCross(e,t){void 0===t&&(t=e,e=this.diagonalSize);const n=t.slice();return n.splice(e,1),this.#t.addRow(e,n),this.#t.addColumn(e,t),this}applyMask(e){if(e.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const t=[];for(const[n,r]of e.entries())r||t.push(n);t.reverse();for(const e of t)this.removeCross(e);return this}toCompact(){const{diagonalSize:e}=this,t=new Array(e*(e+1)/2);for(let n=0,r=0,i=0;i<t.length;i++)t[i]=this.get(r,n),++n>=e&&(n=++r);return t}static fromCompact(e){const t=e.length,n=(Math.sqrt(8*t+1)-1)/2;if(!Number.isInteger(n))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(e)}`);const r=new Fw(n);for(let i=0,o=0,a=0;a<t;a++)r.set(i,o,e[a]),++i>=n&&(i=++o);return r}*upperRightEntries(){for(let e=0,t=0;e<this.diagonalSize;void 0){const n=this.get(e,t);yield[e,t,n],++t>=this.diagonalSize&&(t=++e)}}*upperRightValues(){for(let e=0,t=0;e<this.diagonalSize;void 0){const n=this.get(e,t);yield n,++t>=this.diagonalSize&&(t=++e)}}}Fw.prototype.klassType="SymmetricMatrix";class Bw extends Fw{static isDistanceMatrix(e){return Fw.isSymmetricMatrix(e)&&"DistanceMatrix"===e.klassSubType}constructor(e){if(super(e),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(e,t,n){return e===t&&(n=0),super.set(e,t,n)}addCross(e,t){return void 0===t&&(t=e,e=this.diagonalSize),(t=t.slice())[e]=0,super.addCross(e,t)}toSymmetricMatrix(){return new Fw(this)}clone(){const e=new Bw(this.diagonalSize);for(const[t,n,r]of this.upperRightEntries())t!==n&&e.set(t,n,r);return e}toCompact(){const{diagonalSize:e}=this,t=new Array((e-1)*e/2);for(let n=1,r=0,i=0;i<t.length;i++)t[i]=this.get(r,n),++n>=e&&(n=1+ ++r);return t}static fromCompact(e){const t=e.length;if(0===t)return new this(0);const n=(Math.sqrt(8*t+1)+1)/2;if(!Number.isInteger(n))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(e)}`);const r=new this(n);for(let i=1,o=0,a=0;a<t;a++)r.set(i,o,e[a]),++i>=n&&(i=1+ ++o);return r}}Bw.prototype.klassSubType="DistanceMatrix";class Uw extends Iw{constructor(e,t,n){super(),this.matrix=e,this.rows=t,this.columns=n}}class Ww extends Uw{constructor(e,t,n){Ow(e,t),_w(e,n),super(e,t.length,n.length),this.rowIndices=t,this.columnIndices=n}set(e,t,n){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],n),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}class Vw extends Iw{constructor(e,t={}){const{rows:n=1}=t;if(e.length%n!=0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=n,this.columns=e.length/n,this.data=e}set(e,t,n){let r=this._calculateIndex(e,t);return this.data[r]=n,this}get(e,t){let n=this._calculateIndex(e,t);return this.data[n]}_calculateIndex(e,t){return e*this.columns+t}}class Hw extends Iw{constructor(e){super(),this.data=e,this.rows=e.length,this.columns=e[0].length}set(e,t,n){return this.data[e][t]=n,this}get(e,t){return this.data[e][t]}}class Gw{constructor(e){let t,n,r,i,o,a,s,l,u,c=(e=Hw.checkMatrix(e)).clone(),d=c.rows,f=c.columns,h=new Float64Array(d),p=1;for(t=0;t<d;t++)h[t]=t;for(l=new Float64Array(d),n=0;n<f;n++){for(t=0;t<d;t++)l[t]=c.get(t,n);for(t=0;t<d;t++){for(u=Math.min(t,n),o=0,r=0;r<u;r++)o+=c.get(t,r)*l[r];l[t]-=o,c.set(t,n,l[t])}for(i=n,t=n+1;t<d;t++)Math.abs(l[t])>Math.abs(l[i])&&(i=t);if(i!==n){for(r=0;r<f;r++)a=c.get(i,r),c.set(i,r,c.get(n,r)),c.set(n,r,a);s=h[i],h[i]=h[n],h[n]=s,p=-p}if(n<d&&0!==c.get(n,n))for(t=n+1;t<d;t++)c.set(t,n,c.get(t,n)/c.get(n,n))}this.LU=c,this.pivotVector=h,this.pivotSign=p}isSingular(){let e=this.LU,t=e.columns;for(let n=0;n<t;n++)if(0===e.get(n,n))return!0;return!1}solve(e){e=jw.checkMatrix(e);let t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let n,r,i,o=e.columns,a=e.subMatrixRow(this.pivotVector,0,o-1),s=t.columns;for(i=0;i<s;i++)for(n=i+1;n<s;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*t.get(n,i));for(i=s-1;i>=0;i--){for(r=0;r<o;r++)a.set(i,r,a.get(i,r)/t.get(i,i));for(n=0;n<i;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*t.get(n,i))}return a}get determinant(){let e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");let t=this.pivotSign,n=e.columns;for(let r=0;r<n;r++)t*=e.get(r,r);return t}get lowerTriangularMatrix(){let e=this.LU,t=e.rows,n=e.columns,r=new jw(t,n);for(let i=0;i<t;i++)for(let t=0;t<n;t++)i>t?r.set(i,t,e.get(i,t)):i===t?r.set(i,t,1):r.set(i,t,0);return r}get upperTriangularMatrix(){let e=this.LU,t=e.rows,n=e.columns,r=new jw(t,n);for(let i=0;i<t;i++)for(let t=0;t<n;t++)i<=t?r.set(i,t,e.get(i,t)):r.set(i,t,0);return r}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function $w(e,t){let n=0;return Math.abs(e)>Math.abs(t)?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0!==t?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0}class Yw{constructor(e){let t,n,r,i,o=(e=Hw.checkMatrix(e)).clone(),a=e.rows,s=e.columns,l=new Float64Array(s);for(r=0;r<s;r++){let e=0;for(t=r;t<a;t++)e=$w(e,o.get(t,r));if(0!==e){for(o.get(r,r)<0&&(e=-e),t=r;t<a;t++)o.set(t,r,o.get(t,r)/e);for(o.set(r,r,o.get(r,r)+1),n=r+1;n<s;n++){for(i=0,t=r;t<a;t++)i+=o.get(t,r)*o.get(t,n);for(i=-i/o.get(r,r),t=r;t<a;t++)o.set(t,n,o.get(t,n)+i*o.get(t,r))}}l[r]=-e}this.QR=o,this.Rdiag=l}solve(e){e=jw.checkMatrix(e);let t=this.QR,n=t.rows;if(e.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let r,i,o,a,s=e.columns,l=e.clone(),u=t.columns;for(o=0;o<u;o++)for(i=0;i<s;i++){for(a=0,r=o;r<n;r++)a+=t.get(r,o)*l.get(r,i);for(a=-a/t.get(o,o),r=o;r<n;r++)l.set(r,i,l.get(r,i)+a*t.get(r,o))}for(o=u-1;o>=0;o--){for(i=0;i<s;i++)l.set(o,i,l.get(o,i)/this.Rdiag[o]);for(r=0;r<o;r++)for(i=0;i<s;i++)l.set(r,i,l.get(r,i)-l.get(o,i)*t.get(r,o))}return l.subMatrix(0,u-1,0,s-1)}isFullRank(){let e=this.QR.columns;for(let t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0}get upperTriangularMatrix(){let e,t,n=this.QR,r=n.columns,i=new jw(r,r);for(e=0;e<r;e++)for(t=0;t<r;t++)e<t?i.set(e,t,n.get(e,t)):e===t?i.set(e,t,this.Rdiag[e]):i.set(e,t,0);return i}get orthogonalMatrix(){let e,t,n,r,i=this.QR,o=i.rows,a=i.columns,s=new jw(o,a);for(n=a-1;n>=0;n--){for(e=0;e<o;e++)s.set(e,n,0);for(s.set(n,n,1),t=n;t<a;t++)if(0!==i.get(n,n)){for(r=0,e=n;e<o;e++)r+=i.get(e,n)*s.get(e,t);for(r=-r/i.get(n,n),e=n;e<o;e++)s.set(e,t,s.get(e,t)+r*i.get(e,n))}}return s}}let qw=class{constructor(e,t={}){if((e=Hw.checkMatrix(e)).isEmpty())throw new Error("Matrix must be non-empty");let n=e.rows,r=e.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:o=!0,autoTranspose:a=!1}=t;let s,l=Boolean(i),u=Boolean(o),c=!1;if(n<r)if(a){s=e.transpose(),n=s.rows,r=s.columns,c=!0;let t=l;l=u,u=t}else s=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else s=e.clone();let d=Math.min(n,r),f=Math.min(n+1,r),h=new Float64Array(f),p=new jw(n,d),g=new jw(r,r),v=new Float64Array(r),m=new Float64Array(n),y=new Float64Array(f);for(let e=0;e<f;e++)y[e]=e;let b=Math.min(n-1,r),w=Math.max(0,Math.min(r-2,n)),x=Math.max(b,w);for(let e=0;e<x;e++){if(e<b){h[e]=0;for(let t=e;t<n;t++)h[e]=$w(h[e],s.get(t,e));if(0!==h[e]){s.get(e,e)<0&&(h[e]=-h[e]);for(let t=e;t<n;t++)s.set(t,e,s.get(t,e)/h[e]);s.set(e,e,s.get(e,e)+1)}h[e]=-h[e]}for(let t=e+1;t<r;t++){if(e<b&&0!==h[e]){let r=0;for(let i=e;i<n;i++)r+=s.get(i,e)*s.get(i,t);r=-r/s.get(e,e);for(let i=e;i<n;i++)s.set(i,t,s.get(i,t)+r*s.get(i,e))}v[t]=s.get(e,t)}if(l&&e<b)for(let t=e;t<n;t++)p.set(t,e,s.get(t,e));if(e<w){v[e]=0;for(let t=e+1;t<r;t++)v[e]=$w(v[e],v[t]);if(0!==v[e]){v[e+1]<0&&(v[e]=0-v[e]);for(let t=e+1;t<r;t++)v[t]/=v[e];v[e+1]+=1}if(v[e]=-v[e],e+1<n&&0!==v[e]){for(let t=e+1;t<n;t++)m[t]=0;for(let t=e+1;t<n;t++)for(let n=e+1;n<r;n++)m[t]+=v[n]*s.get(t,n);for(let t=e+1;t<r;t++){let r=-v[t]/v[e+1];for(let i=e+1;i<n;i++)s.set(i,t,s.get(i,t)+r*m[i])}}if(u)for(let t=e+1;t<r;t++)g.set(t,e,v[t])}}let E=Math.min(r,n+1);if(b<r&&(h[b]=s.get(b,b)),n<E&&(h[E-1]=0),w+1<E&&(v[w]=s.get(w,E-1)),v[E-1]=0,l){for(let e=b;e<d;e++){for(let t=0;t<n;t++)p.set(t,e,0);p.set(e,e,1)}for(let e=b-1;e>=0;e--)if(0!==h[e]){for(let t=e+1;t<d;t++){let r=0;for(let i=e;i<n;i++)r+=p.get(i,e)*p.get(i,t);r=-r/p.get(e,e);for(let i=e;i<n;i++)p.set(i,t,p.get(i,t)+r*p.get(i,e))}for(let t=e;t<n;t++)p.set(t,e,-p.get(t,e));p.set(e,e,1+p.get(e,e));for(let t=0;t<e-1;t++)p.set(t,e,0)}else{for(let t=0;t<n;t++)p.set(t,e,0);p.set(e,e,1)}}if(u)for(let e=r-1;e>=0;e--){if(e<w&&0!==v[e])for(let t=e+1;t<r;t++){let n=0;for(let i=e+1;i<r;i++)n+=g.get(i,e)*g.get(i,t);n=-n/g.get(e+1,e);for(let i=e+1;i<r;i++)g.set(i,t,g.get(i,t)+n*g.get(i,e))}for(let t=0;t<r;t++)g.set(t,e,0);g.set(e,e,1)}let k=E-1,S=Number.EPSILON;for(;E>0;){let e,t;for(e=E-2;e>=-1&&-1!==e;e--){const t=Number.MIN_VALUE+S*Math.abs(h[e]+Math.abs(h[e+1]));if(Math.abs(v[e])<=t||Number.isNaN(v[e])){v[e]=0;break}}if(e===E-2)t=4;else{let n;for(n=E-1;n>=e&&n!==e;n--){let t=(n!==E?Math.abs(v[n]):0)+(n!==e+1?Math.abs(v[n-1]):0);if(Math.abs(h[n])<=S*t){h[n]=0;break}}n===e?t=3:n===E-1?t=1:(t=2,e=n)}switch(e++,t){case 1:{let t=v[E-2];v[E-2]=0;for(let n=E-2;n>=e;n--){let i=$w(h[n],t),o=h[n]/i,a=t/i;if(h[n]=i,n!==e&&(t=-a*v[n-1],v[n-1]=o*v[n-1]),u)for(let e=0;e<r;e++)i=o*g.get(e,n)+a*g.get(e,E-1),g.set(e,E-1,-a*g.get(e,n)+o*g.get(e,E-1)),g.set(e,n,i)}break}case 2:{let t=v[e-1];v[e-1]=0;for(let r=e;r<E;r++){let i=$w(h[r],t),o=h[r]/i,a=t/i;if(h[r]=i,t=-a*v[r],v[r]=o*v[r],l)for(let t=0;t<n;t++)i=o*p.get(t,r)+a*p.get(t,e-1),p.set(t,e-1,-a*p.get(t,r)+o*p.get(t,e-1)),p.set(t,r,i)}break}case 3:{const t=Math.max(Math.abs(h[E-1]),Math.abs(h[E-2]),Math.abs(v[E-2]),Math.abs(h[e]),Math.abs(v[e])),i=h[E-1]/t,o=h[E-2]/t,a=v[E-2]/t,s=h[e]/t,c=v[e]/t,d=((o+i)*(o-i)+a*a)/2,f=i*a*(i*a);let m=0;0===d&&0===f||(m=d<0?0-Math.sqrt(d*d+f):Math.sqrt(d*d+f),m=f/(d+m));let y=(s+i)*(s-i)+m,b=s*c;for(let t=e;t<E-1;t++){let i=$w(y,b);0===i&&(i=Number.MIN_VALUE);let o=y/i,a=b/i;if(t!==e&&(v[t-1]=i),y=o*h[t]+a*v[t],v[t]=o*v[t]-a*h[t],b=a*h[t+1],h[t+1]=o*h[t+1],u)for(let e=0;e<r;e++)i=o*g.get(e,t)+a*g.get(e,t+1),g.set(e,t+1,-a*g.get(e,t)+o*g.get(e,t+1)),g.set(e,t,i);if(i=$w(y,b),0===i&&(i=Number.MIN_VALUE),o=y/i,a=b/i,h[t]=i,y=o*v[t]+a*h[t+1],h[t+1]=-a*v[t]+o*h[t+1],b=a*v[t+1],v[t+1]=o*v[t+1],l&&t<n-1)for(let e=0;e<n;e++)i=o*p.get(e,t)+a*p.get(e,t+1),p.set(e,t+1,-a*p.get(e,t)+o*p.get(e,t+1)),p.set(e,t,i)}v[E-2]=y;break}case 4:if(h[e]<=0&&(h[e]=h[e]<0?-h[e]:0,u))for(let t=0;t<=k;t++)g.set(t,e,-g.get(t,e));for(;e<k&&!(h[e]>=h[e+1]);){let t=h[e];if(h[e]=h[e+1],h[e+1]=t,u&&e<r-1)for(let n=0;n<r;n++)t=g.get(n,e+1),g.set(n,e+1,g.get(n,e)),g.set(n,e,t);if(l&&e<n-1)for(let r=0;r<n;r++)t=p.get(r,e+1),p.set(r,e+1,p.get(r,e)),p.set(r,e,t);e++}E--}}if(c){let e=g;g=p,p=e}this.m=n,this.n=r,this.s=h,this.U=p,this.V=g}solve(e){let t=e,n=this.threshold,r=this.s.length,i=jw.zeros(r,r);for(let e=0;e<r;e++)Math.abs(this.s[e])<=n?i.set(e,e,0):i.set(e,e,1/this.s[e]);let o=this.U,a=this.rightSingularVectors,s=a.mmul(i),l=a.rows,u=o.rows,c=jw.zeros(l,u);for(let e=0;e<l;e++)for(let t=0;t<u;t++){let n=0;for(let i=0;i<r;i++)n+=s.get(e,i)*o.get(t,i);c.set(e,t,n)}return c.mmul(t)}solveForDiagonal(e){return this.solve(jw.diag(e))}inverse(){let e=this.V,t=this.threshold,n=e.rows,r=e.columns,i=new jw(n,this.s.length);for(let o=0;o<n;o++)for(let n=0;n<r;n++)Math.abs(this.s[n])>t&&i.set(o,n,e.get(o,n)/this.s[n]);let o=this.U,a=o.rows,s=o.columns,l=new jw(n,a);for(let e=0;e<n;e++)for(let t=0;t<a;t++){let n=0;for(let r=0;r<s;r++)n+=i.get(e,r)*o.get(t,r);l.set(e,t,n)}return l}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,t=0,n=this.s;for(let r=0,i=n.length;r<i;r++)n[r]>e&&t++;return t}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return jw.diag(this.s)}};function Kw(e,t,n=!1){return e=Hw.checkMatrix(e),t=Hw.checkMatrix(t),n?new qw(e).solve(t):e.isSquare()?new Gw(e).solve(t):new Yw(e).solve(t)}function Xw(e,t){let n=[];for(let r=0;r<e;r++)r!==t&&n.push(r);return n}function Qw(e,t,n,r=1e-9,i=1e-9){if(e>i)return new Array(t.rows+1).fill(0);{let e=t.addRow(n,[0]);for(let t=0;t<e.rows;t++)Math.abs(e.get(t,0))<r&&e.set(t,0,0);return e.to1DArray()}}class Zw{constructor(e,t={}){const{assumeSymmetric:n=!1}=t;if(!(e=Hw.checkMatrix(e)).isSquare())throw new Error("Matrix is not a square matrix");if(e.isEmpty())throw new Error("Matrix must be non-empty");let r,i,o=e.columns,a=new jw(o,o),s=new Float64Array(o),l=new Float64Array(o),u=e,c=!1;if(c=!!n||e.isSymmetric(),c){for(r=0;r<o;r++)for(i=0;i<o;i++)a.set(r,i,u.get(r,i));!function(e,t,n,r){let i,o,a,s,l,u,c,d;for(l=0;l<e;l++)n[l]=r.get(e-1,l);for(s=e-1;s>0;s--){for(d=0,a=0,u=0;u<s;u++)d+=Math.abs(n[u]);if(0===d)for(t[s]=n[s-1],l=0;l<s;l++)n[l]=r.get(s-1,l),r.set(s,l,0),r.set(l,s,0);else{for(u=0;u<s;u++)n[u]/=d,a+=n[u]*n[u];for(i=n[s-1],o=Math.sqrt(a),i>0&&(o=-o),t[s]=d*o,a-=i*o,n[s-1]=i-o,l=0;l<s;l++)t[l]=0;for(l=0;l<s;l++){for(i=n[l],r.set(l,s,i),o=t[l]+r.get(l,l)*i,u=l+1;u<=s-1;u++)o+=r.get(u,l)*n[u],t[u]+=r.get(u,l)*i;t[l]=o}for(i=0,l=0;l<s;l++)t[l]/=a,i+=t[l]*n[l];for(c=i/(a+a),l=0;l<s;l++)t[l]-=c*n[l];for(l=0;l<s;l++){for(i=n[l],o=t[l],u=l;u<=s-1;u++)r.set(u,l,r.get(u,l)-(i*t[u]+o*n[u]));n[l]=r.get(s-1,l),r.set(s,l,0)}}n[s]=a}for(s=0;s<e-1;s++){if(r.set(e-1,s,r.get(s,s)),r.set(s,s,1),a=n[s+1],0!==a){for(u=0;u<=s;u++)n[u]=r.get(u,s+1)/a;for(l=0;l<=s;l++){for(o=0,u=0;u<=s;u++)o+=r.get(u,s+1)*r.get(u,l);for(u=0;u<=s;u++)r.set(u,l,r.get(u,l)-o*n[u])}}for(u=0;u<=s;u++)r.set(u,s+1,0)}for(l=0;l<e;l++)n[l]=r.get(e-1,l),r.set(e-1,l,0);r.set(e-1,e-1,1),t[0]=0}(o,l,s,a),function(e,t,n,r){let i,o,a,s,l,u,c,d,f,h,p,g,v,m,y,b;for(a=1;a<e;a++)t[a-1]=t[a];t[e-1]=0;let w=0,x=0,E=Number.EPSILON;for(u=0;u<e;u++){for(x=Math.max(x,Math.abs(n[u])+Math.abs(t[u])),c=u;c<e&&!(Math.abs(t[c])<=E*x);)c++;if(c>u)do{for(i=n[u],d=(n[u+1]-i)/(2*t[u]),f=$w(d,1),d<0&&(f=-f),n[u]=t[u]/(d+f),n[u+1]=t[u]*(d+f),h=n[u+1],o=i-n[u],a=u+2;a<e;a++)n[a]-=o;for(w+=o,d=n[c],p=1,g=p,v=p,m=t[u+1],y=0,b=0,a=c-1;a>=u;a--)for(v=g,g=p,b=y,i=p*t[a],o=p*d,f=$w(d,t[a]),t[a+1]=y*f,y=t[a]/f,p=d/f,d=p*n[a]-y*i,n[a+1]=o+y*(p*i+y*n[a]),l=0;l<e;l++)o=r.get(l,a+1),r.set(l,a+1,y*r.get(l,a)+p*o),r.set(l,a,p*r.get(l,a)-y*o);d=-y*b*v*m*t[u]/h,t[u]=y*d,n[u]=p*d}while(Math.abs(t[u])>E*x);n[u]=n[u]+w,t[u]=0}for(a=0;a<e-1;a++){for(l=a,d=n[a],s=a+1;s<e;s++)n[s]<d&&(l=s,d=n[s]);if(l!==a)for(n[l]=n[a],n[a]=d,s=0;s<e;s++)d=r.get(s,a),r.set(s,a,r.get(s,l)),r.set(s,l,d)}}(o,l,s,a)}else{let e=new jw(o,o),t=new Float64Array(o);for(i=0;i<o;i++)for(r=0;r<o;r++)e.set(r,i,u.get(r,i));!function(e,t,n,r){let i,o,a,s,l,u,c,d=0,f=e-1;for(u=d+1;u<=f-1;u++){for(c=0,s=u;s<=f;s++)c+=Math.abs(t.get(s,u-1));if(0!==c){for(a=0,s=f;s>=u;s--)n[s]=t.get(s,u-1)/c,a+=n[s]*n[s];for(o=Math.sqrt(a),n[u]>0&&(o=-o),a-=n[u]*o,n[u]=n[u]-o,l=u;l<e;l++){for(i=0,s=f;s>=u;s--)i+=n[s]*t.get(s,l);for(i/=a,s=u;s<=f;s++)t.set(s,l,t.get(s,l)-i*n[s])}for(s=0;s<=f;s++){for(i=0,l=f;l>=u;l--)i+=n[l]*t.get(s,l);for(i/=a,l=u;l<=f;l++)t.set(s,l,t.get(s,l)-i*n[l])}n[u]=c*n[u],t.set(u,u-1,c*o)}}for(s=0;s<e;s++)for(l=0;l<e;l++)r.set(s,l,s===l?1:0);for(u=f-1;u>=d+1;u--)if(0!==t.get(u,u-1)){for(s=u+1;s<=f;s++)n[s]=t.get(s,u-1);for(l=u;l<=f;l++){for(o=0,s=u;s<=f;s++)o+=n[s]*r.get(s,l);for(o=o/n[u]/t.get(u,u-1),s=u;s<=f;s++)r.set(s,l,r.get(s,l)+o*n[s])}}}(o,e,t,a),function(e,t,n,r,i){let o,a,s,l,u,c,d,f,h,p,g,v,m,y,b,w=e-1,x=0,E=e-1,k=Number.EPSILON,S=0,M=0,T=0,C=0,N=0,P=0,O=0,_=0;for(o=0;o<e;o++)for((o<x||o>E)&&(n[o]=i.get(o,o),t[o]=0),a=Math.max(o-1,0);a<e;a++)M+=Math.abs(i.get(o,a));for(;w>=x;){for(l=w;l>x&&(P=Math.abs(i.get(l-1,l-1))+Math.abs(i.get(l,l)),0===P&&(P=M),!(Math.abs(i.get(l,l-1))<k*P));)l--;if(l===w)i.set(w,w,i.get(w,w)+S),n[w]=i.get(w,w),t[w]=0,w--,_=0;else if(l===w-1){if(d=i.get(w,w-1)*i.get(w-1,w),T=(i.get(w-1,w-1)-i.get(w,w))/2,C=T*T+d,O=Math.sqrt(Math.abs(C)),i.set(w,w,i.get(w,w)+S),i.set(w-1,w-1,i.get(w-1,w-1)+S),f=i.get(w,w),C>=0){for(O=T>=0?T+O:T-O,n[w-1]=f+O,n[w]=n[w-1],0!==O&&(n[w]=f-d/O),t[w-1]=0,t[w]=0,f=i.get(w,w-1),P=Math.abs(f)+Math.abs(O),T=f/P,C=O/P,N=Math.sqrt(T*T+C*C),T/=N,C/=N,a=w-1;a<e;a++)O=i.get(w-1,a),i.set(w-1,a,C*O+T*i.get(w,a)),i.set(w,a,C*i.get(w,a)-T*O);for(o=0;o<=w;o++)O=i.get(o,w-1),i.set(o,w-1,C*O+T*i.get(o,w)),i.set(o,w,C*i.get(o,w)-T*O);for(o=x;o<=E;o++)O=r.get(o,w-1),r.set(o,w-1,C*O+T*r.get(o,w)),r.set(o,w,C*r.get(o,w)-T*O)}else n[w-1]=f+T,n[w]=f+T,t[w-1]=O,t[w]=-O;w-=2,_=0}else{if(f=i.get(w,w),h=0,d=0,l<w&&(h=i.get(w-1,w-1),d=i.get(w,w-1)*i.get(w-1,w)),10===_){for(S+=f,o=x;o<=w;o++)i.set(o,o,i.get(o,o)-f);P=Math.abs(i.get(w,w-1))+Math.abs(i.get(w-1,w-2)),f=h=.75*P,d=-.4375*P*P}if(30===_&&(P=(h-f)/2,P=P*P+d,P>0)){for(P=Math.sqrt(P),h<f&&(P=-P),P=f-d/((h-f)/2+P),o=x;o<=w;o++)i.set(o,o,i.get(o,o)-P);S+=P,f=h=d=.964}for(_+=1,u=w-2;u>=l&&(O=i.get(u,u),N=f-O,P=h-O,T=(N*P-d)/i.get(u+1,u)+i.get(u,u+1),C=i.get(u+1,u+1)-O-N-P,N=i.get(u+2,u+1),P=Math.abs(T)+Math.abs(C)+Math.abs(N),T/=P,C/=P,N/=P,u!==l)&&!(Math.abs(i.get(u,u-1))*(Math.abs(C)+Math.abs(N))<k*(Math.abs(T)*(Math.abs(i.get(u-1,u-1))+Math.abs(O)+Math.abs(i.get(u+1,u+1)))));)u--;for(o=u+2;o<=w;o++)i.set(o,o-2,0),o>u+2&&i.set(o,o-3,0);for(s=u;s<=w-1&&(y=s!==w-1,s!==u&&(T=i.get(s,s-1),C=i.get(s+1,s-1),N=y?i.get(s+2,s-1):0,f=Math.abs(T)+Math.abs(C)+Math.abs(N),0!==f&&(T/=f,C/=f,N/=f)),0!==f);s++)if(P=Math.sqrt(T*T+C*C+N*N),T<0&&(P=-P),0!==P){for(s!==u?i.set(s,s-1,-P*f):l!==u&&i.set(s,s-1,-i.get(s,s-1)),T+=P,f=T/P,h=C/P,O=N/P,C/=T,N/=T,a=s;a<e;a++)T=i.get(s,a)+C*i.get(s+1,a),y&&(T+=N*i.get(s+2,a),i.set(s+2,a,i.get(s+2,a)-T*O)),i.set(s,a,i.get(s,a)-T*f),i.set(s+1,a,i.get(s+1,a)-T*h);for(o=0;o<=Math.min(w,s+3);o++)T=f*i.get(o,s)+h*i.get(o,s+1),y&&(T+=O*i.get(o,s+2),i.set(o,s+2,i.get(o,s+2)-T*N)),i.set(o,s,i.get(o,s)-T),i.set(o,s+1,i.get(o,s+1)-T*C);for(o=x;o<=E;o++)T=f*r.get(o,s)+h*r.get(o,s+1),y&&(T+=O*r.get(o,s+2),r.set(o,s+2,r.get(o,s+2)-T*N)),r.set(o,s,r.get(o,s)-T),r.set(o,s+1,r.get(o,s+1)-T*C)}}}if(0===M)return;for(w=e-1;w>=0;w--)if(T=n[w],C=t[w],0===C)for(l=w,i.set(w,w,1),o=w-1;o>=0;o--){for(d=i.get(o,o)-T,N=0,a=l;a<=w;a++)N+=i.get(o,a)*i.get(a,w);if(t[o]<0)O=d,P=N;else if(l=o,0===t[o]?i.set(o,w,0!==d?-N/d:-N/(k*M)):(f=i.get(o,o+1),h=i.get(o+1,o),C=(n[o]-T)*(n[o]-T)+t[o]*t[o],c=(f*P-O*N)/C,i.set(o,w,c),i.set(o+1,w,Math.abs(f)>Math.abs(O)?(-N-d*c)/f:(-P-h*c)/O)),c=Math.abs(i.get(o,w)),k*c*c>1)for(a=o;a<=w;a++)i.set(a,w,i.get(a,w)/c)}else if(C<0)for(l=w-1,Math.abs(i.get(w,w-1))>Math.abs(i.get(w-1,w))?(i.set(w-1,w-1,C/i.get(w,w-1)),i.set(w-1,w,-(i.get(w,w)-T)/i.get(w,w-1))):(b=Jw(0,-i.get(w-1,w),i.get(w-1,w-1)-T,C),i.set(w-1,w-1,b[0]),i.set(w-1,w,b[1])),i.set(w,w-1,0),i.set(w,w,1),o=w-2;o>=0;o--){for(p=0,g=0,a=l;a<=w;a++)p+=i.get(o,a)*i.get(a,w-1),g+=i.get(o,a)*i.get(a,w);if(d=i.get(o,o)-T,t[o]<0)O=d,N=p,P=g;else if(l=o,0===t[o]?(b=Jw(-p,-g,d,C),i.set(o,w-1,b[0]),i.set(o,w,b[1])):(f=i.get(o,o+1),h=i.get(o+1,o),v=(n[o]-T)*(n[o]-T)+t[o]*t[o]-C*C,m=2*(n[o]-T)*C,0===v&&0===m&&(v=k*M*(Math.abs(d)+Math.abs(C)+Math.abs(f)+Math.abs(h)+Math.abs(O))),b=Jw(f*N-O*p+C*g,f*P-O*g-C*p,v,m),i.set(o,w-1,b[0]),i.set(o,w,b[1]),Math.abs(f)>Math.abs(O)+Math.abs(C)?(i.set(o+1,w-1,(-p-d*i.get(o,w-1)+C*i.get(o,w))/f),i.set(o+1,w,(-g-d*i.get(o,w)-C*i.get(o,w-1))/f)):(b=Jw(-N-h*i.get(o,w-1),-P-h*i.get(o,w),O,C),i.set(o+1,w-1,b[0]),i.set(o+1,w,b[1]))),c=Math.max(Math.abs(i.get(o,w-1)),Math.abs(i.get(o,w))),k*c*c>1)for(a=o;a<=w;a++)i.set(a,w-1,i.get(a,w-1)/c),i.set(a,w,i.get(a,w)/c)}for(o=0;o<e;o++)if(o<x||o>E)for(a=o;a<e;a++)r.set(o,a,i.get(o,a));for(a=e-1;a>=x;a--)for(o=x;o<=E;o++){for(O=0,s=x;s<=Math.min(a,E);s++)O+=r.get(o,s)*i.get(s,a);r.set(o,a,O)}}(o,l,s,a,e)}this.n=o,this.e=l,this.d=s,this.V=a}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let e,t,n=this.n,r=this.e,i=this.d,o=new jw(n,n);for(e=0;e<n;e++){for(t=0;t<n;t++)o.set(e,t,0);o.set(e,e,i[e]),r[e]>0?o.set(e,e+1,r[e]):r[e]<0&&o.set(e,e-1,r[e])}return o}}function Jw(e,t,n,r){let i,o;return Math.abs(n)>Math.abs(r)?(i=r/n,o=n+i*r,[(e+i*t)/o,(t-i*e)/o]):(i=n/r,o=r+i*n,[(i*e+t)/o,(i*t-e)/o])}class ex{constructor(e){if(!(e=Hw.checkMatrix(e)).isSymmetric())throw new Error("Matrix is not symmetric");let t,n,r,i=e,o=i.rows,a=new jw(o,o),s=!0;for(n=0;n<o;n++){let e=0;for(r=0;r<n;r++){let o=0;for(t=0;t<r;t++)o+=a.get(r,t)*a.get(n,t);o=(i.get(n,r)-o)/a.get(r,r),a.set(n,r,o),e+=o*o}for(e=i.get(n,n)-e,s&&=e>0,a.set(n,n,Math.sqrt(Math.max(e,0))),r=n+1;r<o;r++)a.set(n,r,0)}this.L=a,this.positiveDefinite=s}isPositiveDefinite(){return this.positiveDefinite}solve(e){e=Hw.checkMatrix(e);let t=this.L,n=t.rows;if(e.rows!==n)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let r,i,o,a=e.columns,s=e.clone();for(o=0;o<n;o++)for(i=0;i<a;i++){for(r=0;r<o;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*t.get(o,r));s.set(o,i,s.get(o,i)/t.get(o,o))}for(o=n-1;o>=0;o--)for(i=0;i<a;i++){for(r=o+1;r<n;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*t.get(r,o));s.set(o,i,s.get(o,i)/t.get(o,o))}return s}get lowerTriangularMatrix(){return this.L}}class tx{constructor(e,t={}){e=Hw.checkMatrix(e);let{Y:n}=t;const{scaleScores:r=!1,maxIterations:i=1e3,terminationCriteria:o=1e-10}=t;let a;if(n){if(n=bw.isAnyArray(n)&&"number"==typeof n[0]?jw.columnVector(n):Hw.checkMatrix(n),n.rows!==e.rows)throw new Error("Y should have the same number of rows as X");a=n.getColumnVector(0)}else a=e.getColumnVector(0);let s,l,u,c,d=1;for(let t=0;t<i&&d>o;t++)u=e.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),u=u.div(u.norm()),s=e.mmul(u).div(u.transpose().mmul(u).get(0,0)),t>0&&(d=s.clone().sub(c).pow(2).sum()),c=s.clone(),n?(l=n.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0)),l=l.div(l.norm()),a=n.mmul(l).div(l.transpose().mmul(l).get(0,0))):a=s;if(n){let t=e.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0));t=t.div(t.norm());let r=e.clone().sub(s.clone().mmul(t.transpose())),i=a.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0)),o=n.clone().sub(s.clone().mulS(i.get(0,0)).mmul(l.transpose()));this.t=s,this.p=t.transpose(),this.w=u.transpose(),this.q=l,this.u=a,this.s=s.transpose().mmul(s),this.xResidual=r,this.yResidual=o,this.betas=i}else this.w=u.transpose(),this.s=s.transpose().mmul(s).sqrt(),this.t=r?s.clone().div(this.s.get(0,0)):s,this.xResidual=e.sub(s.mmul(u.transpose()))}}hw.AbstractMatrix=Iw,hw.CHO=ex,hw.CholeskyDecomposition=ex,hw.DistanceMatrix=Bw,hw.EVD=Zw,hw.EigenvalueDecomposition=Zw,hw.LU=Gw,hw.LuDecomposition=Gw;var nx=hw.Matrix=jw;hw.MatrixColumnSelectionView=class extends Uw{constructor(e,t){_w(e,t),super(e,e.rows,t.length),this.columnIndices=t}set(e,t,n){return this.matrix.set(e,this.columnIndices[t],n),this}get(e,t){return this.matrix.get(e,this.columnIndices[t])}},hw.MatrixColumnView=class extends Uw{constructor(e,t){Cw(e,t),super(e,e.rows,1),this.column=t}set(e,t,n){return this.matrix.set(e,this.column,n),this}get(e){return this.matrix.get(e,this.column)}},hw.MatrixFlipColumnView=class extends Uw{constructor(e){super(e,e.rows,e.columns)}set(e,t,n){return this.matrix.set(e,this.columns-t-1,n),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}},hw.MatrixFlipRowView=class extends Uw{constructor(e){super(e,e.rows,e.columns)}set(e,t,n){return this.matrix.set(this.rows-e-1,t,n),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}},hw.MatrixRowSelectionView=class extends Uw{constructor(e,t){Ow(e,t),super(e,t.length,e.columns),this.rowIndices=t}set(e,t,n){return this.matrix.set(this.rowIndices[e],t,n),this}get(e,t){return this.matrix.get(this.rowIndices[e],t)}},hw.MatrixRowView=class extends Uw{constructor(e,t){Tw(e,t),super(e,1,e.columns),this.row=t}set(e,t,n){return this.matrix.set(this.row,t,n),this}get(e,t){return this.matrix.get(this.row,t)}},hw.MatrixSelectionView=Ww,hw.MatrixSubView=class extends Uw{constructor(e,t,n,r,i){Rw(e,t,n,r,i),super(e,n-t+1,i-r+1),this.startRow=t,this.startColumn=r}set(e,t,n){return this.matrix.set(this.startRow+e,this.startColumn+t,n),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}},hw.MatrixTransposeView=class extends Uw{constructor(e){super(e,e.columns,e.rows)}set(e,t,n){return this.matrix.set(t,e,n),this}get(e,t){return this.matrix.get(t,e)}},hw.NIPALS=tx,hw.Nipals=tx,hw.QR=Yw,hw.QrDecomposition=Yw,hw.SVD=qw;var rx=hw.SingularValueDecomposition=qw;hw.SymmetricMatrix=Fw,hw.WrapperMatrix1D=Vw,hw.WrapperMatrix2D=Hw,hw.correlation=function(e,t=e,n={}){e=new jw(e);let r=!1;if("object"!=typeof t||jw.isMatrix(t)||bw.isAnyArray(t)?t=new jw(t):(n=t,t=e,r=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:i=!0,scale:o=!0}=n;i&&(e.center("column"),r||t.center("column")),o&&(e.scale("column"),r||t.scale("column"));const a=e.standardDeviation("column",{unbiased:!0}),s=r?a:t.standardDeviation("column",{unbiased:!0}),l=e.transpose().mmul(t);for(let t=0;t<l.rows;t++)for(let n=0;n<l.columns;n++)l.set(t,n,l.get(t,n)*(1/(a[t]*s[n]))*(1/(e.rows-1)));return l},hw.covariance=function(e,t=e,n={}){e=new jw(e);let r=!1;if("object"!=typeof t||jw.isMatrix(t)||bw.isAnyArray(t)?t=new jw(t):(n=t,t=e,r=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:i=!0}=n;i&&(e=e.center("column"),r||(t=t.center("column")));const o=e.transpose().mmul(t);for(let t=0;t<o.rows;t++)for(let n=0;n<o.columns;n++)o.set(t,n,o.get(t,n)*(1/(e.rows-1)));return o};var ix=hw.default=jw;hw.determinant=function e(t){if((t=jw.checkMatrix(t)).isSquare()){if(0===t.columns)return 1;let n,r,i,o;if(2===t.columns)return n=t.get(0,0),r=t.get(0,1),i=t.get(1,0),o=t.get(1,1),n*o-r*i;if(3===t.columns){let o,a,s;return o=new Ww(t,[1,2],[1,2]),a=new Ww(t,[1,2],[0,2]),s=new Ww(t,[1,2],[0,1]),n=t.get(0,0),r=t.get(0,1),i=t.get(0,2),n*e(o)-r*e(a)+i*e(s)}return new Gw(t).determinant}throw Error("determinant can only be calculated for a square matrix")},hw.inverse=function(e,t=!1){return e=Hw.checkMatrix(e),t?new qw(e).inverse():Kw(e,jw.eye(e.rows))},hw.linearDependencies=function(e,t={}){const{thresholdValue:n=1e-9,thresholdError:r=1e-9}=t;let i=(e=jw.checkMatrix(e)).rows,o=new jw(i,i);for(let t=0;t<i;t++){let a=jw.columnVector(e.getRow(t)),s=e.subMatrixRow(Xw(i,t)).transpose(),l=new qw(s).solve(a),u=jw.sub(a,s.mmul(l)).abs().max();o.setRow(t,Qw(u,l,t,n,r))}return o},hw.pseudoInverse=function(e,t=Number.EPSILON){if((e=jw.checkMatrix(e)).isEmpty())return e.transpose();let n=new qw(e,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,o=n.diagonal;for(let e=0;e<o.length;e++)Math.abs(o[e])>t?o[e]=1/o[e]:o[e]=0;return i.mmul(jw.diag(o).mmul(r.transpose()))},hw.solve=Kw,hw.wrap=function(e,t){if(bw.isAnyArray(e))return e[0]&&bw.isAnyArray(e[0])?new Hw(e):new Vw(e,t);throw new Error("the argument is not an array")};const ox=nx,ax=rx;ix.Matrix&&ix.Matrix;const sx={center:[0,0],linkDistance:50};class lx{constructor(e={}){this.options=e,this.id="mds",this.options=Object.assign(Object.assign({},sx),e)}execute(e,t){return Ut(this,void 0,void 0,(function*(){return this.genericMDSLayout(!1,e,t)}))}assign(e,t){return Ut(this,void 0,void 0,(function*(){yield this.genericMDSLayout(!0,e,t)}))}genericMDSLayout(e,t,n){return Ut(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},this.options),n),{center:i=[0,0],linkDistance:o=50}=r,a=t.getAllNodes(),s=t.getAllEdges();if(!(null==a?void 0:a.length)||1===a.length)return Ab(t,e,i);const l=Eb({nodes:a,edges:s}),u=xb(l);ux(u);const c=((e,t)=>{const n=[];return e.forEach((e=>{const r=[];e.forEach((e=>{r.push(e*t)})),n.push(r)})),n})(u,o),d=cx(c),f=[];d.forEach(((e,t)=>{const n=Tb(a[t]);n.data.x=e[0]+i[0],n.data.y=e[1]+i[1],f.push(n)})),e&&f.forEach((e=>t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y})));return{nodes:f,edges:s}}))}}const ux=e=>{let t=-999999;e.forEach((e=>{e.forEach((e=>{e!==1/0&&t<e&&(t=e)}))})),e.forEach(((n,r)=>{n.forEach(((n,i)=>{n===1/0&&(e[r][i]=t)}))}))},cx=e=>{const t=ox.mul(ox.pow(e,2),-.5),n=t.mean("row"),r=t.mean("column"),i=t.mean();t.add(i).subRowVector(n).subColumnVector(r);const o=new ax(t),a=ox.sqrt(o.diagonalMatrix).diagonal();return o.leftSingularVectors.toJSON().map((e=>ox.mul([e],[a]).toJSON()[0].splice(0,2)))};function dx(e){return!!e.tick&&!!e.stop}const fx={gForce:!0,force2:!0,d3force:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0},hx={center:[0,0],comboPadding:10,treeKey:"combo"};function px(e,t,n,r){var i;return Ut(this,void 0,void 0,(function*(){return dx(e)?(e.execute(t,n),e.stop(),e.tick(null!==(i=n.iterations)&&void 0!==i?i:300)):r?yield e.assign(t,n):yield e.execute(t,n)}))}function gx(e,t){var n,r=1;function i(){var i,o,a=n.length,s=0,l=0;for(i=0;i<a;++i)s+=(o=n[i]).x,l+=o.y;for(s=(s/a-e)*r,l=(l/a-t)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=l}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i}function vx(e){return function(){return e}}function mx(e){return 1e-6*(e()-.5)}function yx(e){return e.x+e.vx}function bx(e){return e.y+e.vy}function wx(e){var t,n,r,i=1,o=1;function a(){for(var e,a,l,u,c,d,f,h=t.length,p=0;p<o;++p)for(a=Vb(t,yx,bx).visitAfter(s),e=0;e<h;++e)l=t[e],d=n[l.index],f=d*d,u=l.x+l.vx,c=l.y+l.vy,a.visit(g);function g(e,t,n,o,a){var s=e.data,h=e.r,p=d+h;if(!s)return t>u+p||o<u-p||n>c+p||a<c-p;if(s.index>l.index){var g=u-s.x-s.vx,v=c-s.y-s.vy,m=g*g+v*v;m<p*p&&(0===g&&(m+=(g=mx(r))*g),0===v&&(m+=(v=mx(r))*v),m=(p-(m=Math.sqrt(m)))/m*i,l.vx+=(g*=m)*(p=(h*=h)/(f+h)),l.vy+=(v*=m)*p,s.vx-=g*(p=1-p),s.vy-=v*p)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!=typeof e&&(e=vx(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,l()},a.iterations=function(e){return arguments.length?(o=+e,a):o},a.strength=function(e){return arguments.length?(i=+e,a):i},a.radius=function(t){return arguments.length?(e="function"==typeof t?t:vx(+t),l(),a):e},a}function xx(e){return e.index}function Ex(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function kx(e){var t,n,r,i,o,a,s=xx,l=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},u=vx(30),c=1;function d(r){for(var i=0,s=e.length;i<c;++i)for(var l,u,d,f,h,p,g,v=0;v<s;++v)u=(l=e[v]).source,f=(d=l.target).x+d.vx-u.x-u.vx||mx(a),h=d.y+d.vy-u.y-u.vy||mx(a),f*=p=((p=Math.sqrt(f*f+h*h))-n[v])/p*r*t[v],h*=p,d.vx-=f*(g=o[v]),d.vy-=h*g,u.vx+=f*(g=1-g),u.vy+=h*g}function f(){if(r){var a,l,u=r.length,c=e.length,d=new Map(r.map(((e,t)=>[s(e,t,r),e])));for(a=0,i=new Array(u);a<c;++a)(l=e[a]).index=a,"object"!=typeof l.source&&(l.source=Ex(d,l.source)),"object"!=typeof l.target&&(l.target=Ex(d,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)l=e[a],o[a]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);t=new Array(c),h(),n=new Array(c),p()}}function h(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+l(e[n],n,e)}function p(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+u(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){r=e,a=t,f()},d.links=function(t){return arguments.length?(e=t,f(),d):e},d.id=function(e){return arguments.length?(s=e,d):s},d.iterations=function(e){return arguments.length?(c=+e,d):c},d.strength=function(e){return arguments.length?(l="function"==typeof e?e:vx(+e),h(),d):l},d.distance=function(e){return arguments.length?(u="function"==typeof e?e:vx(+e),p(),d):u},d}var Sx={value:()=>{}};function Mx(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Tx(r)}function Tx(e){this._=e}function Cx(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function Nx(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Sx,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Tx.prototype=Mx.prototype={constructor:Tx,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=o[a]).type)i[n]=Nx(i[n],e.name,t);else if(null==t)for(n in i)i[n]=Nx(i[n],e.name,null);return this}for(;++a<s;)if((n=(e=o[a]).type)&&(n=Cx(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Tx(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var Px,Ox,_x=0,Rx=0,Ax=0,Dx=0,Lx=0,Ix=0,zx="object"==typeof performance&&performance.now?performance:Date,jx="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Fx(){return Lx||(jx(Bx),Lx=zx.now()+Ix)}function Bx(){Lx=0}function Ux(){this._call=this._time=this._next=null}function Wx(e,t,n){var r=new Ux;return r.restart(e,t,n),r}function Vx(){Lx=(Dx=zx.now())+Ix,_x=Rx=0;try{!function(){Fx(),++_x;for(var e,t=Px;t;)(e=Lx-t._time)>=0&&t._call.call(void 0,e),t=t._next;--_x}()}finally{_x=0,function(){var e,t,n=Px,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Px=t);Ox=e,Gx(r)}(),Lx=0}}function Hx(){var e=zx.now(),t=e-Dx;t>1e3&&(Ix-=t,Dx=e)}function Gx(e){_x||(Rx&&(Rx=clearTimeout(Rx)),e-Lx>24?(e<1/0&&(Rx=setTimeout(Vx,e-zx.now()-Ix)),Ax&&(Ax=clearInterval(Ax))):(Ax||(Dx=zx.now(),Ax=setInterval(Hx,1e3)),_x=1,jx(Vx)))}Ux.prototype=Wx.prototype={constructor:Ux,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Fx():+n)+(null==t?0:+t),this._next||Ox===this||(Ox?Ox._next=this:Px=this,Ox=this),this._call=e,this._time=n,Gx()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gx())}};const $x=4294967296;function Yx(e){return e.x}function qx(e){return e.y}var Kx=Math.PI*(3-Math.sqrt(5));function Xx(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=Wx(d),u=Mx("tick","end"),c=function(){let e=1;return()=>(e=(1664525*e+1013904223)%$x)/$x}();function d(){f(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function f(r){var l,u,c=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(o-n)*i,s.forEach((function(e){e(n)})),l=0;l<c;++l)null==(u=e[l]).fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),o=n*Kx;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,c),t}return null==e&&(e=[]),h(),t={tick:f,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),s.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(c=e,s.forEach(p),t):c},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var i,o,a,s,l,u=0,c=e.length;for(null==r?r=1/0:r*=r,u=0;u<c;++u)(a=(i=t-(s=e[u]).x)*i+(o=n-s.y)*o)<r&&(l=s,r=a);return l},on:function(e,n){return arguments.length>1?(u.on(e,n),t):u.on(e)}}}function Qx(){var e,t,n,r,i,o=vx(-30),a=1,s=1/0,l=.81;function u(n){var i,o=e.length,a=Vb(e,Yx,qx).visitAfter(d);for(r=n,i=0;i<o;++i)t=e[i],a.visit(f)}function c(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+o(n,t,e)}}function d(e){var t,n,r,o,a,s=0,l=0;if(e.length){for(r=o=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,l+=n,r+=n*t.x,o+=n*t.y);e.x=r/l,e.y=o/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=i[t.data.index]}while(t=t.next)}e.value=s}function f(e,o,u,c){if(!e.value)return!0;var d=e.x-t.x,f=e.y-t.y,h=c-o,p=d*d+f*f;if(h*h/l<p)return p<s&&(0===d&&(p+=(d=mx(n))*d),0===f&&(p+=(f=mx(n))*f),p<a&&(p=Math.sqrt(a*p)),t.vx+=d*e.value*r/p,t.vy+=f*e.value*r/p),!0;if(!(e.length||p>=s)){(e.data!==t||e.next)&&(0===d&&(p+=(d=mx(n))*d),0===f&&(p+=(f=mx(n))*f),p<a&&(p=Math.sqrt(a*p)));do{e.data!==t&&(h=i[e.data.index]*r/p,t.vx+=d*h,t.vy+=f*h)}while(e=e.next)}}return u.initialize=function(t,r){e=t,n=r,c()},u.strength=function(e){return arguments.length?(o="function"==typeof e?e:vx(+e),c(),u):o},u.distanceMin=function(e){return arguments.length?(a=e*e,u):Math.sqrt(a)},u.distanceMax=function(e){return arguments.length?(s=e*e,u):Math.sqrt(s)},u.theta=function(e){return arguments.length?(l=e*e,u):Math.sqrt(l)},u}function Zx(e,t,n){var r,i,o,a=vx(.1);function s(e){for(var a=0,s=r.length;a<s;++a){var l=r[a],u=l.x-t||1e-6,c=l.y-n||1e-6,d=Math.sqrt(u*u+c*c),f=(o[a]-d)*i[a]*e/d;l.vx+=u*f,l.vy+=c*f}}function l(){if(r){var t,n=r.length;for(i=new Array(n),o=new Array(n),t=0;t<n;++t)o[t]=+e(r[t],t,r),i[t]=isNaN(o[t])?0:+a(r[t],t,r)}}return"function"!=typeof e&&(e=vx(+e)),null==t&&(t=0),null==n&&(n=0),s.initialize=function(e){r=e,l()},s.strength=function(e){return arguments.length?(a="function"==typeof e?e:vx(+e),l(),s):a},s.radius=function(t){return arguments.length?(e="function"==typeof t?t:vx(+t),l(),s):e},s.x=function(e){return arguments.length?(t=+e,s):t},s.y=function(e){return arguments.length?(n=+e,s):n},s}function Jx(e){var t,n,r,i=vx(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!=typeof e&&(e=vx(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:vx(+e),a(),o):i},o.x=function(t){return arguments.length?(e="function"==typeof t?t:vx(+t),a(),o):e},o}function eE(e){var t,n,r,i=vx(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!=typeof e&&(e=vx(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:vx(+e),a(),o):i},o.y=function(t){return arguments.length?(e="function"==typeof t?t:vx(+t),a(),o):e},o}const tE=(e,t)=>t.reduce(((t,[n,r])=>t[n]&&void 0!==r?t[n].call(e,r):t),e);var nE,rE,iE,oE,aE,sE,lE,uE,cE,dE,fE,hE,pE,gE,vE,mE,yE,bE,wE,xE,EE,kE,SE,ME,TE,CE,NE,PE,OE,_E,RE,AE,DE,LE,IE,zE,jE,FE,BE,UE,WE,VE,HE,GE,$E,YE,qE,KE,XE,QE,ZE,JE,ek,tk,nk,rk,ik,ok,ak,sk,lk,uk,ck,dk,fk,hk,pk,gk,vk,mk,yk,bk,wk,xk,Ek,kk,Sk,Mk,Tk,Ck,Nk,Pk,Ok,_k,Rk,Ak,Dk,Lk,Ik,zk,jk,Fk,Bk,Uk,Wk,Vk,Hk,Gk,$k,Yk,qk,Kk,Xk,Qk,Zk,Jk,eS,tS;function nS(){if(oE)return iE;return oE=1,iE=function(e,t){return e===t||e!=e&&t!=t}}function rS(){if(sE)return aE;sE=1;var e=nS();return aE=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1},aE}function iS(){if(mE)return vE;mE=1;var e=rE?nE:(rE=1,nE=function(){this.__data__=[],this.size=0}),t=function(){if(uE)return lE;uE=1;var e=rS(),t=Array.prototype.splice;return lE=function(n){var r=this.__data__,i=e(r,n);return!(i<0||(i==r.length-1?r.pop():t.call(r,i,1),--this.size,0))},lE}(),n=function(){if(dE)return cE;dE=1;var e=rS();return cE=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]},cE}(),r=function(){if(hE)return fE;hE=1;var e=rS();return fE=function(t){return e(this.__data__,t)>-1}}(),i=function(){if(gE)return pE;gE=1;var e=rS();return pE=function(t,n){var r=this.__data__,i=e(r,t);return i<0?(++this.size,r.push([t,n])):r[i][1]=n,this},pE}();function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,vE=o}function oS(){if(CE)return TE;CE=1;var e="object"==typeof x&&x&&x.Object===Object&&x;return TE=e}function aS(){if(PE)return NE;PE=1;var e=oS(),t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return NE=n}function sS(){if(_E)return OE;_E=1;var e=aS().Symbol;return OE=e}function lS(){if(zE)return IE;zE=1;var e=sS(),t=function(){if(AE)return RE;AE=1;var e=sS(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;return RE=function(e){var t=n.call(e,i),o=e[i];try{e[i]=void 0;var a=!0}catch(e){}var s=r.call(e);return a&&(t?e[i]=o:delete e[i]),s}}(),n=function(){if(LE)return DE;LE=1;var e=Object.prototype.toString;return DE=function(t){return e.call(t)}}(),r=e?e.toStringTag:void 0;return IE=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?t(e):n(e)}}function uS(){if(FE)return jE;return FE=1,jE=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}function cS(){if(UE)return BE;UE=1;var e=lS(),t=uS();return BE=function(n){if(!t(n))return!1;var r=e(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}}function dS(){if(GE)return HE;GE=1;var e,t=function(){if(VE)return WE;VE=1;var e=aS()["__core-js_shared__"];return WE=e}(),n=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return HE=function(e){return!!n&&n in e}}function fS(){if(YE)return $E;YE=1;var e=Function.prototype.toString;return $E=function(t){if(null!=t){try{return e.call(t)}catch(e){}try{return t+""}catch(e){}}return""}}function hS(){if(JE)return ZE;JE=1;var e=function(){if(KE)return qE;KE=1;var e=cS(),t=dS(),n=uS(),r=fS(),i=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,s=o.toString,l=a.hasOwnProperty,u=RegExp("^"+s.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return qE=function(o){return!(!n(o)||t(o))&&(e(o)?u:i).test(r(o))}}(),t=QE?XE:(QE=1,XE=function(e,t){return null==e?void 0:e[t]});return ZE=function(n,r){var i=t(n,r);return e(i)?i:void 0}}function pS(){if(tk)return ek;tk=1;var e=hS()(aS(),"Map");return ek=e}function gS(){if(rk)return nk;rk=1;var e=hS()(Object,"create");return nk=e}function vS(){if(gk)return pk;gk=1;var e=function(){if(ok)return ik;ok=1;var e=gS();return ik=function(){this.__data__=e?e(null):{},this.size=0}}(),t=sk?ak:(sk=1,ak=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),n=function(){if(uk)return lk;uk=1;var e=gS(),t=Object.prototype.hasOwnProperty;return lk=function(n){var r=this.__data__;if(e){var i=r[n];return"__lodash_hash_undefined__"===i?void 0:i}return t.call(r,n)?r[n]:void 0},lk}(),r=function(){if(dk)return ck;dk=1;var e=gS(),t=Object.prototype.hasOwnProperty;return ck=function(n){var r=this.__data__;return e?void 0!==r[n]:t.call(r,n)},ck}(),i=function(){if(hk)return fk;hk=1;var e=gS();return fk=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=e&&void 0===n?"__lodash_hash_undefined__":n,this},fk}();function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,pk=o}function mS(){if(xk)return wk;xk=1;var e=bk?yk:(bk=1,yk=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return wk=function(t,n){var r=t.__data__;return e(n)?r["string"==typeof n?"string":"hash"]:r.map},wk}function yS(){if(_k)return Ok;_k=1;var e=function(){if(mk)return vk;mk=1;var e=vS(),t=iS(),n=pS();return vk=function(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}}(),t=function(){if(kk)return Ek;kk=1;var e=mS();return Ek=function(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}}(),n=function(){if(Mk)return Sk;Mk=1;var e=mS();return Sk=function(t){return e(this,t).get(t)}}(),r=function(){if(Ck)return Tk;Ck=1;var e=mS();return Tk=function(t){return e(this,t).has(t)}}(),i=function(){if(Pk)return Nk;Pk=1;var e=mS();return Nk=function(t,n){var r=e(this,t),i=r.size;return r.set(t,n),this.size+=r.size==i?0:1,this},Nk}();function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Ok=o}function bS(){if(Lk)return Dk;Lk=1;var e=iS(),t=function(){if(bE)return yE;bE=1;var e=iS();return yE=function(){this.__data__=new e,this.size=0}}(),n=(xE||(xE=1,wE=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}),wE),r=kE?EE:(kE=1,EE=function(e){return this.__data__.get(e)}),i=ME?SE:(ME=1,SE=function(e){return this.__data__.has(e)}),o=function(){if(Ak)return Rk;Ak=1;var e=iS(),t=pS(),n=yS();return Rk=function(r,i){var o=this.__data__;if(o instanceof e){var a=o.__data__;if(!t||a.length<199)return a.push([r,i]),this.size=++o.size,this;o=this.__data__=new n(a)}return o.set(r,i),this.size=o.size,this},Rk}();function a(t){var n=this.__data__=new e(t);this.size=n.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,Dk=a}function wS(){if(zk)return Ik;return zk=1,Ik=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Ik}function xS(){if(Fk)return jk;Fk=1;var e=hS(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();return jk=t}function ES(){if(Uk)return Bk;Uk=1;var e=xS();return Bk=function(t,n,r){"__proto__"==n&&e?e(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}}function kS(){if(Vk)return Wk;Vk=1;var e=ES(),t=nS(),n=Object.prototype.hasOwnProperty;return Wk=function(r,i,o){var a=r[i];n.call(r,i)&&t(a,o)&&(void 0!==o||i in r)||e(r,i,o)}}function SS(){if(Gk)return Hk;Gk=1;var e=kS(),t=ES();return Hk=function(n,r,i,o){var a=!i;i||(i={});for(var s=-1,l=r.length;++s<l;){var u=r[s],c=o?o(i[u],n[u],u,i,n):void 0;void 0===c&&(c=n[u]),a?t(i,u,c):e(i,u,c)}return i},Hk}function MS(){if(Kk)return qk;return Kk=1,qk=function(e){return null!=e&&"object"==typeof e}}function TS(){if(Jk)return Zk;Jk=1;var e=function(){if(Qk)return Xk;Qk=1;var e=lS(),t=MS();return Xk=function(n){return t(n)&&"[object Arguments]"==e(n)}}(),t=MS(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(e){return t(e)&&r.call(e,"callee")&&!i.call(e,"callee")};return Zk=o}function CS(){if(tS)return eS;tS=1;var e=Array.isArray;return eS=e}var NS,PS,OS,_S,RS,AS,DS,LS,IS,zS,jS,FS={exports:{}};function BS(){return OS||(OS=1,function(e,t){var n=aS(),r=PS?NS:(PS=1,NS=function(){return!1}),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;e.exports=s}(FS,FS.exports)),FS.exports}function US(){if(RS)return _S;RS=1;var e=/^(?:0|[1-9]\d*)$/;return _S=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n},_S}function WS(){if(DS)return AS;DS=1;return AS=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}}function VS(){if(jS)return zS;return jS=1,zS=function(e){return function(t){return e(t)}}}var HS,GS,$S,YS,qS,KS,XS,QS,ZS,JS,eM,tM,nM,rM,iM,oM,aM,sM,lM,uM,cM,dM,fM,hM,pM,gM,vM,mM={exports:{}};function yM(){return HS||(HS=1,function(e,t){var n=oS(),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r&&n.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a}(mM,mM.exports)),mM.exports}function bM(){if($S)return GS;$S=1;var e=function(){if(IS)return LS;IS=1;var e=lS(),t=WS(),n=MS(),r={};return r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,LS=function(i){return n(i)&&t(i.length)&&!!r[e(i)]}}(),t=VS(),n=yM(),r=n&&n.isTypedArray,i=r?t(r):e;return GS=i}function wM(){if(qS)return YS;qS=1;var e=(Yk||(Yk=1,$k=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}),$k),t=TS(),n=CS(),r=BS(),i=US(),o=bM(),a=Object.prototype.hasOwnProperty;return YS=function(s,l){var u=n(s),c=!u&&t(s),d=!u&&!c&&r(s),f=!u&&!c&&!d&&o(s),h=u||c||d||f,p=h?e(s.length,String):[],g=p.length;for(var v in s)!l&&!a.call(s,v)||h&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||i(v,g))||p.push(v);return p},YS}function xM(){if(XS)return KS;XS=1;var e=Object.prototype;return KS=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}}function EM(){if(ZS)return QS;return ZS=1,QS=function(e,t){return function(n){return e(t(n))}}}function kM(){if(nM)return tM;nM=1;var e=xM(),t=function(){if(eM)return JS;eM=1;var e=EM()(Object.keys,Object);return JS=e}(),n=Object.prototype.hasOwnProperty;return tM=function(r){if(!e(r))return t(r);var i=[];for(var o in Object(r))n.call(r,o)&&"constructor"!=o&&i.push(o);return i}}function SM(){if(iM)return rM;iM=1;var e=cS(),t=WS();return rM=function(n){return null!=n&&t(n.length)&&!e(n)}}function MM(){if(aM)return oM;aM=1;var e=wM(),t=kM(),n=SM();return oM=function(r){return n(r)?e(r):t(r)}}function TM(){if(fM)return dM;fM=1;var e=uS(),t=xM(),n=cM?uM:(cM=1,uM=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}),r=Object.prototype.hasOwnProperty;return dM=function(i){if(!e(i))return n(i);var o=t(i),a=[];for(var s in i)("constructor"!=s||!o&&r.call(i,s))&&a.push(s);return a}}function CM(){if(pM)return hM;pM=1;var e=wM(),t=TM(),n=SM();return hM=function(r){return n(r)?e(r,!0):t(r)}}var NM,PM,OM,_M,RM,AM,DM,LM,IM,zM,jM,FM,BM,UM,WM,VM,HM,GM,$M,YM,qM,KM,XM,QM,ZM,JM,eT,tT,nT,rT,iT,oT,aT,sT,lT,uT,cT,dT,fT,hT,pT,gT,vT,mT,yT,bT,wT,xT,ET,kT,ST,MT,TT,CT,NT,PT,OT,_T,RT,AT,DT,LT,IT,zT,jT,FT,BT,UT,WT,VT,HT,GT,$T,YT,qT,KT,XT,QT,ZT,JT,eC,tC,nC,rC,iC,oC,aC,sC,lC,uC,cC,dC,fC,hC,pC,gC,vC,mC,yC,bC,wC,xC,EC,kC,SC,MC,TC,CC,NC,PC,OC,_C,RC,AC,DC,LC,IC,zC,jC,FC,BC,UC,WC,VC,HC,GC,$C,YC,qC,KC,XC,QC,ZC,JC,eN,tN,nN,rN,iN,oN,aN,sN,lN,uN,cN,dN,fN,hN,pN,gN,vN,mN,yN,bN,wN,xN,EN,kN,SN,MN,TN,CN,NN,PN,ON,_N,RN,AN,DN,LN,IN,zN,jN,FN,BN,UN,WN,VN,HN,GN,$N,YN,qN,KN,XN,QN,ZN,JN,eP,tP,nP,rP,iP,oP,aP,sP,lP,uP,cP,dP,fP,hP,pP,gP,vP,mP,yP,bP,wP,xP,EP,kP,SP,MP,TP,CP,NP,PP,OP,_P,RP,AP,DP,LP,IP,zP,jP,FP,BP,UP,WP,VP,HP,GP,$P,YP,qP,KP,XP,QP,ZP,JP,eO,tO,nO,rO,iO,oO,aO,sO,lO,uO,cO,dO,fO,hO,pO,gO,vO,mO,yO,bO,wO,xO,EO,kO,SO,MO,TO,CO,NO,PO,OO,_O,RO,AO,DO,LO,IO,zO,jO={exports:{}};function FO(){return NM||(NM=1,function(e,t){var n=aS(),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}(jO,jO.exports)),jO.exports}function BO(){if(OM)return PM;return OM=1,PM=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},PM}function UO(){if(RM)return _M;return RM=1,_M=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},_M}function WO(){if(DM)return AM;return DM=1,AM=function(){return[]}}function VO(){if(IM)return LM;IM=1;var e=UO(),t=WO(),n=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;return LM=r?function(t){return null==t?[]:(t=Object(t),e(r(t),(function(e){return n.call(t,e)})))}:t}function HO(){if(BM)return FM;return BM=1,FM=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},FM}function GO(){if(WM)return UM;WM=1;var e=EM()(Object.getPrototypeOf,Object);return UM=e}function $O(){if(HM)return VM;HM=1;var e=HO(),t=GO(),n=VO(),r=WO(),i=Object.getOwnPropertySymbols;return VM=i?function(r){for(var i=[];r;)e(i,n(r)),r=t(r);return i}:r}function YO(){if(qM)return YM;qM=1;var e=HO(),t=CS();return YM=function(n,r,i){var o=r(n);return t(n)?o:e(o,i(n))}}function qO(){if(XM)return KM;XM=1;var e=YO(),t=VO(),n=MM();return KM=function(r){return e(r,n,t)}}function KO(){if(iT)return rT;iT=1;var e=hS()(aS(),"Set");return rT=e}function XO(){if(lT)return sT;lT=1;var e=function(){if(eT)return JM;eT=1;var e=hS()(aS(),"DataView");return JM=e}(),t=pS(),n=function(){if(nT)return tT;nT=1;var e=hS()(aS(),"Promise");return tT=e}(),r=KO(),i=function(){if(aT)return oT;aT=1;var e=hS()(aS(),"WeakMap");return oT=e}(),o=lS(),a=fS(),s="[object Map]",l="[object Promise]",u="[object Set]",c="[object WeakMap]",d="[object DataView]",f=a(e),h=a(t),p=a(n),g=a(r),v=a(i),m=o;return(e&&m(new e(new ArrayBuffer(1)))!=d||t&&m(new t)!=s||n&&m(n.resolve())!=l||r&&m(new r)!=u||i&&m(new i)!=c)&&(m=function(e){var t=o(e),n="[object Object]"==t?e.constructor:void 0,r=n?a(n):"";if(r)switch(r){case f:return d;case h:return s;case p:return l;case g:return u;case v:return c}return t}),sT=m}function QO(){if(fT)return dT;fT=1;var e=aS().Uint8Array;return dT=e}function ZO(){if(pT)return hT;pT=1;var e=QO();return hT=function(t){var n=new t.constructor(t.byteLength);return new e(n).set(new e(t)),n}}function JO(){if(ET)return xT;ET=1;var e=ZO();return xT=function(t,n){var r=n?e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}}function e_(){if(ST)return kT;ST=1;var e=ZO(),t=function(){if(vT)return gT;vT=1;var e=ZO();return gT=function(t,n){var r=n?e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}}(),n=function(){if(yT)return mT;yT=1;var e=/\w*$/;return mT=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}}(),r=function(){if(wT)return bT;wT=1;var e=sS(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;return bT=function(e){return n?Object(n.call(e)):{}}}(),i=JO();return kT=function(o,a,s){var l=o.constructor;switch(a){case"[object ArrayBuffer]":return e(o);case"[object Boolean]":case"[object Date]":return new l(+o);case"[object DataView]":return t(o,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return i(o,s);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(o);case"[object RegExp]":return n(o);case"[object Symbol]":return r(o)}}}function t_(){if(TT)return MT;TT=1;var e=uS(),t=Object.create,n=function(){function n(){}return function(r){if(!e(r))return{};if(t)return t(r);n.prototype=r;var i=new n;return n.prototype=void 0,i}}();return MT=n}function n_(){if(NT)return CT;NT=1;var e=t_(),t=GO(),n=xM();return CT=function(r){return"function"!=typeof r.constructor||n(r)?{}:e(t(r))}}function r_(){if(RT)return _T;RT=1;var e=function(){if(OT)return PT;OT=1;var e=XO(),t=MS();return PT=function(n){return t(n)&&"[object Map]"==e(n)}}(),t=VS(),n=yM(),r=n&&n.isMap,i=r?t(r):e;return _T=i}function i_(){if(IT)return LT;IT=1;var e=function(){if(DT)return AT;DT=1;var e=XO(),t=MS();return AT=function(n){return t(n)&&"[object Set]"==e(n)}}(),t=VS(),n=yM(),r=n&&n.isSet,i=r?t(r):e;return LT=i}function o_(){if(jT)return zT;jT=1;var e=bS(),t=wS(),n=kS(),r=function(){if(lM)return sM;lM=1;var e=SS(),t=MM();return sM=function(n,r){return n&&e(r,t(r),n)}}(),i=function(){if(vM)return gM;vM=1;var e=SS(),t=CM();return gM=function(n,r){return n&&e(r,t(r),n)}}(),o=FO(),a=BO(),s=function(){if(jM)return zM;jM=1;var e=SS(),t=VO();return zM=function(n,r){return e(n,t(n),r)}}(),l=function(){if($M)return GM;$M=1;var e=SS(),t=$O();return GM=function(n,r){return e(n,t(n),r)}}(),u=qO(),c=function(){if(ZM)return QM;ZM=1;var e=YO(),t=$O(),n=CM();return QM=function(r){return e(r,n,t)}}(),d=XO(),f=function(){if(cT)return uT;cT=1;var e=Object.prototype.hasOwnProperty;return uT=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r},uT}(),h=e_(),p=n_(),g=CS(),v=BS(),m=r_(),y=uS(),b=i_(),w=MM(),x=CM(),E="[object Arguments]",k="[object Function]",S="[object Object]",M={};return M[E]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M[S]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M[k]=M["[object WeakMap]"]=!1,zT=function T(C,N,P,O,_,R){var A,D=1&N,L=2&N,I=4&N;if(P&&(A=_?P(C,O,_,R):P(C)),void 0!==A)return A;if(!y(C))return C;var z=g(C);if(z){if(A=f(C),!D)return a(C,A)}else{var j=d(C),F=j==k||"[object GeneratorFunction]"==j;if(v(C))return o(C,D);if(j==S||j==E||F&&!_){if(A=L||F?{}:p(C),!D)return L?l(C,i(A,C)):s(C,r(A,C))}else{if(!M[j])return _?C:{};A=h(C,j,D)}}R||(R=new e);var B=R.get(C);if(B)return B;R.set(C,A),b(C)?C.forEach((function(e){A.add(T(e,N,P,e,C,R))})):m(C)&&C.forEach((function(e,t){A.set(t,T(e,N,P,t,C,R))}));var U=z?void 0:(I?L?c:u:L?x:w)(C);return t(U||C,(function(e,t){U&&(e=C[t=e]),n(A,t,T(e,N,P,t,C,R))})),A},zT}function a_(){if(BT)return FT;BT=1;var e=o_();return FT=function(t){return e(t,4)}}function s_(){if(WT)return UT;return WT=1,UT=function(e){return function(){return e}}}function l_(){if($T)return GT;$T=1;var e=(HT||(HT=1,VT=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}),VT),t=e();return GT=t}function u_(){if(qT)return YT;qT=1;var e=l_(),t=MM();return YT=function(n,r){return n&&e(n,r,t)}}function c_(){if(ZT)return QT;ZT=1;var e=u_(),t=function(){if(XT)return KT;XT=1;var e=SM();return KT=function(t,n){return function(r,i){if(null==r)return r;if(!e(r))return t(r,i);for(var o=r.length,a=n?o:-1,s=Object(r);(n?a--:++a<o)&&!1!==i(s[a],a,s););return r}},KT}(),n=t(e);return QT=n}function d_(){if(eC)return JT;return eC=1,JT=function(e){return e}}function f_(){if(nC)return tC;nC=1;var e=d_();return tC=function(t){return"function"==typeof t?t:e}}function h_(){if(iC)return rC;iC=1;var e=wS(),t=c_(),n=f_(),r=CS();return rC=function(i,o){return(r(i)?e:t)(i,n(o))}}function p_(){return aC?oC:(aC=1,oC=h_())}function g_(){if(pC)return hC;pC=1;var e=yS(),t=cC?uC:(cC=1,uC=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}),n=fC?dC:(fC=1,dC=function(e){return this.__data__.has(e)});function r(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new e;++n<r;)this.add(t[n])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,hC=r}function v_(){if(yC)return mC;return yC=1,mC=function(e,t){return e.has(t)}}function m_(){if(wC)return bC;wC=1;var e=g_(),t=(vC||(vC=1,gC=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}),gC),n=v_();return bC=function(r,i,o,a,s,l){var u=1&o,c=r.length,d=i.length;if(c!=d&&!(u&&d>c))return!1;var f=l.get(r),h=l.get(i);if(f&&h)return f==i&&h==r;var p=-1,g=!0,v=2&o?new e:void 0;for(l.set(r,i),l.set(i,r);++p<c;){var m=r[p],y=i[p];if(a)var b=u?a(y,m,p,i,r,l):a(m,y,p,r,i,l);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!t(i,(function(e,t){if(!n(v,t)&&(m===e||s(m,e,o,a,l)))return v.push(t)}))){g=!1;break}}else if(m!==y&&!s(m,y,o,a,l)){g=!1;break}}return l.delete(r),l.delete(i),g},bC}function y_(){if(SC)return kC;return SC=1,kC=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},kC}function b_(){if(TC)return MC;TC=1;var e=sS(),t=QO(),n=nS(),r=m_(),i=(EC||(EC=1,xC=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}),xC),o=y_(),a=e?e.prototype:void 0,s=a?a.valueOf:void 0;return MC=function(e,a,l,u,c,d,f){switch(l){case"[object DataView]":if(e.byteLength!=a.byteLength||e.byteOffset!=a.byteOffset)return!1;e=e.buffer,a=a.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=a.byteLength||!d(new t(e),new t(a)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+e,+a);case"[object Error]":return e.name==a.name&&e.message==a.message;case"[object RegExp]":case"[object String]":return e==a+"";case"[object Map]":var h=i;case"[object Set]":var p=1&u;if(h||(h=o),e.size!=a.size&&!p)return!1;var g=f.get(e);if(g)return g==a;u|=2,f.set(e,a);var v=r(h(e),h(a),u,c,d,f);return f.delete(e),v;case"[object Symbol]":if(s)return s.call(e)==s.call(a)}return!1}}function w_(){if(OC)return PC;OC=1;var e=bS(),t=m_(),n=b_(),r=function(){if(NC)return CC;NC=1;var e=qO(),t=Object.prototype.hasOwnProperty;return CC=function(n,r,i,o,a,s){var l=1&i,u=e(n),c=u.length;if(c!=e(r).length&&!l)return!1;for(var d=c;d--;){var f=u[d];if(!(l?f in r:t.call(r,f)))return!1}var h=s.get(n),p=s.get(r);if(h&&p)return h==r&&p==n;var g=!0;s.set(n,r),s.set(r,n);for(var v=l;++d<c;){var m=n[f=u[d]],y=r[f];if(o)var b=l?o(y,m,f,r,n,s):o(m,y,f,n,r,s);if(!(void 0===b?m===y||a(m,y,i,o,s):b)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var w=n.constructor,x=r.constructor;w==x||!("constructor"in n)||!("constructor"in r)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(g=!1)}return s.delete(n),s.delete(r),g},CC}(),i=XO(),o=CS(),a=BS(),s=bM(),l="[object Arguments]",u="[object Array]",c="[object Object]",d=Object.prototype.hasOwnProperty;return PC=function(f,h,p,g,v,m){var y=o(f),b=o(h),w=y?u:i(f),x=b?u:i(h),E=(w=w==l?c:w)==c,k=(x=x==l?c:x)==c,S=w==x;if(S&&a(f)){if(!a(h))return!1;y=!0,E=!1}if(S&&!E)return m||(m=new e),y||s(f)?t(f,h,p,g,v,m):n(f,h,w,p,g,v,m);if(!(1&p)){var M=E&&d.call(f,"__wrapped__"),T=k&&d.call(h,"__wrapped__");if(M||T){var C=M?f.value():f,N=T?h.value():h;return m||(m=new e),v(C,N,p,g,m)}}return!!S&&(m||(m=new e),r(f,h,p,g,v,m))}}function x_(){if(RC)return _C;RC=1;var e=w_(),t=MS();return _C=function n(r,i,o,a,s){return r===i||(null==r||null==i||!t(r)&&!t(i)?r!=r&&i!=i:e(r,i,o,a,n,s))},_C}function E_(){if(IC)return LC;IC=1;var e=uS();return LC=function(t){return t==t&&!e(t)}}function k_(){if(BC)return FC;return BC=1,FC=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}}function S_(){if(WC)return UC;WC=1;var e=function(){if(DC)return AC;DC=1;var e=bS(),t=x_();return AC=function(n,r,i,o){var a=i.length,s=a,l=!o;if(null==n)return!s;for(n=Object(n);a--;){var u=i[a];if(l&&u[2]?u[1]!==n[u[0]]:!(u[0]in n))return!1}for(;++a<s;){var c=(u=i[a])[0],d=n[c],f=u[1];if(l&&u[2]){if(void 0===d&&!(c in n))return!1}else{var h=new e;if(o)var p=o(d,f,c,n,r,h);if(!(void 0===p?t(f,d,3,o,h):p))return!1}}return!0},AC}(),t=function(){if(jC)return zC;jC=1;var e=E_(),t=MM();return zC=function(n){for(var r=t(n),i=r.length;i--;){var o=r[i],a=n[o];r[i]=[o,a,e(a)]}return r},zC}(),n=k_();return UC=function(r){var i=t(r);return 1==i.length&&i[0][2]?n(i[0][0],i[0][1]):function(t){return t===r||e(t,r,i)}}}function M_(){if(HC)return VC;HC=1;var e=lS(),t=MS();return VC=function(n){return"symbol"==typeof n||t(n)&&"[object Symbol]"==e(n)}}function T_(){if($C)return GC;$C=1;var e=CS(),t=M_(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;return GC=function(i,o){if(e(i))return!1;var a=typeof i;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=i&&!t(i))||(r.test(i)||!n.test(i)||null!=o&&i in Object(o))}}function C_(){if(XC)return KC;XC=1;var e=function(){if(qC)return YC;qC=1;var e=yS();function t(n,r){if("function"!=typeof n||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var i=function(){var e=arguments,t=r?r.apply(this,e):e[0],o=i.cache;if(o.has(t))return o.get(t);var a=n.apply(this,e);return i.cache=o.set(t,a)||o,a};return i.cache=new(t.Cache||e),i}return t.Cache=e,YC=t}();return KC=function(t){var n=e(t,(function(e){return 500===r.size&&r.clear(),e})),r=n.cache;return n}}function N_(){if(eN)return JC;return eN=1,JC=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},JC}function P_(){if(iN)return rN;iN=1;var e=function(){if(nN)return tN;nN=1;var e=sS(),t=N_(),n=CS(),r=M_(),i=e?e.prototype:void 0,o=i?i.toString:void 0;return tN=function e(i){if("string"==typeof i)return i;if(n(i))return t(i,e)+"";if(r(i))return o?o.call(i):"";var a=i+"";return"0"==a&&1/i==-1/0?"-0":a},tN}();return rN=function(t){return null==t?"":e(t)}}function O_(){if(aN)return oN;aN=1;var e=CS(),t=T_(),n=function(){if(ZC)return QC;ZC=1;var e=C_(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e((function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(t,(function(e,t,i,o){r.push(i?o.replace(n,"$1"):t||e)})),r}));return QC=r}(),r=P_();return oN=function(i,o){return e(i)?i:t(i,o)?[i]:n(r(i))}}function __(){if(lN)return sN;lN=1;var e=M_();return sN=function(t){if("string"==typeof t||e(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}}function R_(){if(cN)return uN;cN=1;var e=O_(),t=__();return uN=function(n,r){for(var i=0,o=(r=e(r,n)).length;null!=n&&i<o;)n=n[t(r[i++])];return i&&i==o?n:void 0},uN}function A_(){if(vN)return gN;vN=1;var e=O_(),t=TS(),n=CS(),r=US(),i=WS(),o=__();return gN=function(a,s,l){for(var u=-1,c=(s=e(s,a)).length,d=!1;++u<c;){var f=o(s[u]);if(!(d=null!=a&&l(a,f)))break;a=a[f]}return d||++u!=c?d:!!(c=null==a?0:a.length)&&i(c)&&r(f,c)&&(n(a)||t(a))},gN}function D_(){if(yN)return mN;yN=1;var e=pN?hN:(pN=1,hN=function(e,t){return null!=e&&t in Object(e)}),t=A_();return mN=function(n,r){return null!=n&&t(n,r,e)}}function L_(){if(wN)return bN;wN=1;var e=x_(),t=function(){if(fN)return dN;fN=1;var e=R_();return dN=function(t,n,r){var i=null==t?void 0:e(t,n);return void 0===i?r:i}}(),n=D_(),r=T_(),i=E_(),o=k_(),a=__();return bN=function(s,l){return r(s)&&i(l)?o(a(s),l):function(r){var i=t(r,s);return void 0===i&&i===l?n(r,s):e(l,i,3)}}}function I_(){if(EN)return xN;return EN=1,xN=function(e){return function(t){return null==t?void 0:t[e]}}}function z_(){if(TN)return MN;TN=1;var e=I_(),t=function(){if(SN)return kN;SN=1;var e=R_();return kN=function(t){return function(n){return e(n,t)}}}(),n=T_(),r=__();return MN=function(i){return n(i)?e(r(i)):t(i)}}function j_(){if(NN)return CN;NN=1;var e=S_(),t=L_(),n=d_(),r=CS(),i=z_();return CN=function(o){return"function"==typeof o?o:null==o?n:"object"==typeof o?r(o)?t(o[0],o[1]):e(o):i(o)}}function F_(){if(ON)return PN;ON=1;var e=UO(),t=function(){if(lC)return sC;lC=1;var e=c_();return sC=function(t,n){var r=[];return e(t,(function(e,t,i){n(e,t,i)&&r.push(e)})),r},sC}(),n=j_(),r=CS();return PN=function(i,o){return(r(i)?e:t)(i,n(o,3))}}function B_(){if(DN)return AN;DN=1;var e=function(){if(RN)return _N;RN=1;var e=Object.prototype.hasOwnProperty;return _N=function(t,n){return null!=t&&e.call(t,n)}}(),t=A_();return AN=function(n,r){return null!=n&&t(n,r,e)}}function U_(){if(IN)return LN;IN=1;var e=kM(),t=XO(),n=TS(),r=CS(),i=SM(),o=BS(),a=xM(),s=bM(),l=Object.prototype.hasOwnProperty;return LN=function(u){if(null==u)return!0;if(i(u)&&(r(u)||"string"==typeof u||"function"==typeof u.splice||o(u)||s(u)||n(u)))return!u.length;var c=t(u);if("[object Map]"==c||"[object Set]"==c)return!u.size;if(a(u))return!e(u).length;for(var d in u)if(l.call(u,d))return!1;return!0}}function W_(){if(jN)return zN;return jN=1,zN=function(e){return void 0===e}}function V_(){if(BN)return FN;BN=1;var e=c_(),t=SM();return FN=function(n,r){var i=-1,o=t(n)?Array(n.length):[];return e(n,(function(e,t,n){o[++i]=r(e,t,n)})),o},FN}function H_(){if(WN)return UN;WN=1;var e=N_(),t=j_(),n=V_(),r=CS();return UN=function(i,o){return(r(i)?e:n)(i,t(o,3))}}function G_(){if(qN)return YN;qN=1;var e=(HN||(HN=1,VN=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}),VN),t=c_(),n=j_(),r=($N||($N=1,GN=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}),GN),i=CS();return YN=function(o,a,s){var l=i(o)?e:r,u=arguments.length<3;return l(o,n(a,4),s,u,t)},YN}function $_(){if(iP)return rP;iP=1;var e=function(){if(ZN)return QN;ZN=1;var e=I_()("length");return QN=e}(),t=function(){if(eP)return JN;eP=1;var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return JN=function(t){return e.test(t)}}(),n=function(){if(nP)return tP;nP=1;var e="\\ud800-\\udfff",t="["+e+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^"+e+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")?",l="[\\ufe0e\\ufe0f]?",u=l+s+"(?:\\u200d(?:"+[i,o,a].join("|")+")"+l+s+")*",c="(?:"+[i+n+"?",n,o,a,t].join("|")+")",d=RegExp(r+"(?="+r+")|"+c+u,"g");return tP=function(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}}();return rP=function(r){return t(r)?n(r):e(r)}}function Y_(){if(aP)return oP;aP=1;var e=kM(),t=XO(),n=SM(),r=function(){if(XN)return KN;XN=1;var e=lS(),t=CS(),n=MS();return KN=function(r){return"string"==typeof r||!t(r)&&n(r)&&"[object String]"==e(r)}}(),i=$_();return oP=function(o){if(null==o)return 0;if(n(o))return r(o)?i(o):o.length;var a=t(o);return"[object Map]"==a||"[object Set]"==a?o.size:e(o).length}}function q_(){if(lP)return sP;lP=1;var e=wS(),t=t_(),n=u_(),r=j_(),i=GO(),o=CS(),a=BS(),s=cS(),l=uS(),u=bM();return sP=function(c,d,f){var h=o(c),p=h||a(c)||u(c);if(d=r(d,4),null==f){var g=c&&c.constructor;f=p?h?new g:[]:l(c)&&s(g)?t(i(c)):{}}return(p?e:n)(c,(function(e,t,n){return d(f,e,t,n)})),f},sP}function K_(){if(fP)return dP;fP=1;var e=HO(),t=function(){if(cP)return uP;cP=1;var e=sS(),t=TS(),n=CS(),r=e?e.isConcatSpreadable:void 0;return uP=function(e){return n(e)||t(e)||!!(r&&e&&e[r])}}();return dP=function n(r,i,o,a,s){var l=-1,u=r.length;for(o||(o=t),s||(s=[]);++l<u;){var c=r[l];i>0&&o(c)?i>1?n(c,i-1,o,a,s):e(s,c):a||(s[s.length]=c)}return s},dP}function X_(){if(vP)return gP;vP=1;var e=pP?hP:(pP=1,hP=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}),t=Math.max;return gP=function(n,r,i){return r=t(void 0===r?n.length-1:r,0),function(){for(var o=arguments,a=-1,s=t(o.length-r,0),l=Array(s);++a<s;)l[a]=o[r+a];a=-1;for(var u=Array(r+1);++a<r;)u[a]=o[a];return u[r]=i(l),e(n,this,u)}},gP}function Q_(){if(EP)return xP;EP=1;var e=function(){if(yP)return mP;yP=1;var e=s_(),t=xS(),n=d_();return mP=t?function(n,r){return t(n,"toString",{configurable:!0,enumerable:!1,value:e(r),writable:!0})}:n}(),t=function(){if(wP)return bP;wP=1;var e=Date.now;return bP=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}},bP}(),n=t(e);return xP=n}function Z_(){if(SP)return kP;SP=1;var e=d_(),t=X_(),n=Q_();return kP=function(r,i){return n(t(r,i,e),r+"")}}function J_(){if(TP)return MP;return TP=1,MP=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1},MP}function eR(){if(RP)return _P;RP=1;var e=J_(),t=NP?CP:(NP=1,CP=function(e){return e!=e}),n=(OP||(OP=1,PP=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}),PP);return _P=function(r,i,o){return i==i?n(r,i,o):e(r,t,o)}}function tR(){if(BP)return FP;BP=1;var e=KO(),t=jP?zP:(jP=1,zP=function(){}),n=y_(),r=e&&1/n(new e([,-0]))[1]==1/0?function(t){return new e(t)}:t;return FP=r}function nR(){if(WP)return UP;WP=1;var e=g_(),t=function(){if(DP)return AP;DP=1;var e=eR();return AP=function(t,n){return!(null==t||!t.length)&&e(t,n,0)>-1}}(),n=(IP||(IP=1,LP=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}),LP),r=v_(),i=tR(),o=y_();return UP=function(a,s,l){var u=-1,c=t,d=a.length,f=!0,h=[],p=h;if(l)f=!1,c=n;else if(d>=200){var g=s?null:i(a);if(g)return o(g);f=!1,c=r,p=new e}else p=s?[]:h;e:for(;++u<d;){var v=a[u],m=s?s(v):v;if(v=l||0!==v?v:0,f&&m==m){for(var y=p.length;y--;)if(p[y]===m)continue e;s&&p.push(m),h.push(v)}else c(p,m,l)||(p!==h&&p.push(m),h.push(v))}return h},UP}function rR(){if(HP)return VP;HP=1;var e=SM(),t=MS();return VP=function(n){return t(n)&&e(n)}}function iR(){if($P)return GP;$P=1;var e=K_(),t=Z_(),n=nR(),r=rR(),i=t((function(t){return n(e(t,1,r,!0))}));return GP=i}function oR(){if(XP)return KP;XP=1;var e=function(){if(qP)return YP;qP=1;var e=N_();return YP=function(t,n){return e(n,(function(e){return t[e]}))}}(),t=MM();return KP=function(n){return null==n?[]:e(n,t(n))}}function aR(){if(ZP)return QP;var e;ZP=1;try{e={clone:a_(),constant:s_(),each:p_(),filter:F_(),has:B_(),isArray:CS(),isEmpty:U_(),isFunction:cS(),isUndefined:W_(),keys:MM(),map:H_(),reduce:G_(),size:Y_(),transform:q_(),union:iR(),values:oR()}}catch(e){}return e||(e=window._),QP=e}function sR(){if(eO)return JP;eO=1;var e=aR();JP=n;var t="\0";function n(n){this._isDirected=!e.has(n,"directed")||n.directed,this._isMultigraph=!!e.has(n,"multigraph")&&n.multigraph,this._isCompound=!!e.has(n,"compound")&&n.compound,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[t]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function r(e,t){e[t]?e[t]++:e[t]=1}function i(e,t){--e[t]||delete e[t]}function o(t,n,r,i){var o=""+n,a=""+r;if(!t&&o>a){var s=o;o=a,a=s}return o+""+a+""+(e.isUndefined(i)?"\0":i)}function a(e,t){return o(e,t.v,t.w,t.name)}return n.prototype._nodeCount=0,n.prototype._edgeCount=0,n.prototype.isDirected=function(){return this._isDirected},n.prototype.isMultigraph=function(){return this._isMultigraph},n.prototype.isCompound=function(){return this._isCompound},n.prototype.setGraph=function(e){return this._label=e,this},n.prototype.graph=function(){return this._label},n.prototype.setDefaultNodeLabel=function(t){return e.isFunction(t)||(t=e.constant(t)),this._defaultNodeLabelFn=t,this},n.prototype.nodeCount=function(){return this._nodeCount},n.prototype.nodes=function(){return e.keys(this._nodes)},n.prototype.sources=function(){var t=this;return e.filter(this.nodes(),(function(n){return e.isEmpty(t._in[n])}))},n.prototype.sinks=function(){var t=this;return e.filter(this.nodes(),(function(n){return e.isEmpty(t._out[n])}))},n.prototype.setNodes=function(t,n){var r=arguments,i=this;return e.each(t,(function(e){r.length>1?i.setNode(e,n):i.setNode(e)})),this},n.prototype.setNode=function(n,r){return e.has(this._nodes,n)?(arguments.length>1&&(this._nodes[n]=r),this):(this._nodes[n]=arguments.length>1?r:this._defaultNodeLabelFn(n),this._isCompound&&(this._parent[n]=t,this._children[n]={},this._children[t][n]=!0),this._in[n]={},this._preds[n]={},this._out[n]={},this._sucs[n]={},++this._nodeCount,this)},n.prototype.node=function(e){return this._nodes[e]},n.prototype.hasNode=function(t){return e.has(this._nodes,t)},n.prototype.removeNode=function(t){var n=this;if(e.has(this._nodes,t)){var r=function(e){n.removeEdge(n._edgeObjs[e])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],e.each(this.children(t),(function(e){n.setParent(e)})),delete this._children[t]),e.each(e.keys(this._in[t]),r),delete this._in[t],delete this._preds[t],e.each(e.keys(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},n.prototype.setParent=function(n,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(r))r=t;else{for(var i=r+="";!e.isUndefined(i);i=this.parent(i))if(i===n)throw new Error("Setting "+r+" as parent of "+n+" would create a cycle");this.setNode(r)}return this.setNode(n),this._removeFromParentsChildList(n),this._parent[n]=r,this._children[r][n]=!0,this},n.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},n.prototype.parent=function(e){if(this._isCompound){var n=this._parent[e];if(n!==t)return n}},n.prototype.children=function(n){if(e.isUndefined(n)&&(n=t),this._isCompound){var r=this._children[n];if(r)return e.keys(r)}else{if(n===t)return this.nodes();if(this.hasNode(n))return[]}},n.prototype.predecessors=function(t){var n=this._preds[t];if(n)return e.keys(n)},n.prototype.successors=function(t){var n=this._sucs[t];if(n)return e.keys(n)},n.prototype.neighbors=function(t){var n=this.predecessors(t);if(n)return e.union(n,this.successors(t))},n.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},n.prototype.filterNodes=function(t){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;e.each(this._nodes,(function(e,r){t(r)&&n.setNode(r,e)})),e.each(this._edgeObjs,(function(e){n.hasNode(e.v)&&n.hasNode(e.w)&&n.setEdge(e,r.edge(e))}));var i={};function o(e){var t=r.parent(e);return void 0===t||n.hasNode(t)?(i[e]=t,t):t in i?i[t]:o(t)}return this._isCompound&&e.each(n.nodes(),(function(e){n.setParent(e,o(e))})),n},n.prototype.setDefaultEdgeLabel=function(t){return e.isFunction(t)||(t=e.constant(t)),this._defaultEdgeLabelFn=t,this},n.prototype.edgeCount=function(){return this._edgeCount},n.prototype.edges=function(){return e.values(this._edgeObjs)},n.prototype.setPath=function(t,n){var r=this,i=arguments;return e.reduce(t,(function(e,t){return i.length>1?r.setEdge(e,t,n):r.setEdge(e,t),t})),this},n.prototype.setEdge=function(){var t,n,i,a,s=!1,l=arguments[0];"object"==typeof l&&null!==l&&"v"in l?(t=l.v,n=l.w,i=l.name,2===arguments.length&&(a=arguments[1],s=!0)):(t=l,n=arguments[1],i=arguments[3],arguments.length>2&&(a=arguments[2],s=!0)),t=""+t,n=""+n,e.isUndefined(i)||(i=""+i);var u=o(this._isDirected,t,n,i);if(e.has(this._edgeLabels,u))return s&&(this._edgeLabels[u]=a),this;if(!e.isUndefined(i)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(n),this._edgeLabels[u]=s?a:this._defaultEdgeLabelFn(t,n,i);var c=function(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};r&&(s.name=r);return s}(this._isDirected,t,n,i);return t=c.v,n=c.w,Object.freeze(c),this._edgeObjs[u]=c,r(this._preds[n],t),r(this._sucs[t],n),this._in[n][u]=c,this._out[t][u]=c,this._edgeCount++,this},n.prototype.edge=function(e,t,n){var r=1===arguments.length?a(this._isDirected,arguments[0]):o(this._isDirected,e,t,n);return this._edgeLabels[r]},n.prototype.hasEdge=function(t,n,r){var i=1===arguments.length?a(this._isDirected,arguments[0]):o(this._isDirected,t,n,r);return e.has(this._edgeLabels,i)},n.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?a(this._isDirected,arguments[0]):o(this._isDirected,e,t,n),s=this._edgeObjs[r];return s&&(e=s.v,t=s.w,delete this._edgeLabels[r],delete this._edgeObjs[r],i(this._preds[t],e),i(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},n.prototype.inEdges=function(t,n){var r=this._in[t];if(r){var i=e.values(r);return n?e.filter(i,(function(e){return e.v===n})):i}},n.prototype.outEdges=function(t,n){var r=this._out[t];if(r){var i=e.values(r);return n?e.filter(i,(function(e){return e.w===n})):i}},n.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))},JP}function lR(){return iO?rO:(iO=1,rO={Graph:sR(),version:nO?tO:(nO=1,tO="2.1.8")})}function uR(){if(aO)return oO;aO=1;var e=aR(),t=sR();function n(t){return e.map(t.nodes(),(function(n){var r=t.node(n),i=t.parent(n),o={v:n};return e.isUndefined(r)||(o.value=r),e.isUndefined(i)||(o.parent=i),o}))}function r(t){return e.map(t.edges(),(function(n){var r=t.edge(n),i={v:n.v,w:n.w};return e.isUndefined(n.name)||(i.name=n.name),e.isUndefined(r)||(i.value=r),i}))}return oO={write:function(t){var i={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:n(t),edges:r(t)};e.isUndefined(t.graph())||(i.value=e.clone(t.graph()));return i},read:function(n){var r=new t(n.options).setGraph(n.value);return e.each(n.nodes,(function(e){r.setNode(e.v,e.value),e.parent&&r.setParent(e.v,e.parent)})),e.each(n.edges,(function(e){r.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),r}}}function cR(){if(lO)return sO;lO=1;var e=aR();return sO=function(t){var n,r={},i=[];function o(i){e.has(r,i)||(r[i]=!0,n.push(i),e.each(t.successors(i),o),e.each(t.predecessors(i),o))}return e.each(t.nodes(),(function(e){n=[],o(e),n.length&&i.push(n)})),i},sO}function dR(){if(cO)return uO;cO=1;var e=aR();function t(){this._arr=[],this._keyIndices={}}return uO=t,t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},t.prototype.has=function(t){return e.has(this._keyIndices,t)},t.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},t.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(t,n){var r=this._keyIndices;if(t=String(t),!e.has(r,t)){var i=this._arr,o=i.length;return r[t]=o,i.push({key:t,priority:n}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},t.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},t.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},t.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},t.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t},uO}function fR(){if(fO)return dO;fO=1;var e=aR(),t=dR();dO=function(e,r,i,o){return function(e,n,r,i){var o,a,s={},l=new t,u=function(e){var t=e.v!==o?e.v:e.w,n=s[t],i=r(e),u=a.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+i);u<n.distance&&(n.distance=u,n.predecessor=o,l.decrease(t,u))};e.nodes().forEach((function(e){var t=e===n?0:Number.POSITIVE_INFINITY;s[e]={distance:t},l.add(e,t)}));for(;l.size()>0&&(o=l.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)i(o).forEach(u);return s}(e,String(r),i||n,o||function(t){return e.outEdges(t)})};var n=e.constant(1);return dO}function hR(){if(pO)return hO;pO=1;var e=fR(),t=aR();return hO=function(n,r,i){return t.transform(n.nodes(),(function(t,o){t[o]=e(n,o,r,i)}),{})}}function pR(){if(vO)return gO;vO=1;var e=aR();return gO=function(t){var n=0,r=[],i={},o=[];function a(s){var l=i[s]={onStack:!0,lowlink:n,index:n++};if(r.push(s),t.successors(s).forEach((function(t){e.has(i,t)?i[t].onStack&&(l.lowlink=Math.min(l.lowlink,i[t].index)):(a(t),l.lowlink=Math.min(l.lowlink,i[t].lowlink))})),l.lowlink===l.index){var u,c=[];do{u=r.pop(),i[u].onStack=!1,c.push(u)}while(s!==u);o.push(c)}}return t.nodes().forEach((function(t){e.has(i,t)||a(t)})),o},gO}function gR(){if(yO)return mO;yO=1;var e=aR(),t=pR();return mO=function(n){return e.filter(t(n),(function(e){return e.length>1||1===e.length&&n.hasEdge(e[0],e[0])}))}}function vR(){if(wO)return bO;wO=1;var e=aR();bO=function(e,n,r){return function(e,t,n){var r={},i=e.nodes();return i.forEach((function(e){r[e]={},r[e][e]={distance:0},i.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var i=n.v===e?n.w:n.v,o=t(n);r[e][i]={distance:o,predecessor:e}}))})),i.forEach((function(e){var t=r[e];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[e],i=t[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),r}(e,n||t,r||function(t){return e.outEdges(t)})};var t=e.constant(1);return bO}function mR(){if(EO)return xO;EO=1;var e=aR();function t(t){var r={},i={},o=[];if(e.each(t.sinks(),(function a(s){if(e.has(i,s))throw new n;e.has(r,s)||(i[s]=!0,r[s]=!0,e.each(t.predecessors(s),a),delete i[s],o.push(s))})),e.size(r)!==t.nodeCount())throw new n;return o}function n(){}return xO=t,t.CycleException=n,n.prototype=new Error,xO}function yR(){if(SO)return kO;SO=1;var e=mR();return kO=function(t){try{e(t)}catch(t){if(t instanceof e.CycleException)return!1;throw t}return!0}}function bR(){if(TO)return MO;TO=1;var e=aR();function t(n,r,i,o,a,s){e.has(o,r)||(o[r]=!0,i||s.push(r),e.each(a(r),(function(e){t(n,e,i,o,a,s)})),i&&s.push(r))}return MO=function(n,r,i){e.isArray(r)||(r=[r]);var o=(n.isDirected()?n.successors:n.neighbors).bind(n),a=[],s={};return e.each(r,(function(e){if(!n.hasNode(e))throw new Error("Graph does not have node: "+e);t(n,e,"post"===i,s,o,a)})),a},MO}function wR(){if(NO)return CO;NO=1;var e=bR();return CO=function(t,n){return e(t,n,"post")}}function xR(){if(OO)return PO;OO=1;var e=bR();return PO=function(t,n){return e(t,n,"pre")}}function ER(){if(RO)return _O;RO=1;var e=aR(),t=sR(),n=dR();return _O=function(r,i){var o,a=new t,s={},l=new n;function u(e){var t=e.v===o?e.w:e.v,n=l.priority(t);if(void 0!==n){var r=i(e);r<n&&(s[t]=o,l.decrease(t,r))}}if(0===r.nodeCount())return a;e.each(r.nodes(),(function(e){l.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),l.decrease(r.nodes()[0],0);var c=!1;for(;l.size()>0;){if(o=l.removeMin(),e.has(s,o))a.setEdge(o,s[o]);else{if(c)throw new Error("Input graph is not connected: "+r);c=!0}r.nodeEdges(o).forEach(u)}return a}}try{zO=function(){if(IO)return LO;IO=1;var e=lR();return LO={Graph:e.Graph,json:uR(),alg:DO?AO:(DO=1,AO={components:cR(),dijkstra:fR(),dijkstraAll:hR(),findCycles:gR(),floydWarshall:vR(),isAcyclic:yR(),postorder:wR(),preorder:xR(),prim:ER(),tarjan:pR(),topsort:mR()}),version:e.version}}()}catch(e){}zO||(zO=window.graphlib);var kR,SR,MR,TR,CR,NR,PR,OR,_R,RR,AR,DR,LR,IR,zR,jR,FR,BR,UR,WR,VR,HR,GR,$R,YR,qR,KR,XR,QR,ZR,JR,eA,tA,nA,rA,iA,oA,aA,sA,lA,uA,cA,dA,fA,hA,pA,gA,vA,mA,yA,bA,wA,xA,EA,kA,SA,MA,TA,CA,NA,PA,OA,_A,RA,AA,DA,LA,IA,zA,jA,FA,BA,UA,WA,VA,HA,GA,$A,YA,qA,KA,XA,QA,ZA,JA,eD,tD,nD,rD,iD,oD,aD,sD,lD=zO;function uD(){if(TR)return MR;TR=1;var e=nS(),t=SM(),n=US(),r=uS();return MR=function(i,o,a){if(!r(a))return!1;var s=typeof o;return!!("number"==s?t(a)&&n(o,a.length):"string"==s&&o in a)&&e(a[o],i)},MR}function cD(){if(DR)return AR;DR=1;var e=function(){if(RR)return _R;RR=1;var e=/\s/;return _R=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n},_R}(),t=/^\s+/;return AR=function(n){return n?n.slice(0,e(n)+1).replace(t,""):n}}function dD(){if(jR)return zR;jR=1;var e=function(){if(IR)return LR;IR=1;var e=cD(),t=uS(),n=M_(),r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;return LR=function(s){if("number"==typeof s)return s;if(n(s))return NaN;if(t(s)){var l="function"==typeof s.valueOf?s.valueOf():s;s=t(l)?l+"":l}if("string"!=typeof s)return 0===s?s:+s;s=e(s);var u=i.test(s);return u||o.test(s)?a(s.slice(2),u?2:8):r.test(s)?NaN:+s}}(),t=1/0;return zR=function(n){return n?(n=e(n))===t||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}}function fD(){if(WR)return UR;WR=1;var e=J_(),t=j_(),n=function(){if(BR)return FR;BR=1;var e=dD();return FR=function(t){var n=e(t),r=n%1;return n==n?r?n-r:n:0}}(),r=Math.max;return UR=function(i,o,a){var s=null==i?0:i.length;if(!s)return-1;var l=null==a?0:n(a);return l<0&&(l=r(s+l,0)),e(i,t(o,3),l)},UR}function hD(){if($R)return GR;$R=1;var e=K_();return GR=function(t){return(null==t?0:t.length)?e(t,1):[]}}function pD(){if(eA)return JR;eA=1;var e=M_();return JR=function(t,n,r){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=n(a);if(null!=s&&(void 0===l?s==s&&!e(s):r(s,l)))var l=s,u=a}return u},JR}function gD(){if(aA)return oA;aA=1;var e=ES(),t=nS();return oA=function(n,r,i){(void 0!==i&&!t(n[r],i)||void 0===i&&!(r in n))&&e(n,r,i)}}function vD(){if(cA)return uA;return cA=1,uA=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}}function mD(){if(pA)return hA;pA=1;var e=gD(),t=FO(),n=JO(),r=BO(),i=n_(),o=TS(),a=CS(),s=rR(),l=BS(),u=cS(),c=uS(),d=function(){if(lA)return sA;lA=1;var e=lS(),t=GO(),n=MS(),r=Function.prototype,i=Object.prototype,o=r.toString,a=i.hasOwnProperty,s=o.call(Object);return sA=function(r){if(!n(r)||"[object Object]"!=e(r))return!1;var i=t(r);if(null===i)return!0;var l=a.call(i,"constructor")&&i.constructor;return"function"==typeof l&&l instanceof l&&o.call(l)==s}}(),f=bM(),h=vD(),p=function(){if(fA)return dA;fA=1;var e=SS(),t=CM();return dA=function(n){return e(n,t(n))}}();return hA=function(g,v,m,y,b,w,x){var E=h(g,m),k=h(v,m),S=x.get(k);if(S)e(g,m,S);else{var M=w?w(E,k,m+"",g,v,x):void 0,T=void 0===M;if(T){var C=a(k),N=!C&&l(k),P=!C&&!N&&f(k);M=k,C||N||P?a(E)?M=E:s(E)?M=r(E):N?(T=!1,M=t(k,!0)):P?(T=!1,M=n(k,!0)):M=[]:d(k)||o(k)?(M=E,o(E)?M=p(E):c(E)&&!u(E)||(M=i(k))):T=!1}T&&(x.set(k,M),b(M,k,y,w,x),x.delete(k)),e(g,m,M)}}}function yD(){if(EA)return xA;return EA=1,xA=function(e,t){return e<t}}function bD(){if(RA)return _A;RA=1;var e=R_(),t=function(){if(OA)return PA;OA=1;var e=kS(),t=O_(),n=US(),r=uS(),i=__();return PA=function(o,a,s,l){if(!r(o))return o;for(var u=-1,c=(a=t(a,o)).length,d=c-1,f=o;null!=f&&++u<c;){var h=i(a[u]),p=s;if("__proto__"===h||"constructor"===h||"prototype"===h)return o;if(u!=d){var g=f[h];void 0===(p=l?l(g,h,f):void 0)&&(p=r(g)?g:n(a[u+1])?[]:{})}e(f,h,p),f=f[h]}return o},PA}(),n=O_();return _A=function(r,i,o){for(var a=-1,s=i.length,l={};++a<s;){var u=i[a],c=e(r,u);o(c,u)&&t(l,n(u,r),c)}return l},_A}function wD(){if(WA)return UA;WA=1;var e=function(){if(BA)return FA;BA=1;var e=Math.ceil,t=Math.max;return FA=function(n,r,i,o){for(var a=-1,s=t(e((r-n)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=n,n+=i;return l},FA}(),t=uD(),n=dD();return UA=function(r){return function(i,o,a){return a&&"number"!=typeof a&&t(i,o,a)&&(o=a=void 0),i=n(i),void 0===o?(o=i,i=0):o=n(o),a=void 0===a?i<o?1:-1:n(a),e(i,o,a,r)}},UA}function xD(){if(XA)return KA;XA=1;var e=function(){if(qA)return YA;qA=1;var e=M_();return YA=function(t,n){if(t!==n){var r=void 0!==t,i=null===t,o=t==t,a=e(t),s=void 0!==n,l=null===n,u=n==n,c=e(n);if(!l&&!c&&!a&&t>n||a&&s&&u&&!l&&!c||i&&s&&u||!r&&u||!o)return 1;if(!i&&!a&&!c&&t<n||c&&r&&o&&!i&&!a||l&&r&&o||!s&&o||!u)return-1}return 0}}();return KA=function(t,n,r){for(var i=-1,o=t.criteria,a=n.criteria,s=o.length,l=r.length;++i<s;){var u=e(o[i],a[i]);if(u)return i>=l?u:u*("desc"==r[i]?-1:1)}return t.index-n.index},KA}function ED(){if(ZA)return QA;ZA=1;var e=N_(),t=R_(),n=j_(),r=V_(),i=($A||($A=1,GA=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}),GA),o=VS(),a=xD(),s=d_(),l=CS();return QA=function(u,c,d){c=c.length?e(c,(function(e){return l(e)?function(n){return t(n,1===e.length?e[0]:e)}:e})):[s];var f=-1;c=e(c,o(n));var h=r(u,(function(t,n,r){return{criteria:e(c,(function(e){return e(t)})),index:++f,value:t}}));return i(h,(function(e,t){return a(e,t,d)}))},QA}try{sD={cloneDeep:function(){if(SR)return kR;SR=1;var e=o_();return kR=function(t){return e(t,5)}}(),constant:s_(),defaults:function(){if(NR)return CR;NR=1;var e=Z_(),t=nS(),n=uD(),r=CM(),i=Object.prototype,o=i.hasOwnProperty,a=e((function(e,a){e=Object(e);var s=-1,l=a.length,u=l>2?a[2]:void 0;for(u&&n(a[0],a[1],u)&&(l=1);++s<l;)for(var c=a[s],d=r(c),f=-1,h=d.length;++f<h;){var p=d[f],g=e[p];(void 0===g||t(g,i[p])&&!o.call(e,p))&&(e[p]=c[p])}return e}));return CR=a}(),each:p_(),filter:F_(),find:function(){if(HR)return VR;HR=1;var e=function(){if(OR)return PR;OR=1;var e=j_(),t=SM(),n=MM();return PR=function(r){return function(i,o,a){var s=Object(i);if(!t(i)){var l=e(o,3);i=n(i),o=function(e){return l(s[e],e,s)}}var u=r(i,o,a);return u>-1?s[l?i[u]:u]:void 0}},PR}(),t=e(fD());return VR=t}(),flatten:hD(),forEach:h_(),forIn:function(){if(qR)return YR;qR=1;var e=l_(),t=f_(),n=CM();return YR=function(r,i){return null==r?r:e(r,t(i),n)}}(),has:B_(),isUndefined:W_(),last:(XR||(XR=1,KR=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}),KR),map:H_(),mapValues:function(){if(ZR)return QR;ZR=1;var e=ES(),t=u_(),n=j_();return QR=function(r,i){var o={};return i=n(i,3),t(r,(function(t,n,r){e(o,n,i(t,n,r))})),o}}(),max:function(){if(iA)return rA;iA=1;var e=pD(),t=nA?tA:(nA=1,tA=function(e,t){return e>t}),n=d_();return rA=function(r){return r&&r.length?e(r,n,t):void 0}}(),merge:function(){if(wA)return bA;wA=1;var e=function(){if(vA)return gA;vA=1;var e=bS(),t=gD(),n=l_(),r=mD(),i=uS(),o=CM(),a=vD();return gA=function s(l,u,c,d,f){l!==u&&n(u,(function(n,o){if(f||(f=new e),i(n))r(l,u,o,c,s,d,f);else{var h=d?d(a(l,o),n,o+"",l,u,f):void 0;void 0===h&&(h=n),t(l,o,h)}}),o)},gA}(),t=function(){if(yA)return mA;yA=1;var e=Z_(),t=uD();return mA=function(n){return e((function(e,r){var i=-1,o=r.length,a=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(a=n.length>3&&"function"==typeof a?(o--,a):void 0,s&&t(r[0],r[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++i<o;){var l=r[i];l&&n(e,l,i,a)}return e}))},mA}(),n=t((function(t,n,r){e(t,n,r)}));return bA=n}(),min:function(){if(SA)return kA;SA=1;var e=pD(),t=yD(),n=d_();return kA=function(r){return r&&r.length?e(r,n,t):void 0}}(),minBy:function(){if(TA)return MA;TA=1;var e=pD(),t=j_(),n=yD();return MA=function(r,i){return r&&r.length?e(r,t(i,2),n):void 0}}(),now:function(){if(NA)return CA;NA=1;var e=aS();return CA=function(){return e.Date.now()}}(),pick:function(){if(jA)return zA;jA=1;var e=function(){if(DA)return AA;DA=1;var e=bD(),t=D_();return AA=function(n,r){return e(n,r,(function(e,r){return t(n,r)}))}}(),t=function(){if(IA)return LA;IA=1;var e=hD(),t=X_(),n=Q_();return LA=function(r){return n(t(r,void 0,e),r+"")}}()((function(t,n){return null==t?{}:e(t,n)}));return zA=t}(),range:function(){if(HA)return VA;HA=1;var e=wD()();return VA=e}(),reduce:G_(),sortBy:function(){if(eD)return JA;eD=1;var e=K_(),t=ED(),n=Z_(),r=uD(),i=n((function(n,i){if(null==n)return[];var o=i.length;return o>1&&r(n,i[0],i[1])?i=[]:o>2&&r(i[0],i[1],i[2])&&(i=[i[0]]),t(n,e(i,1),[])}));return JA=i}(),uniqueId:function(){if(nD)return tD;nD=1;var e=P_(),t=0;return tD=function(n){var r=++t;return e(n)+r},tD}(),values:oR(),zipObject:function(){if(aD)return oD;aD=1;var e=kS(),t=(iD||(iD=1,rD=function(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}),rD);return oD=function(n,r){return t(n||[],r||[],e)},oD}()}}catch(e){}sD||(sD=window._);var kD=sD,SD=MD;function MD(){var e={};e._next=e._prev=e,this._sentinel=e}function TD(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function CD(e,t){if("_next"!==e&&"_prev"!==e)return t}MD.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return TD(t),t},MD.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&TD(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},MD.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,CD)),n=n._prev;return"["+e.join(", ")+"]"};var ND=kD,PD=lD.Graph,OD=SD,_D=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new PD,r=0,i=0;ND.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),ND.forEach(e.edges(),(function(e){var o=n.edge(e.v,e.w)||0,a=t(e),s=o+a;n.setEdge(e.v,e.w,s),i=Math.max(i,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)}));var o=ND.range(i+r+3).map((function(){return new OD})),a=r+1;return ND.forEach(n.nodes(),(function(e){DD(o,a,n.node(e))})),{graph:n,buckets:o,zeroIdx:a}}(e,t||RD),r=function(e,t,n){var r,i=[],o=t[t.length-1],a=t[0];for(;e.nodeCount();){for(;r=a.dequeue();)AD(e,t,n,r);for(;r=o.dequeue();)AD(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){i=i.concat(AD(e,t,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return ND.flatten(ND.map(r,(function(t){return e.outEdges(t.v,t.w)})),!0)},RD=ND.constant(1);function AD(e,t,n,r,i){var o=i?[]:void 0;return ND.forEach(e.inEdges(r.v),(function(r){var a=e.edge(r),s=e.node(r.v);i&&o.push({v:r.v,w:r.w}),s.out-=a,DD(t,n,s)})),ND.forEach(e.outEdges(r.v),(function(r){var i=e.edge(r),o=r.w,a=e.node(o);a.in-=i,DD(t,n,a)})),e.removeNode(r.v),o}function DD(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var LD=kD,ID=_D,zD={run:function(e){var t="greedy"===e.graph().acyclicer?ID(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};function i(o){LD.has(r,o)||(r[o]=!0,n[o]=!0,LD.forEach(e.outEdges(o),(function(e){LD.has(n,e.w)?t.push(e):i(e.w)})),delete n[o])}return LD.forEach(e.nodes(),i),t}(e);LD.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,LD.uniqueId("rev"))}))},undo:function(e){LD.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))}};var jD=kD,FD=lD.Graph,BD={addDummyNode:UD,simplify:function(e){var t=(new FD).setGraph(e.graph());return jD.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),jD.forEach(e.edges(),(function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),t},asNonCompoundGraph:function(e){var t=new FD({multigraph:e.isMultigraph()}).setGraph(e.graph());return jD.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),jD.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=jD.map(e.nodes(),(function(t){var n={};return jD.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return jD.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=jD.map(e.nodes(),(function(t){var n={};return jD.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return jD.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,l=e.width/2,u=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*l>Math.abs(a)*u?(s<0&&(u=-u),n=u*a/s,r=u):(a<0&&(l=-l),n=l,r=l*s/a);return{x:i+n,y:o+r}},buildLayerMatrix:function(e){var t=jD.map(jD.range(WD(e)+1),(function(){return[]}));return jD.forEach(e.nodes(),(function(n){var r=e.node(n),i=r.rank;jD.isUndefined(i)||(t[i][r.order]=n)})),t},normalizeRanks:function(e){var t=jD.min(jD.map(e.nodes(),(function(t){return e.node(t).rank})));jD.forEach(e.nodes(),(function(n){var r=e.node(n);jD.has(r,"rank")&&(r.rank-=t)}))},removeEmptyRanks:function(e){var t=jD.min(jD.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];jD.forEach(e.nodes(),(function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)}));var r=0,i=e.graph().nodeRankFactor;jD.forEach(n,(function(t,n){jD.isUndefined(t)&&n%i!=0?--r:r&&jD.forEach(t,(function(t){e.node(t).rank+=r}))}))},addBorderNode:function(e,t,n,r){var i={width:0,height:0};arguments.length>=4&&(i.rank=n,i.order=r);return UD(e,"border",i,t)},maxRank:WD,partition:function(e,t){var n={lhs:[],rhs:[]};return jD.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=jD.now();try{return t()}finally{console.log(e+" time: "+(jD.now()-n)+"ms")}},notime:function(e,t){return t()}};function UD(e,t,n,r){var i;do{i=jD.uniqueId(r)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function WD(e){return jD.max(jD.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!jD.isUndefined(n))return n})))}var VD=kD,HD=BD,GD={run:function(e){e.graph().dummyChains=[],VD.forEach(e.edges(),(function(t){!function(e,t){var n,r,i,o=t.v,a=e.node(o).rank,s=t.w,l=e.node(s).rank,u=t.name,c=e.edge(t),d=c.labelRank;if(l===a+1)return;for(e.removeEdge(t),i=0,++a;a<l;++i,++a)c.points=[],r={width:0,height:0,edgeLabel:c,edgeObj:t,rank:a},n=HD.addDummyNode(e,"edge",r,"_d"),a===d&&(r.width=c.width,r.height=c.height,r.dummy="edge-label",r.labelpos=c.labelpos),e.setEdge(o,n,{weight:c.weight},u),0===i&&e.graph().dummyChains.push(n),o=n;e.setEdge(o,s,{weight:c.weight},u)}(e,t)}))},undo:function(e){VD.forEach(e.graph().dummyChains,(function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)}))}};var $D=kD,YD={longestPath:function(e){var t={};$D.forEach(e.sources(),(function n(r){var i=e.node(r);if($D.has(t,r))return i.rank;t[r]=!0;var o=$D.min($D.map(e.outEdges(r),(function(t){return n(t.w)-e.edge(t).minlen})));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),i.rank=o}))},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}};var qD=kD,KD=lD.Graph,XD=YD.slack,QD=function(e){var t,n,r=new KD({directed:!1}),i=e.nodes()[0],o=e.nodeCount();r.setNode(i,{});for(;ZD(r,e)<o;)t=JD(r,e),n=r.hasNode(t.v)?XD(e,t):-XD(e,t),eL(r,e,n);return r};function ZD(e,t){return qD.forEach(e.nodes(),(function n(r){qD.forEach(t.nodeEdges(r),(function(i){var o=i.v,a=r===o?i.w:o;e.hasNode(a)||XD(t,i)||(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))}))})),e.nodeCount()}function JD(e,t){return qD.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return XD(t,n)}))}function eL(e,t,n){qD.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}var tL=kD,nL=QD,rL=YD.slack,iL=YD.longestPath,oL=lD.alg.preorder,aL=lD.alg.postorder,sL=BD.simplify,lL=uL;function uL(e){e=sL(e),iL(e);var t,n=nL(e);for(fL(n),cL(n,e);t=pL(n);)vL(n,e,t,gL(n,e,t))}function cL(e,t){var n=aL(e,e.nodes());n=n.slice(0,n.length-1),tL.forEach(n,(function(n){!function(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=dL(e,t,n)}(e,t,n)}))}function dL(e,t,n){var r=e.node(n).parent,i=!0,o=t.edge(n,r),a=0;return o||(i=!1,o=t.edge(r,n)),a=o.weight,tL.forEach(t.nodeEdges(n),(function(o){var s,l,u=o.v===n,c=u?o.w:o.v;if(c!==r){var d=u===i,f=t.edge(o).weight;if(a+=d?f:-f,s=n,l=c,e.hasEdge(s,l)){var h=e.edge(n,c).cutvalue;a+=d?-h:h}}})),a}function fL(e,t){arguments.length<2&&(t=e.nodes()[0]),hL(e,{},1,t)}function hL(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,tL.forEach(e.neighbors(r),(function(i){tL.has(t,i)||(n=hL(e,t,n,i,r))})),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function pL(e){return tL.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function gL(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,l=!1;o.lim>a.lim&&(s=a,l=!0);var u=tL.filter(t.edges(),(function(t){return l===mL(e,e.node(t.v),s)&&l!==mL(e,e.node(t.w),s)}));return tL.minBy(u,(function(e){return rL(t,e)}))}function vL(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),fL(e),cL(e,t),function(e,t){var n=tL.find(e.nodes(),(function(e){return!t.node(e).parent})),r=oL(e,n);r=r.slice(1),tL.forEach(r,(function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)}))}(e,t)}function mL(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}uL.initLowLimValues=fL,uL.initCutValues=cL,uL.calcCutValue=dL,uL.leaveEdge=pL,uL.enterEdge=gL,uL.exchangeEdges=vL;var yL=YD.longestPath,bL=QD,wL=lL,xL=function(e){switch(e.graph().ranker){case"network-simplex":default:kL(e);break;case"tight-tree":!function(e){yL(e),bL(e)}(e);break;case"longest-path":EL(e)}};var EL=yL;function kL(e){wL(e)}var SL=kD,ML=function(e){var t=function(e){var t={},n=0;function r(i){var o=n;SL.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return SL.forEach(e.children(),r),t}(e);SL.forEach(e.graph().dummyChains,(function(n){for(var r=e.node(n),i=r.edgeObj,o=function(e,t,n,r){var i,o,a=[],s=[],l=Math.min(t[n].low,t[r].low),u=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>l||u>t[i].lim));o=i,i=r;for(;(i=e.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(e,t,i.v,i.w),a=o.path,s=o.lca,l=0,u=a[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=a[l])!==s&&e.node(u).maxRank<r.rank;)l++;u===s&&(c=!1)}if(!c){for(;l<a.length-1&&e.node(u=a[l+1]).minRank<=r.rank;)l++;u=a[l]}e.setParent(n,u),n=e.successors(n)[0]}}))};var TL=kD,CL=BD,NL={run:function(e){var t=CL.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&TL.forEach(o,(function(e){n(e,i+1)})),t[r]=i}return TL.forEach(e.children(),(function(e){n(e,1)})),t}(e),r=TL.max(TL.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,TL.forEach(e.edges(),(function(t){e.edge(t).minlen*=i}));var o=function(e){return TL.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;TL.forEach(e.children(),(function(a){PL(e,t,i,o,r,n,a)})),e.graph().nodeRankFactor=i},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,TL.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}};function PL(e,t,n,r,i,o,a){var s=e.children(a);if(s.length){var l=CL.addBorderNode(e,"_bt"),u=CL.addBorderNode(e,"_bb"),c=e.node(a);e.setParent(l,a),c.borderTop=l,e.setParent(u,a),c.borderBottom=u,TL.forEach(s,(function(s){PL(e,t,n,r,i,o,s);var c=e.node(s),d=c.borderTop?c.borderTop:s,f=c.borderBottom?c.borderBottom:s,h=c.borderTop?r:2*r,p=d!==f?1:i-o[a]+1;e.setEdge(l,d,{weight:h,minlen:p,nestingEdge:!0}),e.setEdge(f,u,{weight:h,minlen:p,nestingEdge:!0})})),e.parent(a)||e.setEdge(t,l,{weight:0,minlen:i+o[a]})}else a!==t&&e.setEdge(t,a,{weight:0,minlen:n})}var OL=kD,_L=BD,RL=function(e){OL.forEach(e.children(),(function t(n){var r=e.children(n),i=e.node(n);if(r.length&&OL.forEach(r,t),OL.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)AL(e,"borderLeft","_bl",n,i,o),AL(e,"borderRight","_br",n,i,o)}}))};function AL(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],l=_L.addDummyNode(e,"border",a,n);i[t][o]=l,e.setParent(l,r),s&&e.setEdge(s,l,{weight:1})}var DL=kD,LL={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||IL(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){DL.forEach(e.nodes(),(function(t){jL(e.node(t))})),DL.forEach(e.edges(),(function(t){var n=e.edge(t);DL.forEach(n.points,jL),DL.has(n,"y")&&jL(n)}))}(e);"lr"!==t&&"rl"!==t||(!function(e){DL.forEach(e.nodes(),(function(t){FL(e.node(t))})),DL.forEach(e.edges(),(function(t){var n=e.edge(t);DL.forEach(n.points,FL),DL.has(n,"x")&&FL(n)}))}(e),IL(e))}};function IL(e){DL.forEach(e.nodes(),(function(t){zL(e.node(t))})),DL.forEach(e.edges(),(function(t){zL(e.edge(t))}))}function zL(e){var t=e.width;e.width=e.height,e.height=t}function jL(e){e.y=-e.y}function FL(e){var t=e.x;e.x=e.y,e.y=t}var BL=kD,UL=function(e){var t={},n=BL.filter(e.nodes(),(function(t){return!e.children(t).length})),r=BL.max(BL.map(n,(function(t){return e.node(t).rank}))),i=BL.map(BL.range(r+1),(function(){return[]}));function o(n){if(!BL.has(t,n)){t[n]=!0;var r=e.node(n);i[r.rank].push(n),BL.forEach(e.successors(n),o)}}var a=BL.sortBy(n,(function(t){return e.node(t).rank}));return BL.forEach(a,o),i};var WL=kD,VL=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=HL(e,t[r-1],t[r]);return n};function HL(e,t,n){for(var r=WL.zipObject(n,WL.map(n,(function(e,t){return t}))),i=WL.flatten(WL.map(t,(function(t){return WL.sortBy(WL.map(e.outEdges(t),(function(t){return{pos:r[t.w],weight:e.edge(t).weight}})),"pos")})),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=WL.map(new Array(a),(function(){return 0})),l=0;return WL.forEach(i.forEach((function(e){var t=e.pos+o;s[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=s[t+1]),s[t=t-1>>1]+=e.weight;l+=e.weight*n}))),l}var GL=kD;var $L=kD,YL=function(e,t){var n={};return $L.forEach(e,(function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};$L.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)})),$L.forEach(t.edges(),(function(e){var t=n[e.v],r=n[e.w];$L.isUndefined(t)||$L.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){t.merged||($L.isUndefined(t.barycenter)||$L.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),$L.forEach(i.in.reverse(),n(i)),$L.forEach(i.out,r(i))}return $L.map($L.filter(t,(function(e){return!e.merged})),(function(e){return $L.pick(e,["vs","i","barycenter","weight"])}))}($L.filter(n,(function(e){return!e.indegree})))};var qL=kD,KL=BD;function XL(e,t,n){for(var r;t.length&&(r=qL.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}var QL=kD,ZL=function(e,t){return GL.map(t,(function(t){var n=e.inEdges(t);if(n.length){var r=GL.reduce(n,(function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}}))},JL=YL,eI=function(e,t){var n=KL.partition(e,(function(e){return qL.has(e,"barycenter")})),r=n.lhs,i=qL.sortBy(n.rhs,(function(e){return-e.i})),o=[],a=0,s=0,l=0;r.sort((u=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:u?t.i-e.i:e.i-t.i})),l=XL(o,i,l),qL.forEach(r,(function(e){l+=e.vs.length,o.push(e.vs),a+=e.barycenter*e.weight,s+=e.weight,l=XL(o,i,l)}));var u;var c={vs:qL.flatten(o,!0)};s&&(c.barycenter=a/s,c.weight=s);return c},tI=function e(t,n,r,i){var o=t.children(n),a=t.node(n),s=a?a.borderLeft:void 0,l=a?a.borderRight:void 0,u={};s&&(o=QL.filter(o,(function(e){return e!==s&&e!==l})));var c=ZL(t,o);QL.forEach(c,(function(n){if(t.children(n.v).length){var o=e(t,n.v,r,i);u[n.v]=o,QL.has(o,"barycenter")&&(a=n,s=o,QL.isUndefined(a.barycenter)?(a.barycenter=s.barycenter,a.weight=s.weight):(a.barycenter=(a.barycenter*a.weight+s.barycenter*s.weight)/(a.weight+s.weight),a.weight+=s.weight))}var a,s}));var d=JL(c,r);!function(e,t){QL.forEach(e,(function(e){e.vs=QL.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(d,u);var f=eI(d,i);if(s&&(f.vs=QL.flatten([s,f.vs,l],!0),t.predecessors(s).length)){var h=t.node(t.predecessors(s)[0]),p=t.node(t.predecessors(l)[0]);QL.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+h.order+p.order)/(f.weight+2),f.weight+=2}return f};var nI=kD,rI=lD.Graph,iI=function(e,t,n){var r=function(e){var t;for(;e.hasNode(t=nI.uniqueId("_root")););return t}(e),i=new rI({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(t){return e.node(t)}));return nI.forEach(e.nodes(),(function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),nI.forEach(e[n](o),(function(t){var n=t.v===o?t.w:t.v,r=i.edge(n,o),a=nI.isUndefined(r)?0:r.weight;i.setEdge(n,o,{weight:e.edge(t).weight+a})})),nI.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))})),i};var oI=kD;var aI=kD,sI=UL,lI=VL,uI=tI,cI=iI,dI=function(e,t,n){var r,i={};oI.forEach(n,(function(n){for(var o,a,s=e.parent(n);s;){if((o=e.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=o}}))},fI=lD.Graph,hI=BD,pI=function(e){var t=hI.maxRank(e),n=gI(e,aI.range(1,t+1),"inEdges"),r=gI(e,aI.range(t-1,-1,-1),"outEdges"),i=sI(e);mI(e,i);for(var o,a=Number.POSITIVE_INFINITY,s=0,l=0;l<4;++s,++l){vI(s%2?n:r,s%4>=2),i=hI.buildLayerMatrix(e);var u=lI(e,i);u<a&&(l=0,o=aI.cloneDeep(i),a=u)}mI(e,o)};function gI(e,t,n){return aI.map(t,(function(t){return cI(e,t,n)}))}function vI(e,t){var n=new fI;aI.forEach(e,(function(e){var r=e.graph().root,i=uI(e,r,n,t);aI.forEach(i.vs,(function(t,n){e.node(t).order=n})),dI(e,n,i.vs)}))}function mI(e,t){aI.forEach(t,(function(t){aI.forEach(t,(function(t,n){e.node(t).order=n}))}))}var yI=kD,bI=lD.Graph,wI=BD,xI=function(e){var t,n=wI.buildLayerMatrix(e),r=yI.merge(EI(e,n),kI(e,n)),i={};yI.forEach(["u","d"],(function(o){t="u"===o?n:yI.values(n).reverse(),yI.forEach(["l","r"],(function(n){"r"===n&&(t=yI.map(t,(function(e){return yI.values(e).reverse()})));var a=("u"===o?e.predecessors:e.successors).bind(e),s=TI(e,t,r,a),l=CI(e,t,s.root,s.align,"r"===n);"r"===n&&(l=yI.mapValues(l,(function(e){return-e}))),i[o+n]=l}))}));var o=NI(e,i);return PI(i,o),OI(i,e.graph().align)};function EI(e,t){var n={};return yI.reduce(t,(function(t,r){var i=0,o=0,a=t.length,s=yI.last(r);return yI.forEach(r,(function(t,l){var u=function(e,t){if(e.node(t).dummy)return yI.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),c=u?e.node(u).order:a;(u||t===s)&&(yI.forEach(r.slice(o,l+1),(function(t){yI.forEach(e.predecessors(t),(function(r){var o=e.node(r),a=o.order;!(a<i||c<a)||o.dummy&&e.node(t).dummy||SI(n,r,t)}))})),o=l+1,i=c)})),r})),n}function kI(e,t){var n={};function r(t,r,i,o,a){var s;yI.forEach(yI.range(r,i),(function(r){s=t[r],e.node(s).dummy&&yI.forEach(e.predecessors(s),(function(t){var r=e.node(t);r.dummy&&(r.order<o||r.order>a)&&SI(n,t,s)}))}))}return yI.reduce(t,(function(t,n){var i,o=-1,a=0;return yI.forEach(n,(function(s,l){if("border"===e.node(s).dummy){var u=e.predecessors(s);u.length&&(i=e.node(u[0]).order,r(n,a,l,o,i),a=l,o=i)}r(n,a,n.length,i,t.length)})),n})),n}function SI(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function MI(e,t,n){if(t>n){var r=t;t=n,n=r}return yI.has(e[t],n)}function TI(e,t,n,r){var i={},o={},a={};return yI.forEach(t,(function(e){yI.forEach(e,(function(e,t){i[e]=e,o[e]=e,a[e]=t}))})),yI.forEach(t,(function(e){var t=-1;yI.forEach(e,(function(e){var s=r(e);if(s.length){s=yI.sortBy(s,(function(e){return a[e]}));for(var l=(s.length-1)/2,u=Math.floor(l),c=Math.ceil(l);u<=c;++u){var d=s[u];o[e]===e&&t<a[d]&&!MI(n,e,d)&&(o[d]=e,o[e]=i[e]=i[d],t=a[d])}}}))})),{root:i,align:o}}function CI(e,t,n,r,i){var o={},a=function(e,t,n,r){var i=new bI,o=e.graph(),a=function(e,t,n){return function(r,i,o){var a,s=r.node(i),l=r.node(o),u=0;if(u+=s.width/2,yI.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(u+=n?a:-a),a=0,u+=(s.dummy?t:e)/2,u+=(l.dummy?t:e)/2,u+=l.width/2,yI.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":a=l.width/2;break;case"r":a=-l.width/2}return a&&(u+=n?a:-a),a=0,u}}(o.nodesep,o.edgesep,r);return yI.forEach(t,(function(t){var r;yI.forEach(t,(function(t){var o=n[t];if(i.setNode(o),r){var s=n[r],l=i.edge(s,o);i.setEdge(s,o,Math.max(a(e,t,r),l||0))}r=t}))})),i}(e,t,n,i),s=i?"borderLeft":"borderRight";function l(e,t){for(var n=a.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return l((function(e){o[e]=a.inEdges(e).reduce((function(e,t){return Math.max(e,o[t.v]+a.edge(t))}),0)}),a.predecessors.bind(a)),l((function(t){var n=a.outEdges(t).reduce((function(e,t){return Math.min(e,o[t.w]-a.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(o[t]=Math.max(o[t],n))}),a.successors.bind(a)),yI.forEach(r,(function(e){o[e]=o[n[e]]})),o}function NI(e,t){return yI.minBy(yI.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return yI.forIn(t,(function(t,i){var o=function(e,t){return e.node(t).width}(e,i)/2;n=Math.max(t+o,n),r=Math.min(t-o,r)})),n-r}))}function PI(e,t){var n=yI.values(t),r=yI.min(n),i=yI.max(n);yI.forEach(["u","d"],(function(n){yI.forEach(["l","r"],(function(o){var a,s=n+o,l=e[s];if(l!==t){var u=yI.values(l);(a="l"===o?r-yI.min(u):i-yI.max(u))&&(e[s]=yI.mapValues(l,(function(e){return e+a})))}}))}))}function OI(e,t){return yI.mapValues(e.ul,(function(n,r){if(t)return e[t.toLowerCase()][r];var i=yI.sortBy(yI.map(e,r));return(i[1]+i[2])/2}))}var _I=kD,RI=BD,AI=xI,DI=function(e){(function(e){var t=RI.buildLayerMatrix(e),n=e.graph().ranksep,r=0;_I.forEach(t,(function(t){var i=_I.max(_I.map(t,(function(t){return e.node(t).height})));_I.forEach(t,(function(t){e.node(t).y=r+i/2})),r+=i+n}))})(e=RI.asNonCompoundGraph(e)),_I.forEach(AI(e),(function(t,n){e.node(n).x=t}))};var LI=kD,II=zD,zI=GD,jI=xL,FI=BD.normalizeRanks,BI=ML,UI=BD.removeEmptyRanks,WI=NL,VI=RL,HI=LL,GI=pI,$I=DI,YI=BD,qI=lD.Graph,KI=function(e,t){var n=t&&t.debugTiming?YI.time:YI.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new qI({multigraph:!0,compound:!0}),n=oz(e.graph());return t.setGraph(LI.merge({},QI,iz(n,XI),LI.pick(n,ZI))),LI.forEach(e.nodes(),(function(n){var r=oz(e.node(n));t.setNode(n,LI.defaults(iz(r,JI),ez)),t.setParent(n,e.parent(n))})),LI.forEach(e.edges(),(function(n){var r=oz(e.edge(n));t.setEdge(n,LI.merge({},nz,iz(r,tz),LI.pick(r,rz)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,LI.forEach(e.edges(),(function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){LI.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){II.run(e)})),t("    nestingGraph.run",(function(){WI.run(e)})),t("    rank",(function(){jI(YI.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){LI.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};YI.addDummyNode(e,"edge-proxy",i,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){UI(e)})),t("    nestingGraph.cleanup",(function(){WI.cleanup(e)})),t("    normalizeRanks",(function(){FI(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;LI.forEach(e.nodes(),(function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=LI.max(t,r.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){LI.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){zI.run(e)})),t("    parentDummyChains",(function(){BI(e)})),t("    addBorderSegments",(function(){VI(e)})),t("    order",(function(){GI(e)})),t("    insertSelfEdges",(function(){!function(e){var t=YI.buildLayerMatrix(e);LI.forEach(t,(function(t){var n=0;LI.forEach(t,(function(t,r){var i=e.node(t);i.order=r+n,LI.forEach(i.selfEdges,(function(t){YI.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete i.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){HI.adjust(e)})),t("    position",(function(){$I(e)})),t("    positionSelfEdges",(function(){!function(e){LI.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){LI.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(LI.last(n.borderLeft)),a=e.node(LI.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}})),LI.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){zI.undo(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){LI.forEach(e.edges(),(function(t){var n=e.edge(t);if(LI.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){HI.undo(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function l(e){var o=e.x,a=e.y,s=e.width,l=e.height;t=Math.min(t,o-s/2),n=Math.max(n,o+s/2),r=Math.min(r,a-l/2),i=Math.max(i,a+l/2)}LI.forEach(e.nodes(),(function(t){l(e.node(t))})),LI.forEach(e.edges(),(function(t){var n=e.edge(t);LI.has(n,"x")&&l(n)})),t-=a,r-=s,LI.forEach(e.nodes(),(function(n){var i=e.node(n);i.x-=t,i.y-=r})),LI.forEach(e.edges(),(function(n){var i=e.edge(n);LI.forEach(i.points,(function(e){e.x-=t,e.y-=r})),LI.has(i,"x")&&(i.x-=t),LI.has(i,"y")&&(i.y-=r)})),o.width=n-t+a,o.height=i-r+s}(e)})),t("    assignNodeIntersects",(function(){!function(e){LI.forEach(e.edges(),(function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(YI.intersectRect(o,n)),i.points.push(YI.intersectRect(a,r))}))}(e)})),t("    reversePoints",(function(){!function(e){LI.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){II.undo(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){LI.forEach(e.nodes(),(function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))})),LI.forEach(e.edges(),(function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,LI.has(i,"x")&&(r.x=i.x,r.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))};var XI=["nodesep","edgesep","ranksep","marginx","marginy"],QI={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ZI=["acyclicer","ranker","rankdir","align"],JI=["width","height"],ez={width:0,height:0},tz=["minlen","weight","width","height","labeloffset"],nz={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},rz=["labelpos"];function iz(e,t){return LI.mapValues(LI.pick(e,t),Number)}function oz(e){var t={};return LI.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}var az=kD,sz=BD,lz=lD.Graph,uz={debugOrdering:function(e){var t=sz.buildLayerMatrix(e),n=new lz({compound:!0,multigraph:!0}).setGraph({});return az.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),az.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),az.forEach(t,(function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),az.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}};var cz={graphlib:lD,layout:KI,debug:uz,util:{time:BD.time,notime:BD.notime},version:"0.8.5"},dz=E(cz);class fz{constructor(e){this.id="dagre",this.options={},Object.assign(this.options,fz.defaultOptions,e)}execute(e,t){return Ut(this,void 0,void 0,(function*(){return this.genericDagreLayout(!1,e,Object.assign(Object.assign({},this.options),t))}))}assign(e,t){return Ut(this,void 0,void 0,(function*(){yield this.genericDagreLayout(!0,e,Object.assign(Object.assign({},this.options),t))}))}genericDagreLayout(e,t,n){return Ut(this,void 0,void 0,(function*(){const{nodeSize:r}=n,i=new cz.graphlib.Graph;i.setGraph(n),i.setDefaultEdgeLabel((()=>({})));[...t.getAllNodes(),...t.getAllEdges()].some((({id:e})=>st(e)))&&console.error("Dagre layout only support string id, it will convert number to string."),t.getAllNodes().forEach((e=>{const{id:t}=e,n=Object.assign({},e.data);if(void 0!==r){const[t,i]=Cb($e(r)?r(e):r);Object.assign(n,{width:t,height:i})}i.setNode(t.toString(),n)})),t.getAllEdges().forEach((({id:e,source:t,target:n})=>{i.setEdge(t.toString(),n.toString(),{id:e})})),dz.layout(i);const o={nodes:[],edges:[]};return i.nodes().forEach((n=>{const r=i.node(n);o.nodes.push({id:n,data:r}),e&&t.mergeNodeData(n,r)})),i.edges().forEach((n=>{const r=i.edge(n),{id:a}=r,s=Bt(r,["id"]),{v:l,w:u}=n;o.edges.push({id:a,source:l,target:u,data:s}),e&&t.mergeEdgeData(a,s)})),o}))}}fz.defaultOptions={};class hz{constructor(e){this.id=e.id||0,this.rx=e.rx,this.ry=e.ry,this.fx=0,this.fy=0,this.mass=e.mass,this.degree=e.degree,this.g=e.g||0}distanceTo(e){const t=this.rx-e.rx,n=this.ry-e.ry;return Math.hypot(t,n)}setPos(e,t){this.rx=e,this.ry=t}resetForce(){this.fx=0,this.fy=0}addForce(e){const t=e.rx-this.rx,n=e.ry-this.ry;let r=Math.hypot(t,n);r=r<1e-4?1e-4:r;const i=this.g*(this.degree+1)*(e.degree+1)/r;this.fx+=i*t/r,this.fy+=i*n/r}in(e){return e.contains(this.rx,this.ry)}add(e){const t=this.mass+e.mass,n=(this.rx*this.mass+e.rx*e.mass)/t,r=(this.ry*this.mass+e.ry*e.mass)/t,i=this.degree+e.degree;return new hz({rx:n,ry:r,mass:t,degree:i})}}class pz{constructor(e){this.xmid=e.xmid,this.ymid=e.ymid,this.length=e.length,this.massCenter=e.massCenter||[0,0],this.mass=e.mass||1}getLength(){return this.length}contains(e,t){const n=this.length/2;return e<=this.xmid+n&&e>=this.xmid-n&&t<=this.ymid+n&&t>=this.ymid-n}NW(){const e=this.xmid-this.length/4,t=this.ymid+this.length/4,n=this.length/2;return new pz({xmid:e,ymid:t,length:n})}NE(){const e=this.xmid+this.length/4,t=this.ymid+this.length/4,n=this.length/2;return new pz({xmid:e,ymid:t,length:n})}SW(){const e=this.xmid-this.length/4,t=this.ymid-this.length/4,n=this.length/2;return new pz({xmid:e,ymid:t,length:n})}SE(){const e=this.xmid+this.length/4,t=this.ymid-this.length/4,n=this.length/2;return new pz({xmid:e,ymid:t,length:n})}}class gz{constructor(e){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=e&&(this.quad=e)}insert(e){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new gz(this.quad.NW()),this.NE=new gz(this.quad.NE()),this.SW=new gz(this.quad.SW()),this.SE=new gz(this.quad.SE())),this._putBody(this.body),this._putBody(e),this.body=this.body.add(e)):(this.body=this.body.add(e),this._putBody(e)):this.body=e}_putBody(e){this.quad&&(e.in(this.quad.NW())&&this.NW?this.NW.insert(e):e.in(this.quad.NE())&&this.NE?this.NE.insert(e):e.in(this.quad.SW())&&this.SW?this.SW.insert(e):e.in(this.quad.SE())&&this.SE&&this.SE.insert(e))}_isExternal(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE}updateForce(e){if(null!=this.body&&e!==this.body)if(this._isExternal())e.addForce(this.body);else{(this.quad?this.quad.getLength():0)/this.body.distanceTo(e)<this.theta?e.addForce(this.body):(this.NW&&this.NW.updateForce(e),this.NE&&this.NE.updateForce(e),this.SW&&this.SW.updateForce(e),this.SE&&this.SE.updateForce(e))}}}const vz={center:[0,0],width:300,height:300,kr:5,kg:1,mode:"normal",preventOverlap:!1,dissuadeHubs:!1,maxIteration:0,ks:.1,ksmax:10,tao:.1};const mz={maxIteration:1e3,gravity:10,speed:5,clustering:!1,clusterGravity:10,width:300,height:300,nodeClusterBy:"cluster"};const yz={begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30,width:300,height:300};const bz=(e,t)=>{let n;const r=e.rows||5,i=e.cols||5;if(null==t)n=Math.min(r,i);else{Math.min(r,i)===e.rows?e.rows=t:e.cols=t}return n},wz=(e,t)=>{let n;const r=e.rows||5,i=e.cols||5;if(null==t)n=Math.max(r,i);else{Math.max(r,i)===e.rows?e.rows=t:e.cols=t}return n},xz=(e,t)=>e[`c-${t.row}-${t.col}`]||!1,Ez=(e,t)=>e[`c-${t.row}-${t.col}`]=!0,kz=(e,t)=>{const n=e.cols||5;t.col++,t.col>=n&&(t.col=0,t.row++)},Sz=(e,t,n,r,i,o,a,s)=>{let l,u;const c=i[e.id];if(c)l=c.col*n+n/2+t[0],u=c.row*r+r/2+t[1];else{for(;xz(s,a);)kz(o,a);l=a.col*n+n/2+t[0],u=a.row*r+r/2+t[1],Ez(s,a),kz(o,a)}e.data.x=l,e.data.y=u},Mz={iterations:10,height:10,width:10,speed:100,gravity:10,k:5},Tz=(e,t,n,r,i,o)=>{t.forEach(((a,s)=>{n[s]={x:0,y:0},t.forEach(((t,l)=>{if(s===l)return;if(i[s]!==i[l])return;let u=a.x-t.x,c=a.y-t.y,d=Math.sqrt(u*u+c*c);if(0===d){d=1;const e=s>l?1:-1;u=.01*e,c=.01*e}if(d<o(e[s])/2+o(e[l])/2){const e=r*r/d;n[s].x+=u/d*e,n[s].y+=c/d*e}}))}))},Cz=(e,t,n,r,i,o,a,s)=>{const l=o||a/10;return r&&t.forEach(((t,n)=>{const r=e[n].x-e[i].x,o=e[n].y-e[i].y,a=Math.sqrt(r*r+o*o);let s=o/a,l=-r/a;const u=Math.sqrt(t.x*t.x+t.y*t.y);let c=Math.acos((s*t.x+l*t.y)/u);c>Math.PI/2&&(c-=Math.PI/2,s*=-1,l*=-1);const d=Math.cos(c)*u;t.x=s*d,t.y=l*d})),e.forEach(((o,a)=>{if(a===i)return;const u=Math.sqrt(t[a].x*t[a].x+t[a].y*t[a].y);if(u>0&&a!==i){const c=Math.min(l*(n/800),u);if(o.x+=t[a].x/u*c,o.y+=t[a].y/u*c,r){let t=o.x-e[i].x,n=o.y-e[i].y;const r=Math.sqrt(t*t+n*n);t=t/r*s[a],n=n/r*s[a],o.x=e[i].x+t,o.y=e[i].y+n}}})),e},Nz={maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,strictRadial:!0,maxPreventOverlapIteration:200,sortStrength:10};const Pz=(e,t,n,r,i,o,a)=>{if(!e)return[];const s=[];{const l={};t.forEach(((t,u)=>{const c=[];t.forEach(((t,s)=>{var d,f;if(u===s)c.push(0);else if(r[u]===r[s])if("data"===o)c.push(t*(Math.abs(u-s)*a)/(r[u]/i));else if(o){let n,h;if(l[e[u].id])n=l[e[u].id];else{const t=("id"===o?e[u].id:null===(d=e[u].data)||void 0===d?void 0:d[o])||0;n=rt(t)?t.charCodeAt(0):t,l[e[u].id]=n}if(l[e[s].id])h=l[e[s].id];else{const t=("id"===o?e[s].id:null===(f=e[s].data)||void 0===f?void 0:f[o])||0;h=rt(t)?t.charCodeAt(0):t,l[e[s].id]=h}c.push(t*(Math.abs(n-h)*a)/(r[u]/i))}else c.push(t*n/(r[u]/i));else{const e=(n+i)/2;c.push(t*e)}})),s.push(c)}))}return s},Oz=e=>{const t=e.length,n=e[0].length,r=[];for(let i=0;i<t;i++){const t=[];for(let r=0;r<n;r++)0!==e[i][r]?t.push(1/(e[i][r]*e[i][r])):t.push(0);r.push(t)}return r},_z=(e,t)=>{let n=-1;return e.forEach(((e,r)=>{e.id===t&&(n=r)})),Math.max(n,0)},Rz=(e,t,n)=>{const r=e.length;for(let i=0;i<r;i++)if(e[t][i]===1/0){e[t][i]=n,e[i][t]=n;for(let o=0;o<r;o++)e[i][o]!==1/0&&e[t][o]===1/0&&(e[t][o]=n+e[i][o],e[o][t]=n+e[i][o])}for(let n=0;n<r;n++)if(n!==t)for(let i=0;i<r;i++)if(e[n][i]===1/0){let r=Math.abs(e[t][n]-e[t][i]);r=0===r?1:r,e[n][i]=r}},Az=(e,t)=>{let n=0;for(let r=0;r<e[t].length;r++)e[t][r]!==1/0&&(n=e[t][r]>n?e[t][r]:n);return n},Dz={center:[0,0],width:300,height:300};
/**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   */
const Lz=Symbol("Comlink.proxy"),Iz=Symbol("Comlink.endpoint"),zz=Symbol("Comlink.releaseProxy"),jz=Symbol("Comlink.finalizer"),Fz=Symbol("Comlink.thrown"),Bz=e=>"object"==typeof e&&null!==e||"function"==typeof e,Uz=new Map([["proxy",{canHandle:e=>Bz(e)&&e[Lz],serialize(e){const{port1:t,port2:n}=new MessageChannel;return Wz(e,t),[n,[n]]},deserialize:e=>(e.start(),Hz(e))}],["throw",{canHandle:e=>Bz(e)&&Fz in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function Wz(e,t=globalThis,n=["*"]){t.addEventListener("message",(function r(i){if(!i||!i.data)return;if(!function(e,t){for(const n of e){if(t===n||"*"===n)return!0;if(n instanceof RegExp&&n.test(t))return!0}return!1}(n,i.origin))return void console.warn(`Invalid origin '${i.origin}' for comlink proxy`);const{id:o,type:a,path:s}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(Jz);let u;try{const t=s.slice(0,-1).reduce(((e,t)=>e[t]),e),n=s.reduce(((e,t)=>e[t]),e);switch(a){case"GET":u=n;break;case"SET":t[s.slice(-1)[0]]=Jz(i.data.value),u=!0;break;case"APPLY":u=n.apply(t,l);break;case"CONSTRUCT":u=function(e){return Object.assign(e,{[Lz]:!0})}(new n(...l));break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;Wz(e,n),u=function(e,t){return Qz.set(e,t),e}(t,[t])}break;case"RELEASE":u=void 0;break;default:return}}catch(e){u={value:e,[Fz]:0}}Promise.resolve(u).catch((e=>({value:e,[Fz]:0}))).then((n=>{const[i,s]=Zz(n);t.postMessage(Object.assign(Object.assign({},i),{id:o}),s),"RELEASE"===a&&(t.removeEventListener("message",r),Vz(t),jz in e&&"function"==typeof e[jz]&&e[jz]())})).catch((e=>{const[n,r]=Zz({value:new TypeError("Unserializable return value"),[Fz]:0});t.postMessage(Object.assign(Object.assign({},n),{id:o}),r)}))})),t.start&&t.start()}function Vz(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function Hz(e,t){const n=new Map;return e.addEventListener("message",(function(e){const{data:t}=e;if(!t||!t.id)return;const r=n.get(t.id);if(r)try{r(t)}finally{n.delete(t.id)}})),Kz(e,n,[],t)}function Gz(e){if(e)throw new Error("Proxy has been released and is not useable")}function $z(e){return ej(e,new Map,{type:"RELEASE"}).then((()=>{Vz(e)}))}const Yz=new WeakMap,qz="FinalizationRegistry"in globalThis&&new FinalizationRegistry((e=>{const t=(Yz.get(e)||0)-1;Yz.set(e,t),0===t&&$z(e)}));function Kz(e,t,n=[],r=function(){}){let i=!1;const o=new Proxy(r,{get(r,a){if(Gz(i),a===zz)return()=>{!function(e){qz&&qz.unregister(e)}(o),$z(e),t.clear(),i=!0};if("then"===a){if(0===n.length)return{then:()=>o};const r=ej(e,t,{type:"GET",path:n.map((e=>e.toString()))}).then(Jz);return r.then.bind(r)}return Kz(e,t,[...n,a])},set(r,o,a){Gz(i);const[s,l]=Zz(a);return ej(e,t,{type:"SET",path:[...n,o].map((e=>e.toString())),value:s},l).then(Jz)},apply(r,o,a){Gz(i);const s=n[n.length-1];if(s===Iz)return ej(e,t,{type:"ENDPOINT"}).then(Jz);if("bind"===s)return Kz(e,t,n.slice(0,-1));const[l,u]=Xz(a);return ej(e,t,{type:"APPLY",path:n.map((e=>e.toString())),argumentList:l},u).then(Jz)},construct(r,o){Gz(i);const[a,s]=Xz(o);return ej(e,t,{type:"CONSTRUCT",path:n.map((e=>e.toString())),argumentList:a},s).then(Jz)}});return function(e,t){const n=(Yz.get(t)||0)+1;Yz.set(t,n),qz&&qz.register(e,t,e)}(o,e),o}function Xz(e){const t=e.map(Zz);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const Qz=new WeakMap;function Zz(e){for(const[t,n]of Uz)if(n.canHandle(e)){const[r,i]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},i]}return[{type:"RAW",value:e},Qz.get(e)||[]]}function Jz(e){switch(e.type){case"HANDLER":return Uz.get(e.name).deserialize(e.value);case"RAW":return e.value}}function ej(e,t,n,r){return new Promise((i=>{const o=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");t.set(o,i),e.start&&e.start(),e.postMessage(Object.assign({id:o},n),r)}))}class tj extends Zg{constructor(e,t,n){super(),this.graph=e,this.layout=t,this.options=n,this.spawnWorker()}spawnWorker(){this.proxy=Hz(new Worker(new URL("./worker.js","undefined"==typeof document&&"undefined"==typeof location?require("url").pathToFileURL(__filename).href:"undefined"==typeof document?location.href:t&&"SCRIPT"===t.tagName.toUpperCase()&&t.src||new URL("g6-extension-react.min.js",document.baseURI).href),{type:"module"})),this.running&&(this.running=!1,this.execute())}execute(){var e;return Ut(this,void 0,void 0,(function*(){if(this.running)return this;this.running=!0;const t=Bt(this.layout.options,["onTick"]),n={};Object.keys(t).forEach((e=>{$e(t[e])||(n[e]=t[e])}));const r={layout:{id:this.layout.id,options:n,iterations:null===(e=this.options)||void 0===e?void 0:e.iterations},nodes:this.graph.getAllNodes(),edges:this.graph.getAllEdges()},i=new Float32Array([0]),[o]=yield this.proxy.calculateLayout(r,[i]);return o}))}stop(){return this.running=!1,this.proxy.stopLayout(),this}kill(){this.proxy[zz]()}isRunning(){return this.running}}var nj=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class rj extends iv{constructor(){super(...arguments),this.id="fishbone"}getRoot(){const e=this.context.model.getRootsData();if(!(Tt(e)||e.length>2))return e[0]}formatSize(e){const t="function"==typeof e?e:()=>e;return e=>Lf(t(e))}doLayout(e,t){const{hGap:n,getRibSep:r,vGap:i,nodeSize:o,height:a}=t,{model:s}=this.context,l=this.formatSize(o);let u=l(e)[0]+r(e);const c=(e,t=0)=>{var r;return t+=n*((e.children||[]).length+1),null===(r=e.children)||void 0===r||r.forEach((e=>{var n;null===(n=s.getNodeLikeDatum(e).children)||void 0===n||n.forEach((e=>{const n=s.getNodeLikeDatum(e);t=c(n,t)}))})),t},d=e=>{if(1===e.depth)return u;const t=s.getParentData(e.id,"tree");if(aj(e)){const r=s.getParentData(t.id,"tree"),o=p(e)-p(r);return d(t)+o*n/i}{const n=(t.children||[]).indexOf(e.id),r=s.getNodeData((t.children||[]).slice(n));return f(t)-r.reduce(((e,t)=>e+c(t)),0)-l(t)[0]/2}},f=xt((e=>{if(oj(e))return l(e)[0]/2;const t=s.getParentData(e.id,"tree");if(aj(e))return d(e)+c(e)+l(e)[0]/2;{const r=p(e)-p(t),o=n/i;return d(e)+r*o}}),(e=>e.id)),h=e=>p(s.getParentData(e,"tree")),p=xt((e=>{if(oj(e))return a/2;if(aj(e)){const t=s.getParentData(e.id,"tree"),n=t.children.indexOf(e.id);if(0===n)return h(t.id)+i;const r=s.getNodeLikeDatum(t.children[n-1]);if(Tt(r.children))return p(r)+i;const o=s.getDescendantsData(r.id);return Math.max(...o.map((e=>aj(e)?h(e.id):p(e))))+i}{if(Tt(e.children))return h(e.id)+i;const t=s.getNodeLikeDatum(e.children.slice(-1)[0]);if(Tt(t.children))return p(t)+i;const n=s.getDescendantsData(e.id).slice(-1)[0];return(aj(n)?h(n.id):p(n))+i}}),(e=>e.id));let g=0;const v={nodes:[],edges:[]},m=e=>{var t;null===(t=e.children)||void 0===t||t.forEach((e=>m(s.getNodeLikeDatum(e))));const n=p(e),i=f(e);if(v.nodes.push({id:e.id,x:i,y:n}),oj(e))return;const o=s.getRelatedEdgesData(e.id,"in")[0],a=[d(e),aj(e)?n:h(e.id)];v.edges.push({id:wd(o),controlPoints:[a],relatedNodeId:e.id}),g=Math.max(g,i+r(e)),1===e.depth&&(u=g)};return m(e),v}placeAlterative(e,t){const n=(t.children||[]).filter(((e,t)=>t%2!=0));if(0===n.length)return e;const{model:r}=this.context,i=e.nodes.find((e=>e.id===t.id)).y,o=e=>{const t=r.getAncestorsData(e,"tree");if(Tt(t))return!1;const i=1===t.length?e:t[t.length-2].id;return n.includes(i)};e.nodes.forEach((e=>{o(e.id)&&(e.y=2*i-e.y)})),e.edges.forEach((e=>{o(e.relatedNodeId)&&(e.controlPoints=e.controlPoints.map((e=>[e[0],2*i-e[1]])))}))}rightToLeft(e,t){return e.nodes.forEach((e=>e.x=t.width-e.x)),e.edges.forEach((e=>{e.controlPoints=e.controlPoints.map((e=>[t.width-e[0],e[1]]))})),e}execute(e,t){return nj(this,void 0,void 0,(function*(){const n=Object.assign(Object.assign(Object.assign({},rj.defaultOptions),this.options),t),{direction:r,nodeSize:i}=n,o=this.getRoot();if(!o)return e;const a=this.formatSize(i);n.vGap||(n.vGap=Math.max(...(e.nodes||[]).map((e=>a(e)[1])))),n.hGap||(n.hGap=Math.max(...(e.nodes||[]).map((e=>a(e)[0]))));let s=this.doLayout(o,n);this.placeAlterative(s,o),"RL"===r&&(s=this.rightToLeft(s,n));const{model:l}=this.context,u=[],c=[];return s.nodes.forEach((e=>{const{id:t,x:n,y:r}=e,i=l.getNodeLikeDatum(t);u.push(ij(i,{x:n,y:r}))})),s.edges.forEach((e=>{const{id:t,controlPoints:n}=e,r=l.getEdgeDatum(t);c.push(ij(r,{controlPoints:n}))})),{nodes:u,edges:c}}))}}rj.defaultOptions={direction:"RL",getRibSep:()=>60};const ij=(e,t)=>Object.assign(Object.assign({},e),{style:Object.assign(Object.assign({},e.style||{}),t)}),oj=e=>0===e.depth,aj=e=>(e.depth||(e.depth=0))%2==0;var sj=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class lj extends iv{constructor(){super(...arguments),this.id="snake"}formatSize(e,t){const n="function"==typeof t?t:()=>t;return e.reduce(((e,t)=>{const[r,i]=Lf(n(t))||[0,0];return[Math.max(e[0],r),Math.max(e[1],i)]}),[0,0])}validate(e){const{nodes:t=[],edges:n=[]}=e,r={},i={},o={};t.forEach((e=>{r[e.id]=0,i[e.id]=0,o[e.id]=[]})),n.forEach((e=>{r[e.target]++,i[e.source]++,o[e.source].push(e.target)}));const a=new Set,s=e=>{a.has(e)||(a.add(e),o[e].forEach(s))};if(s(t[0].id),a.size!==t.length)return!1;const l=t.filter((e=>0===r[e.id])),u=t.filter((e=>0===i[e.id]));if(1!==l.length||1!==u.length)return!1;return t.filter((e=>1===r[e.id]&&1===i[e.id])).length===t.length-2}execute(e,t){return sj(this,void 0,void 0,(function*(){var n;if(!this.validate(e))return e;const{nodeSize:r,padding:i,sortBy:o,cols:a,colGap:s,rowGap:l,clockwise:u,width:c,height:d}=Object.assign({},lj.defaultOptions,this.options,t),[f,h,p,g]=Yc(i),v=this.formatSize(e.nodes||[],r),m=Math.ceil((e.nodes||[]).length/a);let y=s||(c-g-h-a*v[0])/(a-1),b=l||(d-f-p-m*v[1])/(m-1);(b===1/0||b<0)&&(b=0),(y===1/0||y<0)&&(y=0);const w=o?null===(n=e.nodes)||void 0===n?void 0:n.sort(o):function(e){const{nodes:t=[],edges:n=[]}=e,r={},i={};t.forEach((e=>{r[e.id]=0,i[e.id]=[]})),n.forEach((e=>{r[e.target]++,i[e.source].push(e.target)}));const o=[],a=[];t.forEach((e=>{0===r[e.id]&&o.push(e.id)}));for(;o.length>0;){const e=o.shift(),n=t.find((t=>t.id===e));a.push(n),i[e].forEach((e=>{r[e]--,0===r[e]&&o.push(e)}))}return a}(e),x=(w||[]).map(((e,t)=>{const n=Math.floor(t/a),r=t%a,i=g+(u?n%2==0?r:a-1-r:n%2==0?a-1-r:r)*(v[0]+y)+v[0]/2,o=f+n*(v[1]+b)+v[1]/2;return{id:e.id,style:{x:i,y:o}}}));return{nodes:x}}))}}lj.defaultOptions={padding:0,cols:5,clockwise:!0};class uj extends Dd{}function cj(e,t=!0,n){const r=document.createElement("div");return r.setAttribute("class",`g6-${e}`),Object.assign(r.style,{position:"absolute",display:"block"}),t&&Object.assign(r.style,{position:"unset",gridArea:"1 / 1 / 2 / 2",inset:"0px",height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none"}),n&&Object.assign(r.style,n),r}function dj(e,t="div",n={},r="",i=document.body){const o=document.getElementById(e);o&&o.remove();const a=document.createElement(t);return a.innerHTML=r,a.id=e,Object.assign(a.style,n),i.appendChild(a),a}var fj=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class hj extends uj{constructor(e,t){super(e,Object.assign({},hj.defaultOptions,t)),this.$element=cj("background");this.context.canvas.getContainer().prepend(this.$element),this.update(t)}update(e){const t=Object.create(null,{update:{get:()=>super.update}});return fj(this,void 0,void 0,(function*(){t.update.call(this,e),Object.assign(this.$element.style,Rt(this.options,["key","type"]))}))}destroy(){super.destroy(),this.$element.remove()}}function pj(e,t,n,r,i,o){const a=n-e,s=r-t;let l=i-e,u=o-t,c=l*a+u*s,d=0;c<=0?d=0:(l=a-l,u=s-u,c=l*a+u*s,d=c<=0?0:c*c/(a*a+s*s));const f=l*l+u*u-d;return f<0?0:f}function gj(e,t,n,r){return(e-n)*(e-n)+(t-r)*(t-r)}function vj(e,t,n,r,i){return gj(e,t,n,r)<i*i}function mj(e){const t=Math.min(e.x1,e.x2),n=Math.max(e.x1,e.x2),r=Math.min(e.y1,e.y2),i=Math.max(e.y1,e.y2);return{x:t,y:r,x2:n,y2:i,width:n-t,height:i-r}}hj.defaultOptions={transition:"background 0.5s",backgroundSize:"cover",zIndex:"-1"};let yj=class e{constructor(e,t,n,r){this.x1=e,this.y1=t,this.x2=n,this.y2=r}equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2}draw(e){e.moveTo(this.x1,this.y1),e.lineTo(this.x2,this.y2)}toString(){return`Line(from=(${this.x1},${this.y1}),to=(${this.x2},${this.y2}))`}static from(t){return new e(t.x1,t.y1,t.x2,t.y2)}cuts(e,t){if(this.y1===this.y2)return!1;if(t<this.y1&&t<=this.y2||t>this.y1&&t>=this.y2)return!1;if(e>this.x1&&e>=this.x2)return!1;if(e<this.x1&&e<=this.x2)return!0;return e<=this.x1+(t-this.y1)*(this.x2-this.x1)/(this.y2-this.y1)}distSquare(e,t){return pj(this.x1,this.y1,this.x2,this.y2,e,t)}ptClose(e,t,n){if(this.x1<this.x2){if(e<this.x1-n||e>this.x2+n)return!1}else if(e<this.x2-n||e>this.x1+n)return!1;if(this.y1<this.y2){if(t<this.y1-n||t>this.y2+n)return!1}else if(t<this.y2-n||t>this.y1+n)return!1;return!0}};var bj,wj;!function(e){e[e.POINT=1]="POINT",e[e.PARALLEL=2]="PARALLEL",e[e.COINCIDENT=3]="COINCIDENT",e[e.NONE=4]="NONE"}(bj||(bj={}));class xj{constructor(e,t=0,n=0){this.state=e,this.x=t,this.y=n}}function Ej(e,t){const n=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),r=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),i=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(i){const t=n/i,o=r/i;return 0<=t&&t<=1&&0<=o&&o<=1?new xj(bj.POINT,e.x1+t*(e.x2-e.x1),e.y1+t*(e.y2-e.y1)):new xj(bj.NONE)}return new xj(0===n||0===r?bj.COINCIDENT:bj.PARALLEL)}function kj(e,t){const n=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),r=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),i=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(i){const e=n/i,t=r/i;if(0<=e&&e<=1&&0<=t&&t<=1)return e}return Number.POSITIVE_INFINITY}function Sj(e,t,n){const r=new Set;return e.width<=0?(r.add(wj.LEFT),r.add(wj.RIGHT)):t<e.x?r.add(wj.LEFT):t>e.x+e.width&&r.add(wj.RIGHT),e.height<=0?(r.add(wj.TOP),r.add(wj.BOTTOM)):n<e.y?r.add(wj.TOP):n>e.y+e.height&&r.add(wj.BOTTOM),r}function Mj(e,t){let n=t.x1,r=t.y1;const i=t.x2,o=t.y2,a=Array.from(Sj(e,i,o));if(0===a.length)return!0;let s=Sj(e,n,r);for(;0!==s.size;){for(const e of a)if(s.has(e))return!1;if(s.has(wj.RIGHT)||s.has(wj.LEFT)){let t=e.x;s.has(wj.RIGHT)&&(t+=e.width),r+=(t-n)*(o-r)/(i-n),n=t}else{let t=e.y;s.has(wj.BOTTOM)&&(t+=e.height),n+=(t-r)*(i-n)/(o-r),r=t}s=Sj(e,n,r)}return!0}function Tj(e,t){let n=Number.POSITIVE_INFINITY,r=0;function i(e,i,o,a){let s=kj(t,new yj(e,i,o,a));s=Math.abs(s-.5),s>=0&&s<=1&&(r++,s<n&&(n=s))}return i(e.x,e.y,e.x2,e.y),i(e.x,e.y,e.x,e.y2),r>1?n:(i(e.x,e.y2,e.x2,e.y2),r>1?n:(i(e.x2,e.y,e.x2,e.y2),0===r?-1:n))}function Cj(e,t){let n=0;const r=Ej(e,new yj(t.x,t.y,t.x2,t.y));n+=r.state===bj.POINT?1:0;const i=Ej(e,new yj(t.x,t.y,t.x,t.y2));n+=i.state===bj.POINT?1:0;const o=Ej(e,new yj(t.x,t.y2,t.x2,t.y2));n+=o.state===bj.POINT?1:0;const a=Ej(e,new yj(t.x2,t.y,t.x2,t.y2));return n+=a.state===bj.POINT?1:0,{top:r,left:i,bottom:o,right:a,count:n}}!function(e){e[e.LEFT=0]="LEFT",e[e.TOP=1]="TOP",e[e.RIGHT=2]="RIGHT",e[e.BOTTOM=3]="BOTTOM"}(wj||(wj={}));class Nj{constructor(e,t,n,r){this.x=e,this.y=t,this.width=n,this.height=r}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get cx(){return this.x+this.width/2}get cy(){return this.y+this.height/2}get radius(){return Math.max(this.width,this.height)/2}static from(e){return new Nj(e.x,e.y,e.width,e.height)}equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}clone(){return new Nj(this.x,this.y,this.width,this.height)}add(e){const t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x2,e.x+e.width),i=Math.max(this.y2,e.y+e.height);this.x=t,this.y=n,this.width=r-t,this.height=i-n}addPoint(e){const t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x2,e.x),i=Math.max(this.y2,e.y);this.x=t,this.y=n,this.width=r-t,this.height=i-n}toString(){return`Rectangle[x=${this.x}, y=${this.y}, w=${this.width}, h=${this.height}]`}draw(e){e.rect(this.x,this.y,this.width,this.height)}containsPt(e,t){return e>=this.x&&e<=this.x2&&t>=this.y&&t<=this.y2}get area(){return this.width*this.height}intersects(e){return!(this.area<=0||e.width<=0||e.height<=0)&&(e.x+e.width>this.x&&e.y+e.height>this.y&&e.x<this.x2&&e.y<this.y2)}distSquare(e,t){if(this.containsPt(e,t))return 0;const n=Sj(this,e,t);return n.has(wj.TOP)?n.has(wj.LEFT)?gj(e,t,this.x,this.y):n.has(wj.RIGHT)?gj(e,t,this.x2,this.y):(this.y-t)*(this.y-t):n.has(wj.BOTTOM)?n.has(wj.LEFT)?gj(e,t,this.x,this.y2):n.has(wj.RIGHT)?gj(e,t,this.x2,this.y2):(t-this.y2)*(t-this.y2):n.has(wj.LEFT)?(this.x-e)*(this.x-e):n.has(wj.RIGHT)?(e-this.x2)*(e-this.x2):0}}let Pj=class e{constructor(e,t,n){this.cx=e,this.cy=t,this.radius=n}get x(){return this.cx-this.radius}get x2(){return this.cx+this.radius}get width(){return 2*this.radius}get y(){return this.cy-this.radius}get y2(){return this.cy+this.radius}get height(){return 2*this.radius}static from(t){return new e(t.cx,t.cy,t.radius)}containsPt(e,t){return gj(this.cx,this.cy,e,t)<this.radius*this.radius}distSquare(e,t){const n=gj(this.cx,this.cy,e,t);if(n<this.radius*this.radius)return 0;const r=Math.sqrt(n)-this.radius;return r*r}draw(e){e.ellipse(this.cx,this.cy,this.radius,this.radius,0,0,2*Math.PI)}};class Oj{constructor(e,t=0,n=0,r=0,i=0,o=10,a=10,s=new Float32Array(Math.max(0,o*a)).fill(0)){this.pixelGroup=e,this.i=t,this.j=n,this.pixelX=r,this.pixelY=i,this.width=o,this.height=a,this.area=s}createSub(e,t){return new Oj(this.pixelGroup,e.x,e.y,t.x,t.y,e.width,e.height)}static fromPixelRegion(e,t){return new Oj(t,0,0,e.x,e.y,Math.ceil(e.width/t),Math.ceil(e.height/t))}copy(e,t){return new Oj(this.pixelGroup,this.scaleX(t.x),this.scaleY(t.y),t.x,t.y,e.width,e.height,e.area)}boundX(e){return e<this.i?this.i:e>=this.width?this.width-1:e}boundY(e){return e<this.j?this.j:e>=this.height?this.height-1:e}scaleX(e){return this.boundX(Math.floor((e-this.pixelX)/this.pixelGroup))}scaleY(e){return this.boundY(Math.floor((e-this.pixelY)/this.pixelGroup))}scale(e){const t=this.scaleX(e.x),n=this.scaleY(e.y),r=this.boundX(Math.ceil((e.x+e.width-this.pixelX)/this.pixelGroup)),i=this.boundY(Math.ceil((e.y+e.height-this.pixelY)/this.pixelGroup));return new Nj(t,n,r-t,i-n)}invertScaleX(e){return Math.round(e*this.pixelGroup+this.pixelX)}invertScaleY(e){return Math.round(e*this.pixelGroup+this.pixelY)}addPadding(e,t){const n=Math.ceil(t/this.pixelGroup),r=this.boundX(e.x-n),i=this.boundY(e.y-n),o=this.boundX(e.x2+n),a=this.boundY(e.y2+n);return new Nj(r,i,o-r,a-i)}get(e,t){return e<0||t<0||e>=this.width||t>=this.height?Number.NaN:this.area[e+t*this.width]}inc(e,t,n){e<0||t<0||e>=this.width||t>=this.height||(this.area[e+t*this.width]+=n)}set(e,t,n){e<0||t<0||e>=this.width||t>=this.height||(this.area[e+t*this.width]=n)}incArea(e,t){if(e.width<=0||e.height<=0||0===t)return;const n=this.width,r=e.width,i=Math.max(0,e.i),o=Math.max(0,e.j),a=Math.min(e.i+e.width,n),s=Math.min(e.j+e.height,this.height);if(!(s<=0||a<=0||i>=n||s>=this.height))for(let l=o;l<s;l++){const o=(l-e.j)*r,s=l*n;for(let n=i;n<a;n++){const r=e.area[n-e.i+o];0!==r&&(this.area[n+s]+=t*r)}}}fill(e){this.area.fill(e)}fillArea(e,t){const n=e.x+e.y*this.width;for(let r=0;r<e.height;r++){const i=n+r*this.width;this.area.fill(t,i,i+e.width)}}fillHorizontalLine(e,t,n,r){const i=e+t*this.width;this.area.fill(r,i,i+n)}fillVerticalLine(e,t,n,r){const i=e+t*this.width;for(let e=0;e<n;e++)this.area[i+e*this.width]=r}clear(){this.area.fill(0)}toString(){let e="";for(let t=0;t<this.height;t++){const n=t*this.width;for(let t=0;t<this.width;t++){e+=this.area[n+t].toFixed(1).padStart(6),e+=" "}e+="\n"}return e}draw(e,t=!0){if(this.width<=0||this.height<=0)return;e.save(),t&&e.translate(this.pixelX,this.pixelY);const n=this.area.reduce(((e,t)=>Math.min(e,t)),Number.POSITIVE_INFINITY),r=this.area.reduce(((e,t)=>Math.max(e,t)),Number.NEGATIVE_INFINITY),i=e=>(e-n)/(r-n);e.scale(this.pixelGroup,this.pixelGroup);for(let t=0;t<this.width;t++)for(let n=0;n<this.height;n++){const r=this.area[t+n*this.width];e.fillStyle=`rgba(0, 0, 0, ${i(r)})`,e.fillRect(t,n,1,1)}e.restore()}drawThreshold(e,t,n=!0){if(!(this.width<=0||this.height<=0)){e.save(),n&&e.translate(this.pixelX,this.pixelY),e.scale(this.pixelGroup,this.pixelGroup);for(let n=0;n<this.width;n++)for(let r=0;r<this.height;r++){const i=this.area[n+r*this.width];e.fillStyle=i>t?"black":"white",e.fillRect(n,r,1,1)}e.restore()}}}function _j(e,t){const n=e=>({x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t});return Array.isArray(e)?e.map(n):n(e)}function Rj(e,t,n){return Aj(Object.assign(mj(e),{distSquare:(t,n)=>pj(e.x1,e.y1,e.x2,e.y2,t,n)}),t,n)}function Aj(e,t,n){const r=_j(e,n),i=t.scale(r),o=t.createSub(i,r);return function(e,t,n,r){const i=n*n;for(let o=0;o<e.height;o++)for(let a=0;a<e.width;a++){const s=r(t.invertScaleX(e.i+a),t.invertScaleY(e.j+o));if(0!==s){if(s<i){const t=n-Math.sqrt(s);e.set(a,o,t*t)}}else e.set(a,o,i)}}(o,t,n,((t,n)=>e.distSquare(t,n))),o}function Dj(e,t){return{x:e,y:t}}function Lj(e,t,n,r){if(0===e.length)return[];const i=function(e){if(e.length<2)return e;let t=0,n=0;return e.forEach((e=>{t+=e.cx,n+=e.cy})),t/=e.length,n/=e.length,e.map((e=>{const r=t-e.cx,i=n-e.cy;return[e,r*r+i*i]})).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}(e);return i.map(((e,o)=>{const a=i.slice(0,o);return function(e,t,n,r,i){const o=Dj(t.cx,t.cy),a=function(e,t,n){let r=Number.POSITIVE_INFINITY;return t.reduce(((t,i)=>{const o=gj(e.x,e.y,i.cx,i.cy);if(o>r)return t;const a=new yj(e.x,e.y,i.cx,i.cy),s=function(e,t){return e.reduce(((e,n)=>Mj(n,t)&&function(e,t){function n(e,n,r,i){let o=kj(t,new yj(e,n,r,i));return o=Math.abs(o-.5),o>=0&&o<=1?1:0}let r=n(e.x,e.y,e.x2,e.y);return r+=n(e.x,e.y,e.x,e.y2),r>1||(r+=n(e.x,e.y2,e.x2,e.y2),r>1||(r+=n(e.x2,e.y,e.x2,e.y2),r>0))}(n,t)?e+1:e),0)}(n,a);return o*(s+1)*(s+1)<r&&(t=i,r=o*(s+1)*(s+1)),t}),null)}(o,n,e);if(null==a)return[];const s=function(e,t,n,r){const i=[],o=[];o.push(e);let a=!0;for(let e=0;e<n&&a;e++)for(a=!1;!a&&o.length>0;){const e=o.pop(),n=jj(t,e),s=n?Cj(e,n):null;if(!n||!s||2!==s.count){a||i.push(e);continue}let l=r,u=Fj(n,l,s,!0),c=zj(u,o)||zj(u,i),d=Ij(u,t);for(;!c&&d&&l>=1;)l/=1.5,u=Fj(n,l,s,!0),c=zj(u,o)||zj(u,i),d=Ij(u,t);if(!u||c||d||(o.push(new yj(e.x1,e.y1,u.x,u.y)),o.push(new yj(u.x,u.y,e.x2,e.y2)),a=!0),a)continue;l=r,u=Fj(n,l,s,!1);let f=zj(u,o)||zj(u,i);for(d=Ij(u,t);!f&&d&&l>=1;)l/=1.5,u=Fj(n,l,s,!1),f=zj(u,o)||zj(u,i),d=Ij(u,t);u&&!f&&(o.push(new yj(e.x1,e.y1,u.x,u.y)),o.push(new yj(u.x,u.y,e.x2,e.y2)),a=!0),a||i.push(e)}for(;o.length>0;)i.push(o.pop());return i}(new yj(o.x,o.y,a.cx,a.cy),e,r,i);return function(e,t){const n=[];for(;e.length>0;){const r=e.pop();if(0===e.length){n.push(r);break}const i=e.pop(),o=new yj(r.x1,r.y1,i.x2,i.y2);jj(t,o)?(n.push(r),e.push(i)):e.push(o)}return n}(s,e)}(t,e,a,n,r)})).flat()}function Ij(e,t){return t.some((t=>t.containsPt(e.x,e.y)))}function zj(e,t){return t.some((t=>!!vj(t.x1,t.y1,e.x,e.y,.001)||!!vj(t.x2,t.y2,e.x,e.y,.001)))}function jj(e,t){let n=Number.POSITIVE_INFINITY,r=null;for(const i of e){if(!Mj(i,t))continue;const e=Tj(i,t);e>=0&&e<n&&(r=i,n=e)}return r}function Fj(e,t,n,r){const i=n.top,o=n.left,a=n.bottom,s=n.right;if(r){if(o.state===bj.POINT){if(i.state===bj.POINT)return Dj(e.x-t,e.y-t);if(a.state===bj.POINT)return Dj(e.x-t,e.y2+t);const n=e.width*e.height;return e.width*(.5*(o.y-e.y+(s.y-e.y)))<.5*n?o.y>s.y?Dj(e.x-t,e.y-t):Dj(e.x2+t,e.y-t):o.y<s.y?Dj(e.x-t,e.y2+t):Dj(e.x2+t,e.y2+t)}if(s.state===bj.POINT){if(i.state===bj.POINT)return Dj(e.x2+t,e.y-t);if(a.state===bj.POINT)return Dj(e.x2+t,e.y2+t)}const n=e.height*e.width;return e.height*(.5*(i.x-e.x+(s.x-e.x)))<.5*n?i.x>a.x?Dj(e.x-t,e.y-t):Dj(e.x-t,e.y2+t):i.x<a.x?Dj(e.x2+t,e.y-t):Dj(e.x2+t,e.y2+t)}if(o.state===bj.POINT){if(i.state===bj.POINT)return Dj(e.x2+t,e.y2+t);if(a.state===bj.POINT)return Dj(e.x2+t,e.y-t);const n=e.height*e.width;return e.width*(.5*(o.y-e.y+(s.y-e.y)))<.5*n?o.y>s.y?Dj(e.x2+t,e.y2+t):Dj(e.x-t,e.y2+t):o.y<s.y?Dj(e.x2+t,e.y-t):Dj(e.x-t,e.y-t)}if(s.state===bj.POINT){if(i.state===bj.POINT)return Dj(e.x-t,e.y2+t);if(a.state===bj.POINT)return Dj(e.x-t,e.y-t)}const l=e.height*e.width;return e.height*(.5*(i.x-e.x+(s.x-e.x)))<.5*l?i.x>a.x?Dj(e.x2+t,e.y2+t):Dj(e.x2+t,e.y-t):i.x<a.x?Dj(e.x-t,e.y2+t):Dj(e.x-t,e.y-t)}function Bj(e,t,n,r){if(!(e.closed?n<e.length:n<e.length-1))return!1;const i=e.get(t),o=e.get(n+1);for(let a=t+1;a<=n;a++){const t=e.get(a);if(pj(i.x,i.y,o.x,o.y,t.x,t.y)>r)return!1}return!0}function Uj(e,t){switch(e){case-2:return(((3-t)*t-3)*t+1)/6;case-1:return((3*t-6)*t*t+4)/6;case 0:return(((-3*t+3)*t+3)*t+1)/6;case 1:return t*t*t/6;default:throw new Error("unknown error")}}class Wj{constructor(e=[],t=!0){this.points=e,this.closed=t}get(e){const t=e,n=this.points.length;return e<0?this.closed?this.get(e+n):this.points[0]:e>=n?this.closed?this.get(e-n):this.points[n-1]:this.points[t]}get length(){return this.points.length}toString(e=1/0){const t=this.points;if(0===t.length)return"";const n="function"==typeof e?e:function(e){if(!Number.isFinite(e))return e=>e;if(0===e)return Math.round;const t=Math.pow(10,e);return e=>Math.round(e*t)/t}(e);let r="M";for(const e of t)r+=`${n(e.x)},${n(e.y)} L`;return r=r.slice(0,-1),this.closed&&(r+=" Z"),r}draw(e){const t=this.points;if(0!==t.length){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(const n of t)e.lineTo(n.x,n.y);this.closed&&e.closePath()}}sample(e){return function(e=8){return t=>{let n=e,r=t.length;if(n>1)for(r=Math.floor(t.length/n);r<3&&n>1;)n-=1,r=Math.floor(t.length/n);const i=[];for(let e=0,o=0;o<r;o++,e+=n)i.push(t.get(e));return new Wj(i)}}(e)(this)}simplify(e){return function(e=0){return t=>{if(e<0||t.length<3)return t;const n=[];let r=0;const i=e*e;for(;r<t.length;){let e=r+1;for(;Bj(t,r,e,i);)e++;n.push(t.get(r)),r=e}return new Wj(n)}}(e)(this)}bSplines(e){return function(e=6){function t(e,t,n){let r=0,i=0;for(let o=-2;o<=1;o++){const a=e.get(t+o),s=Uj(o,n);r+=s*a.x,i+=s*a.y}return{x:r,y:i}}return n=>{if(n.length<3)return n;const r=[],i=n.closed,o=n.length+3-1+(i?0:2);r.push(t(n,2-(i?0:2),0));for(let a=2-(i?0:2);a<o;a++)for(let i=1;i<=e;i++)r.push(t(n,a,i/e));return new Wj(r)}}(e)(this)}apply(e){return e(this)}containsElements(e){const t=function(e){if(0===e.length)return null;const t=e[0],n=new Nj(t.x,t.y,0,0);for(const t of e)n.addPoint(t);return n}(this.points);return!!t&&e.every((e=>t.containsPt(e.cx,e.cy)&&this.withinArea(e.cx,e.cy)))}withinArea(e,t){if(0===this.length)return!1;let n=0;const r=this.points[0],i=new yj(r.x,r.y,r.x,r.y);for(let r=1;r<this.points.length;r++){const o=this.points[r];i.x1=i.x2,i.y1=i.y2,i.x2=o.x,i.y2=o.y,i.cuts(e,t)&&n++}return i.x1=i.x2,i.y1=i.y2,i.x2=r.x,i.y2=r.y,i.cuts(e,t)&&n++,n%2==1}}class Vj{constructor(e=0){this.count=0,this.arr=[],this.set=new Set,this.arr.length=e}add(e){this.set.add(`${e.x}x${e.y}`),this.arr[this.count++]=e}contains(e){return this.set.has(`${e.x}x${e.y}`)}isFirst(e){if(0===this.count)return!1;const t=this.arr[0];return null!=t&&t.x===e.x&&t.y===e.y}path(){return new Wj(this.arr.slice(0,this.count))}clear(){this.set.clear(),this.count=0}get(e){return this.arr[e]}get length(){return this.count}}function Hj(e,t){const n=2*(Math.floor(e.width)+Math.floor(e.height)),r=new Vj(n);function i(n,r,i,o){const a=e.get(n,r);return Number.isNaN(a)?Number.NaN:a>t?i+o:i}function o(e,t){let n=0;return n=i(e,t,n,1),n=i(e+1,t,n,2),n=i(e,t+1,n,4),n=i(e+1,t+1,n,8),Number.isNaN(n)?-1:n}let a=1;function s(t,n){let i=t,s=n,l=e.invertScaleX(i),u=e.invertScaleY(s);for(let t=0;t<e.width*e.height;t++){const t={x:l,y:u};if(r.contains(t)){if(r.isFirst(t))return!0}else r.add(t);const n=o(i,s);switch(n){case-1:return!0;case 0:case 3:case 2:case 7:a=2;break;case 12:case 14:case 4:a=3;break;case 6:a=0===a?3:2;break;case 1:case 13:case 5:a=0;break;case 9:a=2===a?0:1;break;case 10:case 8:case 11:a=1;break;default:return console.warn("Marching squares invalid state: "+n),!0}switch(a){case 0:s--,u-=e.pixelGroup;break;case 1:s++,u+=e.pixelGroup;break;case 3:i--,l-=e.pixelGroup;break;case 2:i++,l+=e.pixelGroup;break;default:return console.warn("Marching squares invalid state: "+n),!0}}return!0}for(let n=0;n<e.width;n++)for(let i=0;i<e.height;i++){if(e.get(n,i)<=t)continue;const a=o(n,i);if(!(a<0||15===a)&&s(n,i))return r.path()}return null}const Gj={maxRoutingIterations:100,maxMarchingIterations:20,pixelGroup:4,edgeR0:10,edgeR1:20,nodeR0:15,nodeR1:50,morphBuffer:10,threshold:1,memberInfluenceFactor:1,edgeInfluenceFactor:1,nonMemberInfluenceFactor:-.8,virtualEdges:!0};function $j(e){return null!=e&&"number"==typeof e.radius}function Yj(e,t){if($j(e)!==$j(t))return!1;if($j(e)){const n=t;return e.cx===n.cx&&e.cy===n.cy&&e.radius===n.radius}const n=t;return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}var qj;!function(e){e[e.MEMBERS=0]="MEMBERS",e[e.NON_MEMBERS=1]="NON_MEMBERS",e[e.EDGES=2]="EDGES"}(qj||(qj={}));let Kj=class{constructor(e={}){this.dirty=new Set,this.members=[],this.nonMembers=[],this.virtualEdges=[],this.edges=[],this.activeRegion=new Nj(0,0,0,0),this.potentialArea=new Oj(1,0,0,0,0,0,0),this.o=Object.assign({},Gj,e)}pushMember(...e){if(0!==e.length){this.dirty.add(qj.MEMBERS);for(const t of e)this.members.push({raw:t,obj:$j(t)?Pj.from(t):Nj.from(t),area:null})}}removeMember(e){const t=this.members.findIndex((t=>Yj(t.raw,e)));return!(t<0)&&(this.members.splice(t,1),this.dirty.add(qj.MEMBERS),!0)}removeNonMember(e){const t=this.nonMembers.findIndex((t=>Yj(t.raw,e)));return!(t<0)&&(this.nonMembers.splice(t,1),this.dirty.add(qj.NON_MEMBERS),!0)}removeEdge(e){const t=this.edges.findIndex((t=>t.obj.equals(e)));return!(t<0)&&(this.edges.splice(t,1),this.dirty.add(qj.NON_MEMBERS),!0)}pushNonMember(...e){if(0!==e.length){this.dirty.add(qj.NON_MEMBERS);for(const t of e)this.nonMembers.push({raw:t,obj:$j(t)?Pj.from(t):Nj.from(t),area:null})}}pushEdge(...e){if(0!==e.length){this.dirty.add(qj.EDGES);for(const t of e)this.edges.push({raw:t,obj:yj.from(t),area:null})}}update(){const e=this.dirty.has(qj.MEMBERS),t=this.dirty.has(qj.NON_MEMBERS);let n=this.dirty.has(qj.EDGES);this.dirty.clear();const r=this.members.map((e=>e.obj));if(this.o.virtualEdges&&(e||t)){const e=Lj(r,this.nonMembers.map((e=>e.obj)),this.o.maxRoutingIterations,this.o.morphBuffer),t=new Map(this.virtualEdges.map((e=>[e.obj.toString(),e.area])));this.virtualEdges=e.map((e=>{var n;return{raw:e,obj:e,area:null!==(n=t.get(e.toString()))&&void 0!==n?n:null}})),n=!0}let i=!1;if(e||n){const e=function(e,t){if(0===e.length)return new Nj(0,0,0,0);const n=Nj.from(e[0]);for(const t of e)n.add(t);for(const e of t)n.add(mj(e));return n}(r,this.virtualEdges.concat(this.edges).map((e=>e.obj))),t=Math.max(this.o.edgeR1,this.o.nodeR1)+this.o.morphBuffer,n=Nj.from(_j(e,t));n.equals(this.activeRegion)||(i=!0,this.activeRegion=n)}if(i){const e=Math.ceil(this.activeRegion.width/this.o.pixelGroup),t=Math.ceil(this.activeRegion.height/this.o.pixelGroup);this.activeRegion.x!==this.potentialArea.pixelX||this.activeRegion.y!==this.potentialArea.pixelY?(this.potentialArea=Oj.fromPixelRegion(this.activeRegion,this.o.pixelGroup),this.members.forEach((e=>e.area=null)),this.nonMembers.forEach((e=>e.area=null)),this.edges.forEach((e=>e.area=null)),this.virtualEdges.forEach((e=>e.area=null))):e===this.potentialArea.width&&t===this.potentialArea.height||(this.potentialArea=Oj.fromPixelRegion(this.activeRegion,this.o.pixelGroup))}const o=new Map,a=e=>{if(e.area){const t=`${e.obj.width}x${e.obj.height}x${e.obj instanceof Nj?"R":"C"}`;o.set(t,e.area)}},s=e=>{if(e.area)return;const t=`${e.obj.width}x${e.obj.height}x${e.obj instanceof Nj?"R":"C"}`;if(o.has(t)){const n=o.get(t);return void(e.area=this.potentialArea.copy(n,{x:e.obj.x-this.o.nodeR1,y:e.obj.y-this.o.nodeR1}))}const n=e.obj instanceof Nj?function(e,t,n){const r=t.scale(e),i=t.addPadding(r,n),o=t.createSub(i,{x:e.x-n,y:e.y-n}),a=r.x-i.x,s=r.y-i.y,l=i.x2-r.x2,u=i.y2-r.y2,c=i.width-a-l,d=i.height-s-u,f=n*n;o.fillArea({x:a,y:s,width:c+1,height:d+1},f);const h=[0],p=Math.max(s,a,l,u);{const i=t.invertScaleX(r.x+r.width/2);for(let o=1;o<p;o++){const a=t.invertScaleY(r.y-o),s=e.distSquare(i,a);if(!(s<f))break;{const e=n-Math.sqrt(s);h.push(e*e)}}}const g=[],v=Math.max(a,l),m=Math.max(s,l);for(let i=1;i<v;i++){const o=t.invertScaleX(r.x-i),a=[];for(let i=1;i<m;i++){const s=t.invertScaleY(r.y-i),l=e.distSquare(o,s);if(l<f){const e=n-Math.sqrt(l);a.push(e*e)}else a.push(0)}g.push(a)}for(let e=1;e<Math.min(s,h.length);e++){const t=h[e];o.fillHorizontalLine(a,s-e,c+1,t)}for(let e=1;e<Math.min(u,h.length);e++){const t=h[e];o.fillHorizontalLine(a,s+d+e,c+1,t)}for(let e=1;e<Math.min(a,h.length);e++){const t=h[e];o.fillVerticalLine(a-e,s,d+1,t)}for(let e=1;e<Math.min(u,h.length);e++){const t=h[e];o.fillVerticalLine(a+c+e,s,d+1,t)}for(let e=1;e<a;e++){const t=g[e-1],n=a-e;for(let e=1;e<s;e++)o.set(n,s-e,t[e-1]);for(let e=1;e<u;e++)o.set(n,s+d+e,t[e-1])}for(let e=1;e<l;e++){const t=g[e-1],n=a+c+e;for(let e=1;e<s;e++)o.set(n,s-e,t[e-1]);for(let e=1;e<u;e++)o.set(n,s+d+e,t[e-1])}return o}(e.obj,this.potentialArea,this.o.nodeR1):Aj(e.obj,this.potentialArea,this.o.nodeR1);e.area=n,o.set(t,n)};this.members.forEach(a),this.nonMembers.forEach(a),this.members.forEach(s),this.nonMembers.forEach((e=>{this.activeRegion.intersects(e.obj)?s(e):e.area=null})),this.edges.forEach((e=>{e.area||(e.area=Rj(e.obj,this.potentialArea,this.o.edgeR1))})),this.virtualEdges.forEach((e=>{e.area||(e.area=Rj(e.obj,this.potentialArea,this.o.edgeR1))}))}drawMembers(e){for(const t of this.members)t.obj.draw(e)}drawNonMembers(e){for(const t of this.nonMembers)t.obj.draw(e)}drawEdges(e){for(const t of this.edges)t.obj.draw(e)}drawPotentialArea(e,t=!0){this.potentialArea.draw(e,t)}compute(){if(0===this.members.length)return new Wj([]);this.dirty.size>0&&this.update();const{o:e,potentialArea:t}=this,n=this.members.map((e=>e.area)),r=this.virtualEdges.concat(this.edges).map((e=>e.area)),i=this.nonMembers.filter((e=>null!=e.area)).map((e=>e.area)),o=this.members.map((e=>e.obj));return function(e,t,n,r,i,o={}){const a=Object.assign({},Gj,o);let s=a.threshold,l=a.memberInfluenceFactor,u=a.edgeInfluenceFactor,c=a.nonMemberInfluenceFactor;const d=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),f=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1);for(let o=0;o<a.maxMarchingIterations;o++){if(e.clear(),0!==l){const n=l/d;for(const r of t)e.incArea(r,n)}if(0!==u){const t=u/f;for(const r of n)e.incArea(r,t)}if(0!==c){const t=c/d;for(const n of r)e.incArea(n,t)}const h=Hj(e,s);if(h&&i(h))return h;if(s*=.95,o<=.5*a.maxMarchingIterations)l*=1.2,u*=1.2;else{if(!(0!==c&&r.length>0))break;c*=.8}}return new Wj([])}(t,n,r,i,(e=>e.containsElements(o)),e)}};var Xj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class Qj extends uj{constructor(e,t){super(e,St({},Qj.defaultOptions,t)),this.members=new Map,this.avoidMembers=new Map,this.bubbleSetOptions={},this.drawBubbleSets=()=>{const{style:e,bubbleSetOptions:t}=this.parseOptions();Ct(this.bubbleSetOptions,t)||this.init(),this.bubbleSetOptions=Object.assign({},t);const n=Object.assign(Object.assign({},e),{d:this.getPath()});this.shape?this.shape.update(n):(this.shape=new Jf({style:n}),this.context.canvas.appendChild(this.shape))},this.updateBubbleSetsPath=e=>{if(!this.shape)return;const t=wd(e.data);[...this.options.members,...this.options.avoidMembers].includes(t)&&this.shape.update(Object.assign(Object.assign({},this.parseOptions().style),{d:this.getPath(t)}))},this.getPath=e=>{const{graph:t}=this.context,n=this.options.members,r=[...this.members.keys()],i=this.options.avoidMembers,o=[...this.avoidMembers.keys()];if(!e&&Ct(n,r)&&Ct(i,o))return this.path;const{enter:a=[],exit:s=[]}=_d(r,n,(e=>e)),{enter:l=[],exit:u=[]}=_d(o,i,(e=>e));e&&(s.push(e),a.push(e));const c=(e,n,r)=>{e.forEach((e=>{const i=r?this.members:this.avoidMembers,o=r?"pushMember":"pushNonMember",a=r?"removeMember":"removeNonMember";if(n){let n;"edge"===t.getElementType(e)?([n]=Jj(t,e),this.bubbleSets.pushEdge(n)):([n]=Zj(t,e),this.bubbleSets[o](n)),i.set(e,n)}else{const n=i.get(e);n&&("edge"===t.getElementType(e)?this.bubbleSets.removeEdge(n):this.bubbleSets[a](n),i.delete(e))}}))};c(s,!1,!0),c(a,!0,!0),c(u,!1,!1),c(l,!0,!1);const d=this.bubbleSets.compute().sample(8).simplify(0).bSplines().simplify(0);return this.path=Qf(d.points.map(rf)),this.path},this.bindEvents(),this.bubbleSets=new Kj(this.options)}bindEvents(){this.context.graph.on(wc.AFTER_RENDER,this.drawBubbleSets),this.context.graph.on(wc.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath)}init(){this.bubbleSets=new Kj(this.options),this.members=new Map,this.avoidMembers=new Map}parseOptions(){const e=this.options,{type:t,key:n,members:r,avoidMembers:i}=e,o=Xj(e,["type","key","members","avoidMembers"]),a=Object.keys(o).reduce(((e,t)=>(t in Gj?e.bubbleSetOptions[t]=o[t]:e.style[t]=o[t],e)),{style:{},bubbleSetOptions:{}});return Object.assign({type:t,key:n,members:r,avoidMembers:i},a)}addMember(e){const t=Array.isArray(e)?e:[e];t.some((e=>this.options.avoidMembers.includes(e)))&&(this.options.avoidMembers=this.options.avoidMembers.filter((e=>!t.includes(e)))),this.options.members=[...new Set([...this.options.members,...t])],this.drawBubbleSets()}removeMember(e){const t=Array.isArray(e)?e:[e];this.options.members=this.options.members.filter((e=>!t.includes(e))),this.drawBubbleSets()}updateMember(e){this.options.members=$e(e)?e(this.options.members):e,this.drawBubbleSets()}getMember(){return this.options.members}addAvoidMember(e){const t=Array.isArray(e)?e:[e];t.some((e=>this.options.members.includes(e)))&&(this.options.members=this.options.members.filter((e=>!t.includes(e)))),this.options.avoidMembers=[...new Set([...this.options.avoidMembers,...t])],this.drawBubbleSets()}removeAvoidMember(e){const t=Array.isArray(e)?e:[e];this.options.avoidMembers.some((e=>t.includes(e)))&&(this.options.avoidMembers=this.options.avoidMembers.filter((e=>!t.includes(e))),this.drawBubbleSets())}updateAvoidMember(e){this.options.avoidMembers=Array.isArray(e)?e:[e],this.drawBubbleSets()}getAvoidMember(){return this.options.avoidMembers}destroy(){this.context.graph.off(wc.AFTER_RENDER,this.drawBubbleSets),this.context.graph.off(wc.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath),this.shape.destroy(),super.destroy()}}Qj.defaultOptions=Object.assign({members:[],avoidMembers:[],fill:"lightblue",fillOpacity:.2,stroke:"blue",strokeOpacity:.2},Gj);const Zj=(e,t)=>(Array.isArray(t)?t:[t]).map((t=>{const n=e.getElementRenderBounds(t);return new Nj(n.min[0],n.min[1],Kc(n),Xc(n))})),Jj=(e,t)=>(Array.isArray(t)?t:[t]).map((t=>{const n=e.getEdgeData(t),r=e.getElementPosition(n.source),i=e.getElementPosition(n.target);return yj.from({x1:r[0],y1:r[1],x2:i[0],y2:i[1]})}));var eF=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class tF extends uj{constructor(e,t){super(e,Object.assign({},tF.defaultOptions,t)),this.targetElement=null,this.onTriggerEvent=e=>{var t;null===(t=e.preventDefault)||void 0===t||t.call(e),this.show(e)},this.onMenuItemClick=e=>{const{onClick:t,trigger:n}=this.options;if(e.target instanceof HTMLElement&&e.target.className.includes("g6-contextmenu-li")){const n=e.target.getAttribute("value");null==t||t(n,e.target,this.targetElement),this.hide()}"click"!==n&&this.hide()},this.initElement(),this.update(t)}initElement(){this.$element=cj("contextmenu",!1,{zIndex:"99"});const{className:e}=this.options;e&&this.$element.classList.add(e);this.context.canvas.getContainer().appendChild(this.$element),dj("g6-contextmenu-css","style",{},"\n  .g6-contextmenu {\n    font-size: 12px;\n    background-color: rgba(255, 255, 255, 0.96);\n    border-radius: 4px;\n    overflow: hidden;\n    box-shadow: rgba(0, 0, 0, 0.12) 0px 6px 12px 0px;\n    transition: visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1) 0s, left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s;\n  }\n\n  .g6-contextmenu-ul {\n    max-width: 256px;\n    min-width: 96px;\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n\n  .g6-contextmenu-li {\n    padding: 8px 12px;\n    cursor: pointer;\n    user-select: none;\n  }\n\n  .g6-contextmenu-li:hover {\n    background-color: #f5f5f5;\n    cursor: pointer;\n  }\n",document.head)}show(e){return eF(this,void 0,void 0,(function*(){const{enable:t,offset:n}=this.options;if("function"==typeof t&&!t(e)||!t)return void this.hide();const r=yield this.getDOMContent(e);r instanceof HTMLElement?(this.$element.innerHTML="",this.$element.appendChild(r)):this.$element.innerHTML=r;const i=this.context.graph.getCanvas().getContainer().getBoundingClientRect();this.$element.style.left=`${e.client.x-i.left+n[0]}px`,this.$element.style.top=`${e.client.y-i.top+n[1]}px`,this.$element.style.display="block",this.targetElement=e.target}))}hide(){this.$element.style.display="none",this.targetElement=null}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy(),this.$element.remove()}getDOMContent(e){return eF(this,void 0,void 0,(function*(){const{getContent:t,getItems:n}=this.options;return n?`\n    <ul class="g6-contextmenu-ul">\n      ${(yield n(e)).map((e=>`<li  class="g6-contextmenu-li" value="${e.value}">${e.name}</li>`)).join("")}\n    </ul>\n  `:yield t(e)}))}bindEvents(){const{graph:e}=this.context,{trigger:t}=this.options;e.on(`canvas:${t}`,this.onTriggerEvent),e.on(`node:${t}`,this.onTriggerEvent),e.on(`edge:${t}`,this.onTriggerEvent),e.on(`combo:${t}`,this.onTriggerEvent),document.addEventListener("click",this.onMenuItemClick)}unbindEvents(){const{graph:e}=this.context,{trigger:t}=this.options;e.off(`canvas:${t}`,this.onTriggerEvent),e.off(`node:${t}`,this.onTriggerEvent),e.off(`edge:${t}`,this.onTriggerEvent),e.off(`combo:${t}`,this.onTriggerEvent),document.removeEventListener("click",this.onMenuItemClick)}}tF.defaultOptions={trigger:"contextmenu",offset:[4,4],loadingContent:'<div class="g6-contextmenu-loading">Loading...</div>',getContent:()=>"It is a empty context menu.",enable:()=>!0};class nF extends uj{constructor(e,t){super(e,Object.assign({},nF.defaultOptions,t)),this.edgeBundles={},this.edgePoints={},this.onBundle=()=>{const{model:e,element:t}=this.context,n=e.getEdgeData();this.divideEdges(this.options.divisions);const{cycles:r,iterRate:i,divRate:o}=this.options;let{lambda:a,divisions:s,iterations:l}=this.options;for(let e=0;e<r;e++){for(let e=0;e<l;e++){const e={};n.forEach((t=>{var n;if(t.source===t.target)return;const r=wd(t);e[r]=this.getEdgeForces(t,s,a);for(let t=0;t<s+1;t++)(n=this.edgePoints)[r]||(n[r]=[]),this.edgePoints[r][t]=jd(this.edgePoints[r][t],e[r][t])}))}a/=2,s*=o,l*=i,this.divideEdges(s)}n.forEach((e=>{const n=wd(e),r=t.getElement(n);null==r||r.update({d:eg(this.edgePoints[n])})}))},this.bindEvents()}get nodeMap(){const e=this.context.model.getNodeData();return Object.fromEntries(e.map((e=>[wd(e),qd(ef(e))])))}divideEdges(e){this.context.model.getEdgeData().forEach((t=>{var n;const r=wd(t);(n=this.edgePoints)[r]||(n[r]=[]);const i=this.nodeMap[t.source],o=this.nodeMap[t.target];if(1===e)this.edgePoints[r].push(i),this.edgePoints[r].push(Ud(jd(i,o),2)),this.edgePoints[r].push(o);else{const t=(0===this.edgePoints[r].length?Vd(i,o):uF(this.edgePoints[r]))/(e+1);let n=t;const a=[i];for(let e=1;e<this.edgePoints[r].length;e++){const i=this.edgePoints[r][e-1],o=this.edgePoints[r][e];let s=Vd(o,i);for(;s>n;){const e=n/s,r=jd(i,Bd(Fd(o,i),e));a.push(r),s-=n,n=t}n-=s}a.push(o),this.edgePoints[r]=a}}))}getVectorPosition(e){const t=this.nodeMap[e.source],n=this.nodeMap[e.target],[r,i]=Fd(n,t);return{source:t,target:n,vx:r,vy:i,length:Vd(t,n)}}measureEdgeCompatibility(e,t){const n=this.getVectorPosition(e),r=this.getVectorPosition(t);return rF(n,r)*iF(n,r)*oF(n,r)*lF(n,r)}getEdgeBundles(){const e={},t=this.options.bundleThreshold,n=this.context.model.getEdgeData();return n.forEach(((r,i)=>{n.forEach(((n,o)=>{var a,s;if(o<=i)return;this.measureEdgeCompatibility(r,n)>=t&&(e[a=wd(r)]||(e[a]=[]),e[wd(r)].push(n),e[s=wd(n)]||(e[s]=[]),e[wd(n)].push(r))}))})),e}getSpringForce(e,t){const{pre:n,cur:r,next:i}=e;return Bd(Fd(jd(n,i),Bd(r,2)),t)}getElectrostaticForce(e,t){Tt(this.edgeBundles)&&(this.edgeBundles=this.getEdgeBundles());const n=this.edgeBundles[wd(t)];let r=[0,0];return null==n||n.forEach((n=>{const i=this.edgePoints[wd(n)][e],o=this.edgePoints[wd(t)][e],a=Fd(i,o),s=Vd(i,o);r=jd(r,Bd(a,1/s))})),r}getEdgeForces(e,t,n){const r=this.nodeMap[e.source],i=this.nodeMap[e.target],o=this.options.K/(Vd(r,i)*(t+1)),a=[[0,0]],s=wd(e);for(let r=1;r<t;r++){const t=this.getSpringForce({pre:this.edgePoints[s][r-1],cur:this.edgePoints[s][r],next:this.edgePoints[s][r+1]||[0,0]},o),i=this.getElectrostaticForce(r,e);a.push(Bd(jd(t,i),n))}return a.push([0,0]),a}bindEvents(){const{graph:e}=this.context;e.on(wc.AFTER_RENDER,this.onBundle)}unbindEvents(){const{graph:e}=this.context;e.off(wc.AFTER_RENDER,this.onBundle)}destroy(){this.unbindEvents(),super.destroy()}}nF.defaultOptions={K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:2/3,bundleThreshold:.6};const rF=(e,t)=>Math.abs(function(e,t){return e.reduce(((e,n,r)=>e+n*t[r]),0)}([e.vx,e.vy],[t.vx,t.vy])/(e.length*t.length)),iF=(e,t)=>{const n=(e.length+t.length)/2;return 2/(n/Math.min(e.length,t.length)+Math.max(e.length,t.length)/n)},oF=(e,t)=>{const n=(e.length+t.length)/2;return n/(n+Vd(Ud(jd(e.source,e.target),2),Ud(jd(t.source,t.target),2)))},aF=(e,t)=>{if(t.source[0]===t.target[0])return[t.source[0],e[1]];if(t.source[1]===t.target[1])return[e[0],t.source[1]];const n=(t.source[1]-t.target[1])/(t.source[0]-t.target[0]),r=(n*n*t.source[0]+n*(e[1]-t.source[1])+e[0])/(n*n+1);return[r,n*(r-t.source[0])+t.source[1]]},sF=(e,t)=>{const n=aF(t.source,e),r=aF(t.target,e),i=Ud(jd(n,r),2),o=Ud(jd(e.source,e.target),2);return 0===Vd(n,r)?0:Math.max(0,1-2*Vd(o,i)/Vd(n,r))},lF=(e,t)=>Math.min(sF(e,t),sF(t,e)),uF=e=>{let t=0;for(let n=1;n<e.length;n++)t+=Vd(e[n],e[n-1]);return t},cF={fill:"#fff",fillOpacity:1,lineWidth:1,stroke:"#000",strokeOpacity:.8,zIndex:-1/0};class dF extends uj{constructor(e,t){super(e,Object.assign({},dF.defaultOptions,t)),this.shapes=new Map,this.r=this.options.r,this.onEdgeFilter=e=>{if("drag"===this.options.trigger&&this.isLensOn)return;const t=rf(e.canvas);this.renderLens(t),this.renderFocusElements()},this.renderLens=e=>{const t=Object.assign({},cF,this.options.style);this.isLensOn||(this.lens=new uh({style:t}),this.canvas.appendChild(this.lens)),Object.assign(t,of(e),{size:2*this.r}),this.lens.update(t)},this.getFilterData=()=>{const{filter:e}=this.options,{model:t}=this.context,n=t.getData();if(!e)return n;const{nodes:r,edges:i,combos:o}=n;return{nodes:r.filter((t=>e(wd(t),"node"))),edges:i.filter((t=>e(wd(t),"edge"))),combos:o.filter((t=>e(wd(t),"combo")))}},this.getFocusElements=e=>{const{nodes:t,edges:n}=this.getFilterData(),r=t.filter((t=>Vd(ef(t),e)<this.r)),i=r.map((e=>wd(e)));return{nodes:r,edges:n.filter((e=>{const{source:t,target:n}=e,r=i.includes(t),o=i.includes(n);switch(this.options.nodeType){case"both":return r&&o;case"either":return r!==o;case"source":return r&&!o;case"target":return!r&&o;default:return!1}}))}},this.renderFocusElements=()=>{const{element:e,graph:t}=this.context;if(!this.isLensOn)return;const n=this.lens.getCenter(),{nodes:r,edges:i}=this.getFocusElements(n),o=new Set,a=n=>{const r=wd(n);o.add(r);const i=e.getElement(r);if(!i)return;const a=this.shapes.get(r)||i.cloneNode();a.setPosition(i.getPosition()),a.id=i.id,this.shapes.has(r)?Object.entries(i.attributes).forEach((([e,t])=>{a.style[e]!==t&&(a.style[e]=t)})):(this.canvas.appendChild(a),this.shapes.set(r,a));const s=t.getElementType(r),l=this.getElementStyle(s,n);a.update(l)};r.forEach(a),i.forEach(a),this.shapes.forEach(((e,t)=>{o.has(t)||(e.destroy(),this.shapes.delete(t))}))},this.scaleRByWheel=e=>{var t;this.options.preventDefault&&e.preventDefault();const{clientX:n,clientY:r,deltaX:i,deltaY:o}=e,{graph:a,canvas:s}=this.context,l=a.getCanvasByClient([n,r]),u=null===(t=this.lens)||void 0===t?void 0:t.getCenter();if(!this.isLensOn||Vd(l,u)>this.r)return;const{maxR:c,minR:d}=this.options,f=i+o>0?1/.95:.95,h=Math.min(...s.getSize())/2;this.r=Math.max(d||0,Math.min(c||h,this.r*f)),this.renderLens(u),this.renderFocusElements()},this.isLensDragging=!1,this.onDragStart=e=>{var t;const n=rf(e.canvas),r=null===(t=this.lens)||void 0===t?void 0:t.getCenter();!this.isLensOn||Vd(n,r)>this.r||(this.isLensDragging=!0)},this.onDrag=e=>{if(!this.isLensDragging)return;const t=rf(e.canvas);this.renderLens(t),this.renderFocusElements()},this.onDragEnd=()=>{this.isLensDragging=!1},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}getElementStyle(e,t){const n="node"===e?this.options.nodeStyle:this.options.edgeStyle;return"function"==typeof n?n(t):n}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var e;const{graph:t}=this.context,{trigger:n,scaleRBy:r}=this.options,i=t.getCanvas().getLayer();["click","drag"].includes(n)&&i.addEventListener(mc.CLICK,this.onEdgeFilter),"pointermove"===n?i.addEventListener(mc.POINTER_MOVE,this.onEdgeFilter):"drag"===n&&(i.addEventListener(mc.DRAG_START,this.onDragStart),i.addEventListener(mc.DRAG,this.onDrag),i.addEventListener(mc.DRAG_END,this.onDragEnd)),"wheel"===r&&(null===(e=this.graphDom)||void 0===e||e.addEventListener(mc.WHEEL,this.scaleRByWheel,{passive:!1}))}unbindEvents(){var e;const{graph:t}=this.context,{trigger:n,scaleRBy:r}=this.options,i=t.getCanvas().getLayer();["click","drag"].includes(n)&&i.removeEventListener(mc.CLICK,this.onEdgeFilter),"pointermove"===n?i.removeEventListener(mc.POINTER_MOVE,this.onEdgeFilter):"drag"===n&&(i.removeEventListener(mc.DRAG_START,this.onDragStart),i.removeEventListener(mc.DRAG,this.onDrag),i.removeEventListener(mc.DRAG_END,this.onDragEnd)),"wheel"===r&&(null===(e=this.graphDom)||void 0===e||e.removeEventListener(mc.WHEEL,this.scaleRByWheel))}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}destroy(){this.unbindEvents(),this.isLensOn&&this.lens.destroy(),this.shapes.forEach(((e,t)=>{e.destroy(),this.shapes.delete(t)})),super.destroy()}}dF.defaultOptions={trigger:"pointermove",r:60,nodeType:"both",filter:()=>!0,style:{lineWidth:2},nodeStyle:{label:!1},edgeStyle:{label:!0},scaleRBy:"wheel",preventDefault:!0};const fF={fill:"#ccc",fillOpacity:.1,lineWidth:2,stroke:"#000",strokeOpacity:.8,labelFontSize:12};class hF extends uj{constructor(e,t){super(e,Object.assign({},hF.defaultOptions,t)),this.r=this.options.r,this.d=this.options.d,this.onCreateFisheye=e=>{if("drag"===this.options.trigger&&this.isLensOn)return;const t=rf(e.canvas);this.onMagnify(t)},this.onMagnify=e=>{e.some(isNaN)||(this.renderLens(e),this.renderFocusElements())},this.renderLens=e=>{const t=Object.assign({},fF,this.options.style);this.isLensOn||(this.lens=new uh({style:t}),this.canvas.appendChild(this.lens)),Object.assign(t,of(e),{size:2*this.r,label:this.options.showDPercent,labelText:this.getDPercent()}),this.lens.update(t)},this.getDPercent=()=>{const{minD:e,maxD:t}=this.options;return`${Math.round((this.d-e)/(t-e)*100)}%`},this.prevMagnifiedStyleMap=new Map,this.prevOriginStyleMap=new Map,this.renderFocusElements=()=>{if(!this.isLensOn)return;const{graph:e}=this.context,t=this.lens.getCenter(),n=(this.d+1)*this.r,r=new Map,i=new Map;e.getNodeData().forEach((o=>{const a=ef(o),s=Vd(a,t);if(s>this.r)return;const l=n*s/(this.d*s+this.r),[u,c]=a,[d,f]=t,h=[d+l*((u-d)/s),f+l*((c-f)/s)],p=wd(o),g=this.getNodeStyle(o),v=_t(e.getElementRenderStyle(p),Object.keys(g));r.set(p,Object.assign(Object.assign({},of(h)),g)),i.set(p,Object.assign(Object.assign({},of(a)),v))})),this.updateStyle(r,i)},this.getNodeStyle=e=>{const{nodeStyle:t}=this.options;return"function"==typeof t?t(e):t},this.updateStyle=(e,t)=>{const{graph:n,element:r}=this.context,{enter:i,exit:o,keep:a}=_d(Array.from(this.prevMagnifiedStyleMap.keys()),Array.from(e.keys()),(e=>e)),s=new Set,l=(e,t)=>{const i=r.getElement(e);null==i||i.update(t),n.getRelatedEdgesData(e).forEach((e=>{s.add(wd(e))}))};[...i,...a].forEach((t=>{l(t,e.get(t))})),o.forEach((e=>{l(e,this.prevOriginStyleMap.get(e)),this.prevOriginStyleMap.delete(e)})),s.forEach((e=>{const t=r.getElement(e);null==t||t.update({})})),this.prevMagnifiedStyleMap=e,t.forEach(((e,t)=>{this.prevOriginStyleMap.has(t)||this.prevOriginStyleMap.set(t,e)}))},this.isWheelValid=e=>{if(this.options.preventDefault&&e.preventDefault(),!this.isLensOn)return!1;const{clientX:t,clientY:n}=e;return!(Vd(this.context.graph.getCanvasByClient([t,n]),this.lens.getCenter())>this.r)},this.scaleR=e=>{const{maxR:t,minR:n}=this.options,r=e?1/.95:.95,i=Math.min(...this.context.canvas.getSize())/2;this.r=Math.max(n||0,Math.min(t||i,this.r*r))},this.scaleD=e=>{const{maxD:t,minD:n}=this.options,r=e?this.d+.1:this.d-.1;this.d=Math.max(n,Math.min(t,r))},this.scaleRByWheel=e=>{if(!this.isWheelValid(e))return;const{deltaX:t,deltaY:n}=e;this.scaleR(t+n>0);const r=this.lens.getCenter();this.onMagnify(r)},this.scaleDByWheel=e=>{if(!this.isWheelValid(e))return;const{deltaX:t,deltaY:n}=e;this.scaleD(t+n>0);const r=this.lens.getCenter();this.onMagnify(r)},this.isDragValid=e=>{if(this.options.preventDefault&&e.preventDefault(),!this.isLensOn)return!1;return!(Vd(rf(e.canvas),this.lens.getCenter())>this.r)},this.isLensDragging=!1,this.onDragStart=e=>{this.isDragValid(e)&&(this.isLensDragging=!0)},this.onDrag=e=>{if(!this.isLensDragging)return;const t=rf(e.canvas);this.onMagnify(t)},this.onDragEnd=()=>{this.isLensDragging=!1},this.scaleRByDrag=e=>{if(!this.isLensDragging)return;const{dx:t,dy:n}=e;this.scaleR(t-n>0);const r=this.lens.getCenter();this.onMagnify(r)},this.scaleDByDrag=e=>{if(!this.isLensDragging)return;const{dx:t,dy:n}=e;this.scaleD(t-n>0);const r=this.lens.getCenter();this.onMagnify(r)},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var e;const{graph:t}=this.context,{trigger:n,scaleRBy:r,scaleDBy:i}=this.options,o=t.getCanvas().getLayer();if(["click","drag"].includes(n)&&o.addEventListener(mc.CLICK,this.onCreateFisheye),"pointermove"===n&&o.addEventListener(mc.POINTER_MOVE,this.onCreateFisheye),"drag"===n||"drag"===r||"drag"===i){o.addEventListener(mc.DRAG_START,this.onDragStart),o.addEventListener(mc.DRAG_END,this.onDragEnd);const e="drag"===n?this.onDrag:"drag"===r?this.scaleRByDrag:this.scaleDByDrag;o.addEventListener(mc.DRAG,e)}if("wheel"===r||"wheel"===i){const t="wheel"===r?this.scaleRByWheel:this.scaleDByWheel;null===(e=this.graphDom)||void 0===e||e.addEventListener(mc.WHEEL,t,{passive:!1})}}unbindEvents(){var e;const{graph:t}=this.context,{trigger:n,scaleRBy:r,scaleDBy:i}=this.options,o=t.getCanvas().getLayer();if(["click","drag"].includes(n)&&o.removeEventListener(mc.CLICK,this.onCreateFisheye),"pointermove"===n&&o.removeEventListener(mc.POINTER_MOVE,this.onCreateFisheye),"drag"===n||"drag"===r||"drag"===i){o.removeEventListener(mc.DRAG_START,this.onDragStart),o.removeEventListener(mc.DRAG_END,this.onDragEnd);const e="drag"===n?this.onDrag:"drag"===r?this.scaleRByDrag:this.scaleDByDrag;o.removeEventListener(mc.DRAG,e)}if("wheel"===r||"wheel"===i){const t="wheel"===r?this.scaleRByWheel:this.scaleDByWheel;null===(e=this.graphDom)||void 0===e||e.removeEventListener(mc.WHEEL,t)}}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}destroy(){var e;this.unbindEvents(),this.isLensOn&&(null===(e=this.lens)||void 0===e||e.destroy()),this.prevMagnifiedStyleMap.clear(),this.prevOriginStyleMap.clear(),super.destroy()}}hF.defaultOptions={trigger:"pointermove",r:120,d:1.5,maxD:5,minD:0,showDPercent:!0,style:{},nodeStyle:{label:!0},preventDefault:!0};class pF extends uj{constructor(e,t){super(e,Object.assign({},pF.defaultOptions,t)),this.$el=this.context.canvas.getContainer(),this.graphSize=[0,0],this.onFullscreenChange=()=>{var e,t,n,r;const i=!!document.fullscreenElement;this.options.autoFit&&this.setGraphSize(i),i?null===(t=(e=this.options).onEnter)||void 0===t||t.call(e):null===(r=(n=this.options).onExit)||void 0===r||r.call(n)},this.shortcut=new yf(e.graph),this.bindEvents(),this.style=document.createElement("style"),document.head.appendChild(this.style),this.style.innerHTML="\n      :not(:root):fullscreen::backdrop {\n        background: transparent;\n      }\n    "}bindEvents(){this.unbindEvents(),this.shortcut.unbindAll();const{request:e=[],exit:t=[]}=this.options.trigger;this.shortcut.bind(e,this.request),this.shortcut.bind(t,this.exit);["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach((e=>{document.addEventListener(e,this.onFullscreenChange,!1)}))}unbindEvents(){this.shortcut.unbindAll();["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach((e=>{document.removeEventListener(e,this.onFullscreenChange,!1)}))}setGraphSize(e=!0){var t,n;let r,i;e?(r=(null===(t=globalThis.screen)||void 0===t?void 0:t.width)||0,i=(null===(n=globalThis.screen)||void 0===n?void 0:n.height)||0,this.graphSize=this.context.graph.getSize()):[r,i]=this.graphSize,this.context.graph.setSize(r,i),this.context.graph.render()}request(){!document.fullscreenElement&&(document.fullscreenEnabled||Reflect.get(document,"webkitFullscreenEnabled")||Reflect.get(document,"mozFullscreenEnabled")||Reflect.get(document,"msFullscreenEnabled"))&&this.$el.requestFullscreen().catch((e=>{Pc(`Error attempting to enable full-screen: ${e.message} (${e.name})`)}))}exit(){document.fullscreenElement&&document.exitFullscreen()}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}destroy(){this.exit(),this.style.remove(),super.destroy()}}pF.defaultOptions={trigger:{},autoFit:!0};class gF extends uj{constructor(e,t){super(e,Object.assign({},gF.defaultOptions,t)),this.$element=cj("grid-line",!0),this.offset=[0,0],this.onTransform=e=>{if(!this.options.follow)return;const{data:{translate:t}}=e;t&&this.updateOffset(t)};this.context.canvas.getContainer().prepend(this.$element),this.updateStyle(),this.bindEvents()}update(e){super.update(e),this.updateStyle()}bindEvents(){const{graph:e}=this.context;e.on(wc.AFTER_TRANSFORM,this.onTransform)}updateStyle(){const{size:e,stroke:t,lineWidth:n,border:r,borderLineWidth:i,borderStroke:o,borderStyle:a}=this.options;Object.assign(this.$element.style,{border:r?`${i}px ${a} ${o}`:"none",backgroundImage:`linear-gradient(${t} ${n}px, transparent ${n}px), linear-gradient(90deg, ${t} ${n}px, transparent ${n}px)`,backgroundSize:`${e}px ${e}px`,backgroundRepeat:"repeat"})}updateOffset(e){this.offset=function(e,t){return e.map((e=>e%t))}(jd(this.offset,e),this.options.size),this.$element.style.backgroundPosition=`${this.offset[0]}px ${this.offset[1]}px`}destroy(){this.context.graph.off(wc.AFTER_TRANSFORM,this.onTransform),this.$element.remove(),super.destroy()}}function vF(e){const t={Added:new Map,Updated:new Map,Removed:new Map};return e.forEach((e=>{const{type:n,value:r}=e,i=wd(r);if("NodeAdded"===n||"EdgeAdded"===n||"ComboAdded"===n)t.Added.set(i,e);else if("NodeUpdated"===n||"EdgeUpdated"===n||"ComboUpdated"===n)if(t.Added.has(i))t.Added.set(i,{type:n.replace("Updated","Added"),value:r});else if(t.Updated.has(i)){const{original:e}=t.Updated.get(i);t.Updated.set(i,{type:n,value:r,original:e})}else t.Removed.has(i)||t.Updated.set(i,e);else"NodeRemoved"!==n&&"EdgeRemoved"!==n&&"ComboRemoved"!==n||(t.Added.has(i)?t.Added.delete(i):t.Updated.has(i)?(t.Updated.delete(i),t.Removed.set(i,e)):t.Removed.set(i,e))})),[...Array.from(t.Added.values()),...Array.from(t.Updated.values()),...Array.from(t.Removed.values())]}function mF(e){const{NodeAdded:t=[],NodeUpdated:n=[],NodeRemoved:r=[],EdgeAdded:i=[],EdgeUpdated:o=[],EdgeRemoved:a=[],ComboAdded:s=[],ComboUpdated:l=[],ComboRemoved:u=[]}=ot(e,(e=>e.type));return{add:{nodes:t,edges:i,combos:s},update:{nodes:n,edges:o,combos:l},remove:{nodes:r,edges:a,combos:u}}}function yF(e,t){for(const n in e)Ke(e[n])&&!Array.isArray(e[n])&&null!==e[n]?(t[n]||(t[n]={}),yF(e[n],t[n])):void 0===t[n]&&(t[n]=Ac(n))}function bF(e,t=!1,n){const r={animation:t,current:{add:{},update:{},remove:{}},original:{add:{},update:{},remove:{}}},{add:i,update:o,remove:a}=mF(vF(e));return["nodes","edges","combos"].forEach((e=>{o[e]&&o[e].forEach((t=>{var i,o;const a=Object.assign({},t.value);let s=Object.assign({},t.original);if(n){const e=n.graph.getElementType(wd(t.original)),r="edge"===e?"stroke":"fill",i=n.element.getElementComputedStyle(e,t.original);s=Object.assign(Object.assign({},t.original),{style:Object.assign({[r]:i[r]},t.original.style)})}yF(a,s),(i=r.current.update)[e]||(i[e]=[]),r.current.update[e].push(a),(o=r.original.update)[e]||(o[e]=[]),r.original.update[e].push(s)})),i[e]&&i[e].forEach((t=>{var n,i;const o=Object.assign({},t.value);(n=r.current.add)[e]||(n[e]=[]),r.current.add[e].push(o),(i=r.original.remove)[e]||(i[e]=[]),r.original.remove[e].push(o)})),a[e]&&a[e].forEach((t=>{var n,i;const o=Object.assign({},t.value);(n=r.current.remove)[e]||(n[e]=[]),r.current.remove[e].push(o),(i=r.original.add)[e]||(i[e]=[]),r.original.add[e].push(o)}))})),r}gF.defaultOptions={border:!0,borderLineWidth:1,borderStroke:"#eee",borderStyle:"solid",lineWidth:1,size:20,stroke:"#eee"};class wF extends uj{constructor(e,t){super(e,Object.assign({},wF.defaultOptions,t)),this.batchChanges=null,this.batchAnimation=!1,this.undoStack=[],this.redoStack=[],this.freezed=!1,this.executeCommand=(e,t=!0)=>{var n,r,i;this.freezed=!0,null===(r=(n=this.options).executeCommand)||void 0===r||r.call(n,e);const o=t?e.original:e.current;this.context.graph.addData(o.add),this.context.graph.updateData(o.update),this.context.graph.removeData(Ed(o.remove,!1)),null===(i=this.context.element)||void 0===i||i.draw({silence:!0,animation:e.animation}),this.freezed=!1},this.addCommand=e=>{var t;if(!this.freezed){if(e.type===wc.AFTER_DRAW){const{dataChanges:n=[],animation:r=!0}=e.data;if(null===(t=this.context.batch)||void 0===t?void 0:t.isBatching){if(!this.batchChanges)return;return this.batchChanges.push(n),void(this.batchAnimation&&(this.batchAnimation=r))}this.batchChanges=[n],this.batchAnimation=r}this.undoStackPush(bF(this.batchChanges.flat(),this.batchAnimation,this.context)),this.notify(xc.ADD,this.undoStack[this.undoStack.length-1])}},this.initBatchCommand=e=>{const{initiate:t}=e.data;if(this.batchAnimation=!1,t)this.batchChanges=[];else{this.undoStack.pop()||(this.batchChanges=null)}},this.emitter=new Zg;const{graph:n}=this.context;n.on(wc.AFTER_DRAW,this.addCommand),n.on(wc.BATCH_START,this.initBatchCommand),n.on(wc.BATCH_END,this.addCommand)}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}undo(){var e,t,n,r;const i=this.undoStack.pop();if(i){this.executeCommand(i);if(!1===(null===(t=(e=this.options).beforeAddCommand)||void 0===t?void 0:t.call(e,i,!1)))return;this.redoStack.push(i),null===(r=(n=this.options).afterAddCommand)||void 0===r||r.call(n,i,!1),this.notify(xc.UNDO,i)}return this}redo(){const e=this.redoStack.pop();return e&&(this.executeCommand(e,!1),this.undoStackPush(e),this.notify(xc.REDO,e)),this}undoAndCancel(){const e=this.undoStack.pop();return e&&(this.executeCommand(e,!1),this.redoStack=[],this.notify(xc.CANCEL,e)),this}undoStackPush(e){var t,n,r,i;const{stackSize:o}=this.options;0!==o&&this.undoStack.length>=o&&this.undoStack.shift();!1!==(null===(n=(t=this.options).beforeAddCommand)||void 0===n?void 0:n.call(t,e,!0))&&(this.undoStack.push(e),null===(i=(r=this.options).afterAddCommand)||void 0===i||i.call(r,e,!0))}clear(){this.undoStack=[],this.redoStack=[],this.batchChanges=null,this.batchAnimation=!1,this.notify(xc.CLEAR,null)}notify(e,t){this.emitter.emit(e,{cmd:t}),this.emitter.emit(xc.CHANGE,{cmd:t})}on(e,t){this.emitter.on(e,t)}destroy(){const{graph:e}=this.context;e.off(wc.AFTER_DRAW,this.addCommand),e.off(wc.BATCH_START,this.initBatchCommand),e.off(wc.BATCH_END,this.addCommand),this.emitter.off(),super.destroy(),this.undoStack=[],this.redoStack=[]}}function xF(e,t,n,r,i,o){const a=(o-t)*(n-e)-(r-t)*(i-e);return a>0||!(a<0)}wF.defaultOptions={stackSize:0};var EF=function(e,t){const n=e[0][0],r=e[0][1],i=e[1][0],o=e[1][1],a=t[0][0],s=t[0][1],l=t[1][0],u=t[1][1];return xF(n,r,a,s,l,u)!==xF(i,o,a,s,l,u)&&xF(n,r,i,o,a,s)!==xF(n,r,i,o,l,u)};function kF(e,t){this._cells=[],this._cellSize=t,this._reverseCellSize=1/t;for(let t=0;t<e.length;t++){const n=e[t],r=this.coordToCellNum(n[0]),i=this.coordToCellNum(n[1]);if(this._cells[r])this._cells[r][i]?this._cells[r][i].push(n):this._cells[r][i]=[n];else{const e=[];e[i]=[n],this._cells[r]=e}}}function SF(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}kF.prototype={cellPoints:function(e,t){return void 0!==this._cells[e]&&void 0!==this._cells[e][t]?this._cells[e][t]:[]},rangePoints:function(e){const t=this.coordToCellNum(e[0]),n=this.coordToCellNum(e[1]),r=this.coordToCellNum(e[2]),i=this.coordToCellNum(e[3]),o=[];for(let e=t;e<=r;e++)for(let t=n;t<=i;t++)for(let n=0;n<this.cellPoints(e,t).length;n++)o.push(this.cellPoints(e,t)[n]);return o},removePoint:function(e){const t=this.coordToCellNum(e[0]),n=this.coordToCellNum(e[1]),r=this._cells[t][n];let i;for(let t=0;t<r.length;t++)if(r[t][0]===e[0]&&r[t][1]===e[1]){i=t;break}return r.splice(i,1),r},trunc:Math.trunc||function(e){return e-e%1},coordToCellNum:function(e){return this.trunc(e*this._reverseCellSize)},extendBbox:function(e,t){return[e[0]-t*this._cellSize,e[1]-t*this._cellSize,e[2]+t*this._cellSize,e[3]+t*this._cellSize]}};var MF=function(e){const t=function(e){const t=[];for(let n=0;n<e.length;n++){for(;t.length>=2&&SF(t[t.length-2],t[t.length-1],e[n])<=0;)t.pop();t.push(e[n])}return t.pop(),t}(e),n=function(e){const t=e.reverse(),n=[];for(let e=0;e<t.length;e++){for(;n.length>=2&&SF(n[n.length-2],n[n.length-1],t[e])<=0;)n.pop();n.push(t[e])}return n.pop(),n}(e),r=n.concat(t);return r.push(e[0]),r};const TF=EF,CF=function(e,t){return new kF(e,t)},NF={toXy:function(e,t){return void 0===t?e.slice():e.map((function(e){return new Function("pt","return [pt"+t[0]+",pt"+t[1]+"];")(e)}))},fromXy:function(e,t){return void 0===t?e.slice():e.map((function(e){return new Function("pt","const o = {}; o"+t[0]+"= pt[0]; o"+t[1]+"= pt[1]; return o;")(e)}))}},PF=MF;function OF(e,t){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function _F(e,t,n){const r=[t[0]-e[0],t[1]-e[1]],i=[n[0]-e[0],n[1]-e[1]],o=OF(e,t),a=OF(e,n);return(r[0]*i[0]+r[1]*i[1])/Math.sqrt(o*a)}function RF(e,t){for(let n=0;n<t.length-1;n++){const r=[t[n],t[n+1]];if(!(e[0][0]===r[0][0]&&e[0][1]===r[0][1]||e[0][0]===r[1][0]&&e[0][1]===r[1][1])&&TF(e,r))return!0}return!1}function AF(e){return[Math.min(e[0][0],e[1][0]),Math.min(e[0][1],e[1][1]),Math.max(e[0][0],e[1][0]),Math.max(e[0][1],e[1][1])]}function DF(e,t,n){let r,i,o=null,a=IF,s=IF;for(let l=0;l<t.length;l++)r=_F(e[0],e[1],t[l]),i=_F(e[1],e[0],t[l]),r>a&&i>s&&!RF([e[0],t[l]],n)&&!RF([e[1],t[l]],n)&&(a=r,s=i,o=t[l]);return o}function LF(e,t,n,r,i){let o=!1;for(let a=0;a<e.length-1;a++){const s=[e[a],e[a+1]],l=s[0][0]+","+s[0][1]+","+s[1][0]+","+s[1][1];if(OF(s[0],s[1])<t||i.has(l))continue;let u,c,d,f=0,h=AF(s);do{h=r.extendBbox(h,f),u=h[2]-h[0],c=h[3]-h[1],d=DF(s,r.rangePoints(h),e),f++}while(null===d&&(n[0]>u||n[1]>c));u>=n[0]&&c>=n[1]&&i.add(l),null!==d&&(e.splice(a+1,0,d),r.removePoint(d),o=!0)}return o?LF(e,t,n,r,i):e}const IF=Math.cos(90/(180/Math.PI)),zF=.6;var jF=function(e,t,n){let r=t||20;const i=function(e){const t=[e[0]];let n=e[0];for(let r=1;r<e.length;r++){const i=e[r];n[0]===i[0]&&n[1]===i[1]||t.push(i),n=i}return t}(function(e){return e.sort((function(e,t){return e[0]-t[0]||e[1]-t[1]}))}(NF.toXy(e,n)));if(i.length<4){const e=i.concat([i[0]]);return n?NF.fromXy(e,n):e}const o=function(e){let t=1/0,n=1/0,r=-1/0,i=-1/0;for(let o=e.length-1;o>=0;o--)e[o][0]<t&&(t=e[o][0]),e[o][1]<n&&(n=e[o][1]),e[o][0]>r&&(r=e[o][0]),e[o][1]>i&&(i=e[o][1]);return[r-t,i-n]}(i),a=[o[0]*zF,o[1]*zF],s=PF(i),l=i.filter((function(e){return s.indexOf(e)<0})),u=Math.ceil(1/(i.length/(o[0]*o[1]))),c=LF(s,Math.pow(r,2),a,CF(l,u),new Set);return n?NF.fromXy(c,n):c},FF=E(jF);const BF=(e,t,n)=>{if("sharp"===n)return[["M",e[0]-t,e[1]-t],["L",e[0]+t,e[1]-t],["L",e[0]+t,e[1]+t],["L",e[0]-t,e[1]+t],["Z"]];const r=[t,t,0,0,0];return[["M",e[0],e[1]-t],["A",...r,e[0],e[1]+t],["A",...r,e[0],e[1]-t]]},UF=(e,t,n)=>{const r=[t,t,0,0,0],i="sharp"===n?jd(e[0],Wd(Gd(Fd(e[0],e[1])),t)):e[0],o="sharp"===n?jd(e[1],Wd(Gd(Fd(e[1],e[0])),t)):e[1],a=Wd(Gd(Yd(Fd(i,o),!1)),t),s=Wd(a,-1),l=jd(i,a),u=jd(o,a),c=jd(o,s),d=jd(i,s);return"sharp"===n?[["M",l[0],l[1]],["L",u[0],u[1]],["L",c[0],c[1]],["L",d[0],d[1]],["Z"]]:[["M",l[0],l[1]],["L",u[0],u[1]],["A",...r,c[0],c[1]],["L",d[0],d[1]],["A",...r,l[0],l[1]]]},WF=(e,t)=>{const n=gf(e).map(((n,r)=>{const i=(r-2+e.length)%e.length,o=(r-1+e.length)%e.length,a=(r+1)%e.length,s=e[i],l=e[o],u=e[a],c=Fd(s,l),d=Fd(l,n),f=Fd(n,u),h=(e,t)=>$d(e,t,!0)<Math.PI,p=h(c,d),g=h(d,f),v=e=>Wd(Gd(Yd(e,!1)),t),m=v(d);return[{p:qd(jd(l,p?v(c):m)),concave:p&&l},{p:qd(jd(n,g?v(f):m)),concave:g&&n}]})),r=[t,t,0,0,0],i=n.findIndex(((e,t)=>!(n[(t-1+n.length)%n.length][0].concave||n[(t-1+n.length)%n.length][1].concave||e[0].concave||e[0].concave||e[1].concave))),o=n.slice(i).concat(n.slice(0,i));let a=[];return o.flatMap(((e,t)=>{const i=[],s=o[n.length-1];return 0===t&&i.push(["M",...s[1].p]),e[0].concave?a.push(e[0].p,e[1].p):i.push(["A",...r,...e[0].p]),e[1].concave?a.unshift(e[1].p):i.push(["L",...e[1].p]),3===a.length&&(i.pop(),i.push(["C",...a.flat()]),a=[]),i}))},VF=(e,t)=>{const n=gf(e).map(((t,n)=>({p:t,v:Gd(Fd(e[(n+1)%e.length],t))})));return n.forEach(((r,i)=>{const o=i>0?i-1:e.length-1,a=n[o].v,s=Gd(jd(a,Wd(r.v,$d(a,r.v,!0)<Math.PI?1:-1)));r.p=jd(r.p,Wd(s,t))})),Qf(n.map((e=>e.p)))},HF=(e,t)=>{const n=e.map(((n,r)=>{const i=e[0===r?e.length-1:r-1],o=Kd(Wd(Gd(Yd(Fd(i,n),!1)),t));return[jd(i,o),jd(n,o)]})),r=n.flat();return r.map(((e,t)=>{if(t%2==0)return null;return Zd([r[(t-1)%r.length],r[t%r.length]],[r[(t+1)%r.length],r[(t+2)%r.length]],!0)})).filter(Boolean).map(((e,t)=>[0===t?"M":"L",e[0],e[1]])).concat([["Z"]])};var GF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class $F extends uj{constructor(e,t){super(e,Object.assign({},$F.defaultOptions,t)),this.hullMemberIds=[],this.drawHull=()=>{if(this.shape){const e=!Ct(this.optionsCache,this.options);this.shape.update(this.getHullStyle(e))}else this.shape=new Jf({style:this.getHullStyle()}),this.context.canvas.appendChild(this.shape);this.optionsCache=Object.assign({},this.options)},this.updateHullPath=e=>{this.shape&&this.options.members.includes(wd(e.data))&&this.shape.update({d:this.getHullPath(!0)})},this.getHullPath=(e=!1)=>{const{graph:t}=this.context,n=this.getMember();if(0===n.length)return"";const r=n.map((e=>t.getNodeData(e))),i=FF(r.map(ef),this.options.concavity).slice(1).reverse(),o=i.flatMap((e=>r.filter((t=>Ct(ef(t),e))).map(wd)));return Ct(o,this.hullMemberIds)&&!e||(this.hullMemberIds=o,this.path=function(e,t,n){if(1===e.length)return BF(e[0],t,n);if(2===e.length)return UF(e,t,n);if(3===e.length){const[r,i,o]=gf(e);if(uf(r,i,o))return UF([r,o],t,n)}switch(n){case"smooth":return VF(e,t);case"sharp":return HF(e,t);default:return WF(e,t)}}(i,this.getPadding(),this.options.corner)),this.path},this.bindEvents()}bindEvents(){this.context.graph.on(wc.AFTER_RENDER,this.drawHull),this.context.graph.on(wc.AFTER_ELEMENT_UPDATE,this.updateHullPath)}getHullStyle(e){const t=this.options,n=GF(t,["members","padding","corner"]);return Object.assign(Object.assign({},n),{d:this.getHullPath(e)})}getPadding(){const{graph:e}=this.context,t=this.hullMemberIds.reduce(((t,n)=>{const{halfExtents:r}=e.getElementRenderBounds(n),i=Math.max(r[0],r[1]);return Math.max(t,i)}),0);return t+this.options.padding}addMember(e){const t=Array.isArray(e)?e:[e];this.options.members=[...new Set([...this.options.members,...t])],this.shape.update({d:this.getHullPath()})}removeMember(e){const t=Array.isArray(e)?e:[e];this.options.members=this.options.members.filter((e=>!t.includes(e))),t.some((e=>this.hullMemberIds.includes(e)))&&this.shape.update({d:this.getHullPath()})}updateMember(e){this.options.members=$e(e)?e(this.options.members):e,this.shape.update(this.getHullStyle(!0))}getMember(){return this.options.members}destroy(){this.context.graph.off(wc.AFTER_DRAW,this.drawHull),this.shape.destroy(),this.hullMemberIds=[],super.destroy()}}function YF(e,t){t(e),e.children&&e.children.forEach((function(e){e&&YF(e,t)}))}function qF(e){XF(e,!0)}function KF(e){XF(e,!1)}function XF(e,t){var n=t?"visible":"hidden";YF(e,(function(e){e.attr("visibility",n)}))}$F.defaultOptions={members:[],padding:10,corner:"rounded",concavity:1/0,fill:"lightblue",fillOpacity:.2,labelOpacity:1,stroke:"blue",strokeOpacity:.2};var QF=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(this,Ht([],Vt(t),!1))||this;return r.isMutationObserved=!0,r.addEventListener(Vs.INSERTED,(function(){KF(r)})),r}return jt(t,e),t}(jl);function ZF(e){var t=e.appendChild(new QF({class:"offscreen"}));return KF(t),t}var JF=function(e){function t(t){void 0===t&&(t={});var n=t.style,r=Bt(t,["style"]);return e.call(this,Ft({style:Ft({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},n)},r))||this}return jt(t,e),Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=ZF(this)),this._offscreen},enumerable:!1,configurable:!0}),t.prototype.disconnectedCallback=function(){var e;null===(e=this._offscreen)||void 0===e||e.destroy()},t}(Zl);function eB(e){return e*Math.PI/180}function tB(e){return Number((180*e/Math.PI).toPrecision(5))}var nB=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=e,this.y=t,this.width=n,this.height=r}return Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},e.prototype.isPointIn=function(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom},e}();function rB(e,t){return $e(e)?e.apply(void 0,Ht([],Vt(t),!1)):e}var iB,oB=function(e,t){var n=function(e){return"".concat(t,"-").concat(e)},r=Object.fromEntries(Object.entries(e).map((function(e){var t=Vt(e,2),r=t[0],i=t[1],o=n(i);return[r,{name:o,class:".".concat(o),id:"#".concat(o),toString:function(){return o}}]})));return Object.assign(r,{prefix:n}),r},aB=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=5),Object.entries(t).forEach((function(i){var o=Vt(i,2),a=o[0],s=o[1],l=e;Object.prototype.hasOwnProperty.call(t,a)&&(s?et(s)?(et(e[a])||(l[a]={}),n<r?aB(e[a],s,n+1,r):l[a]=t[a]):qe(s)?(l[a]=[],l[a]=l[a].concat(s)):l[a]=s:l[a]=s)}))},sB=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)aB(e,t[r]);return e},lB=function(e){return void 0!==e&&null!=e&&!Number.isNaN(e)},uB=xt((function(e,t){var n=t.fontSize,r=t.fontFamily,i=t.fontWeight,o=t.fontStyle,a=t.fontVariant;return iB||(iB=wl.offscreenCanvasCreator.getOrCreateContext(void 0)),iB.font=[o,a,i,"".concat(n,"px"),r].join(" "),iB.measureText(e).width}),(function(e,t){return[e,Object.values(t||cB(e)).join()].join("")}),4096),cB=function(e){var t=e.style.fontFamily||"sans-serif",n=e.style.fontWeight||"normal",r=e.style.fontStyle||"normal",i=e.style.fontVariant,o=e.style.fontSize;return{fontSize:o="object"==typeof o?o.value:o,fontFamily:t,fontWeight:n,fontStyle:r,fontVariant:i}};function dB(e){return"text"===e.nodeName?e:"g"===e.nodeName&&1===e.children.length&&"text"===e.children[0].nodeName?e.children[0]:null}function fB(e,t){var n=dB(e);n&&n.attr(t)}function hB(e,t,n){void 0===n&&(n="..."),fB(e,{wordWrap:!0,wordWrapWidth:t,maxLines:1,textOverflow:n})}function pB(e){var t=e.canvas,n=e.touches,r=e.offsetX,i=e.offsetY;if(t)return[t.x,t.y];if(n){var o=n[0];return[o.clientX,o.clientY]}return r&&i?[r,i]:[0,0]}function gB(e){return"function"==typeof e?e():rt(e)||st(e)?new JF({style:{text:String(e)}}):e}function vB(e,t,n,r,i){return void 0===r&&(r=!0),void 0===i&&(i=function(e){e.node().removeChildren()}),e?n(t):(r&&i(t),null)}function mB(e,t,n,r,i){return void 0===r&&(r=!0),void 0===i&&(i=!1),!!(r&&e===t||i&&e===n)||e>t&&e<n}function yB(e,t){return"number"==typeof e&&"number"==typeof t?function(e,t){return function(n){return e*(1-n)+t*n}}(e,t):Array.isArray(e)&&Array.isArray(t)?function(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0;return function(i){var o=new Array(r),a=new Array(n),s=0;for(s=0;s<r;++s)o[s]=yB(e[s],t[s]);for(;s<n;++s)a[s]=t[s];for(s=0;s<r;++s)a[s]=o[s](i);return a}}(e,t):"object"==typeof e&&"object"==typeof t?function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n={},r={};return Object.entries(t).forEach((function(t){var i=Vt(t,2),o=i[0],a=i[1];o in e?n[o]=yB(e[o],a):r[o]=a})),function(e){return Object.entries(n).forEach((function(t){var n=Vt(t,2),i=n[0],o=n[1];return r[i]=o(e)})),r}}(e,t):function(t){return e}}function bB(e,t){return[e[0]*t,e[1]*t]}function wB(e,t){return[e[0]+t[0],e[1]+t[1]]}function xB(e,t){return[e[0]-t[0],e[1]-t[1]]}function EB(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1])]}function kB(e,t){return[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}function SB(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function MB(e){if(0===e[0]&&0===e[1])return[0,0];var t=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2));return[e[0]/t,e[1]/t]}function TB(e,t){return+e.toPrecision(t)}function CB(e,t){var n={},r=Array.isArray(t)?t:[t];for(var i in e)r.includes(i)||(n[i]=e[i]);return n}function NB(e,t,n){void 0===n&&(n=[[0,0],[1,1]]);for(var r=!!t,i=[],o=0,a=e.length;o<a;o+=2)i.push([e[o],e[o+1]]);var s,l,u,c=function(e,t,n,r){var i,o,a,s,l,u,c=[],d=!!r,f=[1/0,1/0],h=[-1/0,-1/0];if(d){f=(i=Vt(r,2))[0],h=i[1];for(var p=0,g=e.length;p<g;p+=1)f=EB(f,m=e[p]),h=kB(h,m)}p=0;for(var v=e.length;p<v;p+=1){var m=e[p];if(0!==p||n)if(p!==v-1||n){o=e[p-1];var y=[0,0];y=bB(y=xB(a=e[p+1],o),t);var b=SB(m,o),w=SB(m,a),x=b+w;0!==x&&(b/=x,w/=x);var E=bB(y,-b),k=bB(y,w);l=wB(m,E),s=EB(s=wB(m,k),kB(a,m)),s=kB(s,EB(a,m)),l=EB(l=wB(m,E=bB(E=xB(s,m),-b/w)),kB(o,m)),s=wB(m,k=bB(k=xB(m,l=kB(l,EB(o,m))),w/b)),d&&(l=EB(l=kB(l,f),h),s=EB(s=kB(s,f),h)),c.push(u),c.push(l),u=s}else l=m,c.push(u),c.push(l);else u=m}return c}(i,.4,r,n),d=i.length,f=[];for(o=0;o<d-1;o+=1)s=c[2*o],l=c[2*o+1],u=i[o+1],f.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]]);return f}var PB=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function OB(e){return PB.includes(e)}function _B(e){var t={};for(var n in e)OB(n)&&(t[n]=e[n]);return t}function RB(e,t,n){var r=e.getBBox(),i=r.width,o=r.height,a=t/Math.max(i,o);return e.style.transform="scale(".concat(a,")"),a}var AB=function(){function e(e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=[null,null,null,null,null]),void 0===a&&(a=[]),void 0===s&&(s=[]),t.add(this),this._elements=Array.from(e),this._data=n,this._parent=r,this._document=i,this._enter=o[0],this._update=o[1],this._exit=o[2],this._merge=o[3],this._split=o[4],this._transitions=a,this._facetElements=s}var t,n,r;return e.prototype.selectAll=function(e){var t="string"==typeof e?this._parent.querySelectorAll(e):e;return new n(t,null,this._elements[0],this._document)},e.prototype.selectFacetAll=function(e){var t="string"==typeof e?this._parent.querySelectorAll(e):e;return new n(this._elements,null,this._parent,this._document,void 0,void 0,t)},e.prototype.select=function(e){var t="string"==typeof e?this._parent.querySelectorAll(e)[0]||null:e;return new n([t],null,t,this._document)},e.prototype.append=function(e){var t=this,r="function"==typeof e?e:function(){return t.createElement(e)},i=[];if(null!==this._data){for(var o=0;o<this._data.length;o++){var a=this._data[o],s=Vt(Array.isArray(a)?a:[a,null],2),l=s[0],u=s[1];(d=r(l,o)).__data__=l,null!==u&&(d.__fromElements__=u),this._parent.appendChild(d),i.push(d)}return new n(i,null,this._parent,this._document)}for(o=0;o<this._elements.length;o++){var c=this._elements[o],d=r(l=c.__data__,o);c.appendChild(d),i.push(d)}return new n(i,null,i[0],this._document)},e.prototype.maybeAppend=function(e,n){var i=Gt(this,t,"m",r).call(this,"#"===e[0]?e:"#".concat(e),n);return i.attr("id",e),i},e.prototype.maybeAppendByClassName=function(e,n){var i=e.toString(),o=Gt(this,t,"m",r).call(this,"."===i[0]?i:".".concat(i),n);return o.attr("className",i),o},e.prototype.maybeAppendByName=function(e,n){var i=Gt(this,t,"m",r).call(this,'[name="'.concat(e,'"]'),n);return i.attr("name",e),i},e.prototype.data=function(e,t,r){var i,o;void 0===t&&(t=function(e){return e}),void 0===r&&(r=function(){return null});for(var a,s,l,u=[],c=[],d=new Set(this._elements),f=[],h=new Set,p=new Map(this._elements.map((function(e,n){return[t(e.__data__,n),e]}))),g=new Map(this._facetElements.map((function(e,n){return[t(e.__data__,n),e]}))),v=(a=this._elements,s=function(e){return r(e.__data__)},l=new Map,a.forEach((function(e){var t=s(e);l.has(t)||l.set(t,[]),l.get(t).push(e)})),l),m=0;m<e.length;m++){var y=e[m],b=t(y,m),w=r(y,m);if(p.has(b))(S=p.get(b)).__data__=y,S.__facet__=!1,c.push(S),d.delete(S),p.delete(b);else if(g.has(b)){(S=g.get(b)).__data__=y,S.__facet__=!0,c.push(S),g.delete(b)}else if(v.has(b)){var x=v.get(b);f.push([y,x]);try{for(var E=(i=void 0,Wt(x)),k=E.next();!k.done;k=E.next()){var S=k.value;d.delete(S)}}catch(e){i={error:e}}finally{try{k&&!k.done&&(o=E.return)&&o.call(E)}finally{if(i)throw i.error}}v.delete(b)}else if(p.has(w)){(S=p.get(w)).__toData__?S.__toData__.push(y):S.__toData__=[y],h.add(S),d.delete(S)}else u.push(y)}var M=[new n([],u,this._parent,this._document),new n(c,null,this._parent,this._document),new n(d,null,this._parent,this._document),new n([],f,this._parent,this._document),new n(h,null,this._parent,this._document)];return new n(this._elements,null,this._parent,this._document,M)},e.prototype.merge=function(e){var t=Ht(Ht([],Vt(this._elements),!1),Vt(e._elements),!1),r=Ht(Ht([],Vt(this._transitions),!1),Vt(e._transitions),!1);return new n(t,null,this._parent,this._document,void 0,r)},e.prototype.createElement=function(e){if(this._document)return this._document.createElement(e,{});var t=n.registry[e];return t?new t:function(e){throw new Error(e)}("Unknown node type: ".concat(e))},e.prototype.join=function(e,t,n,r,i){void 0===e&&(e=function(e){return e}),void 0===t&&(t=function(e){return e}),void 0===n&&(n=function(e){return e.remove()}),void 0===r&&(r=function(e){return e}),void 0===i&&(i=function(e){return e.remove()});var o=e(this._enter),a=t(this._update),s=n(this._exit),l=r(this._merge),u=i(this._split);return a.merge(o).merge(s).merge(l).merge(u)},e.prototype.remove=function(){for(var e=function(e){var n=t._elements[e],r=t._transitions[e];r?r.then((function(){return n.remove()})):n.remove()},t=this,r=0;r<this._elements.length;r++)e(r);return new n([],null,this._parent,this._document,void 0,this._transitions)},e.prototype.each=function(e){for(var t=0;t<this._elements.length;t++){var n=this._elements[t],r=n.__data__;e.call(n,r,t)}return this},e.prototype.attr=function(e,t){var n="function"!=typeof t?function(){return t}:t;return this.each((function(r,i){void 0!==t&&(this[e]=n.call(this,r,i))}))},e.prototype.style=function(e,t,n){void 0===n&&(n=!0);var r="function"==typeof t&&n?t:function(){return t};return this.each((function(n,i){void 0!==t&&(this.style[e]=r.call(this,n,i))}))},e.prototype.styles=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=!0),this.each((function(n,r){var i=this;Object.entries(e).forEach((function(e){var o=Vt(e,2),a=o[0],s=o[1],l="function"==typeof s&&t?s:function(){return s};void 0!==s&&i.attr(a,l.call(i,n,r))}))}))},e.prototype.update=function(e,t){void 0===t&&(t=!0);var n="function"==typeof e&&t?e:function(){return e};return this.each((function(t,r){e&&this.update&&this.update(n.call(this,t,r))}))},e.prototype.maybeUpdate=function(e,t){void 0===t&&(t=!0);var n="function"==typeof e&&t?e:function(){return e};return this.each((function(t,r){e&&this.update&&this.update(n.call(this,t,r))}))},e.prototype.transition=function(e){var t=this._transitions;return this.each((function(n,r){t[r]=e.call(this,n,r)}))},e.prototype.on=function(e,t){return this.each((function(){this.addEventListener(e,t)})),this},e.prototype.call=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.call.apply(e,Ht([this._parent,this],Vt(t),!1)),this},e.prototype.node=function(){return this._elements[0]},e.prototype.nodes=function(){return this._elements},e.prototype.transitions=function(){return this._transitions.filter((function(e){return!!e}))},e.prototype.parent=function(){return this._parent},n=e,t=new WeakSet,r=function(e,t){var r=this._elements[0],i=r.querySelector(e);if(i)return new n([i],null,this._parent,this._document);var o="string"==typeof t?this.createElement(t):t();return r.appendChild(o),new n([o],null,this._parent,this._document)},e.registry={g:jl,rect:Xl,circle:Dl,path:Gl,text:JF,ellipse:zl,image:Ul,line:Vl,polygon:Yl,polyline:Kl,html:Bl},e}();function DB(e){return new AB([e],null,e,e.ownerDocument)}function LB(e){if(st(e))return[e,e,e,e];if(qe(e)){var t=e.length;if(1===t)return[e[0],e[0],e[0],e[0]];if(2===t)return[e[0],e[1],e[0],e[1]];if(3===t)return[e[0],e[1],e[2],e[1]];if(4===t)return e}return[0,0,0,0]}function IB(e){var t=e.getLocalBounds(),n=Vt([t.min,t.max],2),r=Vt(n[0],2),i=r[0],o=r[1],a=Vt(n[1],2),s=a[0],l=a[1];return{x:i,y:o,width:s-i,height:l-o,left:i,bottom:l,top:o,right:s}}function zB(e,t){var n=Vt(e,2),r=n[0],i=n[1],o=Vt(t,2),a=o[0],s=o[1];return r!==a&&i===s}function jB(e){return e.toString().charAt(0).toUpperCase()+e.toString().slice(1)}function FB(e,t,n){var r;void 0===n&&(n=!0);var i=t||(null===(r=e.match(/^([a-z][a-z0-9]+)/))||void 0===r?void 0:r[0])||"",o=e.replace(new RegExp("^(".concat(i,")")),"");return n?function(e){return e.toString().charAt(0).toLowerCase()+e.toString().slice(1)}(o):o}var BB=function(e,t){if(!(null==e?void 0:e.startsWith(t)))return!1;var n=e[t.length];return n>="A"&&n<="Z"};function UB(e,t,n){void 0===n&&(n=!1);var r={};return Object.entries(e).forEach((function(e){var i=Vt(e,2),o=i[0],a=i[1];if("className"===o||"class"===o);else if(BB(o,"show")&&BB(FB(o,"show"),t)!==n)o===function(e,t){return"".concat(t).concat(jB(e))}(t,"show")?r[o]=a:r[o.replace(new RegExp(jB(t)),"")]=a;else if(!BB(o,"show")&&BB(o,t)!==n){var s=FB(o,t);"filter"===s&&"function"==typeof a||(r[s]=a)}})),r}function WB(e,t){return Object.entries(e).reduce((function(e,n){var r=Vt(n,2),i=r[0],o=r[1];return i.startsWith("show")?e["show".concat(t).concat(i.slice(4))]=o:e["".concat(t).concat(jB(i))]=o,e}),{})}function VB(e,t){void 0===t&&(t=["x","y","class","className"]);var n=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],r={},i={};return Object.entries(e).forEach((function(e){var o=Vt(e,2),a=o[0],s=o[1];t.includes(a)||(-1!==n.indexOf(a)?i[a]=s:r[a]=s)})),[r,i]}function HB(e,t){var n={YYYY:e.getFullYear(),MM:e.getMonth()+1,DD:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds()},r=t;return Object.keys(n).forEach((function(e){var t=n[e];r=r.replace(e,"YYYY"===e?"".concat(t):"".concat(t).padStart(2,"0"))})),r}function GB(e,t){if(t)try{var n=t.replace(/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,(function(t,n,r){return"translate(".concat(function(e,t,n){var r=e.getBBox(),i=r.width,o=r.height,a=Vt([t,n].map((function(e,t){var n;return e.includes("%")?parseFloat((null===(n=e.match(/[+-]?([0-9]*[.])?[0-9]+/))||void 0===n?void 0:n[0])||"0")/100*(0===t?i:o):e})),2);return[a[0],a[1]]}(e,n,r),")")}));e.attr("transform",n)}catch(e){}}var $B=function(e,t){null!=t?e.replaceChildren?Array.isArray(t)?e.replaceChildren.apply(e,Ht([],Vt(t),!1)):e.replaceChildren(t):(e.innerHTML="",Array.isArray(t)?t.forEach((function(t){return e.appendChild(t)})):e.appendChild(t)):e.innerHTML=""};function YB(){XF(this,"hidden"!==this.attributes.visibility)}var qB=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this,sB({},{style:n},t))||this;return r.initialized=!1,r._defaultOptions=n,r}return jt(t,e),Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=ZF(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),t.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},t.prototype.disconnectedCallback=function(){var e;null===(e=this._offscreen)||void 0===e||e.destroy()},t.prototype.attributeChangedCallback=function(e){"visibility"===e&&YB.call(this)},t.prototype.update=function(e,t){var n;return this.attr(sB({},this.attributes,e||{})),null===(n=this.render)||void 0===n?void 0:n.call(this,this.attributes,this,t)},t.prototype.clear=function(){this.removeChildren()},t.prototype.bindEvents=function(e,t){},t.prototype.getSubShapeStyle=function(e){return e.x,e.y,e.transform,e.transformOrigin,e.class,e.className,e.zIndex,Bt(e,["x","y","transform","transformOrigin","class","className","zIndex"])},t}(Il),KB=function(e,t,n){return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t],["Z"]]},XB=KB,QB=function(e,t,n){return[["M",e,t+n],["L",e,t-n]]},ZB=function(e,t,n){return[["M",e-n,t],["L",e+n,t]]},JB=ZB;var eU=function(e,t,n){return[["M",e-n,t-n],["L",e+n,t],["L",e-n,t+n],["Z"]]};function tU(e){var t=function(e){var t="default";if(Ke(e)&&e instanceof Image)t="image";else if($e(e))t="symbol";else if(rt(e)){var n=new RegExp("data:(image|text)");t=e.match(n)?"base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(e)?"url":"symbol"}return t}(e);return["base64","url","image"].includes(t)?"image":e&&"symbol"===t?"path":null}var nU=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jt(t,e),t.prototype.render=function(e,n){var r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o,s=this.getSubShapeStyle(e),l=s.symbol,u=s.size,c=void 0===u?16:u,d=Bt(s,["symbol","size"]),f=tU(l);vB(!!f,DB(n),(function(e){e.maybeAppendByClassName("marker",f).attr("className","marker ".concat(f,"-marker")).call((function(e){if("image"===f){var n=2*c;e.styles({img:l,width:n,height:n,x:i-c,y:a-c})}else{n=c/2;var r=$e(l)?l:t.getSymbol(l);e.styles(Ft({d:null==r?void 0:r(i,a,n)},d))}}))}))},t.MARKER_SYMBOL_MAP=new Map,t.registerSymbol=function(e,n){t.MARKER_SYMBOL_MAP.set(e,n)},t.getSymbol=function(e){return t.MARKER_SYMBOL_MAP.get(e)},t.getSymbols=function(){return Array.from(t.MARKER_SYMBOL_MAP.keys())},t}(qB);function rU(e,...t){return t.reduce(((e,t)=>n=>e(t(n))),e)}function iU(e,t){return t-e?n=>(n-e)/(t-e):e=>.5}nU.registerSymbol("cross",(function(e,t,n){return[["M",e-n,t-n],["L",e+n,t+n],["M",e+n,t-n],["L",e-n,t+n]]})),nU.registerSymbol("hyphen",(function(e,t,n){return[["M",e-n,t],["L",e+n,t]]})),nU.registerSymbol("line",QB),nU.registerSymbol("plus",(function(e,t,n){return[["M",e-n,t],["L",e+n,t],["M",e,t-n],["L",e,t+n]]})),nU.registerSymbol("tick",(function(e,t,n){return[["M",e-n/2,t-n],["L",e+n/2,t-n],["M",e,t-n],["L",e,t+n],["M",e-n/2,t+n],["L",e+n/2,t+n]]})),nU.registerSymbol("circle",KB),nU.registerSymbol("point",XB),nU.registerSymbol("bowtie",(function(e,t,n){var r=n-1.5;return[["M",e-n,t-r],["L",e+n,t+r],["L",e+n,t-r],["L",e-n,t+r],["Z"]]})),nU.registerSymbol("hexagon",(function(e,t,n){var r=n/2*Math.sqrt(3);return[["M",e,t-n],["L",e+r,t-n/2],["L",e+r,t+n/2],["L",e,t+n],["L",e-r,t+n/2],["L",e-r,t-n/2],["Z"]]})),nU.registerSymbol("square",(function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]})),nU.registerSymbol("diamond",(function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]})),nU.registerSymbol("triangle",(function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]})),nU.registerSymbol("triangle-down",(function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]})),nU.registerSymbol("line",QB),nU.registerSymbol("dot",ZB),nU.registerSymbol("dash",JB),nU.registerSymbol("smooth",(function(e,t,n){return[["M",e-n,t],["A",n/2,n/2,0,1,1,e,t],["A",n/2,n/2,0,1,0,e+n,t]]})),nU.registerSymbol("hv",(function(e,t,n){return[["M",e-n-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+n+1,t+2.5]]})),nU.registerSymbol("vh",(function(e,t,n){return[["M",e-n-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+n+1,t-2.5]]})),nU.registerSymbol("hvh",(function(e,t,n){return[["M",e-(n+1),t+2.5],["L",e-n/2,t+2.5],["L",e-n/2,t-2.5],["L",e+n/2,t-2.5],["L",e+n/2,t+2.5],["L",e+n+1,t+2.5]]})),nU.registerSymbol("vhv",(function(e,t){return[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]]}));const oU=Math.sqrt(50),aU=Math.sqrt(10),sU=Math.sqrt(2);function lU(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/10**i;return i>=0?(o>=oU?10:o>=aU?5:o>=sU?2:1)*10**i:-(10**-i)/(o>=oU?10:o>=aU?5:o>=sU?2:1)}const uU=(e,t,n=5)=>{const r=[e,t];let i,o=0,a=r.length-1,s=r[o],l=r[a];return l<s&&([s,l]=[l,s],[o,a]=[a,o]),i=lU(s,l,n),i>0?(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,i=lU(s,l,n)):i<0&&(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,i=lU(s,l,n)),i>0?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(l/i)*i):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(l*i)/i),r};function cU(e){return!(mt(e)||(t=e,null===t)||Number.isNaN(e));var t}var dU={exports:{}},fU={exports:{}},hU=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))},pU=Array.prototype.concat,gU=Array.prototype.slice,vU=fU.exports=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];hU(i)?t=pU.call(t,gU.call(i)):t.push(i)}return t};vU.wrap=function(e){return function(){return e(vU(arguments))}};var mU=fU.exports,yU={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},bU=mU,wU=Object.hasOwnProperty,xU=Object.create(null);for(var EU in yU)wU.call(yU,EU)&&(xU[yU[EU]]=EU);var kU=dU.exports={to:{},get:{}};function SU(e,t,n){return Math.min(Math.max(t,e),n)}function MU(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}kU.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=kU.get.hsl(e),n="hsl";break;case"hwb":t=kU.get.hwb(e),n="hwb";break;default:t=kU.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},kU.get.rgb=function(e){if(!e)return null;var t,n,r,i=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=t[2],t=t[1],n=0;n<3;n++){var o=2*n;i[n]=parseInt(t.slice(o,o+2),16)}r&&(i[3]=parseInt(r,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(r=(t=t[1])[3],n=0;n<3;n++)i[n]=parseInt(t[n]+t[n],16);r&&(i[3]=parseInt(r+r,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)i[n]=parseInt(t[n+1],0);t[4]&&(t[5]?i[3]=.01*parseFloat(t[4]):i[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:wU.call(yU,t[1])?((i=yU[t[1]])[3]=1,i):null:null;for(n=0;n<3;n++)i[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?i[3]=.01*parseFloat(t[4]):i[3]=parseFloat(t[4]))}for(n=0;n<3;n++)i[n]=SU(i[n],0,255);return i[3]=SU(i[3],0,1),i},kU.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,SU(parseFloat(t[2]),0,100),SU(parseFloat(t[3]),0,100),SU(isNaN(n)?1:n,0,1)]}return null},kU.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,SU(parseFloat(t[2]),0,100),SU(parseFloat(t[3]),0,100),SU(isNaN(n)?1:n,0,1)]}return null},kU.to.hex=function(){var e=bU(arguments);return"#"+MU(e[0])+MU(e[1])+MU(e[2])+(e[3]<1?MU(Math.round(255*e[3])):"")},kU.to.rgb=function(){var e=bU(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},kU.to.rgb.percent=function(){var e=bU(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},kU.to.hsl=function(){var e=bU(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},kU.to.hwb=function(){var e=bU(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},kU.to.keyword=function(e){return xU[e.slice(0,3)]};var TU=E(dU.exports);function CU(e,t,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function NU(e){const t=TU.get(e);if(!t)return null;const{model:n,value:r}=t;return"rgb"===n?r:"hsl"===n?function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100,i=e[3];if(0===n)return[255*r,255*r,255*r,i];const o=r<.5?r*(1+n):r+n-r*n,a=2*r-o;return[255*CU(a,o,t+1/3),255*CU(a,o,t),255*CU(a,o,t-1/3),i]}(r):null}const PU=(e,t)=>n=>e*(1-n)+t*n,OU=(e,t)=>"number"==typeof e&&"number"==typeof t?PU(e,t):"string"==typeof e&&"string"==typeof t?((e,t)=>{const n=NU(e),r=NU(t);return null===n||null===r?n?()=>e:()=>t:e=>{const t=new Array(4);for(let i=0;i<4;i+=1){const o=n[i],a=r[i];t[i]=o*(1-e)+a*e}const[i,o,a,s]=t;return`rgba(${Math.round(i)}, ${Math.round(o)}, ${Math.round(a)}, ${s})`}})(e,t):()=>e,_U=(e,t)=>{const n=PU(e,t);return e=>Math.round(n(e))};function RU({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):n}function AU(e){return"object"==typeof e?e.valueOf():e}class DU extends Map{constructor(e){if(super(),this.map=new Map,this.initKey=AU,null!==e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(RU({map:this.map,initKey:this.initKey},e))}has(e){return super.has(RU({map:this.map,initKey:this.initKey},e))}set(e,t){return super.set(function({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}({map:this.map,initKey:this.initKey},e),t)}delete(e){return super.delete(function({map:e,initKey:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}({map:this.map,initKey:this.initKey},e))}}class LU{constructor(e){this.options=St({},this.getDefaultOptions()),this.update(e)}getOptions(){return this.options}update(e={}){this.options=St({},this.options,e),this.rescale(e)}rescale(e){}}const IU=Symbol("defaultUnknown");function zU(e,t,n){for(let r=0;r<t.length;r+=1)e.has(t[r])||e.set(n(t[r]),r)}function jU(e){const{value:t,from:n,to:r,mapper:i,notFoundReturn:o}=e;let a=i.get(t);if(void 0===a){if(o!==IU)return o;a=n.push(t)-1,i.set(t,a)}return r[a%r.length]}function FU(e){return e instanceof Date?e=>`${e}`:"object"==typeof e?e=>JSON.stringify(e):e=>e}class BU extends LU{getDefaultOptions(){return{domain:[],range:[],unknown:IU}}constructor(e){super(e)}map(e){return 0===this.domainIndexMap.size&&zU(this.domainIndexMap,this.getDomain(),this.domainKey),jU({value:this.domainKey(e),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(e){return 0===this.rangeIndexMap.size&&zU(this.rangeIndexMap,this.getRange(),this.rangeKey),jU({value:this.rangeKey(e),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(e){const[t]=this.options.domain,[n]=this.options.range;if(this.domainKey=FU(t),this.rangeKey=FU(n),!this.rangeIndexMap)return this.rangeIndexMap=new Map,void(this.domainIndexMap=new Map);e&&!e.range||this.rangeIndexMap.clear(),(!e||e.domain||e.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new BU(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:e,compare:t}=this.options;return this.sortedDomain=t?[...e].sort(t):e,this.sortedDomain}}function UU(e){return Math.round(1e12*e)/1e12}function WU(e){const{domain:t,range:n,paddingOuter:r,paddingInner:i,flex:o,round:a,align:s}=e,l=t.length,u=function(e,t){const n=t-e.length;return n>0?[...e,...new Array(n).fill(1)]:n<0?e.slice(0,t):e}(o,l),[c,d]=n,f=d-c,h=f/(2/l*r+1-1/l*i),p=h*i/l,g=h-l*p,v=function(e){const t=Math.min(...e);return e.map((e=>e/t))}(u),m=g/v.reduce(((e,t)=>e+t)),y=new DU(t.map(((e,t)=>{const n=v[t]*m;return[e,a?Math.floor(n):n]}))),b=new DU(t.map(((e,t)=>{const n=v[t]*m+p;return[e,a?Math.floor(n):n]}))),w=Array.from(b.values()).reduce(((e,t)=>e+t)),x=c+(f-(w-w/l*i))*s;let E=a?Math.round(x):x;const k=new Array(l);for(let e=0;e<l;e+=1){k[e]=UU(E);const n=t[e];E+=b.get(n)}return{valueBandWidth:y,valueStep:b,adjustedRange:k}}class VU extends BU{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:IU,flex:[]}}constructor(e){super(e)}clone(){return new VU(this.options)}getStep(e){return void 0===this.valueStep?1:"number"==typeof this.valueStep?this.valueStep:void 0===e?Array.from(this.valueStep.values())[0]:this.valueStep.get(e)}getBandWidth(e){return void 0===this.valueBandWidth?1:"number"==typeof this.valueBandWidth?this.valueBandWidth:void 0===e?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(e)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:e,paddingInner:t}=this.options;return e>0?e:t}getPaddingOuter(){const{padding:e,paddingOuter:t}=this.options;return e>0?e:t}rescale(){super.rescale();const{align:e,domain:t,range:n,round:r,flex:i}=this.options,{adjustedRange:o,valueBandWidth:a,valueStep:s}=function(e){var t;const{domain:n}=e,r=n.length;if(0===r)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(null===(t=e.flex)||void 0===t?void 0:t.length)return WU(e);const{range:i,paddingOuter:o,paddingInner:a,round:s,align:l}=e;let u,c,d=i[0];const f=i[1]-d,h=2*o,p=r-a;u=f/Math.max(1,h+p),s&&(u=Math.floor(u)),d+=(f-u*(r-a))*l,c=u*(1-a),s&&(d=Math.round(d),c=Math.round(c));const g=new Array(r).fill(0).map(((e,t)=>d+t*u));return{valueStep:u,valueBandWidth:c,adjustedRange:g}}({align:e,range:n,round:r,flex:i,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:t});this.valueStep=s,this.valueBandWidth=a,this.adjustedRange=o}}const HU=(e,t,n)=>{let r,i,o=e,a=t;if(o===a&&n>0)return[o];let s=lU(o,a,n);if(0===s||!Number.isFinite(s))return[];if(s>0){o=Math.ceil(o/s),a=Math.floor(a/s),i=new Array(r=Math.ceil(a-o+1));for(let e=0;e<r;e+=1)i[e]=(o+e)*s}else{s=-s,o=Math.ceil(o*s),a=Math.floor(a*s),i=new Array(r=Math.ceil(a-o+1));for(let e=0;e<r;e+=1)i[e]=(o+e)/s}return i},GU=(e,t,n)=>{const[r,i]=e,[o,a]=t;let s,l;return r<i?(s=iU(r,i),l=n(o,a)):(s=iU(i,r),l=n(a,o)),rU(l,s)},$U=(e,t,n)=>{const r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=e[0]>e[r],s=a?[...e].reverse():e,l=a?[...t].reverse():t;for(let e=0;e<r;e+=1)i[e]=iU(s[e],s[e+1]),o[e]=n(l[e],l[e+1]);return t=>{const n=function(e,t,n,r){let i=n||0,o=r||e.length;for(;i<o;){const n=Math.floor((i+o)/2);e[n]>t?o=n:i=n+1}return i}(e,t,1,r)-1,a=i[n];return rU(o[n],a)(t)}},YU=(e,t,n,r)=>(Math.min(e.length,t.length)>2?$U:GU)(e,t,r?_U:n);class qU extends LU{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:PU,tickCount:5}}map(e){return cU(e)?this.output(e):this.options.unknown}invert(e){return cU(e)?this.input(e):this.options.unknown}nice(){if(!this.options.nice)return;const[e,t,n,...r]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(e,t,n,...r)}getTicks(){const{tickMethod:e}=this.options,[t,n,r,...i]=this.getTickMethodOptions();return e(t,n,r,...i)}getTickMethodOptions(){const{domain:e,tickCount:t}=this.options;return[e[0],e[e.length-1],t]}chooseNice(){return uU}rescale(){this.nice();const[e,t]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,t,this.chooseClamp(t))}chooseClamp(e){const{clamp:t,range:n}=this.options,r=this.options.domain.map(e),i=Math.min(r.length,n.length);return t?function(e,t){const n=t<e?t:e,r=e>t?e:t;return e=>Math.min(Math.max(n,e),r)}(r[0],r[i-1]):It}composeOutput(e,t){const{domain:n,range:r,round:i,interpolate:o}=this.options,a=YU(n.map(e),r,o,i);this.output=rU(a,t,e)}composeInput(e,t,n){const{domain:r,range:i}=this.options,o=YU(i,r.map(e),PU);this.input=rU(t,n,o)}}class KU extends qU{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:OU,tickMethod:HU,tickCount:5}}chooseTransforms(){return[It,It]}clone(){return new KU(this.options)}}var XU=function(e){function t(t){var n=this,r=t.style,i=Bt(t,["style"]);return(n=e.call(this,St({},{type:"column"},Ft({style:r},i)))||this).columnsGroup=new jl({name:"columns"}),n.appendChild(n.columnsGroup),n.render(),n}return jt(t,e),t.prototype.render=function(){var e=this.attributes,t=e.columns,n=e.x,r=e.y;this.columnsGroup.style.transform="translate(".concat(n,", ").concat(r,")"),DB(this.columnsGroup).selectAll(".column").data(t.flat()).join((function(e){return e.append("rect").attr("className","column").each((function(e){this.attr(e)}))}),(function(e){return e.each((function(e){this.attr(e)}))}),(function(e){return e.remove()}))},t.prototype.update=function(e){this.attr(sB({},this.attributes,e)),this.render()},t.prototype.clear=function(){this.removeChildren()},t}(Al),QU=function(e){function t(t){var n=this,r=t.style,i=Bt(t,["style"]);return(n=e.call(this,St({},{type:"lines"},Ft({style:r},i)))||this).linesGroup=n.appendChild(new jl),n.areasGroup=n.appendChild(new jl),n.render(),n}return jt(t,e),t.prototype.render=function(){var e=this.attributes,t=e.lines,n=e.areas,r=e.x,i=e.y;this.style.transform="translate(".concat(r,", ").concat(i,")"),t&&this.renderLines(t),n&&this.renderAreas(n)},t.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},t.prototype.update=function(e){this.attr(sB({},this.attributes,e)),this.render()},t.prototype.renderLines=function(e){DB(this.linesGroup).selectAll(".line").data(e).join((function(e){return e.append("path").attr("className","line").each((function(e){this.attr(e)}))}),(function(e){return e.each((function(e){this.attr(e)}))}),(function(e){return e.remove()}))},t.prototype.renderAreas=function(e){DB(this.linesGroup).selectAll(".area").data(e).join((function(e){return e.append("path").attr("className","area").each((function(e){this.attr(e)}))}),(function(e){return e.each((function(e){this.style(e)}))}),(function(e){return e.remove()}))},t}(Al);function ZU(e,t){void 0===t&&(t=!1);var n=t?e.length-1:0,r=e.map((function(e,t){return Ht([t===n?"M":"L"],Vt(e),!1)}));return t?r.reverse():r}function JU(e,t){if(void 0===t&&(t=!1),e.length<=2)return ZU(e);for(var n=[],r=e.length,i=0;i<r;i+=1){var o=t?e[r-i-1]:e[i];Ct(o,n.slice(-2))||n.push.apply(n,Ht([],Vt(o),!1))}var a=NB(n,!1);return t?a.unshift(Ht(["M"],Vt(e[r-1]),!1)):a.unshift(Ht(["M"],Vt(e[0]),!1)),a}function eW(e,t,n){var r=yt(e);return r.push(["L",t,n],["L",0,n],["Z"]),r}function tW(e){return 0===e.length?[0,0]:[nt(ct(e,(function(e){return nt(e)||0}))),tt(ut(e,(function(e){return tt(e)||0})))]}function nW(e){for(var t=yt(e),n=t[0].length,r=Vt([Array(n).fill(0),Array(n).fill(0)],2),i=r[0],o=r[1],a=0;a<t.length;a+=1)for(var s=t[a],l=0;l<n;l+=1)s[l]>=0?(s[l]+=i[l],i[l]=s[l]):(s[l]+=o[l],o[l]=s[l]);return t}var rW=function(e){function t(t){return e.call(this,t,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return jt(t,e),Object.defineProperty(t.prototype,"rawData",{get:function(){var e=this.attributes.data;if(!e||0===(null==e?void 0:e.length))return[[]];var t=yt(e);return st(t[0])?[t]:t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.attributes.isStack?nW(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseline",{get:function(){var e=this.scales.y,t=Vt(e.getOptions().domain||[0,0],2),n=t[0],r=t[1];return r<0?e.map(r):e.map(n<0?0:n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerShape",{get:function(){var e=this.attributes;return{width:e.width,height:e.height}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linesStyle",{get:function(){var e=this,t=this.attributes,n=t.type,r=t.isStack,i=t.smooth;if("line"!==n)throw new Error("linesStyle can only be used in line type");var o=UB(this.attributes,"area"),a=UB(this.attributes,"line"),s=this.containerShape.width,l=this.data;if(0===l[0].length)return{lines:[],areas:[]};var u=this.scales,c=function(e,t){var n,r=t.x,i=t.y,o=Vt(i.getOptions().range||[0,0],2),a=o[0],s=o[1];return s>a&&(n=Vt([a,s],2),s=n[0],a=n[1]),e.map((function(e){return e.map((function(e,t){return[r.map(t),at(i.map(e),s,a)]}))}))}(l,{type:"line",x:u.x,y:u.y}),d=[],f=this.baseline;return d=r?i?function(e,t,n){for(var r=[],i=e.length-1;i>=0;i-=1){var o=e[i],a=JU(o),s=void 0;if(0===i)s=eW(a,t,n);else{var l=JU(e[i-1],!0),u=o[0];l[0][0]="L",s=Ht(Ht(Ht([],Vt(a),!1),Vt(l),!1),[Ht(["M"],Vt(u),!1),["Z"]],!1)}r.push(s)}return r}(c,s,f):function(e,t,n){for(var r=[],i=e.length-1;i>=0;i-=1){var o=ZU(e[i]),a=void 0;if(0===i)a=eW(o,t,n);else{var s=ZU(e[i-1],!0);s[0][0]="L",a=Ht(Ht(Ht([],Vt(o),!1),Vt(s),!1),[["Z"]],!1)}r.push(a)}return r}(c,s,f):function(e,t,n,r){return e.map((function(e){return eW(t?JU(e):ZU(e),n,r)}))}(c,i,s,f),{lines:c.map((function(t,n){return Ft({stroke:e.getColor(n),d:i?JU(t):ZU(t)},a)})),areas:d.map((function(t,n){return Ft({d:t,fill:e.getColor(n)},o)}))}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsStyle",{get:function(){var e=this,t=UB(this.attributes,"column"),n=this.attributes,r=n.isStack,i=n.type,o=n.scale;if("column"!==i)throw new Error("columnsStyle can only be used in column type");var a=this.containerShape.height,s=this.rawData;if(!s)return{columns:[]};r&&(s=nW(s));var l=this.createScales(s),u=l.x,c=l.y,d=Vt(tW(s),2),f=d[0],h=d[1],p=new KU({domain:[0,h-(f>0?0:f)],range:[0,a*o]}),g=u.getBandWidth(),v=this.rawData;return{columns:s.map((function(n,i){return n.map((function(n,o){var a=g/s.length;return Ft(Ft({fill:e.getColor(i)},t),r?{x:u.map(o),y:c.map(n),width:g,height:p.map(v[i][o])}:{x:u.map(o)+a*i,y:n>=0?c.map(n):c.map(0),width:a,height:p.map(Math.abs(n))})}))}))}},enumerable:!1,configurable:!0}),t.prototype.render=function(e,t){var n,r,i;(n=t,r=".container",i="rect",n.querySelector(r)?DB(n).select(r):DB(n).append(i)).attr("className","container").node();var o=e.type,a=e.x,s=e.y,l="spark".concat(o),u=Ft({x:a,y:s},"line"===o?this.linesStyle:this.columnsStyle);DB(t).selectAll(".spark").data([o]).join((function(e){return e.append((function(e){return"line"===e?new QU({className:l,style:u}):new XU({className:l,style:u})})).attr("className","spark ".concat(l))}),(function(e){return e.update(u)}),(function(e){return e.remove()}))},t.prototype.getColor=function(e){var t=this.attributes.color;return qe(t)?t[e%t.length]:$e(t)?t.call(null,e):t},t.prototype.createScales=function(e){var t,n,r=this.attributes,i=r.type,o=r.scale,a=r.range,s=void 0===a?[]:a,l=r.spacing,u=this.containerShape,c=u.width,d=u.height,f=Vt(tW(e),2),h=f[0],p=f[1],g=new KU({domain:[null!==(t=s[0])&&void 0!==t?t:h,null!==(n=s[1])&&void 0!==n?n:p],range:[d,d*(1-o)]});return"line"===i?{type:i,x:new KU({domain:[0,e[0].length-1],range:[0,c]}),y:g}:{type:i,x:new VU({domain:e[0].map((function(e,t){return t})),range:[0,c],paddingInner:l,paddingOuter:l/2,align:.5}),y:g}},t.tag="sparkline",t}(qB);function iW(e){if(!e)return{enter:!1,update:!1,exit:!1};var t=["enter","update","exit"],n=Object.fromEntries(Object.entries(e).filter((function(e){var n=Vt(e,1)[0];return!t.includes(n)})));return Object.fromEntries(t.map((function(t){return function(e){return"boolean"!=typeof e&&"enter"in e&&"update"in e&&"exit"in e}(e)?!1===e[t]?[t,!1]:[t,Ft(Ft({},e[t]),n)]:[t,n]})))}function oW(e,t){e?e.finished.then(t):t()}function aW(e,t){"update"in e?e.update(t):e.attr(t)}function sW(e,t,n){return 0===t.length?null:n?e.animate(t,n):(aW(e,{style:t.slice(-1)[0]}),null)}function lW(e,t,n){var r={},i={};return Object.entries(t).forEach((function(t){var n=Vt(t,2),o=n[0],a=n[1];if(!Ye(a)){var s=e.style[o]||e.parsedStyle[o]||0;s!==a&&(r[o]=s,i[o]=a)}})),n?sW(e,[r,i],Ft({fill:"both"},n)):(aW(e,i),null)}function uW(e,t){return e.style.opacity||(e.style.opacity=1),lW(e,{opacity:0},t)}var cW={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},dW={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},fW={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},hW=oB({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),pW=oB({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),gW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jt(t,e),t.prototype.render=function(e,t){var n=e.x,r=e.y,i=e.size,o=void 0===i?10:i,a=e.radius,s=void 0===a?o/4:a,l=e.orientation,u=Bt(e,["x","y","size","radius","orientation"]),c=o,d=2.4*c,f=DB(t).maybeAppendByClassName(pW.iconRect,"rect").styles(Ft(Ft({},u),{width:c,height:d,radius:s,x:n-c/2,y:r-d/2,transformOrigin:"center"})),h=n+1/3*c-c/2,p=n+2/3*c-c/2,g=r+1/4*d-d/2,v=r+3/4*d-d/2;f.maybeAppendByClassName("".concat(pW.iconLine,"-1"),"line").styles(Ft({x1:h,x2:h,y1:g,y2:v},u)),f.maybeAppendByClassName("".concat(pW.iconLine,"-2"),"line").styles(Ft({x1:p,x2:p,y1:g,y2:v},u)),"vertical"===l&&(f.node().style.transform="rotate(90)")},t}(qB),vW=function(e){function t(t){return e.call(this,t,fW)||this}return jt(t,e),t.prototype.renderLabel=function(e){var t=this,n=this.attributes,r=n.x,i=n.y,o=n.showLabel,a=UB(this.attributes,"label"),s=a.x,l=void 0===s?0:s,u=a.y,c=void 0===u?0:u,d=a.transform,f=a.transformOrigin,h=Vt(VB(Bt(a,["x","y","transform","transformOrigin"]),[]),2),p=h[0],g=h[1],v=DB(e).maybeAppendByClassName(pW.labelGroup,"g").styles(g),m=Ft(Ft({},dW),p),y=m.text,b=Bt(m,["text"]);vB(!!o,v,(function(e){t.label=e.maybeAppendByClassName(pW.label,"text").styles(Ft(Ft({},b),{x:r+l,y:i+c,transform:d,transformOrigin:f,text:"".concat(y)})),t.label.on("mousedown",(function(e){e.stopPropagation()})),t.label.on("touchstart",(function(e){e.stopPropagation()}))}))},t.prototype.renderIcon=function(e){var t=this.attributes,n=t.x,r=t.y,i=t.orientation,o=t.type,a=Ft(Ft({x:n,y:r,orientation:i},cW),UB(this.attributes,"icon")),s=this.attributes.iconShape,l=void 0===s?function(){return new gW({style:a})}:s;DB(e).maybeAppendByClassName(pW.iconGroup,"g").selectAll(pW.icon.class).data([l]).join((function(e){return e.append("string"==typeof l?l:function(){return l(o)}).attr("className",pW.icon.name)}),(function(e){return e.update(a)}),(function(e){return e.remove()}))},t.prototype.render=function(e,t){this.renderIcon(t),this.renderLabel(t)},t}(qB),mW=function(e){function t(t){var n=e.call(this,t,Ft(Ft(Ft({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(e){return e.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},WB(fW,"handle")),WB(cW,"handleIcon")),WB(dW,"handleLabel")))||this;return n.range=[0,1],n.onDragStart=function(e){return function(t){t.stopPropagation(),n.target=e,n.prevPos=n.getOrientVal(pB(t));var r=n.availableSpace,i=r.x,o=r.y,a=n.getBBox(),s=a.x,l=a.y;n.selectionStartPos=n.getRatio(n.prevPos-n.getOrientVal([i,o])-n.getOrientVal([+s,+l])),n.selectionWidth=0,document.addEventListener("pointermove",n.onDragging),document.addEventListener("pointerup",n.onDragEnd)}},n.onDragging=function(e){var t=n.attributes,r=t.slidable,i=t.brushable,o=t.type;e.stopPropagation();var a=n.getOrientVal(pB(e)),s=a-n.prevPos;if(s){var l=n.getRatio(s);switch(n.target){case"start":r&&n.setValuesOffset(l);break;case"end":r&&n.setValuesOffset(0,l);break;case"selection":r&&n.setValuesOffset(l,l);break;case"track":if(!i)return;n.selectionWidth+=l,"range"===o?n.innerSetValues([n.selectionStartPos,n.selectionStartPos+n.selectionWidth].sort(),!0):n.innerSetValues([0,n.selectionStartPos+n.selectionWidth],!0)}n.prevPos=a}},n.onDragEnd=function(){document.removeEventListener("pointermove",n.onDragging),document.removeEventListener("pointermove",n.onDragging),document.removeEventListener("pointerup",n.onDragEnd),n.target="",n.updateHandlesPosition(!1)},n.onValueChange=function(e){var t=n.attributes,r=t.onChange,i=t.type,o="range"===i?e:e[1],a="range"===i?n.getValues():n.getValues()[1],s=new As("valuechange",{detail:{oldValue:o,value:a}});n.dispatchEvent(s),null==r||r(a)},n.selectionStartPos=0,n.selectionWidth=0,n.prevPos=0,n.target="",n}return jt(t,e),Object.defineProperty(t.prototype,"values",{get:function(){return this.attributes.values},set:function(e){this.attributes.values=this.clampValues(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sparklineStyle",{get:function(){if("horizontal"!==this.attributes.orientation)return null;var e=UB(this.attributes,"sparkline");return Ft(Ft({zIndex:0},this.availableSpace),e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){var e=this.attributes,t=e.trackLength,n=e.trackSize,r=Vt(this.getOrientVal([[t,n],[n,t]]),2);return{width:r[0],height:r[1]}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableSpace",{get:function(){var e=this.attributes;e.x,e.y;var t=Vt(LB(e.padding),4),n=t[0],r=t[1],i=t[2],o=t[3],a=this.shape;return{x:o,y:n,width:a.width-(o+r),height:a.height-(n+i)}},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.values},t.prototype.setValues=function(e,t){void 0===e&&(e=[0,0]),void 0===t&&(t=!1),this.attributes.values=e;var n=!1!==t&&this.attributes.animate;this.updateSelectionArea(n),this.updateHandlesPosition(n)},t.prototype.updateSelectionArea=function(e){var t=this.calcSelectionArea();this.foregroundGroup.selectAll(hW.selection.class).each((function(n,r){lW(this,t[r],e)}))},t.prototype.updateHandlesPosition=function(e){this.attributes.showHandle&&(this.startHandle&&lW(this.startHandle,this.getHandleStyle("start"),e),this.endHandle&&lW(this.endHandle,this.getHandleStyle("end"),e))},t.prototype.innerSetValues=function(e,t){void 0===e&&(e=[0,0]),void 0===t&&(t=!1);var n=this.values,r=this.clampValues(e);this.attributes.values=r,this.setValues(r),t&&this.onValueChange(n)},t.prototype.renderTrack=function(e){var t=this.attributes,n=t.x,r=t.y,i=UB(this.attributes,"track");this.trackShape=DB(e).maybeAppendByClassName(hW.track,"rect").styles(Ft(Ft({x:n,y:r},this.shape),i))},t.prototype.renderBrushArea=function(e){var t=this.attributes,n=t.x,r=t.y,i=t.brushable;this.brushArea=DB(e).maybeAppendByClassName(hW.brushArea,"rect").styles(Ft({x:n,y:r,fill:"transparent",cursor:i?"crosshair":"default"},this.shape))},t.prototype.renderSparkline=function(e){var t=this,n=this.attributes,r=n.x,i=n.y;vB("horizontal"===n.orientation,DB(e).maybeAppendByClassName(hW.sparklineGroup,"g"),(function(e){var n=Ft(Ft({},t.sparklineStyle),{x:r,y:i});e.maybeAppendByClassName(hW.sparkline,(function(){return new rW({style:n})})).update(n)}))},t.prototype.renderHandles=function(){var e,t=this,n=this.attributes,r=n.showHandle,i=n.type,o=r?"range"===i?["start","end"]:["end"]:[],a=this;null===(e=this.foregroundGroup)||void 0===e||e.selectAll(hW.handle.class).data(o.map((function(e){return{type:e}})),(function(e){return e.type})).join((function(e){return e.append((function(e){var n=e.type;return new vW({style:t.getHandleStyle(n)})})).each((function(e){var t=e.type;this.attr("class","".concat(hW.handle.name," ").concat(t,"-handle"));var n="".concat(t,"Handle");a[n]=this,this.addEventListener("pointerdown",a.onDragStart(t))}))}),(function(e){return e.each((function(e){var t=e.type;this.update(a.getHandleStyle(t))}))}),(function(e){return e.each((function(e){var t=e.type,n="".concat(t,"Handle");a[n]=void 0})).remove()}))},t.prototype.renderSelection=function(e){var t=this.attributes,n=t.x,r=t.y,i=t.type,o=t.selectionType;this.foregroundGroup=DB(e).maybeAppendByClassName(hW.foreground,"g");var a=UB(this.attributes,"selection"),s=function(e){return e.style("visibility",(function(e){return e.show?"visible":"hidden"})).style("cursor",(function(e){return"select"===o?"grab":"invert"===o?"crosshair":"default"})).styles(Ft(Ft({},a),{transform:"translate(".concat(n,", ").concat(r,")")}))},l=this;this.foregroundGroup.selectAll(hW.selection.class).data("value"===i?[]:this.calcSelectionArea().map((function(e,t){return{style:Ft({},e),index:t,show:"select"===o?1===t:1!==t}})),(function(e){return e.index})).join((function(e){return e.append("rect").attr("className",hW.selection.name).call(s).each((function(e,t){var n=this;1===t?(l.selectionShape=DB(this),this.on("pointerdown",(function(e){n.attr("cursor","grabbing"),l.onDragStart("selection")(e)})),l.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),l.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),l.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",(function(){n.attr("cursor","grabbing")})),this.addEventListener("pointerup",(function(){n.attr("cursor","pointer")})),this.addEventListener("pointerover",(function(){n.attr("cursor","pointer")}))):this.on("pointerdown",l.onDragStart("track"))}))}),(function(e){return e.call(s)}),(function(e){return e.remove()})),this.updateSelectionArea(!1),this.renderHandles()},t.prototype.render=function(e,t){this.renderTrack(t),this.renderSparkline(t),this.renderBrushArea(t),this.renderSelection(t)},t.prototype.clampValues=function(e,t){var n;void 0===t&&(t=4);var r=Vt(this.range,2),i=r[0],o=r[1],a=Vt(this.getValues().map((function(e){return TB(e,t)})),2),s=a[0],l=a[1],u=Vt(((Array.isArray(e)?e:[s,null!=e?e:l])||[s,l]).map((function(e){return TB(e,t)})),2),c=u[0],d=u[1];if("value"===this.attributes.type)return[0,at(d,i,o)];c>d&&(c=(n=Vt([d,c],2))[0],d=n[1]);var f=d-c;return f>o-i?[i,o]:c<i?s===i&&l===d?[i,d]:[i,f+i]:d>o?l===o&&s===c?[c,o]:[o-f,o]:[c,d]},t.prototype.calcSelectionArea=function(e){var t=Vt(this.clampValues(e),2),n=t[0],r=t[1],i=this.availableSpace,o=i.x,a=i.y,s=i.width,l=i.height;return this.getOrientVal([[{y:a,height:l,x:o,width:n*s},{y:a,height:l,x:n*s+o,width:(r-n)*s},{y:a,height:l,x:r*s,width:(1-r)*s}],[{x:o,width:s,y:a,height:n*l},{x:o,width:s,y:n*l+a,height:(r-n)*l},{x:o,width:s,y:r*l,height:(1-r)*l}]])},t.prototype.calcHandlePosition=function(e){var t=this.attributes.handleIconOffset,n=this.availableSpace,r=n.x,i=n.y,o=n.width,a=n.height,s=Vt(this.clampValues(),2),l=s[0],u=s[1],c="start"===e?-t:t,d=("start"===e?l:u)*this.getOrientVal([o,a])+c;return{x:r+this.getOrientVal([d,o/2]),y:i+this.getOrientVal([a/2,d])}},t.prototype.inferTextStyle=function(e){return"horizontal"===this.attributes.orientation?{}:"start"===e?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:"end"===e?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},t.prototype.calcHandleText=function(e){var t,n=this.attributes,r=n.type,i=n.orientation,o=n.formatter,a=n.autoFitLabel,s=UB(this.attributes,"handle"),l=UB(s,"label"),u=s.spacing,c=this.getHandleSize(),d=this.clampValues(),f=o("start"===e?d[0]:d[1]),h=new JF({style:Ft(Ft(Ft({},l),this.inferTextStyle(e)),{text:f})}),p=h.getBBox(),g=p.width,v=p.height;if(h.destroy(),!a){if("value"===r)return{text:f,x:0,y:-v-u};var m=u+c+("horizontal"===i?g/2:0);return(t={text:f})["horizontal"===i?"x":"y"]="start"===e?-m:m,t}var y=0,b=0,w=this.availableSpace,x=w.width,E=w.height,k=this.calcSelectionArea()[1],S=k.x,M=k.y,T=k.width,C=k.height,N=u+c;if("horizontal"===i){var P=N+g/2;if("start"===e)y=S-N-g>0?-P:P;else y=x-S-T-N>g?P:-P}else{var O=v+N;b="start"===e?M-c>v?-O:N:E-(M+C)-c>v?O:-N}return{x:y,y:b,text:f}},t.prototype.getHandleLabelStyle=function(e){var t=UB(this.attributes,"handleLabel");return Ft(Ft(Ft({},t),this.calcHandleText(e)),this.inferTextStyle(e))},t.prototype.getHandleIconStyle=function(){var e=this.attributes.handleIconShape,t=UB(this.attributes,"handleIcon"),n=this.getOrientVal(["ew-resize","ns-resize"]),r=this.getHandleSize();return Ft({cursor:n,shape:e,size:r},t)},t.prototype.getHandleStyle=function(e){var t=this.attributes,n=t.x,r=t.y,i=t.showLabel,o=t.showLabelOnInteraction,a=t.orientation,s=this.calcHandlePosition(e),l=s.x,u=s.y,c=this.calcHandleText(e),d=i;return!i&&o&&(d=!!this.target),Ft(Ft(Ft({},WB(this.getHandleIconStyle(),"icon")),WB(Ft(Ft({},this.getHandleLabelStyle(e)),c),"label")),{transform:"translate(".concat(l+n,", ").concat(u+r,")"),orientation:a,showLabel:d,type:e,zIndex:3})},t.prototype.getHandleSize=function(){var e=this.attributes,t=e.handleIconSize,n=e.width,r=e.height;return t||Math.floor((this.getOrientVal([+r,+n])+4)/2.4)},t.prototype.getOrientVal=function(e){var t=Vt(e,2),n=t[0],r=t[1];return"horizontal"===this.attributes.orientation?n:r},t.prototype.setValuesOffset=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=!1);var r=this.attributes.type,i=Vt(this.getValues(),2),o=[i[0]+("range"===r?e:0),i[1]+t].sort();n?this.setValues(o):this.innerSetValues(o,!0)},t.prototype.getRatio=function(e){var t=this.availableSpace,n=t.width,r=t.height;return e/this.getOrientVal([n,r])},t.prototype.dispatchCustomEvent=function(e,t,n){var r=this;e.on(t,(function(e){e.stopPropagation(),r.dispatchEvent(new As(n,{detail:e}))}))},t.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var e=this.brushArea;this.dispatchCustomEvent(e,"click","trackClick"),this.dispatchCustomEvent(e,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(e,"pointerleave","trackMouseleave"),e.on("pointerdown",this.onDragStart("track"))},t.prototype.onScroll=function(e){if(this.attributes.scrollable){var t=e.deltaX,n=e.deltaY||t,r=this.getRatio(n);this.setValuesOffset(r,r,!0)}},t.tag="slider",t}(qB),yW={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new Gl({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};St({},yW,{style:{type:"arc"}}),St({},yW,{style:{}});var bW=oB({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"),wW=oB({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function xW(e){return e.reduce((function(e,t,n){return e.push(Ht([0===n?"M":"L"],Vt(t),!1)),e}),[])}function EW(e,t,n){return"surround"===t.type?function(e,t,n){var r=t.connect,i=void 0===r?"line":r,o=t.center;if("line"===i)return xW(e);if(!o)return[];var a=SB(e[0],o),s=n?0:1;return e.reduce((function(e,t,n){return 0===n?e.push(Ht(["M"],Vt(t),!1)):e.push(Ht(["A",a,a,0,0,s],Vt(t),!1)),e}),[])}(e,t,n):xW(e)}function kW(e,t,n){var r=n.type,i=n.connect,o=n.center,a=n.closed?[["Z"]]:[],s=Vt([EW(e,n),EW(t.slice().reverse(),n,!0)],2),l=s[0],u=s[1],c=Vt([e[0],t.slice(-1)[0]],2),d=c[0],f=c[1],h=function(e,t){return[l,e,u,t,a].flat()};if("line"===i||"surround"===r)return h([Ht(["L"],Vt(f),!1)],[Ht(["L"],Vt(d),!1)]);if(!o)throw new Error("Arc grid need to specified center");var p=Vt([SB(f,o),SB(d,o)],2),g=p[0],v=p[1];return h([Ht(["A",g,g,0,0,1],Vt(f),!1),Ht(["L"],Vt(f),!1)],[Ht(["A",v,v,0,0,0],Vt(d),!1),Ht(["L"],Vt(d),!1)])}var SW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jt(t,e),t.prototype.render=function(e,t){e.type,e.center,e.areaFill,e.closed;var n=Bt(e,["type","center","areaFill","closed"]),r=function(e){var t=e.data,n=void 0===t?[]:t;return e.closed?n.map((function(e){var t=e.points,n=Vt(t,1)[0];return Ft(Ft({},e),{points:Ht(Ht([],Vt(t),!1),[n],!1)})})):n}(e),i=DB(t).maybeAppendByClassName(wW.lineGroup,"g"),o=DB(t).maybeAppendByClassName(wW.regionGroup,"g"),a=function(e,t,n,r){var i=n.animate,o=n.isBillboard,a=t.map((function(e,t){return{id:e.id||"grid-line-".concat(t),d:EW(e.points,n)}}));return e.selectAll(wW.line.class).data(a,(function(e){return e.id})).join((function(e){return e.append("path").each((function(e,t){var n=rB(_B(Ft({d:e.d},r)),[e,t,a]);this.attr(Ft({class:wW.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:o},n))}))}),(function(e){return e.transition((function(e,t){return lW(this,rB(_B(Ft({d:e.d},r)),[e,t,a]),i.update)}))}),(function(e){return e.transition((function(){var e=this,t=uW(this,i.exit);return oW(t,(function(){return e.remove()})),t}))})).transitions()}(i,r,e,n),s=function(e,t,n){var r=n.animate,i=n.connect,o=n.areaFill;if(t.length<2||!o||!i)return[];for(var a=Array.isArray(o)?o:[o,"transparent"],s=function(e){return a[e%a.length]},l=[],u=0;u<t.length-1;u++){var c=Vt([t[u].points,t[u+1].points],2),d=kW(c[0],c[1],n);l.push({d:d,fill:s(u)})}return e.selectAll(wW.region.class).data(l,(function(e,t){return t})).join((function(e){return e.append("path").each((function(e,t){var n=rB(e,[e,t,l]);this.attr(n)})).attr("className",wW.region.name)}),(function(e){return e.transition((function(e,t){return lW(this,rB(e,[e,t,l]),r.update)}))}),(function(e){return e.transition((function(){var e=this,t=uW(this,r.exit);return oW(t,(function(){return e.remove()})),t}))})).transitions()}(o,r,e);return Ht(Ht([],Vt(a),!1),Vt(s),!1)},t}(qB);function MW(e,t){return Object.fromEntries(Object.entries(e).map((function(e){var n=Vt(e,2);return[n[0],rB(n[1],t)]})))}function TW(e,t){return t&&$e(t)?e.filter(t):e}function CW(e,t){var n=t.startAngle;return(t.endAngle-n)*e+n}function NW(e,t){if("linear"===t.type){var n=Vt(t.startPos,2),r=n[0],i=n[1],o=Vt(t.endPos,2),a=Vt([o[0]-r,o[1]-i],2);return MB([a[0],a[1]])}var s=eB(CW(e,t));return[-Math.sin(s),Math.cos(s)]}function PW(e,t,n){return function(e,t){return t?[e[1],-e[0]]:[-e[1],e[0]]}(NW(e,n),"positive"!==t)}function OW(e,t){return PW(e,t.labelDirection,t)}function _W(e,t){return"linear"===t.type?function(e,t){var n=Vt(t.startPos,2),r=n[0],i=n[1],o=Vt(t.endPos,2),a=Vt([o[0]-r,o[1]-i],2);return[r+a[0]*e,i+a[1]*e]}(e,t):function(e,t){var n=t.radius,r=Vt(t.center,2),i=r[0],o=r[1],a=eB(CW(e,t));return[i+n*Math.cos(a),o+n*Math.sin(a)]}(e,t)}function RW(e){return 0===NW(0,e)[1]}function AW(e){return 0===NW(0,e)[0]}function DW(e,t){return t-e==360}function LW(e,t,n,r,i){var o=t-e,a=Vt([i,i],2),s=a[0],l=a[1],u=Vt([eB(e),eB(t)],2),c=u[0],d=u[1],f=function(e){return[n+i*Math.cos(e),r+i*Math.sin(e)]},h=Vt(f(c),2),p=h[0],g=h[1],v=Vt(f(d),2),m=v[0],y=v[1];if(DW(e,t)){var b=Vt(f((d+c)/2),2);return[["M",p,g],["A",s,l,0,1,0,b[0],b[1]],["A",s,l,0,1,0,m,y]]}var w=o>180?1:0,x=e>t?0:1;return"M".concat(p,",").concat(g,",A").concat(s,",").concat(l,",0,").concat(w,",").concat(x,",").concat(m,",").concat(y)}function IW(e,t,n,r){var i=t.startAngle,o=t.endAngle,a=t.center,s=t.radius;return e.selectAll(bW.line.class).data([{d:LW.apply(void 0,Ht(Ht([i,o],Vt(a),!1),[s],!1))}],(function(e,t){return t})).join((function(e){return e.append("path").attr("className",bW.line.name).styles(t).styles({d:function(e){return e.d}})}),(function(e){return e.transition((function(){var e=this,t=function(e,t,n,r){if(!r)return e.attr("__keyframe_data__",n),null;var i=r.duration,o=void 0===i?0:i,a=yB(t,n),s=Math.ceil(+o/16),l=new Array(s).fill(0).map((function(e,t,n){return{__keyframe_data__:a(t/(n.length-1))}}));return e.animate(l,Ft({fill:"both"},r))}(this,function(e){var t=e.attributes,n=t.startAngle,r=t.endAngle,i=t.center,o=t.radius;return Ht(Ht([n,r],Vt(i),!1),[o],!1)}(this),Ht(Ht([i,o],Vt(a),!1),[s],!1),r.update);if(t){var n=function(){var t=Nt(e.attributes,"__keyframe_data__");e.style.d=LW.apply(void 0,Ht([],Vt(t),!1))};t.onframe=n,t.onfinish=n}return t})).styles(t)}),(function(e){return e.remove()})).styles(n).transitions()}function zW(e){var t=Vt(e,2),n=Vt(t[0],2),r=n[0],i=n[1],o=Vt(t[1],2);return{x1:r,y1:i,x2:o[0],y2:o[1]}}function jW(e,t,n,r){var i=t.showTrunc,o=t.startPos,a=t.endPos,s=t.truncRange,l=t.lineExtension,u=Vt([o,a],2),c=Vt(u[0],2),d=c[0],f=c[1],h=Vt(u[1],2),p=h[0],g=h[1],v=Vt(l?function(e,t,n){void 0===n&&(n=[0,0]);var r=Vt([e,t,n],3),i=Vt(r[0],2),o=i[0],a=i[1],s=Vt(r[1],2),l=s[0],u=s[1],c=Vt(r[2],2),d=c[0],f=c[1],h=Vt([l-o,u-a],2),p=h[0],g=h[1],v=Math.sqrt(Math.pow(p,2)+Math.pow(g,2)),m=Vt([-d/v,f/v],2),y=m[0],b=m[1];return[y*p,y*g,b*p,b*g]}(o,a,l):new Array(4).fill(0),4),m=v[0],y=v[1],b=v[2],w=v[3],x=function(t){return e.selectAll(bW.line.class).data(t,(function(e,t){return t})).join((function(e){return e.append("line").attr("className",(function(e){return"".concat(bW.line.name," ").concat(e.className)})).styles(n).transition((function(e){return lW(this,zW(e.line),!1)}))}),(function(e){return e.styles(n).transition((function(e){return lW(this,zW(e.line),r.update)}))}),(function(e){return e.remove()})).transitions()};if(!i||!s)return x([{line:[[d+m,f+y],[p+b,g+w]],className:bW.line.name}]);var E=Vt(s,2),k=E[0],S=E[1],M=p-d,T=g-f,C=Vt([d+M*k,f+T*k],2),N=C[0],P=C[1],O=Vt([d+M*S,f+T*S],2),_=O[0],R=O[1],A=x([{line:[[d+m,f+y],[N,P]],className:bW.lineFirst.name},{line:[[_,R],[p+b,g+w]],className:bW.lineSecond.name}]);return function(e,t){t.truncRange,t.truncShape,t.lineExtension}(0,t),A}function FW(e,t,n){var r,i=t.type,o=UB(t,"line");return r="linear"===i?jW(e,t,CB(o,"arrow"),n):IW(e,t,CB(o,"arrow"),n),function(e,t,n,r){var i,o=n.showArrow,a=n.showTrunc,s=n.lineArrow,l=n.lineArrowOffset,u=n.lineArrowSize;if(i="arc"===t?e.select(bW.line.class):a?e.select(bW.lineSecond.class):e.select(bW.line.class),!o||!s||"arc"===n.type&&DW(n.startAngle,n.endAngle)){var c=i.node();c&&(c.style.markerEnd=void 0)}else{var d=gB(s);d.attr(r),RB(d,u),i.style("markerEnd",d).style("markerEndOffset",-l)}}(e,i,t,o),r}function BW(e){var t=e.type,n=e.gridCenter;return"linear"===t?n:n||e.center}function UW(e,t){var n=t.gridLength;return e.map((function(e,r){var i=e.value,o=Vt(_W(i,t),2),a=o[0],s=o[1],l=Vt(bB(function(e,t){return PW(e,t.gridDirection,t)}(i,t),n),2);return{id:r,points:[[a,s],[a+l[0],s+l[1]]]}}))}function WW(e,t,n,r){var i=UB(n,"grid"),o=i.type,a=i.areaFill,s=BW(n),l=TW(t,n.gridFilter),u="segment"===o?UW(l,n):function(e,t){var n=t.gridControlAngles,r=BW(t);if(!r)throw new Error("grid center is not provide");if(e.length<2)throw new Error("Invalid grid data");if(!n||0===n.length)throw new Error("Invalid gridControlAngles");var i=Vt(r,2),o=i[0],a=i[1];return e.map((function(e,r){var i=Vt(_W(e.value,t),2),s=i[0],l=i[1],u=Vt([s-o,l-a],2),c=u[0],d=u[1],f=[];return n.forEach((function(e){var t=eB(e),n=Vt([Math.cos(t),Math.sin(t)],2),r=n[0],i=n[1],s=c*r-d*i+o,l=c*i+d*r+a;f.push([s,l])})),{points:f,id:r}}))}(l,n),c=Ft(Ft({},i),{center:s,areaFill:$e(a)?l.map((function(e,t){return rB(a,[e,t,l])})):a,animate:r,data:u});return e.selectAll(bW.grid.class).data([1]).join((function(e){return e.append((function(){return new SW({style:c})})).attr("className",bW.grid.name)}),(function(e){return e.transition((function(){return this.update(c)}))}),(function(e){return e.remove()})).transitions()}var VW=function(){function e(e,t,n,r){this.set(e,t,n,r)}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),e.prototype.rotatedPoints=function(e,t,n){var r=this,i=r.x1,o=r.y1,a=r.x2,s=r.y2,l=Math.cos(e),u=Math.sin(e),c=t-t*l+n*u,d=n-t*u-n*l;return[[l*i-u*s+c,u*i+l*s+d],[l*a-u*s+c,u*a+l*s+d],[l*i-u*o+c,u*i+l*o+d],[l*a-u*o+c,u*a+l*o+d]]},e.prototype.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},e.prototype.defined=function(e){return this[e]!==Number.MAX_VALUE&&this[e]!==-Number.MAX_VALUE},e}();function HW(e,t){var n=e.getEulerAngles()||0;e.setEulerAngles(0);var r=e.getBounds(),i=Vt(r.min,2),o=i[0],a=i[1],s=Vt(r.max,2),l=s[0],u=s[1],c=e.getBBox(),d=c.width,f=c.height,h=0,p=0,g=o,v=a,m=dB(e);if(m){f-=1.5;var y=m.style.textAlign,b=m.style.textBaseline;"center"===y?g=(o+l)/2:"right"!==y&&"end"!==y||(g=l),"middle"===b?v=(a+u)/2:"bottom"===b&&(v=u)}var w=Vt(LB(t),4),x=w[0],E=void 0===x?0:x,k=w[1],S=void 0===k?0:k,M=w[2],T=void 0===M?E:M,C=w[3],N=new VW((h+=o)-(void 0===C?S:C),(p+=a)-E,h+d+S,p+f+T);return e.setEulerAngles(n),N.rotatedPoints(eB(n),g,v)}function GW(e,t){return t[0]<=Math.max(e[0][0],e[1][0])&&t[0]<=Math.min(e[0][0],e[1][0])&&t[1]<=Math.max(e[0][1],e[1][1])&&t[1]<=Math.min(e[0][1],e[1][1])}function $W(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return 0===r?0:r<0?2:1}function YW(e,t){return t.every((function(t){return function(e,t){var n=e.length;if(n<3)return!1;var r,i,o,a,s,l,u=[t,[9999,t[1]]],c=0,d=0;do{var f=[e[d],e[(d+1)%n]];if(i=u,o=void 0,a=void 0,s=void 0,l=void 0,o=$W((r=f)[0],r[1],i[0]),a=$W(r[0],r[1],i[1]),s=$W(i[0],i[1],r[0]),l=$W(i[0],i[1],r[1]),o!==a&&s!==l||0===o&&GW(r,i[0])||0===a&&GW(r,i[1])||0===s&&GW(i,r[0])||0===l&&GW(i,r[1])){if(0===$W(f[0],t,f[1]))return GW(f,t);c++}d=(d+1)%n}while(0!==d);return!!(1&c)}(e,t)}))}function qW(e,t){return[[e[0],e[1],e[2],e[3]],[e[2],e[3],e[4],e[5]],[e[4],e[5],e[6],e[7]],[e[6],e[7],e[0],e[1]]].some((function(e){return function(e,t){var n=Vt(e,4),r=n[0],i=n[1],o=n[2],a=n[3],s=Vt(t,4),l=s[0],u=s[1],c=o-r,d=a-i,f=s[2]-l,h=s[3]-u,p=c*h-f*d;if(0===p)return!1;var g=p>0,v=r-l,m=i-u,y=c*m-d*v;if(y<0===g)return!1;var b=f*m-h*v;return b<0!==g&&y>p!==g&&b>p!==g}(t,e)}))}function KW(e,t,n){var r,i,o=t.crossPadding,a=new Set,s=null,l=function(e,t){var n=e.type,r=e.labelDirection,i=e.crossSize;if(!i)return!1;if("arc"===n){var o=e.center,a=e.radius,s=Vt(o,2),l=s[0],u=s[1],c="negative"===r?0:i,d=-a-c,f=a+c,h=Vt(LB(t),4),p=h[0],g=h[1],v=h[2],m=h[3];return new VW(l+d-m,u+d-p,l+f+g,u+f+v)}var y=Vt(e.startPos,2),b=y[0],w=y[1],x=Vt(e.endPos,2),E=x[0],k=x[1],S=Vt(AW(e)?[-t,0,t,0]:[0,t,0,-t],4),M=S[0],T=S[1],C=S[2],N=S[3],P=bB(OW(0,e),i),O=new VW(b,w,E,k);return O.x1+=N,O.y1+=M,O.x2+=T+P[0],O.y2+=C+P[1],O}(t,o),u=function(e){return!l||function(e,t,n){var r=e.x1,i=e.x2,o=e.y1,a=e.y2;return YW([[r,o],[i,o],[i,a],[r,a]],HW(t,n))}(l,e)},c=function(e,t){return!e||!e.firstChild||!function(e,t,n){var r,i,o=HW(e,n).flat(1),a=HW(t,n).flat(1),s=[[o[0],o[1],o[2],o[3]],[o[0],o[1],o[4],o[5]],[o[4],o[5],o[6],o[7]],[o[2],o[3],o[6],o[7]]];try{for(var l=Wt(s),u=l.next();!u.done;u=l.next())if(qW(a,u.value))return!0}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return!1}(e.firstChild,t.firstChild,LB(n))};try{for(var d=Wt(e),f=d.next();!f.done;f=d.next()){var h=f.value;u(h)?!s||c(s,h)?s=h:(a.add(s),a.add(h)):a.add(h)}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return Array.from(a)}function XW(e,t){return void 0===t&&(t={}),Ye(e)?0:"number"==typeof e?e:Math.floor(uB(e,t))}var QW=function(e,t){var n=t.seq,r=void 0===n?2:n;return e.filter((function(e,t){return!(t%r)||(KF(e),!1)}))};var ZW=new Map([["hide",function(e,t,n,r){var i=e.length,o=t.keepHeader,a=t.keepTail;if(!(i<=1||2===i&&o&&a)){var s,l,u,c=QW,d=function(e){return e.forEach(r.show),e},f=2,h=e.slice(),p=e.slice(),g=Math.min.apply(Math,Ht([1],Vt(e.map((function(e){return e.getBBox().width}))),!1));if("linear"===n.type&&(RW(n)||AW(n))){var v=IB(e[0]).left,m=IB(e[i-1]).right,y=Math.abs(m-v)||1;f=Math.max(Math.floor(i*g/y),f)}for(o&&(s=h.splice(0,1)[0]),a&&(l=h.splice(-1,1)[0],h.reverse()),d(h);f<e.length&&KW((u=l?Ht(Ht([l],Vt(p),!1),[s],!1):Ht([s],Vt(p),!1),u.filter(lB)),n,null==t?void 0:t.margin).length;){if(l&&!s&&f%2==0)h.splice(0,1).forEach(r.hide);else if(l&&s){h.splice(0,1).forEach(r.hide)}p=c(d(h),{seq:f}),f++}}}],["rotate",function(e,t,n,r){var i,o,a=t.optionalAngles,s=void 0===a?[0,45,90]:a,l=t.margin,u=t.recoverWhenFailed,c=void 0===u||u,d=e.map((function(e){return e.getLocalEulerAngles()})),f=function(t){return e.forEach((function(e,n){var i=Array.isArray(t)?t[n]:t;r.rotate(e,+i)}))};try{for(var h=Wt(s),p=h.next();!p.done;p=h.next()){if(f(p.value),KW(e,n,l).length<1)return}}catch(e){i={error:e}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}c&&f(d)}],["ellipsis",function(e,t,n,r){if(!(e.length<=1)){var i=t.suffix,o=void 0===i?"...":i,a=t.minLength,s=t.maxLength,l=void 0===s?1/0:s,u=t.step,c=void 0===u?" ":u,d=t.margin,f=void 0===d?[0,0,0,0]:d,h=cB(r.getTextShape(e[0])),p=XW(c,h),g=a?XW(a,h):p,v=XW(l,h);(Ye(v)||v===1/0)&&(v=Math.max.apply(null,e.map((function(e){return e.getBBox().width}))));var m=e.slice(),y=Vt(f,4);y[0],y[1],y[2],y[3];for(var b=function(t){if(m.forEach((function(e){r.ellipsis(r.getTextShape(e),t,o)})),(m=KW(e,n,f)).length<1)return{value:void 0}},w=v;w>g+p;w-=p){var x=b(w);if("object"==typeof x)return x.value}}}],["wrap",function(e,t,n,r){var i=t.wordWrapWidth,o=void 0===i?50:i,a=t.maxLines,s=void 0===a?3:a,l=t.recoverWhenFailed,u=void 0===l||l,c=t.margin,d=void 0===c?[0,0,0,0]:c,f=e.map((function(e){return e.attr("maxLines")||1})),h=Math.min.apply(Math,Ht([],Vt(f),!1)),p=function(e){var t=e.type,n=e.labelDirection;return"linear"===t&&RW(e)?"negative"===n?"bottom":"top":"middle"}(n),g=function(t){return e.forEach((function(e,n){var i=Array.isArray(t)?t[n]:t;r.wrap(e,o,i,p)}))};if(!(h>s)){for(var v=h;v<=s;v++)if(g(v),KW(e,n,d).length<1)return;u&&g(f)}}]]);function JW(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){return e*function(e){return"positive"===e?-1:1}(t)}),1)}function eV(e){for(var t=e;t<0;)t+=360;return Math.round(t%360)}function tV(e,t){var n=Vt(e,2),r=n[0],i=n[1],o=Vt(t,2),a=o[0],s=o[1],l=Vt([r*a+i*s,r*s-i*a],2),u=l[0],c=l[1];return Math.atan2(c,u)}function nV(e,t,n){var r,i=n.labelAlign;if(null===(r=t.style.transform)||void 0===r?void 0:r.includes("rotate"))return t.getLocalEulerAngles();var o=OW(e.value,n),a=NW(e.value,n);return"horizontal"===i?0:function(e){var t=(e+360)%180;return mB(t,-90,90)||(t+=180),t}(tB("perpendicular"===i?tV([1,0],o):tV([a[0]<0?-1:1,0],a)))}function rV(e,t,n){var r=n.type,i=n.labelAlign,o=OW(e,n),a=eV(t),s=eV(tB(tV([1,0],o))),l="center",u="middle";return"linear"===r?[90,270].includes(s)&&0===a?(l="center",u=1===o[1]?"top":"bottom"):s%180||![90,270].includes(a)?0===s?(mB(a,0,90,!1,!0)||mB(a,0,90)||mB(a,270,360))&&(l="start"):90===s?mB(a,0,90,!1,!0)?l="start":(mB(a,90,180)||mB(a,270,360))&&(l="end"):270===s?mB(a,0,90,!1,!0)?l="end":(mB(a,90,180)||mB(a,270,360))&&(l="start"):180===s&&(90===a?l="start":(mB(a,0,90)||mB(a,270,360))&&(l="end")):l="center":"parallel"===i?u=mB(s,0,180,!0)?"top":"bottom":"horizontal"===i?mB(s,90,270,!1)?l="end":(mB(s,270,360,!1)||mB(s,0,90))&&(l="start"):"perpendicular"===i&&(l=mB(s,90,270)?"end":"start"),{textAlign:l,textBaseline:u}}function iV(e,t,n){var r=n.showTick,i=n.tickLength,o=n.tickDirection,a=n.labelDirection,s=n.labelSpacing,l=t.indexOf(e),u=rB(s,[e,l,t]),c=Vt([OW(e.value,n),JW(a,o)],2),d=Vt(wB(bB(c[0],u+(1===c[1]?rB(r?i:0,[e,l,t]):0)),_W(e.value,n)),2);return{x:d[0],y:d[1]}}function oV(e,t){"text"===e.nodeName&&e.attr(t)}function aV(e){!function(e,t,n){var r=t.labelOverlap,i=void 0===r?[]:r;i.length&&i.forEach((function(r){var i=r.type,o=ZW.get(i);(function(e,t,n){return!(t.labelOverlap.length<1)&&("hide"===n?!function(e){for(var t=e;t;){if("offscreen"===t.className)return!0;t=t.parent}return!1}(e[0]):"rotate"===n?!e.some((function(e){var t;return!!(null===(t=e.attr("transform"))||void 0===t?void 0:t.includes("rotate"))})):"ellipsis"!==n&&"wrap"!==n||e.filter((function(e){return e.querySelector("text")})).length>1)})(e,t,i)&&(null==o||o(e,r,t,n))}))}(this.node().childNodes,e,{hide:KF,show:qF,rotate:function(t,n){!function(e,t,n){t.setLocalEulerAngles(e);var r=rV(t.__data__.value,e,n),i=t.querySelector(bW.labelItem.class);i&&oV(i,r)}(+n,t,e)},ellipsis:function(e,t,n){e&&hB(e,t||1/0,n)},wrap:function(e,t,n){var r,i;e&&(void 0===(r=n)&&(r=2),void 0===i&&(i="top"),fB(e,{wordWrap:!0,wordWrapWidth:t,maxLines:r,textBaseline:i}))},getTextShape:function(e){return e.querySelector("text")}})}function sV(e,t,n,r,i){var o=n.indexOf(t),a=DB(e).append(function(e,t,n,r){var i=r.labelFormatter;return $e(i)?function(){return gB(rB(i,[e,t,n,OW(e.value,r)]))}:function(){return gB(e.label||"")}}(t,o,n,i)).attr("className",bW.labelItem.name).node(),s=Vt(VB(MW(r,[t,o,n])),2),l=s[0],u=s[1],c=u.transform,d=Bt(u,["transform"]);GB(a,c);var f=nV(t,a,i);return a.getLocalEulerAngles()||a.setLocalEulerAngles(f),oV(a,Ft(Ft({},rV(t.value,f,i)),l)),e.attr(d),a}function lV(e,t,n,r){var i=TW(t,n.labelFilter),o=UB(n,"label");return e.selectAll(bW.label.class).data(i,(function(e,t){return t})).join((function(r){return r.append("g").attr("className",bW.label.name).transition((function(e){sV(this,e,t,o,n);var r=iV(e,t,n),i=r.x,a=r.y;return this.style.transform="translate(".concat(i,", ").concat(a,")"),null})).call((function(){aV.call(e,n)}))}),(function(i){return i.transition((function(e){var i=function(e,t,n,r){if(void 0===r&&(r="destroy"),function(e,t){return"text"===e.nodeName&&"text"===t.nodeName&&e.attributes.text===t.attributes.text}(e,t))return e.remove(),[null];var i=function(){"destroy"===r?e.destroy():"hide"===r&&KF(e),t.isVisible()&&qF(t)};if(!n)return i(),[null];var o=n.duration,a=void 0===o?0:o,s=n.delay,l=void 0===s?0:s,u=Math.ceil(+a/2),c=+a/4,d=Vt(e.getGeometryBounds().center,2),f=d[0],h=d[1],p=Vt(t.getGeometryBounds().center,2),g=Vt([(f+p[0])/2-f,(h+p[1])/2-h],2),v=g[0],m=g[1],y=e.style.opacity,b=void 0===y?1:y,w=t.style.opacity,x=void 0===w?1:w,E=e.style.transform||"",k=t.style.transform||"",S=e.animate([{opacity:b,transform:"translate(0, 0) ".concat(E)},{opacity:0,transform:"translate(".concat(v,", ").concat(m,") ").concat(E)}],Ft(Ft({fill:"both"},n),{duration:l+u+c})),M=t.animate([{opacity:0,transform:"translate(".concat(-v,", ").concat(-m,") ").concat(k),offset:.01},{opacity:x,transform:"translate(0, 0) ".concat(k)}],Ft(Ft({fill:"both"},n),{duration:u+c,delay:l+u-c}));return oW(M,i),[S,M]}(this.querySelector(bW.labelItem.class),sV(this,e,t,o,n),r.update),a=iV(e,t,n),s=a.x,l=a.y,u=lW(this,{transform:"translate(".concat(s,", ").concat(l,")")},r.update);return Ht(Ht([],Vt(i),!1),[u],!1)})).call((function(t){var r,i,o=Nt(t,"_transitions").flat().filter(lB);i=function(){aV.call(e,n)},0===(r=o).length?i():Promise.all(r.map((function(e){return null==e?void 0:e.finished}))).then(i)}))}),(function(e){return e.transition((function(){var e=this,t=uW(this.childNodes[0],r.exit);return oW(t,(function(){return DB(e).remove()})),t}))})).transitions()}function uV(e,t){return PW(e,t.tickDirection,t)}function cV(e,t,n,r,i){var o=Vt(function(e,t){var n=Vt(e,2);return[[0,0],[n[0]*t,n[1]*t]]}(r,rB(i.tickLength,[e,t,n])),2),a=Vt(o[0],2),s=a[0],l=a[1],u=Vt(o[1],2);return{x1:s,x2:u[0],y1:l,y2:u[1]}}function dV(e,t,n,r,i,o){var a=function(e,t,n,r,i){var o=i.tickFormatter,a=uV(t.value,i),s="line";return $e(o)&&(s=function(){return rB(o,[t,n,r,a])}),e.append(s).attr("className",bW.tickItem.name)}(DB(this),e,t,n,r);!function(e,t,n,r,i,o,a){var s=uV(e.value,o),l=cV(e,t,n,s,o),u=l.x1,c=l.x2,d=l.y1,f=l.y2,h=Vt(VB(MW(a,[e,t,n,s])),2),p=h[0],g=h[1];"line"===r.node().nodeName&&r.styles(Ft({x1:u,x2:c,y1:d,y2:f},p)),i.attr(g),r.styles(p)}(e,t,n,a,this,r,i);var s=Vt(_W(e.value,r),2),l=s[0],u=s[1];return lW(this,{transform:"translate(".concat(l,", ").concat(u,")")},o)}var fV=oB({text:"text"},"title");function hV(e){return/\S+-\S+/g.test(e)?e.split("-").map((function(e){return e[0]})):e.length>2?[e[0]]:e.split("")}function pV(e,t){var n=Object.entries(t).reduce((function(t,n){var r=Vt(n,2),i=r[0],o=r[1];return e.node().attr(i)||(t[i]=o),t}),{});e.styles(n)}var gV=function(e){function t(t){return e.call(this,t,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return jt(t,e),t.prototype.getAvailableSpace=function(){var e=this.attributes,t=e.width,n=e.height,r=e.position,i=e.spacing,o=e.inset,a=this.querySelector(fV.text.class);if(!a)return new nB(0,0,+t,+n);var s=a.getBBox(),l=s.width,u=s.height,c=Vt(LB(i),4),d=c[0],f=c[1],h=c[2],p=c[3],g=Vt([0,0,+t,+n],4),v=g[0],m=g[1],y=g[2],b=g[3],w=hV(r);if(w.includes("i"))return new nB(v,m,y,b);w.forEach((function(e,r){var i,o,a,s;"t"===e&&(i=Vt(0===r?[u+h,+n-u-h]:[0,+n],2),m=i[0],b=i[1]),"r"===e&&(o=Vt([+t-l-p],1),y=o[0]),"b"===e&&(a=Vt([+n-u-d],1),b=a[0]),"l"===e&&(s=Vt(0===r?[l+f,+t-l-f]:[0,+t],2),v=s[0],y=s[1])}));var x=Vt(LB(o),4),E=x[0],k=x[1],S=x[2],M=x[3],T=Vt([M+k,E+S],2),C=T[0],N=T[1];return new nB(v+M,m+E,y-C,b-N)},t.prototype.getBBox=function(){return this.title?this.title.getBBox():new nB(0,0,0,0)},t.prototype.render=function(e,t){var n=this;e.width,e.height,e.position,e.spacing;var r=Bt(e,["width","height","position","spacing"]),i=Vt(VB(r),1)[0],o=function(e){var t,n,r,i,o=e,a=o.width,s=o.height,l=o.position,u=Vt([+a/2,+s/2],2),c=Vt([+u[0],+u[1],"center","middle"],4),d=c[0],f=c[1],h=c[2],p=c[3],g=hV(l);return g.includes("l")&&(d=(t=Vt([0,"start"],2))[0],h=t[1]),g.includes("r")&&(d=(n=Vt([+a,"end"],2))[0],h=n[1]),g.includes("t")&&(f=(r=Vt([0,"top"],2))[0],p=r[1]),g.includes("b")&&(f=(i=Vt([+s,"bottom"],2))[0],p=i[1]),{x:d,y:f,textAlign:h,textBaseline:p}}(e),a=o.x,s=o.y,l=o.textAlign,u=o.textBaseline;vB(!!r.text,DB(t),(function(e){n.title=e.maybeAppendByClassName(fV.text,"text").styles(i).call(pV,{x:a,y:s,textAlign:l,textBaseline:u}).node()}))},t}(qB);function vV(e,t,n,r,i){var o=Vt(VB(UB(r,"title")),2),a=o[0],s=o[1],l=s.transform,u=s.transformOrigin,c=Bt(s,["transform","transformOrigin"]);t.styles(c);var d=l||function(e,t,n){var r=2*e.getGeometryBounds().halfExtents[1];if("vertical"===t){if("left"===n)return"rotate(-90) translate(0, ".concat(r/2,")");if("right"===n)return"rotate(-90) translate(0, -".concat(r/2,")")}return""}(e.node(),a.direction,a.position);e.styles(Ft(Ft({},a),{transformOrigin:u})),GB(e.node(),d);var f=function(e,t,n){var r=n.titlePosition,i=void 0===r?"lb":r,o=n.titleSpacing,a=hV(i),s=e.node().getLocalBounds(),l=Vt(s.min,2),u=l[0],c=l[1],d=Vt(s.halfExtents,2),f=d[0],h=d[1],p=Vt(t.node().getLocalBounds().halfExtents,2),g=p[0],v=p[1],m=Vt([u+f,c+h],2),y=m[0],b=m[1],w=Vt(LB(o),4),x=w[0],E=w[1],k=w[2],S=w[3];if(["start","end"].includes(i)&&"linear"===n.type){var M=n.startPos,T=n.endPos,C=Vt("start"===i?[M,T]:[T,M],2),N=C[0],P=C[1],O=Vt(bB(MB([-P[0]+N[0],-P[1]+N[1]]),x),2),_=O[0],R=O[1];return{x:N[0]+_,y:N[1]+R}}return a.includes("t")&&(b-=h+v+x),a.includes("r")&&(y+=f+g+E),a.includes("l")&&(y-=f+g+S),a.includes("b")&&(b+=h+v+k),{x:y,y:b}}(DB(n._offscreen||n.querySelector(bW.mainGroup.class)),t,r),h=f.x,p=f.y;return lW(t.node(),{transform:"translate(".concat(h,", ").concat(p,")")},i)}function mV(e,t,n,r){var i=e.showLine,o=e.showTick,a=e.showLabel,s=vB(i,t.maybeAppendByClassName(bW.lineGroup,"g"),(function(t){return FW(t,e,r)}))||[],l=vB(o,t.maybeAppendByClassName(bW.tickGroup,"g"),(function(t){return function(e,t,n,r){var i=TW(t,n.tickFilter),o=UB(n,"tick");return e.selectAll(bW.tick.class).data(i,(function(e){return e.id||e.label})).join((function(e){return e.append("g").attr("className",bW.tick.name).transition((function(e,t){return dV.call(this,e,t,i,n,o,!1)}))}),(function(e){return e.transition((function(e,t){return this.removeChildren(),dV.call(this,e,t,i,n,o,r.update)}))}),(function(e){return e.transition((function(){var e=this,t=uW(this.childNodes[0],r.exit);return oW(t,(function(){return e.remove()})),t}))})).transitions()}(t,n,e,r)}))||[],u=vB(a,t.maybeAppendByClassName(bW.labelGroup,"g"),(function(t){return lV(t,n,e,r)}))||[];return Ht(Ht(Ht([],Vt(s),!1),Vt(l),!1),Vt(u),!1).filter((function(e){return!!e}))}var yV=function(e){function t(t){return e.call(this,t,yW)||this}return jt(t,e),t.prototype.render=function(e,t,n){var r=this,i=e.titleText,o=e.data,a=e.animate,s=e.showTitle,l=e.showGrid,u=e.dataThreshold,c=e.truncRange,d=function(e,t){if(e.length<=t)return e;for(var n=Math.floor(e.length/t),r=[],i=0;i<e.length;i+=n)r.push(e[i]);return r}(o,u).filter((function(e){var t=e.value;return!(c&&t>c[0]&&t<c[1])})),f=iW(void 0===n?a:n),h=vB(l,DB(t).maybeAppendByClassName(bW.gridGroup,"g"),(function(t){return WW(t,d,e,f)}))||[],p=DB(t).maybeAppendByClassName(bW.mainGroup,"g");i&&(!this.initialized&&f.enter||this.initialized&&f.update)&&mV(e,DB(this.offscreenGroup),d,iW(!1));var g=mV(e,DB(p.node()),d,f),v=vB(s,DB(t).maybeAppendByClassName(bW.titleGroup,"g"),(function(t){return function(e,t,n,r){var i=n.titleText;return e.selectAll(bW.title.class).data([{title:i}].filter((function(e){return!!e.title})),(function(e,t){return e.title})).join((function(o){return o.append((function(){return gB(i)})).attr("className",bW.title.name).transition((function(){return vV(DB(this),e,t,n,r.enter)}))}),(function(i){return i.transition((function(){return vV(DB(this),e,t,n,r.update)}))}),(function(e){return e.remove()})).transitions()}(t,r,e,f)}))||[];return Ht(Ht(Ht([],Vt(h),!1),Vt(g),!1),Vt(v),!1).flat().filter((function(e){return!!e}))},t}(qB),bV=oB({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),wV=function(e){function t(t){var n=e.call(this,t,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:eU(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(e,t){return"".concat(e,"/").concat(t)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return n.playState="idle",n.contentGroup=n.appendChild(new jl({class:bV.contentGroup.name})),n.playWindow=n.contentGroup.appendChild(new jl({class:bV.playWindow.name})),n.innerCurrPage=n.defaultPage,n}return jt(t,e),Object.defineProperty(t.prototype,"defaultPage",{get:function(){var e=this.attributes.defaultPage;return at(e,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageShape",{get:function(){var e=Vt(function(e){var t;return(null===(t=e[0])||void 0===t?void 0:t.map((function(t,n){return e.map((function(e){return e[n]}))})))||[]}(this.pageViews.map((function(e){var t=e.getBBox();return[t.width,t.height]}))).map((function(e){return Math.max.apply(Math,Ht([],Vt(e),!1))})),2),t=e[0],n=e[1],r=this.attributes,i=r.pageWidth,o=void 0===i?t:i,a=r.pageHeight;return{pageWidth:o,pageHeight:void 0===a?n:a}},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(t.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var t=e.prototype.getBBox.call(this),n=t.x,r=t.y,i=this.controllerShape,o=this.pageShape,a=o.pageWidth,s=o.pageHeight;return new nB(n,r,a+i.width,s)},t.prototype.goTo=function(e){var t=this,n=this.attributes.animate,r=this,i=r.currPage,o=r.playState,a=r.playWindow,s=r.pageViews;if("idle"!==o||e<0||s.length<=0||e>=s.length)return null;s[i].setLocalPosition(0,0),this.prepareFollowingPage(e);var l=Vt(this.getFollowingPageDiff(e),2),u=l[0],c=l[1];this.playState="running";var d=sW(a,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-u,", ").concat(-c,")")}],n);return oW(d,(function(){t.innerCurrPage=e,t.playState="idle",t.setVisiblePages([e]),t.updatePageInfo()})),d},t.prototype.prev=function(){var e=this.attributes.loop,t=this.pageViews.length,n=this.currPage;if(!e&&n<=0)return null;var r=e?(n-1+t)%t:at(n-1,0,t);return this.goTo(r)},t.prototype.next=function(){var e=this.attributes.loop,t=this.pageViews.length,n=this.currPage;if(!e&&n>=t-1)return null;var r=e?(n+1)%t:at(n+1,0,t);return this.goTo(r)},t.prototype.renderClipPath=function(e){var t=this.pageShape,n=t.pageWidth,r=t.pageHeight;n&&r?(this.clipPath=e.maybeAppendByClassName(bV.clipPath,"rect").styles({width:n,height:r}),this.contentGroup.attr("clipPath",this.clipPath.node())):this.contentGroup.style.clipPath=void 0},t.prototype.setVisiblePages=function(e){this.playWindow.children.forEach((function(t,n){e.includes(n)?qF(t):KF(t)}))},t.prototype.adjustControllerLayout=function(){var e=this,t=e.prevBtnGroup,n=e.nextBtnGroup,r=e.pageInfoGroup,i=this.attributes,o=i.orientation,a=i.controllerPadding,s=r.getBBox(),l=s.width;s.height;var u=Vt("horizontal"===o?[-180,0]:[-90,90],2),c=u[0],d=u[1];t.setLocalEulerAngles(c),n.setLocalEulerAngles(d);var f=t.getBBox(),h=f.width,p=f.height,g=n.getBBox(),v=g.width,m=g.height,y=Math.max(h,l,v),b="horizontal"===o?{offset:[[0,0],[h/2+a,0],[h+l+2*a,0]],textAlign:"start"}:{offset:[[y/2,-p-a],[y/2,0],[y/2,m+a]],textAlign:"center"},w=Vt(b.offset,3),x=Vt(w[0],2),E=x[0],k=x[1],S=Vt(w[1],2),M=S[0],T=S[1],C=Vt(w[2],2),N=C[0],P=C[1],O=b.textAlign,_=r.querySelector("text");_&&(_.style.textAlign=O),t.setLocalPosition(E,k),r.setLocalPosition(M,T),n.setLocalPosition(N,P)},t.prototype.updatePageInfo=function(){var e,t=this,n=t.currPage,r=t.pageViews,i=t.attributes.formatter;r.length<2||(null===(e=this.pageInfoGroup.querySelector(bV.pageInfo.class))||void 0===e||e.attr("text",i(n+1,r.length)),this.adjustControllerLayout())},t.prototype.getFollowingPageDiff=function(e){var t=this.currPage;if(t===e)return[0,0];var n=this.attributes.orientation,r=this.pageShape,i=r.pageWidth,o=r.pageHeight,a=e<t?-1:1;return"horizontal"===n?[a*i,0]:[0,a*o]},t.prototype.prepareFollowingPage=function(e){var t=this.currPage,n=this.pageViews;if(this.setVisiblePages([e,t]),e!==t){var r=Vt(this.getFollowingPageDiff(e),2),i=r[0],o=r[1];n[e].setLocalPosition(i,o)}},t.prototype.renderController=function(e){var t=this,n=this.attributes.controllerSpacing,r=this.pageShape,i=r.pageWidth,o=r.pageHeight,a=this.pageViews.length>=2,s=e.maybeAppendByClassName(bV.controller,"g");if(XF(s.node(),a),a){var l=UB(this.attributes,"button"),u=UB(this.attributes,"pageNum"),c=Vt(VB(l),2),d=c[0],f=c[1],h=d.size,p=Bt(d,["size"]),g=!s.select(bV.prevBtnGroup.class).node(),v=s.maybeAppendByClassName(bV.prevBtnGroup,"g").styles(f);this.prevBtnGroup=v.node();var m=v.maybeAppendByClassName(bV.prevBtn,"path"),y=s.maybeAppendByClassName(bV.nextBtnGroup,"g").styles(f);this.nextBtnGroup=y.node(),[m,y.maybeAppendByClassName(bV.nextBtn,"path")].forEach((function(e){e.styles(Ft(Ft({},p),{transformOrigin:"center"})),RB(e.node(),h)}));var b=s.maybeAppendByClassName(bV.pageInfoGroup,"g");this.pageInfoGroup=b.node(),b.maybeAppendByClassName(bV.pageInfo,"text").styles(u),this.updatePageInfo(),s.node().setLocalPosition(i+n,o/2),g&&(this.prevBtnGroup.addEventListener("click",(function(){t.prev()})),this.nextBtnGroup.addEventListener("click",(function(){t.next()})))}},t.prototype.render=function(e,t){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i;this.attr("transform","translate(".concat(r,", ").concat(o,")"));var a=DB(t);this.renderClipPath(a),this.renderController(a),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},t.prototype.bindEvents=function(){var e=this,t=bt((function(){return e.render(e.attributes,e)}),50);this.playWindow.addEventListener(Vs.INSERTED,t),this.playWindow.addEventListener(Vs.REMOVED,t)},t}(qB);function xV(e,t,n){return void 0===e&&(e="horizontal"),"horizontal"===e?t:n}nU.registerSymbol("hiddenHandle",(function(e,t,n){var r=1.4*n;return[["M",e-n,t-r],["L",e+n,t-r],["L",e+n,t+r],["L",e-n,t+r],["Z"]]})),nU.registerSymbol("verticalHandle",(function(e,t,n){var r=1.4*n,i=n/2,o=n/6,a=e+.4*r;return[["M",e,t],["L",a,t+i],["L",e+r,t+i],["L",e+r,t-i],["L",a,t-i],["Z"],["M",a,t+o],["L",e+r-2,t+o],["M",a,t-o],["L",e+r-2,t-o]]})),nU.registerSymbol("horizontalHandle",(function(e,t,n){var r=1.4*n,i=n/2,o=n/6,a=t+.4*r;return[["M",e,t],["L",e-i,a],["L",e-i,t+r],["L",e+i,t+r],["L",e+i,a],["Z"],["M",e-o,a],["L",e-o,t+r-2],["M",e+o,a],["L",e+o,t+r-2]]}));var EV=oB({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item");var kV=function(e){function t(t){return e.call(this,t,{span:[1,1],marker:function(){return new Dl({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return jt(t,e),Object.defineProperty(t.prototype,"showValue",{get:function(){var e=this.attributes.valueText;return!!e&&("string"==typeof e||"number"==typeof e?""!==e:"function"==typeof e||""!==e.attr("text"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualSpace",{get:function(){var e=this.labelGroup,t=this.valueGroup,n=this.attributes.markerSize,r=e.node().getBBox(),i=r.width,o=r.height,a=t.node().getBBox(),s=a.width,l=a.height;return{markerWidth:n,labelWidth:i,valueWidth:s,height:Math.max(n,o,l)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"span",{get:function(){var e=this.attributes.span;if(!e)return[1,1];var t=Vt(LB(e),2),n=t[0],r=t[1],i=this.showValue?r:0,o=n+i;return[n/o,i/o]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){var e,t=this.attributes,n=t.markerSize,r=t.width,i=this.actualSpace,o=i.markerWidth,a=i.height,s=this.actualSpace,l=s.labelWidth,u=s.valueWidth,c=Vt(this.spacing,2),d=c[0],f=c[1];if(r){var h=r-n-d-f,p=Vt(this.span,2);l=(e=Vt([p[0]*h,p[1]*h],2))[0],u=e[1]}return{width:o+l+u+d+f,height:a,markerWidth:o,labelWidth:l,valueWidth:u}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){var e=this.attributes.spacing;if(!e)return[0,0];var t=Vt(LB(e),2),n=t[0],r=t[1];return this.showValue?[n,r]:[n,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){var e=this.shape,t=e.markerWidth,n=e.labelWidth,r=e.valueWidth,i=e.width,o=e.height,a=Vt(this.spacing,2),s=a[0];return{height:o,width:i,markerWidth:t,labelWidth:n,valueWidth:r,position:[t/2,t+s,t+n+s+a[1]]}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleSize",{get:function(){var e=function(e){var t=e.querySelector(EV.marker.class);return t?t.style:{}}(this.markerGroup.node()),t=this.attributes,n=t.markerSize,r=t.markerStrokeWidth,i=void 0===r?e.strokeWidth:r,o=t.markerLineWidth,a=void 0===o?e.lineWidth:o,s=t.markerStroke,l=void 0===s?e.stroke:s,u=+(i||a||(l?1:0))*Math.sqrt(2),c=this.markerGroup.node().getBBox(),d=c.width,f=c.height;return(1-u/Math.max(d,f))*n},enumerable:!1,configurable:!0}),t.prototype.renderMarker=function(e){var t=this,n=this.attributes.marker,r=UB(this.attributes,"marker");this.markerGroup=e.maybeAppendByClassName(EV.markerGroup,"g").style("zIndex",0),vB(!!n,this.markerGroup,(function(){var e,i=t.markerGroup.node(),o=null===(e=i.childNodes)||void 0===e?void 0:e[0],a="string"==typeof n?new nU({style:{symbol:n},className:EV.marker.name}):n();o?a.nodeName===o.nodeName?o instanceof nU?o.update(Ft(Ft({},r),{symbol:n})):(!function(e,t){var n,r,i=t.attributes;try{for(var o=Wt(Object.entries(i)),a=o.next();!a.done;a=o.next()){var s=Vt(a.value,2),l=s[0],u=s[1];"id"!==l&&"className"!==l&&e.attr(l,u)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}(o,a),DB(o).styles(r)):(o.remove(),DB(a).attr("className",EV.marker.name).styles(r),i.appendChild(a)):(a instanceof nU||DB(a).attr("className",EV.marker.name).styles(r),i.appendChild(a)),t.markerGroup.node().scale(1/t.markerGroup.node().getScale()[0]);var s=RB(t.markerGroup.node(),t.scaleSize);t.markerGroup.node().style._transform="scale(".concat(s,")")}))},t.prototype.renderLabel=function(e){var t=UB(this.attributes,"label"),n=t.text,r=Bt(t,["text"]);this.labelGroup=e.maybeAppendByClassName(EV.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(EV.label,(function(){return gB(n)})).styles(r)},t.prototype.renderValue=function(e){var t=this,n=UB(this.attributes,"value"),r=n.text,i=Bt(n,["text"]);this.valueGroup=e.maybeAppendByClassName(EV.valueGroup,"g").style("zIndex",0),vB(this.showValue,this.valueGroup,(function(){t.valueGroup.maybeAppendByClassName(EV.value,(function(){return gB(r)})).styles(i)}))},t.prototype.renderBackground=function(e){var t=this.shape,n=t.width,r=t.height,i=UB(this.attributes,"background");this.background=e.maybeAppendByClassName(EV.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(EV.background,"rect").styles(Ft({width:n,height:r},i))},t.prototype.adjustLayout=function(){var e=this.layout,t=e.labelWidth,n=e.valueWidth,r=e.height,i=Vt(e.position,3),o=i[0],a=i[1],s=i[2],l=r/2;this.markerGroup.styles({transform:"translate(".concat(o,", ").concat(l,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(a,", ").concat(l,")")}),hB(this.labelGroup.select(EV.label.class).node(),Math.ceil(t)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(s,", ").concat(l,")")}),hB(this.valueGroup.select(EV.value.class).node(),Math.ceil(n)))},t.prototype.render=function(e,t){var n=DB(t),r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o;n.styles({transform:"translate(".concat(i,", ").concat(a,")")}),this.renderMarker(n),this.renderLabel(n),this.renderValue(n),this.renderBackground(n),this.adjustLayout()},t}(qB),SV=oB({page:"item-page",navigator:"navigator",item:"item"},"items"),MV=function(e,t,n){return void 0===n&&(n=!0),e?t(e):n},TV=function(e){function t(t){var n=e.call(this,t,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:Lt,mouseenter:Lt,mouseleave:Lt})||this;return n.navigatorShape=[0,0],n}return jt(t,e),Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){var e=this.attributes,t=e.gridRow,n=e.gridCol,r=e.data;if(!t&&!n)throw new Error("gridRow and gridCol can not be set null at the same time");return t&&n?[t,n]:t?[t,r.length]:[r.length,n]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderData",{get:function(){var e=this.attributes,t=e.data,n=e.layout,r=UB(this.attributes,"item"),i=t.map((function(e,i){var o=e.id,a=void 0===o?i:o,s=e.label,l=e.value;return{id:"".concat(a),index:i,style:Ft({layout:n,labelText:s,valueText:l},Object.fromEntries(Object.entries(r).map((function(n){var r=Vt(n,2);return[r[0],rB(r[1],[e,i,t])]}))))}}));return i},enumerable:!1,configurable:!0}),t.prototype.getGridLayout=function(){var e=this,t=this.attributes,n=t.orientation,r=t.width,i=t.rowPadding,o=t.colPadding,a=Vt(this.navigatorShape,1)[0],s=Vt(this.grid,2),l=s[0],u=s[1],c=u*l,d=0;return this.pageViews.children.map((function(t,s){var f,h,p=Math.floor(s/c),g=s%c,v=e.ifHorizontal(u,l),m=[Math.floor(g/v),g%v];"vertical"===n&&m.reverse();var y=Vt(m,2),b=y[0],w=y[1],x=(r-a-(u-1)*o)/u,E=t.getBBox().height,k=Vt([0,0],2),S=k[0],M=k[1];return"horizontal"===n?(S=(f=Vt([d,b*(E+i)],2))[0],M=f[1],d=w===u-1?0:d+x+o):(S=(h=Vt([w*(x+o),d],2))[0],M=h[1],d=b===l-1?0:d+E+i),{page:p,index:s,row:b,col:w,pageIndex:g,width:x,height:E,x:S,y:M}}))},t.prototype.getFlexLayout=function(){var e=this.attributes,t=e.width,n=e.height,r=e.rowPadding,i=e.colPadding,o=Vt(this.navigatorShape,1)[0],a=Vt(this.grid,2),s=a[0],l=a[1],u=Vt([t-o,n],2),c=u[0],d=u[1],f=Vt([0,0,0,0,0,0,0,0],8),h=f[0],p=f[1],g=f[2],v=f[3],m=f[4],y=f[5],b=f[6],w=f[7];return this.pageViews.children.map((function(e,t){var n,o,a,u,f=e.getBBox(),x=f.width,E=f.height,k=0===b?0:i,S=b+k+x;return S<=c&&MV(m,(function(e){return e<l}))?(n=Vt([b+k,w,S],3),h=n[0],p=n[1],b=n[2],{width:x,height:E,x:h,y:p,page:g,index:t,pageIndex:v++,row:y,col:m++}):(o=Vt([y+1,0,0,w+E+r],4),y=o[0],m=o[1],b=o[2],(w=o[3])+E<=d&&MV(y,(function(e){return e<s}))?(a=Vt([b,w,x],3),h=a[0],p=a[1],b=a[2],{width:x,height:E,x:h,y:p,page:g,index:t,pageIndex:v++,row:y,col:m++}):(u=Vt([0,0,x,0,g+1,0,0,0],8),h=u[0],p=u[1],b=u[2],w=u[3],g=u[4],v=u[5],y=u[6],m=u[7],{width:x,height:E,x:h,y:p,page:g,index:t,pageIndex:v++,row:y,col:m++}))}))},Object.defineProperty(t.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var e="grid"===this.attributes.layout?this.getGridLayout:this.getFlexLayout,t=e.call(this);return t.slice(-1)[0].page>0?(this.navigatorShape=[55,0],e.call(this)):t},enumerable:!1,configurable:!0}),t.prototype.ifHorizontal=function(e,t){return xV(this.attributes.orientation,e,t)},t.prototype.flattenPage=function(e){e.querySelectorAll(SV.item.class).forEach((function(t){e.appendChild(t)})),e.querySelectorAll(SV.page.class).forEach((function(t){e.removeChild(t).destroy()}))},t.prototype.renderItems=function(e){var t=this.attributes,n=t.click,r=t.mouseenter,i=t.mouseleave;this.flattenPage(e);var o=this.dispatchCustomEvent.bind(this);DB(e).selectAll(SV.item.class).data(this.renderData,(function(e){return e.id})).join((function(e){return e.append((function(e){var t=e.style;return new kV({style:t})})).attr("className",SV.item.name).on("click",(function(){null==n||n(this),o("itemClick",{item:this})})).on("pointerenter",(function(){null==r||r(this),o("itemMouseenter",{item:this})})).on("pointerleave",(function(){null==i||i(this),o("itemMouseleave",{item:this})}))}),(function(e){return e.each((function(e){var t=e.style;this.update(t)}))}),(function(e){return e.remove()}))},t.prototype.relayoutNavigator=function(){var e,t=this.attributes,n=t.layout,r=t.width,i=(null===(e=this.pageViews.children[0])||void 0===e?void 0:e.getBBox().height)||0,o=Vt(this.navigatorShape,2),a=o[0],s=o[1];this.navigator.update("grid"===n?{pageWidth:r-a,pageHeight:i-s}:{})},t.prototype.adjustLayout=function(){var e,t,n=this,r=Object.entries((e=this.itemsLayout,t="page",e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{}))).map((function(e){var t=Vt(e,2);return{page:t[0],layouts:t[1]}})),i=Ht([],Vt(this.navigator.getContainer().children),!1);r.forEach((function(e){var t=e.layouts,r=n.pageViews.appendChild(new jl({className:SV.page.name}));t.forEach((function(e){var t=e.x,n=e.y,o=e.index,a=e.width,s=e.height,l=i[o];r.appendChild(l),Pt(l,"__layout__",e),l.update({x:t,y:n,width:a,height:s})}))})),this.relayoutNavigator()},t.prototype.renderNavigator=function(e){var t=this.attributes.orientation,n=UB(this.attributes,"nav"),r=sB({orientation:t},n),i=this;return e.selectAll(SV.navigator.class).data(["nav"]).join((function(e){return e.append((function(){return new wV({style:r})})).attr("className",SV.navigator.name).each((function(){i.navigator=this}))}),(function(e){return e.each((function(){this.update(r)}))}),(function(e){return e.remove()})),this.navigator},t.prototype.getBBox=function(){return this.navigator.getBBox()},t.prototype.render=function(e,t){var n=this.attributes.data;if(n&&0!==n.length){var r=this.renderNavigator(DB(t));this.renderItems(r.getContainer()),this.adjustLayout()}},t.prototype.dispatchCustomEvent=function(e,t){var n=new As(e,{detail:t});this.dispatchEvent(n)},t}(qB),CV=oB({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),NV={showLabel:!0,formatter:function(e){return e.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0};!function(e){function t(t){return e.call(this,t,NV)||this}jt(t,e),t.prototype.render=function(e,t){var n=DB(t).maybeAppendByClassName(CV.markerGroup,"g");this.renderMarker(n);var r=DB(t).maybeAppendByClassName(CV.labelGroup,"g");this.renderLabel(r)},t.prototype.renderMarker=function(e){var t=this,n=this.attributes,r=n.orientation,i=n.markerSymbol,o=void 0===i?xV(r,"horizontalHandle","verticalHandle"):i;vB(!!o,e,(function(e){var n=UB(t.attributes,"marker"),r=Ft({symbol:o},n);t.marker=e.maybeAppendByClassName(CV.marker,(function(){return new nU({style:r})})).update(r)}))},t.prototype.renderLabel=function(e){var t=this,n=this.attributes,r=n.showLabel,i=n.orientation,o=n.spacing,a=void 0===o?0:o,s=n.formatter;vB(r,e,(function(e){var n,r=UB(t.attributes,"label"),o=r.text,l=Bt(r,["text"]),u=(null===(n=e.select(CV.marker.class))||void 0===n?void 0:n.node().getBBox())||{},c=u.width,d=void 0===c?0:c,f=u.height,h=Vt(xV(i,[0,(void 0===f?0:f)+a,"center","top"],[d+a,0,"start","middle"]),4),p=h[0],g=h[1],v=h[2],m=h[3];e.maybeAppendByClassName(CV.label,"text").styles(Ft(Ft({},l),{x:p,y:g,text:s(o).toString(),textAlign:v,textBaseline:m}))}))}}(qB);var PV={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},OV=sB({},PV,{});sB({},PV,WB(NV,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"});var _V=oB({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),RV=function(e){function t(t){return e.call(this,t,OV)||this}return jt(t,e),t.prototype.renderTitle=function(e,t,n){var r=this.attributes,i=r.showTitle,o=r.titleText,a=Vt(VB(UB(this.attributes,"title")),2),s=a[0],l=a[1];this.titleGroup=e.maybeAppendByClassName(_V.titleGroup,"g").styles(l);var u=Ft(Ft({width:t,height:n},s),{text:i?o:""});this.title=this.titleGroup.maybeAppendByClassName(_V.title,(function(){return new gV({style:u})})).update(u)},t.prototype.renderItems=function(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,a=Vt(VB(UB(this.attributes,"title",!0)),2),s=a[0],l=a[1],u=Ft(Ft({},s),{width:i,height:o,x:0,y:0});this.itemsGroup=e.maybeAppendByClassName(_V.itemsGroup,"g").styles(Ft(Ft({},l),{transform:"translate(".concat(n,", ").concat(r,")")}));var c=this;this.itemsGroup.selectAll(_V.items.class).data(["items"]).join((function(e){return e.append((function(){return new TV({style:u})})).attr("className",_V.items.name).each((function(){c.items=DB(this)}))}),(function(e){return e.update(u)}),(function(e){return e.remove()}))},t.prototype.adjustLayout=function(){if(this.attributes.showTitle){var e=this.title.node().getAvailableSpace(),t=e.x,n=e.y;this.itemsGroup.node().style.transform="translate(".concat(t,", ").concat(n,")")}},Object.defineProperty(t.prototype,"availableSpace",{get:function(){var e=this.attributes,t=e.showTitle,n=e.width,r=e.height;return t?this.title.node().getAvailableSpace():new nB(0,0,n,r)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var t,n,r=null===(t=this.title)||void 0===t?void 0:t.node(),i=null===(n=this.items)||void 0===n?void 0:n.node();return r&&i?function(e,t){var n=e.attributes,r=n.position,i=n.spacing,o=n.inset,a=n.text,s=e.getBBox(),l=t.getBBox(),u=hV(r),c=Vt(LB(a?i:0),4),d=c[0],f=c[1],h=c[2],p=c[3],g=Vt(LB(o),4),v=g[0],m=g[1],y=g[2],b=g[3],w=Vt([p+f,d+h],2),x=w[0],E=w[1],k=Vt([b+m,v+y],2),S=k[0],M=k[1];if("l"===u[0])return new nB(s.x,s.y,l.width+s.width+x+S,Math.max(l.height+M,s.height));if("t"===u[0])return new nB(s.x,s.y,Math.max(l.width+S,s.width),l.height+s.height+E+M);var T=Vt([t.attributes.width||l.width,t.attributes.height||l.height],2),C=T[0],N=T[1];return new nB(l.x,l.y,C+s.width+x+S,N+s.height+E+M)}(r,i):e.prototype.getBBox.call(this)},t.prototype.render=function(e,t){var n=this.attributes,r=n.width,i=n.height,o=n.x,a=void 0===o?0:o,s=n.y,l=void 0===s?0:s,u=DB(t);t.style.transform="translate(".concat(a,", ").concat(l,")"),this.renderTitle(u,r,i),this.renderItems(u,this.availableSpace),this.adjustLayout()},t}(qB),AV={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(e){return e.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},DV=oB({background:"background",labelGroup:"label-group",label:"label"},"indicator"),LV=function(e){function t(t){var n=e.call(this,t,AV)||this;return n.point=[0,0],n.group=n.appendChild(new jl({})),n.isMutationObserved=!0,n}return jt(t,e),t.prototype.renderBackground=function(){if(this.label){var e=this.attributes,t=e.position,n=Vt(LB(e.padding),4),r=n[0],i=n[1],o=n[2],a=n[3],s=this.label.node().getLocalBounds(),l=s.min,u=s.max,c=new nB(l[0]-a,l[1]-r,u[0]+i-l[0]+a,u[1]+o-l[1]+r),d=this.getPath(t,c),f=UB(this.attributes,"background");this.background=DB(this.group).maybeAppendByClassName(DV.background,"path").styles(Ft(Ft({},f),{d:d})),this.group.appendChild(this.label.node())}},t.prototype.renderLabel=function(){var e=this.attributes,t=e.formatter,n=e.labelText,r=Vt(VB(UB(this.attributes,"label")),2),i=r[0],o=r[1];i.text;var a=Bt(i,["text"]);(this.label=DB(this.group).maybeAppendByClassName(DV.labelGroup,"g").styles(o),n)&&this.label.maybeAppendByClassName(DV.label,(function(){return gB(t(n))})).style("text",t(n).toString()).selectAll("text").styles(a)},t.prototype.adjustLayout=function(){var e=Vt(this.point,2),t=e[0],n=e[1],r=this.attributes,i=r.x,o=r.y;this.group.attr("transform","translate(".concat(i-t,", ").concat(o-n,")"))},t.prototype.getPath=function(e,t){var n=this.attributes.radius,r=t.x,i=t.y,o=t.width,a=t.height,s=[["M",r+n,i],["L",r+o-n,i],["A",n,n,0,0,1,r+o,i+n],["L",r+o,i+a-n],["A",n,n,0,0,1,r+o-n,i+a],["L",r+n,i+a],["A",n,n,0,0,1,r,i+a-n],["L",r,i+n],["A",n,n,0,0,1,r+n,i],["Z"]],l={top:4,right:6,bottom:0,left:2}[e],u=this.createCorner([s[l].slice(-2),s[l+1].slice(-2)]);return s.splice.apply(s,Ht([l+1,1],Vt(u),!1)),s[0][0]="M",s},t.prototype.createCorner=function(e,t){void 0===t&&(t=10);var n=zB.apply(void 0,Ht([],Vt(e),!1)),r=Vt(e,2),i=Vt(r[0],2),o=i[0],a=i[1],s=Vt(r[1],2),l=s[0],u=s[1],c=Vt(n?[l-o,[o,l]]:[u-a,[a,u]],2),d=c[0],f=Vt(c[1],2),h=f[0],p=f[1],g=d/2,v=t*(d/Math.abs(d)),m=v/2,y=v*Math.sqrt(3)/2*.8,b=Vt([h,h+g-m,h+g,h+g+m,p],5),w=b[0],x=b[1],E=b[2],k=b[3],S=b[4];return n?(this.point=[E,a-y],[["L",w,a],["L",x,a],["L",E,a-y],["L",k,a],["L",S,a]]):(this.point=[o+y,E],[["L",o,w],["L",o,x],["L",o+y,E],["L",o,k],["L",o,S]])},t.prototype.applyVisibility=function(){"hidden"===this.attributes.visibility?KF(this):qF(this)},t.prototype.bindEvents=function(){this.label.on(Vs.BOUNDS_CHANGED,this.renderBackground)},t.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},t}(qB);function IV(e){return void 0===e&&(e=""),{CONTAINER:"".concat(e,"tooltip"),TITLE:"".concat(e,"tooltip-title"),LIST:"".concat(e,"tooltip-list"),LIST_ITEM:"".concat(e,"tooltip-list-item"),NAME:"".concat(e,"tooltip-list-item-name"),MARKER:"".concat(e,"tooltip-list-item-marker"),NAME_LABEL:"".concat(e,"tooltip-list-item-name-label"),VALUE:"".concat(e,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(e,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(e,"tooltip-crosshair-y")}}var zV={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function jV(e){var t;void 0===e&&(e="");var n=IV(e);return(t={})[".".concat(n.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},t[".".concat(n.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},t[".".concat(n.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},t[".".concat(n.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},t[".".concat(n.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},t[".".concat(n.NAME)]={display:"flex","align-items":"center","max-width":"216px"},t[".".concat(n.NAME_LABEL)]=Ft({flex:1},zV),t[".".concat(n.VALUE)]=Ft({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},zV),t[".".concat(n.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t[".".concat(n.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t}var FV=function(e){function t(t){var n,r,i=this,o=null===(r=null===(n=t.style)||void 0===n?void 0:n.template)||void 0===r?void 0:r.prefixCls,a=IV(o);return(i=e.call(this,t,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(a.CONTAINER,'"></div>'),title:'<div class="'.concat(a.TITLE,'"></div>'),item:'<li class="'.concat(a.LIST_ITEM,'" data-index={index}>\n        <span class="').concat(a.NAME,'">\n          <span class="').concat(a.MARKER,'" style="background:{color}"></span>\n          <span class="').concat(a.NAME_LABEL,'" title="{name}">{name}</span>\n        </span>\n        <span class="').concat(a.VALUE,'" title="{value}">{value}</span>\n      </li>')},style:jV(o)})||this).timestamp=-1,i.prevCustomContentKey=i.attributes.contentKey,i.initShape(),i.render(i.attributes,i),i}return jt(t,e),Object.defineProperty(t.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.element},Object.defineProperty(t.prototype,"elementSize",{get:function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HTMLTooltipItemsElements",{get:function(){var e=this.attributes,t=e.data,n=e.template;return t.map((function(e,t){var r=e.name,i=void 0===r?"":r,o=e.color,a=void 0===o?"black":o,s=e.index,l=Bt(e,["name","color","index"]),u=Ft({name:i,color:a,index:null!=s?s:t},l);return On(function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]})):e}(n.item,u))}))},enumerable:!1,configurable:!0}),t.prototype.render=function(e,t){this.renderHTMLTooltipElement(),this.updatePosition()},t.prototype.destroy=function(){var t;null===(t=this.element)||void 0===t||t.remove(),e.prototype.destroy.call(this)},t.prototype.show=function(e,t){var n=this;if(void 0!==e&&void 0!==t){var r=function(){n.attributes.x=null!=e?e:n.attributes.x,n.attributes.y=null!=t?t:n.attributes.y,n.updatePosition()};"hidden"===this.element.style.visibility?this.closeTransition(r):r()}this.element.style.visibility="visible"},t.prototype.hide=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.attributes.enterable&&this.isCursorEntered(e,t)||(this.element.style.visibility="hidden")},t.prototype.initShape=function(){var e=this.attributes.template;this.element=On(e.container),this.id&&this.element.setAttribute("id",this.id)},t.prototype.renderCustomContent=function(){if(void 0===this.prevCustomContentKey||this.prevCustomContentKey!==this.attributes.contentKey){this.prevCustomContentKey=this.attributes.contentKey;var e=this.attributes.content;e&&("string"==typeof e?this.element.innerHTML=e:$B(this.element,e))}},t.prototype.renderHTMLTooltipElement=function(){var e,t,n=this.attributes,r=n.template,i=n.title,o=n.enterable,a=n.style,s=n.content,l=IV(r.prefixCls),u=this.element;if(this.element.style.pointerEvents=o?"auto":"none",s)this.renderCustomContent();else{i?(u.innerHTML=r.title,u.getElementsByClassName(l.TITLE)[0].innerHTML=i):null===(t=null===(e=u.getElementsByClassName(l.TITLE))||void 0===e?void 0:e[0])||void 0===t||t.remove();var c=this.HTMLTooltipItemsElements,d=document.createElement("ul");d.className=l.LIST,$B(d,c);var f=this.element.querySelector(".".concat(l.LIST));f?f.replaceWith(d):u.appendChild(d)}!function(e,t){Object.entries(t).forEach((function(t){var n=Vt(t,2),r=n[0],i=n[1];Ht([e],Vt(e.querySelectorAll(r)),!1).filter((function(e){return e.matches(r)})).forEach((function(e){e&&(e.style.cssText+=Object.entries(i).reduce((function(e,t){return"".concat(e).concat(t.join(":"),";")}),""))}))}))}(u,a)},t.prototype.getRelativeOffsetFromCursor=function(e){var t=this.attributes,n=t.position,r=t.offset,i=(e||n).split("-"),o={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},a=this.elementSize,s=a.width,l=a.height,u=[-s/2,-l/2];return i.forEach((function(e){var t=Vt(u,2),n=t[0],i=t[1],a=Vt(o[e],2),c=a[0],d=a[1];u=[n+(s/2+r[0])*c,i+(l/2+r[1])*d]})),u},t.prototype.setOffsetPosition=function(e){var t=Vt(e,2),n=t[0],r=t[1],i=this.attributes,o=i.x,a=void 0===o?0:o,s=i.y,l=void 0===s?0:s,u=i.container,c=u.x,d=u.y;this.element.style.left="".concat(+a+c+n,"px"),this.element.style.top="".concat(+l+d+r,"px")},t.prototype.updatePosition=function(){var e=this.attributes.showDelay,t=void 0===e?60:e,n=Date.now();this.timestamp>0&&n-this.timestamp<t||(this.timestamp=n,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},t.prototype.autoPosition=function(e){var t=Vt(e,2),n=t[0],r=t[1],i=this.attributes,o=i.x,a=i.y,s=i.bounding,l=i.position;if(!s)return[n,r];var u=this.element,c=u.offsetWidth,d=u.offsetHeight,f=Vt([+o+n,+a+r],2),h=f[0],p=f[1],g={left:"right",right:"left",top:"bottom",bottom:"top"},v=s.x,m=s.y,y={left:h<v,right:h+c>v+s.width,top:p<m,bottom:p+d>m+s.height},b=[];l.split("-").forEach((function(e){y[e]?b.push(g[e]):b.push(e)}));var w=b.join("-");return this.getRelativeOffsetFromCursor(w)},t.prototype.isCursorEntered=function(e,t){if(this.element){var n=this.element.getBoundingClientRect(),r=n.x,i=n.y,o=n.width,a=n.height;return new nB(r,i,o,a).isPointIn(e,t)}return!1},t.prototype.closeTransition=function(e){var t=this,n=this.element.style.transition;this.element.style.transition="none",e(),setTimeout((function(){t.element.style.transition=n}),10)},t.tag="tooltip",t}(qB),BV=function(e){function t(n){var r=e.call(this,sB({},t.defaultOptions,n))||this;return r.hoverColor="#f5f5f5",r.selectedColor="#e6f7ff",r.background=r.appendChild(new Xl({})),r.label=r.background.appendChild(new jl({})),r}return jt(t,e),Object.defineProperty(t.prototype,"padding",{get:function(){return LB(this.style.padding)},enumerable:!1,configurable:!0}),t.prototype.renderLabel=function(){var e=this.style,t=e.label,n=e.value,r=UB(this.attributes,"label");DB(this.label).maybeAppend(".label",(function(){return gB(t)})).attr("className","label").styles(r),this.label.attr("__data__",n)},t.prototype.renderBackground=function(){var e=this.label.getBBox(),t=Vt(this.padding,4),n=t[0],r=t[1],i=t[2],o=t[3],a=e.width,s=e.height,l=a+o+r,u=s+n+i,c=UB(this.attributes,"background"),d=this.style,f=d.width,h=void 0===f?0:f,p=d.height,g=void 0===p?0:p,v=d.selected;this.background.attr(Ft(Ft({},c),{width:Math.max(l,h),height:Math.max(u,g),fill:v?this.selectedColor:"#fff"})),this.label.attr({transform:"translate(".concat(o,", ").concat((u-s)/2,")")})},t.prototype.render=function(){this.renderLabel(),this.renderBackground()},t.prototype.bindEvents=function(){var e=this;this.addEventListener("pointerenter",(function(){e.style.selected||e.background.attr("fill",e.hoverColor)})),this.addEventListener("pointerleave",(function(){e.style.selected||e.background.attr("fill",e.style.backgroundFill)}));var t=this;this.addEventListener("click",(function(){var n=e.style,r=n.label,i=n.value,o=n.onClick;null==o||o(i,{label:r,value:i},t)}))},t.defaultOptions={style:{value:"",label:"",cursor:"pointer"}},t}(qB),UV=function(e){function t(n){var r,i,o=e.call(this,sB({},t.defaultOptions,n))||this;o.currentValue=null===(r=t.defaultOptions.style)||void 0===r?void 0:r.defaultValue,o.isPointerInSelect=!1,o.select=o.appendChild(new Xl({className:"select",style:{cursor:"pointer",width:0,height:0}})),o.dropdown=o.appendChild(new Xl({className:"dropdown"}));var a=o.style.defaultValue;return a&&(null===(i=o.style.options)||void 0===i?void 0:i.some((function(e){return e.value===a})))&&(o.currentValue=a),o}return jt(t,e),t.prototype.setValue=function(e){this.currentValue=e,this.render()},t.prototype.getValue=function(){return this.currentValue},Object.defineProperty(t.prototype,"dropdownPadding",{get:function(){return LB(this.style.dropdownPadding)},enumerable:!1,configurable:!0}),t.prototype.renderSelect=function(){var e,t=this,n=this.style,r=n.x,i=n.y,o=n.width,a=n.height,s=n.bordered,l=n.showDropdownIcon,u=UB(this.attributes,"select"),c=UB(this.attributes,"placeholder");this.select.attr(Ft(Ft({x:r,y:i,width:o,height:a},u),{fill:"#fff",strokeWidth:s?1:0}));var d=this.dropdownPadding;l&&DB(this.select).maybeAppend(".dropdown-icon","path").style("d","M-5,-3.5 L0,3.5 L5,-3.5").style("transform","translate(".concat(r+o-10-d[1]-d[3],", ").concat(i+a/2,")")).style("lineWidth",1).style("stroke",this.select.style.stroke);var f=null===(e=this.style.options)||void 0===e?void 0:e.find((function(e){return e.value===t.currentValue})),h=Ft({x:r+d[3]},c);DB(this.select).selectAll(".placeholder").data(f?[]:[1]).join((function(e){return e.append("text").attr("className","placeholder").styles(h).style("y",(function(){var e=this.getBBox();return i+(a-e.height)/2}))}),(function(e){return e.styles(h)}),(function(e){return e.remove()}));var p=UB(this.attributes,"optionLabel"),g=Ft({x:r+d[3]},p);DB(this.select).selectAll(".value").data(f?[f]:[]).join((function(e){return e.append((function(e){return gB(e.label)})).attr("className","value").styles(g).style("y",(function(){var e=this.getBBox();return i+(a-e.height)/2}))}),(function(e){return e.styles(g)}),(function(e){return e.remove()}))},t.prototype.renderDropdown=function(){var e,t,n=this,r=this.style,i=r.x,o=r.y,a=r.width,s=r.height,l=r.options,u=r.onSelect,c=r.open,d=UB(this.attributes,"dropdown"),f=UB(this.attributes,"option"),h=this.dropdownPadding;DB(this.dropdown).maybeAppend(".dropdown-container","g").attr("className","dropdown-container").selectAll(".dropdown-item").data(l,(function(e){return e.value})).join((function(e){return e.append((function(e){return new BV({className:"dropdown-item",style:Ft(Ft(Ft({},e),f),{width:a-h[1]-h[3],selected:e.value===n.currentValue,onClick:function(e,t,r){n.setValue(e),null==u||u(e,t,r),n.dispatchEvent(new As("change",{detail:{value:e,option:t,item:r}})),KF(n.dropdown)}})})})).each((function(e,t){var n,r=(null===(n=this.parentNode)||void 0===n?void 0:n.children).reduce((function(e,n,r){return r<t&&(e+=n.getBBox().height),e}),0);this.attr("transform","translate(".concat(h[3],", ").concat(h[0]+r,")"))}))}),(function(e){return e.update((function(e){return{selected:e.value===n.currentValue}}))}),(function(e){return e.remove()}));var p=null===(t=null===(e=this.dropdown.getElementsByClassName("dropdown-container"))||void 0===e?void 0:e[0])||void 0===t?void 0:t.getBBox(),g=d.spacing;this.dropdown.attr(Ft({transform:"translate(".concat(i,", ").concat(o+s+g,")"),width:p.width+h[1]+h[3],height:p.height+h[0]+h[2]},d)),!c&&KF(this.dropdown)},t.prototype.render=function(){this.renderSelect(),this.renderDropdown()},t.prototype.bindEvents=function(){var e=this;this.addEventListener("click",(function(e){e.stopPropagation()})),this.select.addEventListener("click",(function(){"visible"===e.dropdown.style.visibility?KF(e.dropdown):qF(e.dropdown)})),this.addEventListener("pointerenter",(function(){e.isPointerInSelect=!0})),this.addEventListener("pointerleave",(function(){e.isPointerInSelect=!1})),null===document||void 0===document||document.addEventListener("click",(function(){e.isPointerInSelect||KF(e.dropdown)}))},t.defaultOptions={style:{x:0,y:0,width:140,height:32,options:[],bordered:!0,defaultValue:"",selectRadius:8,selectStroke:"#d9d9d9",showDropdownIcon:!0,placeholderText:"请选择",placeholderFontSize:12,placeholderTextBaseline:"top",placeholderFill:"#c2c2c2",dropdownFill:"#fff",dropdownStroke:"#d9d9d9",dropdownRadius:8,dropdownShadowBlur:4,dropdownShadowColor:"rgba(0, 0, 0, 0.08)",dropdownPadding:8,dropdownSpacing:10,optionPadding:[8,12],optionFontSize:12,optionTextBaseline:"top",optionBackgroundFill:"#fff",optionBackgroundRadius:4,optionLabelFontSize:12,optionLabelTextBaseline:"top"}},t}(qB),WV=function(e){function t(n){var r=e.call(this,sB({},{style:{backgroundOpacity:t.backgroundOpacities.default}},t.defaultOptions,n))||this;return r.showBackground=!0,r.background=r.appendChild(new Xl({})),r.icon=r.appendChild(new jl({})),r}return jt(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"BaseIcon"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineWidth",{get:function(){return Math.log10(this.attributes.size)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return LB(this.attributes.size/5)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconSize",{get:function(){var e=this.attributes.size,t=Vt(this.padding,4),n=t[0],r=t[1],i=t[2],o=t[3];return Math.max(e-Math.max(o+r,n+i),2*this.lineWidth+1)},enumerable:!1,configurable:!0}),t.prototype.renderBackground=function(){var e=this.attributes,t=e.x,n=e.y,r=e.size,i=r/2,o=UB(this.attributes,"background");this.background.attr(Ft({x:t-i,y:n-i,width:r,height:r},o))},t.prototype.showIndicator=function(){if(this.label){var e=this.attributes.size,t=this.background.getBBox(),n=t.x,r=t.y;this.indicator.update({x:n+e/2,y:r-5,labelText:this.label,visibility:"visible"})}},t.prototype.hideIndicator=function(){this.indicator.update({visibility:"hidden"})},t.prototype.connectedCallback=function(){var t;e.prototype.connectedCallback.call(this);var n=this.attributes.size,r=this.background.getBBox(),i=r.x,o=r.y,a=null===(t=this.ownerDocument)||void 0===t?void 0:t.defaultView;a&&(this.indicator=a.appendChild(new LV({style:{x:i+n/2,y:o-n/2,visibility:"hidden",position:"top",radius:3,zIndex:100}})))},t.prototype.disconnectedCallback=function(){this.indicator.destroy()},t.prototype.render=function(){this.renderIcon(),this.showBackground&&this.renderBackground()},t.prototype.bindEvents=function(){var e=this,n=this.attributes.onClick;if(this.addEventListener("click",(function(){null==n||n(e)})),this.showBackground){var r=function(){return e.background.attr({opacity:t.backgroundOpacities.default})};this.addEventListener("pointerenter",(function(){e.background.attr({opacity:t.backgroundOpacities.hover}),e.showIndicator()})),this.addEventListener("pointerleave",(function(){r(),e.hideIndicator()})),this.addEventListener("pointerdown",(function(){e.background.attr({opacity:t.backgroundOpacities.active})})),this.addEventListener("pointerup",(function(){r()}))}},t.tag="IconBase",t.defaultOptions={style:{x:0,y:0,size:10,color:"#565758",backgroundRadius:4,backgroundFill:"#e2e2e2"}},t.backgroundOpacities={default:0,hover:.8,active:1},t}(qB),VV=function(e,t){return void 0===t&&(t="#565758"),new Gl({style:{fill:t,d:"M ".concat(e,",").concat(e," L -").concat(e,",0 L ").concat(e,",-").concat(e," Z"),transformOrigin:"center"}})},HV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jt(t,e),t.prototype.arcPath=function(e,t,n){var r=Vt([n,n],2),i=r[0],o=r[1],a=function(r){return[e+n*Math.cos(r),t+n*Math.sin(r)]},s=Vt(a(-5/4*Math.PI),2),l=s[0],u=s[1],c=Vt(a(1/4*Math.PI),2),d=c[0],f=c[1];return"M".concat(l,",").concat(u,",A").concat(i,",").concat(o,",0,1,1,").concat(d,",").concat(f)},Object.defineProperty(t.prototype,"label",{get:function(){return"重置"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=this.lineWidth,a=o+.5;DB(this.icon).maybeAppend(".reset","path").styles({stroke:r,lineWidth:o,d:this.arcPath(t,n,i/2-o),markerStart:VV(a,r)})},t}(WV),GV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jt(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"快退"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=i/2,a=i/2/Math.pow(3,.5),s=[[t,n],[t,n-a],[t-o,n],[t,n+a],[t,n],[t+o,n-a],[t+o,n+a],[t,n]];DB(this.icon).maybeAppend(".backward","polygon").styles({points:s,fill:r})},t}(WV),$V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jt(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"快进"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=i/2,a=i/2/Math.pow(3,.5),s=[[t,n],[t,n-a],[t+o,n],[t,n+a],[t,n],[t-o,n-a],[t-o,n+a],[t,n]];DB(this.icon).maybeAppend(".forward","polygon").styles({points:s,fill:r})},t}(WV),YV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jt(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"播放"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=i/3*Math.pow(3,.5)*.8,a=[[t+o,n],[t-o/2,n-i/2*.8],[t-o/2,n+i/2*.8],[t+o,n]];DB(this.icon).maybeAppend(".play","polygon").styles({points:a,fill:r})},t}(WV),qV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jt(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"暂停"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=i/3,a=[[t-o,n-i/2],[t-o,n+i/2],[t-o/2,n+i/2],[t-o/2,n-i/2],[t-o,n-i/2],[t+o/2,n-i/2],[t+o/2,n+i/2],[t+o,n+i/2],[t+o,n-i/2]];DB(this.icon).maybeAppend(".pause","polygon").styles({points:a,fill:r})},t}(WV),KV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jt(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"范围时间"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=this.lineWidth,a=o;DB(this.icon).maybeAppend(".left-line","line").styles({x1:t-i/2,y1:n-i/2,x2:t-i/2,y2:n+i/2,stroke:r,lineWidth:o}),DB(this.icon).maybeAppend(".right-line","line").styles({x1:t+i/2,y1:n-i/2,x2:t+i/2,y2:n+i/2,stroke:r,lineWidth:o}),DB(this.icon).maybeAppend(".left-arrow","line").styles({x1:t,y1:n,x2:t-i/2+2*a,y2:n,stroke:r,lineWidth:o,markerEnd:VV(2*o,r)}),DB(this.icon).maybeAppend(".right-arrow","line").styles({x1:t,y1:n,x2:t+i/2-2*a,y2:n,stroke:r,lineWidth:o,markerEnd:VV(2*o,r)})},t}(WV),XV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jt(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"单一时间"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=this.lineWidth;DB(this.icon).maybeAppend(".line","line").styles({x1:t,y1:n-i/2,x2:t,y2:n+i/2,stroke:r,lineWidth:o});var a=o;DB(this.icon).maybeAppend(".left-arrow","line").styles({x1:t-i/2-2*a,y1:n,x2:t-2*a,y2:n,stroke:r,lineWidth:o,markerEnd:VV(2*o,r)}),DB(this.icon).maybeAppend(".right-arrow","line").styles({x1:t+i/2+2*a,y1:n,x2:t+2*a,y2:n,stroke:r,lineWidth:o,markerEnd:VV(2*o,r)})},t}(WV),QV=function(e){return[[-e/2,-e/2],[-e/2,e/2],[e/2,e/2]]},ZV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jt(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"折线图"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=this.lineWidth,a=(i-2*o-o)/4,s=(i-2*o-o)/2,l=Vt([t-i/2+o,n+i/2-2*o],2),u=l[0],c=l[1];DB(this.icon).maybeAppend(".coordinate","polyline").styles({points:QV(i).map((function(e){var r=Vt(e,2),i=r[0],o=r[1];return[i+t,o+n]})),stroke:r,lineWidth:o}),DB(this.icon).maybeAppend(".line","polyline").styles({points:[[u,c],[u+a,c-s],[u+2*a,c],[u+4*a,c-2*s]],stroke:r,lineWidth:o})},t}(WV),JV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jt(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"条形图"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return[1,4,2,4,3]},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.data,t=this.attributes,n=t.x,r=t.y,i=t.color,o=this.iconSize,a=this.lineWidth,s=a,l=(o-s)/e.length,u=(o-2*s)/4,c=Vt([n-o/2+2*s,r+o/2-s],2),d=c[0],f=c[1];DB(this.icon).maybeAppend(".coordinate","polyline").styles({points:QV(o).map((function(e){var t=Vt(e,2),i=t[0],o=t[1];return[i+n,o+r]})),stroke:i,lineWidth:a}),DB(this.icon).maybeAppend(".bars","g").selectAll(".column").data(this.data.map((function(e,t){return{value:e,index:t}}))).join((function(e){return e.append("line").attr("className","column").style("x1",(function(e){var t=e.index;return d+l*t})).style("y1",f).style("x2",(function(e){var t=e.index;return d+l*t})).style("y2",(function(e){var t=e.value;return f-u*t})).styles({y1:f,stroke:i,lineWidth:a})}))},t}(WV),eH=function(e){function t(t){var n=e.call(this,sB({},{style:{color:"#d8d9d9"}},t))||this;return n.showBackground=!1,n}return jt(t,e),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=this.lineWidth;DB(this.icon).maybeAppend(".split","line").styles({x1:t,y1:n-i/2,x2:t,y2:n+i/2,stroke:r,lineWidth:o})},t}(WV),tH=function(e){function t(){var t=e.apply(this,Ht([],Vt(arguments),!1))||this;return t.showBackground=!1,t}return jt(t,e),Object.defineProperty(t.prototype,"padding",{get:function(){return LB(0)},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.iconSize,t=this.attributes,n=t.x,r=t.y,i=t.speed,o=void 0===i?1:i,a=Rt(this.attributes,["x","y","transform","transformOrigin","width","height","size","color","speed"]),s=at(e,20,1/0),l=Ft(Ft({},a),{x:n-s/2,y:r-10,width:s,height:20,defaultValue:o,bordered:!1,showDropdownIcon:!1,selectRadius:2,dropdownPadding:this.padding,dropdownRadius:2,dropdownSpacing:e/5,placeholderFontSize:e/2,optionPadding:0,optionLabelFontSize:e/2,optionBackgroundRadius:1,options:[{label:"1x",value:1},{label:"1.5x",value:1.5},{label:"2x",value:2}]});DB(this.icon).maybeAppend(".speed",(function(){return new UV({style:l})})).attr("className","speed").each((function(){this.update(l)}))},t.tag="SpeedSelect",t}(WV),nH=function(e){function t(t){var n=e.call(this,t)||this;return n.icon=n.appendChild(new jl({})),n.currentType=n.attributes.type,n}return jt(t,e),t.prototype.getType=function(){return this.currentType},t.prototype.render=function(){var e=this,t=this.attributes;t.onChange;var n=Bt(t,["onChange"]);DB(this.icon).selectAll(".icon").data([this.currentType]).join((function(t){return t.append((function(t){var n,r=null===(n=e.toggles.find((function(e){return Vt(e,1)[0]===t})))||void 0===n?void 0:n[1];if(!r)throw new Error("Invalid type: ".concat(t));return new r({})})).attr("className","icon").styles(n,!1).update({})}),(function(e){return e.styles({restStyles:n}).update({})}),(function(e){return e.remove()}))},t.prototype.bindEvents=function(){var e=this,t=this.attributes.onChange;this.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation();var r=(e.toggles.findIndex((function(t){return Vt(t,1)[0]===e.currentType}))+1)%e.toggles.length,i=e.toggles[r][0];null==t||t(e.currentType),e.currentType=i,e.render()}))},t.tag="ToggleIcon",t}(qB),rH=function(e){function t(t){var n=e.call(this,sB({},{style:{type:"play"}},t))||this;return n.toggles=[["play",YV],["pause",qV]],n}return jt(t,e),t}(nH),iH=function(e){function t(t){var n=e.call(this,sB({},{style:{type:"range"}},t))||this;return n.toggles=[["range",KV],["value",XV]],n}return jt(t,e),t}(nH),oH=function(e){function t(t){var n=e.call(this,sB({},{style:{type:"column"}},t))||this;return n.toggles=[["line",ZV],["column",JV]],n}return jt(t,e),t}(nH),aH={reset:HV,speed:tH,backward:GV,playPause:rH,forward:$V,selectionType:iH,chartType:oH,split:eH},sH=function(e){function t(n){var r=e.call(this,sB({},t.defaultOptions,n))||this;return r.background=r.appendChild(new Xl({})),r.functions=r.appendChild(new jl({})),r}return jt(t,e),Object.defineProperty(t.prototype,"padding",{get:function(){return LB(this.attributes.padding)},enumerable:!1,configurable:!0}),t.prototype.renderBackground=function(){var e=this.style,t=e.x,n=e.y,r=e.width,i=e.height,o=UB(this.attributes,"background");this.background.attr(Ft({x:t,y:n,width:r,height:i},o))},t.prototype.renderFunctions=function(){var e,t=this,n=this.attributes,r=n.functions,i=n.iconSize,o=n.iconSpacing,a=n.x,s=n.y,l=n.width,u=n.height,c=n.align,d=Vt(this.padding,4),f=d[1],h=d[3],p=r.reduce((function(e,t){return e.length&&t.length?e.concat.apply(e,Ht(["split"],Vt(t),!1)):e.concat.apply(e,Ht([],Vt(t),!1))}),[]),g=p.length*(i+o)-o,v={left:h+i/2,center:(l-g)/2+i/2,right:l-g-h-f+i/2}[c]||0;null===(e=this.speedSelect)||void 0===e||e.destroy(),this.functions.removeChildren(),p.forEach((function(e,n){var r,l=aH[e],c={x:a+n*(i+o)+v,y:s+u/2,size:i};if(l===tH?(c.speed=t.attributes.speed,c.onSelect=function(n){return t.handleFunctionChange(e,{value:n})}):[rH,iH,oH].includes(l)?(c.onChange=function(n){return t.handleFunctionChange(e,{value:n})},l===rH&&(c.type="play"===t.attributes.state?"pause":"play"),l===iH&&(c.type="range"===t.attributes.selectionType?"value":"range"),l===oH&&(c.type="line"===t.attributes.chartType?"column":"line")):c.onClick=function(){return t.handleFunctionChange(e,{value:e})},l===tH){var d=null===(r=t.ownerDocument)||void 0===r?void 0:r.defaultView;d&&(t.speedSelect=new l({style:Ft(Ft({},c),{zIndex:100})}),d.appendChild(t.speedSelect))}else t.functions.appendChild(new l({style:c}))}))},t.prototype.disconnectedCallback=function(){var t;e.prototype.disconnectedCallback.call(this),null===(t=this.speedSelect)||void 0===t||t.destroy()},t.prototype.render=function(){this.renderBackground(),this.renderFunctions()},t.prototype.handleFunctionChange=function(e,t){var n=this.attributes.onChange;null==n||n(e,t)},t.defaultOptions={style:{x:0,y:0,width:300,height:40,padding:0,align:"center",iconSize:25,iconSpacing:0,speed:1,state:"pause",chartType:"line",selectionType:"range",backgroundFill:"#fbfdff",backgroundStroke:"#ebedf0",functions:[["reset","speed"],["backward","playPause","forward"],["selectionType","chartType"]]}},t}(qB),lH=function(e){function t(n){var r=e.call(this,sB({},t.defaultOptions,n))||this;return r.bindEvents(),r}return jt(t,e),t.prototype.bindEvents=function(){var e=this;this.addEventListener("mouseenter",(function(){e.attr("lineWidth",Math.ceil(+(e.style.r||0)/2))})),this.addEventListener("mouseleave",(function(){e.attr("lineWidth",0)}))},t.defaultOptions={style:{r:5,fill:"#3f7cf7",lineWidth:0,stroke:"#3f7cf7",strokeOpacity:.5,cursor:"pointer"}},t}(Dl),uH=function(e){function t(n){return e.call(this,sB({},t.defaultOptions,n))||this}return jt(t,e),t.prototype.renderBackground=function(){var e=this.attributes,t=e.x,n=e.y,r=e.width,i=e.height,o=UB(this.attributes,"background");DB(this).maybeAppend("background","rect").attr("className","background").styles(Ft({x:t-r/2,y:n-i/2,width:r,height:i},o))},t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.iconSize,i=UB(this.attributes,"icon"),o=r/2;DB(this).maybeAppend("icon-left-line","line").attr("className","icon-left-line").styles(Ft({x1:t-1,y1:n-o,x2:t-1,y2:n+o},i)),DB(this).maybeAppend("icon-right-line","line").attr("className","icon-right-line").styles(Ft({x1:t+1,y1:n-o,x2:t+1,y2:n+o},i))},t.prototype.renderBorder=function(){var e=this.attributes,t=e.x,n=e.y,r=e.width,i=e.height,o=e.type,a=UB(this.attributes,"border"),s="start"===o?+r/2:-r/2;DB(this).maybeAppend("border","line").attr("className","border").styles(Ft({x1:s+t,y1:n-i/2,x2:s+t,y2:n+i/2},a))},t.prototype.render=function(){this.renderBackground(),this.renderIcon(),this.renderBorder()},t.defaultOptions={style:{x:0,y:0,width:10,height:50,iconSize:10,type:"start",backgroundFill:"#fff",backgroundFillOpacity:.5,iconStroke:"#9a9a9a",iconLineWidth:1,borderStroke:"#e8e8e8",borderLineWidth:1}},t}(qB);function cH(e,t){return"number"==typeof e?dH(e):function(e,t){var n=new Date(e);switch(t){case"half-hour":case"hour":case"four-hour":return[0,6,12,18].includes(n.getHours())&&0===n.getMinutes()?HB(n,"HH:mm\nYYYY-MM-DD"):HB(n,"HH:mm");case"half-day":return n.getHours()<12?"AM\n".concat(HB(n,"YYYY-MM-DD")):"PM";case"day":return[1,10,20].includes(n.getDate())?HB(n,"DD\nYYYY-MM"):HB(n,"DD");case"week":return n.getDate()<=7?HB(n,"DD\nYYYY-MM"):HB(n,"DD");case"month":return[0,6].includes(n.getMonth())?HB(n,"MM月\nYYYY"):HB(n,"MM月");case"season":return[0].includes(n.getMonth())?HB(n,"MM月\nYYYY"):HB(n,"MM月");case"year":return HB(n,"YYYY");default:return HB(n,"YYYY-MM-DD HH:mm")}}(e,t)}function dH(e){var t=String(Math.floor(e/3600)).padStart(2,"0"),n=String(Math.floor(e%3600/60)).padStart(2,"0"),r=String(Math.floor(e%60)).padStart(2,"0");return e<3600?"".concat(n,":").concat(r):"".concat(t,":").concat(n,":").concat(r)}var fH=function(e){function t(n){var r=e.call(this,sB({},t.defaultOptions,n))||this;r.axis=r.appendChild(new yV({style:{type:"linear",startPos:[0,0],endPos:[0,0],data:[],showArrow:!1,animate:!1}})),r.timeline=r.appendChild(new mW({style:{onChange:function(e){r.handleSliderChange(e)}}})),r.controller=r.appendChild(new sH({})),r.states={},r.handleSliderChange=function(e){var t,n=(t=r.states.values,Array.isArray(t)?Ht([],Vt(t),!1):t);r.setBySliderValues(e),r.dispatchOnChange(n)};var i=r.attributes,o=i.selectionType,a=i.chartType,s=i.speed,l=i.state,u=i.playMode,c=i.values;return r.states={chartType:a,playMode:u,selectionType:o,speed:s,state:l},r.setByTimebarValues(c),r}return jt(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.attributes.data.sort((function(e,t){return e.time<t.time?-1:e.time>t.time?1:0}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"space",{get:function(){var e=this.attributes,t=e.x,n=e.y,r=e.width,i=e.height,o=e.type,a=e.controllerHeight,s=at(+i-a,0,+i),l=new nB(t,n+ +i-a,+r,a),u=0,c="time"===o?10:s;return{axisBBox:"chart"===o?new nB(t,n+s-(u=35),+r,u):new nB,controllerBBox:l,timelineBBox:new nB(t,n+("time"===o?s:s-c),+r,c-u)}},enumerable:!1,configurable:!0}),t.prototype.setBySliderValues=function(e){var t,n,r=this.data,i=Vt(Array.isArray(e)?e:[0,e],2),o=i[0],a=i[1],s=r.length,l=r[Math.floor(o*s)],u=r[Math.ceil(a*s)-(Array.isArray(e)?0:1)];this.states.values=[null!==(t=null==l?void 0:l.time)&&void 0!==t?t:r[0].time,null!==(n=null==u?void 0:u.time)&&void 0!==n?n:1/0]},t.prototype.setByTimebarValues=function(e){var t,n,r,i=this.data,o=Vt(Array.isArray(e)?e:[void 0,e],2),a=o[0],s=o[1],l=i.find((function(e){return e.time===a})),u=i.find((function(e){return e.time===s}));this.states.values=[null!==(t=null==l?void 0:l.time)&&void 0!==t?t:null===(n=i[0])||void 0===n?void 0:n.time,null!==(r=null==u?void 0:u.time)&&void 0!==r?r:1/0]},t.prototype.setByIndex=function(e){var t,n,r,i,o=this.data,a=Vt(e,2),s=a[0],l=a[1];this.states.values=[null!==(n=null===(t=o[s])||void 0===t?void 0:t.time)&&void 0!==n?n:o[0].time,null!==(i=null===(r=this.data[l])||void 0===r?void 0:r.time)&&void 0!==i?i:1/0]},Object.defineProperty(t.prototype,"sliderValues",{get:function(){var e,t=this.states,n=t.values,r=t.selectionType,i=Vt(Array.isArray(n)?n:[void 0,n],2),o=i[0],a=i[1],s=this.data,l=s.length,u="value"===r;return[(e=s.findIndex((function(e){return e.time===o})),u?0:e>-1?e/l:0),function(){if(a===1/0)return 1;var e=s.findIndex((function(e){return e.time===a}));return e>-1?e/l:u?.5:1}()]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){var e=this.states,t=e.values,n=e.selectionType,r=Vt(Array.isArray(t)?t:[this.data[0].time,t],2),i=r[0],o=r[1];return"value"===n?o:[i,o]},enumerable:!1,configurable:!0}),t.prototype.getDatumByRatio=function(e){var t=this.data,n=t.length;return t[Math.floor(e*(n-1))]},Object.defineProperty(t.prototype,"chartHandleIconShape",{get:function(){var e=this.states.selectionType,t=this.space.timelineBBox.height;return"range"===e?function(e){return new uH({style:{type:e,height:t,iconSize:t/6}})}:function(){return new Vl({style:{x1:0,y1:-t/2,x2:0,y2:t/2,lineWidth:2,stroke:"#c8c8c8"}})}},enumerable:!1,configurable:!0}),t.prototype.getChartStyle=function(e){var t=this,n=e.x,r=e.y,i=e.width,o=e.height,a=this.states,s=a.selectionType,l=a.chartType,u=this.data,c=this.attributes,d=c.type,f=c.labelFormatter,h=UB(this.attributes,"chart");h.type;var p=Bt(h,["type"]),g="range"===s;if("time"===d)return Ft({handleIconShape:function(){return new lH({})},selectionFill:"#2e7ff8",selectionFillOpacity:1,showLabelOnInteraction:!0,handleLabelDy:g?-15:0,autoFitLabel:g,handleSpacing:g?-15:0,trackFill:"#edeeef",trackLength:i,trackOpacity:.5,trackRadius:o/2,trackSize:o/2,type:s,values:this.sliderValues,formatter:function(e){if(f)return f(e);var n=t.getDatumByRatio(e).time;return"number"==typeof n?dH(n):HB(n,"YYYY-MM-DD HH:mm:ss")},transform:"translate(".concat(n,", ").concat(r,")"),zIndex:1},p);var v="range"===s?5:0,m=u.map((function(e){return e.value}));return Ft({handleIconOffset:v,handleIconShape:this.chartHandleIconShape,selectionFill:"#fff",selectionFillOpacity:.5,selectionType:"invert",sparklineSpacing:.1,sparklineColumnLineWidth:0,sparklineColor:"#d4e5fd",sparklineAreaOpacity:1,sparklineAreaLineWidth:0,sparklineData:m,sparklineType:l,sparklineScale:.8,trackLength:i,trackSize:o,type:s,values:this.sliderValues,transform:"translate(".concat(n,", ").concat(r,")"),zIndex:1},p)},t.prototype.renderChart=function(e){void 0===e&&(e=this.space.timelineBBox),this.timeline.update(this.getChartStyle(e))},t.prototype.updateSelection=function(){this.timeline.setValues(this.sliderValues,!0),this.handleSliderChange(this.sliderValues)},t.prototype.getAxisStyle=function(e){var t=this.data,n=this.attributes,r=n.interval,i=n.labelFormatter,o=UB(this.attributes,"axis"),a=e.x,s=e.y,l=e.width,u=Ht(Ht([],Vt(t),!1),[{time:0}],!1).map((function(e,t,n){var r=e.time;return{label:"".concat(r),value:t/(n.length-1),time:r}})),c=Ft({startPos:[a,s],endPos:[a+l,s],data:u,labelFilter:function(e,t){return t<u.length-1},labelFormatter:function(e){var t=e.time;return i?i(t):cH(t,r)}},o);return c},t.prototype.renderAxis=function(e){void 0===e&&(e=this.space.axisBBox),"chart"===this.attributes.type&&this.axis.update(this.getAxisStyle(e))},t.prototype.renderController=function(e){void 0===e&&(e=this.space.controllerBBox);var t=this.attributes.type,n=this.states,r=n.state,i=n.speed,o=n.selectionType,a=n.chartType,s=UB(this.attributes,"controller"),l=this,u=Ft(Ft(Ft({},e),{iconSize:20,speed:i,state:r,selectionType:o,chartType:a,onChange:function(e,t){var n=t.value;switch(e){case"reset":l.internalReset();break;case"speed":l.handleSpeedChange(n);break;case"backward":l.internalBackward();break;case"playPause":"play"===n?l.internalPlay():l.internalPause();break;case"forward":l.internalForward();break;case"selectionType":l.handleSelectionTypeChange(n);break;case"chartType":l.handleChartTypeChange(n)}}}),s);"time"===t&&(u.functions=[["reset","speed"],["backward","playPause","forward"],["selectionType"]]),this.controller.update(u)},t.prototype.dispatchOnChange=function(e){var t=this.data,n=this.attributes.onChange,r=this.states,i=r.values,o=r.selectionType,a=Vt(i,2),s=a[0],l=a[1],u=l===1/0?t.at(-1).time:l;e&&function(e,t){if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e[0]===t[0]){if(e[1]===t[1])return!0;if(e[1]===1/0||t[1]===1/0)return!0}return!1}return!Array.isArray(t)&&e===t}(e,"range"===o?[s,u]:u)||null==n||n("range"===o?[s,u]:u)},t.prototype.internalReset=function(e){var t,n,r=this.states.selectionType;this.internalPause(),this.setBySliderValues("range"===r?[0,1]:[0,0]),this.renderController(),this.updateSelection(),e||(null===(n=null===(t=this.attributes)||void 0===t?void 0:t.onReset)||void 0===n||n.call(t),this.dispatchOnChange())},t.prototype.reset=function(){this.internalReset()},t.prototype.moveSelection=function(e,t){var n=this.data,r=n.length,i=this.states,o=i.values,a=i.selectionType,s=i.playMode,l=Vt(o,2),u=l[0],c=l[1],d=n.findIndex((function(e){return e.time===u})),f=n.findIndex((function(e){return e.time===c}));-1===f&&(f=r);var h,p="backward"===e?-1:1;"range"===a?"acc"===s?(h=[d,f+p],-1===p&&d===f&&(h=[d,r])):h=[d+p,f+p]:h=[d,f+p];var g=function(e){var t=Vt(e.sort((function(e,t){return e-t})),2),n=t[0],i=t[1],o=function(e){return at(e,0,r)};return i>r?"value"===a?[0,0]:"acc"===s?[o(n),o(n)]:[0,o(i-n)]:n<0?"acc"===s?[0,o(i)]:[o(n+r-i),r]:[o(n),o(i)]}(h);return this.setByIndex(g),this.updateSelection(),g},t.prototype.internalBackward=function(e){var t,n,r=this.moveSelection("backward",e);return e||(null===(n=null===(t=this.attributes)||void 0===t?void 0:t.onBackward)||void 0===n||n.call(t),this.dispatchOnChange()),r},t.prototype.backward=function(){this.internalBackward()},t.prototype.internalPlay=function(e){var t,n,r=this,i=this.data,o=this.attributes.loop,a=this.states.speed,s=void 0===a?1:a;this.playInterval=window.setInterval((function(){r.internalForward()[1]!==i.length||o||(r.internalPause(),r.renderController())}),1e3/s),this.states.state="play",!e&&(null===(n=null===(t=this.attributes)||void 0===t?void 0:t.onPlay)||void 0===n||n.call(t))},t.prototype.play=function(){this.internalPlay()},t.prototype.internalPause=function(e){var t,n;clearInterval(this.playInterval),this.states.state="pause",!e&&(null===(n=null===(t=this.attributes)||void 0===t?void 0:t.onPause)||void 0===n||n.call(t))},t.prototype.pause=function(){this.internalPause()},t.prototype.internalForward=function(e){var t,n,r=this.moveSelection("forward",e);return e||(null===(n=null===(t=this.attributes)||void 0===t?void 0:t.onForward)||void 0===n||n.call(t),this.dispatchOnChange()),r},t.prototype.forward=function(){this.internalForward()},t.prototype.handleSpeedChange=function(e){var t,n;this.states.speed=e,"play"===this.states.state&&(this.internalPause(!0),this.internalPlay(!0)),null===(n=null===(t=this.attributes)||void 0===t?void 0:t.onSpeedChange)||void 0===n||n.call(t,e)},t.prototype.handleSelectionTypeChange=function(e){var t,n;this.states.selectionType=e,this.renderChart(),null===(n=null===(t=this.attributes)||void 0===t?void 0:t.onSelectionTypeChange)||void 0===n||n.call(t,e)},t.prototype.handleChartTypeChange=function(e){var t,n;this.states.chartType=e,this.renderChart(),null===(n=null===(t=this.attributes)||void 0===t?void 0:t.onChartTypeChange)||void 0===n||n.call(t,e)},t.prototype.render=function(){var e=this.space,t=e.axisBBox,n=e.controllerBBox,r=e.timelineBBox;this.renderController(n),this.renderAxis(t),this.renderChart(r),"play"===this.states.state&&this.internalPlay()},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.internalPause(!0)},t.defaultOptions={style:{x:0,y:0,axisLabelFill:"#6e6e6e",axisLabelTextAlign:"left",axisLabelTextBaseline:"top",axisLabelTransform:"translate(5, -12)",axisLineLineWidth:1,axisLineStroke:"#cacdd1",axisTickLength:15,axisTickLineWidth:1,axisTickStroke:"#cacdd1",chartShowLabel:!1,chartType:"line",controllerAlign:"center",controllerHeight:40,data:[],interval:"day",loop:!1,playMode:"acc",selectionType:"range",type:"time"}},t}(qB);function hH(e){const{width:t,height:n,renderer:r}=e,i=function(e){var t;const{container:n,className:r,graphCanvas:i}=e;if(n)return"string"==typeof n?document.getElementById(n):n;const o=cj(r,!1),{width:a,height:s,containerStyle:l}=e,[u,c]=function(e){const{width:t,height:n,placement:r,graphCanvas:i}=e,[o,a]=i.getSize(),[s,l]=Jd(r);return[s*(o-t),l*(a-n)]}(e);return Object.assign(o.style,Object.assign({position:"absolute",left:u+"px",top:c+"px",width:a+"px",height:s+"px"},l)),null===(t=i.getContainer())||void 0===t||t.appendChild(o),o}(e);return[i,new fu({width:t,height:n,container:i,renderer:r||new Pp})]}var pH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class gH extends uj{constructor(e,t){super(e,Object.assign({},gH.defaultOptions,t)),this.typePrefix="__data__",this.draw=!1,this.fieldMap={node:new Map,edge:new Map,combo:new Map},this.selectedItems=[],this.bindEvents=()=>{const{graph:e}=this.context;e.on(wc.AFTER_DRAW,this.createElement)},this.changeState=(e,t)=>{const{graph:n}=this.context,{typePrefix:r}=this,i=Nt(e,[r,"id"]),o=Nt(e,[r,"style","labelText"]),[a]=i.split("__"),s=this.fieldMap[a].get(o)||[];n.setElementState(Object.fromEntries(null==s?void 0:s.map((e=>[e,t]))))},this.click=e=>{if("hover"===this.options.trigger)return;const t=Nt(e,[this.typePrefix,"id"]);this.selectedItems.includes(t)?(this.selectedItems=this.selectedItems.filter((e=>e!==t)),this.changeState(e,[])):(this.selectedItems.push(t),this.changeState(e,"selected"))},this.mouseleave=e=>{"click"!==this.options.trigger&&(this.selectedItems=[],this.changeState(e,[]))},this.mouseenter=e=>{if("click"===this.options.trigger)return;const t=Nt(e,[this.typePrefix,"id"]);this.selectedItems.includes(t)?this.selectedItems=this.selectedItems.filter((e=>e!==t)):(this.selectedItems.push(t),this.changeState(e,"active"))},this.setFieldMap=(e,t,n)=>{if(!e)return;const r=this.fieldMap[n];if(r)if(r.has(e)){const n=r.get(e);n&&(n.push(t),r.set(e,n))}else r.set(e,[t])},this.getEvents=()=>({mouseenter:this.mouseenter,mouseleave:this.mouseleave,click:this.click}),this.getMarkerData=(e,t)=>{if(!e)return[];const{model:n,element:r}=this.context,{nodes:i,edges:o,combos:a}=n.getData(),s={},l=t=>$e(e)?e(t):e,u={node:"circle",edge:"line",combo:"rect"},c={circle:"circle",ellipse:"circle",image:"bowtie",rect:"square",star:"cross",triangle:"triangle",diamond:"diamond",cubic:"dot",line:"hyphen",polyline:"hyphen",quadratic:"hv","cubic-horizontal":"hyphen","cubic-vertical":"line"},d=(e,t)=>{e.forEach((e=>{const{id:n}=e,i=Nt(e,["data",l(e)]),o=(null==r?void 0:r.getElementType(t,e))||"circle",a=((e,t)=>null==r?void 0:r.getElementComputedStyle(e,t))(t,e),d=("edge"===t?null==a?void 0:a.stroke:null==a?void 0:a.fill)||"#1783ff";n&&i&&i.replace(/\s+/g,"")&&(this.setFieldMap(i,n,t),s[i]||(s[i]={id:`${t}__${n}`,label:i,marker:c[o]||u[t],elementType:t,lineWidth:1,stroke:d,fill:d}))}))};switch(t){case"node":d(i,"node");break;case"edge":d(o,"edge");break;case"combo":d(a,"combo");break;default:return[]}return Object.values(s)},this.createElement=()=>{if(this.draw)return void this.updateElement();const e=this.options,{width:t,height:n,nodeField:r,edgeField:i,comboField:o,trigger:a,position:s,container:l,containerStyle:u,className:c}=e,d=pH(e,["width","height","nodeField","edgeField","comboField","trigger","position","container","containerStyle","className"]),f=this.getMarkerData(r,"node"),h=this.getMarkerData(i,"edge"),p=this.getMarkerData(o,"combo"),g=[...f,...p,...h],v=Object.assign({width:t,height:n,data:g,itemMarkerLineWidth:({lineWidth:e})=>e,itemMarker:({marker:e})=>e,itemMarkerStroke:({stroke:e})=>e,itemMarkerFill:({fill:e})=>e,gridCol:f.length},d,this.getEvents()),m=new RV({className:"legend",style:v});this.category=m;this.upsertCanvas().appendChild(m),this.draw=!0},this.bindEvents()}update(e){super.update(e),this.clear(),this.createElement()}clear(){var e,t;null===(e=this.canvas)||void 0===e||e.destroy(),null===(t=this.container)||void 0===t||t.remove(),this.canvas=void 0,this.container=void 0,this.draw=!1}updateElement(){this.category&&this.category.update({itemMarkerOpacity:({id:e})=>!this.selectedItems.length||this.selectedItems.includes(e)?1:.5,itemLabelOpacity:({id:e})=>!this.selectedItems.length||this.selectedItems.includes(e)?1:.5})}upsertCanvas(){if(this.canvas)return this.canvas;const e=this.context.canvas,[t,n]=e.getSize(),{width:r=t,height:i=n,position:o,container:a,containerStyle:s,className:l}=this.options,[u,c]=hH({width:r,height:i,graphCanvas:e,container:a,containerStyle:s,placement:o,className:"legend"});return this.container=u,l&&u.classList.add(l),this.canvas=c,this.canvas}destroy(){this.clear(),this.context.graph.off(wc.AFTER_DRAW,this.createElement),super.destroy()}}gH.defaultOptions={position:"bottom",trigger:"hover",orientation:"horizontal",layout:"flex",itemSpacing:4,rowPadding:10,colPadding:10,itemMarkerSize:16,itemLabelFontSize:16,width:240,height:160};class vH extends uj{constructor(e,t){super(e,Object.assign({},vH.defaultOptions,t)),this.onDraw=e=>{var t;(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.render)||this.onRender()},this.shapes=new Map,this.landmarkMap=new Map,this.mask=null,this.isMaskDragging=!1,this.onMaskDragStart=e=>{this.mask&&(this.isMaskDragging=!0,this.mask.setPointerCapture(e.pointerId),this.mask.addEventListener("pointermove",this.onMaskDrag),this.mask.addEventListener("pointerup",this.onMaskDragEnd),this.mask.addEventListener("pointercancel",this.onMaskDragEnd))},this.onMaskDrag=e=>{if(!this.mask||!this.isMaskDragging)return;const{size:[t,n]}=this.options,{movementX:r,movementY:i}=e,{left:o,top:a,width:s,height:l}=this.mask.style,[,,u,c]=this.maskBBox;let d=parseInt(o)+r,f=parseInt(a)+i,h=parseInt(s),p=parseInt(l);d<0&&(d=0),f<0&&(f=0),d+h>t&&(d=yH(t-h,0)),f+p>n&&(f=yH(n-p,0)),h<u&&(r>0?(d=yH(d-r,0),h=mH(h+r,t)):r<0&&(h=mH(h-r,t))),p<c&&(i>0?(f=yH(f-i,0),p=mH(p+i,n)):i<0&&(p=mH(p-i,n))),Object.assign(this.mask.style,{left:d+"px",top:f+"px",width:h+"px",height:p+"px"});const g=parseInt(o)-d,v=parseInt(a)-f;if(0===g&&0===v)return;const m=this.context.canvas.getCamera().getZoom()/this.canvas.getCamera().getZoom();this.context.graph.translateBy([g*m,v*m],!1)},this.onMaskDragEnd=e=>{this.mask&&(this.isMaskDragging=!1,this.mask.releasePointerCapture(e.pointerId),this.mask.removeEventListener("pointermove",this.onMaskDrag),this.mask.removeEventListener("pointerup",this.onMaskDragEnd),this.mask.removeEventListener("pointercancel",this.onMaskDragEnd))},this.onTransform=At((()=>{this.isMaskDragging||(this.updateMask(),this.setCamera())}),32,{leading:!0}),this.setOnRender(),this.bindEvents()}update(e){this.unbindEvents(),super.update(e),"delay"in e&&this.setOnRender(),this.bindEvents()}setOnRender(){this.onRender=bt((()=>{this.renderMinimap(),this.renderMask()}),this.options.delay,!0)}bindEvents(){const{graph:e}=this.context;e.on(wc.AFTER_DRAW,this.onDraw),e.on(wc.AFTER_RENDER,this.onRender),e.on(wc.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){const{graph:e}=this.context;e.off(wc.AFTER_DRAW,this.onDraw),e.off(wc.AFTER_RENDER,this.onRender),e.off(wc.AFTER_TRANSFORM,this.onTransform)}renderMinimap(){const e=this.getElements(),t=this.initCanvas();this.setShapes(t,e)}getElements(){const{filter:e}=this.options,{model:t}=this.context,n=t.getData();if(!e)return n;const{nodes:r,edges:i,combos:o}=n;return{nodes:r.filter((t=>e(wd(t),"node"))),edges:i.filter((t=>e(wd(t),"edge"))),combos:o.filter((t=>e(wd(t),"combo")))}}setShapes(e,t){const{nodes:n,edges:r,combos:i}=t,{shape:o}=this.options,{element:a}=this.context;if("key"===o){const t=new Set,o=n=>{const r=wd(n);t.add(r);const i=a.getElement(r);if(!i)return;const o=i.getShape("key"),s=this.shapes.get(r)||o.cloneNode();s.setPosition(o.getPosition()),i.style.zIndex&&(s.style.zIndex=i.style.zIndex),s.id=i.id,this.shapes.has(r)?Object.entries(o.attributes).forEach((([e,t])=>{s.style[e]!==t&&(s.style[e]=t)})):(e.appendChild(s),this.shapes.set(r,s))};return r.forEach(o),i.forEach(o),n.forEach(o),void this.shapes.forEach(((n,r)=>{t.has(r)||(e.removeChild(n),this.shapes.delete(r))}))}const s=(e,t)=>{const n=a.getElement(e).getPosition();return t.setPosition(n),t};e.removeChildren(),r.forEach((t=>e.appendChild(o(wd(t),"edge")))),i.forEach((t=>{e.appendChild(s(wd(t),o(wd(t),"combo")))})),n.forEach((t=>{e.appendChild(s(wd(t),o(wd(t),"node")))}))}initCanvas(){const{renderer:e,size:[t,n]}=this.options;if(this.canvas){const{width:r,height:i}=this.canvas.getConfig();t===r&&n===i||this.canvas.resize(t,n),e&&this.canvas.setRenderer(e)}else{const{className:r,position:i,container:o,containerStyle:a}=this.options,[s,l]=hH({renderer:e,width:t,height:n,placement:i,className:"minimap",container:o,containerStyle:a,graphCanvas:this.context.canvas});r&&s.classList.add(r),this.container=s,this.canvas=l}return this.setCamera(),this.canvas}createLandmark(e,t,n){const r=`${e.join(",")}-${t.join(",")}-${n}`;if(this.landmarkMap.has(r))return this.landmarkMap.get(r);const i=this.canvas.getCamera().createLandmark(r,{position:e,focalPoint:t,zoom:n});return this.landmarkMap.set(r,i),i}setCamera(){var e;const{canvas:t}=this.context,n=null===(e=this.canvas)||void 0===e?void 0:e.getCamera();if(!n)return;const{size:[r,i],padding:o}=this.options,[a,s,l,u]=Yc(o),{min:c,max:d,center:f}=t.getBounds("elements"),h=(r-u-s)/(d[0]-c[0]),p=(i-a-l)/(d[1]-c[1]),g=Math.min(h,p),v=this.createLandmark(f,f,g);n.gotoLandmark(v,0)}get maskBBox(){const{canvas:e}=this.context,t=e.getSize(),n=e.getCanvasByViewport([0,0]),r=e.getCanvasByViewport(t),i=this.canvas.canvas2Viewport(of(n)),o=this.canvas.canvas2Viewport(of(r)),a=o.x-i.x,s=o.y-i.y;return[i.x,i.y,a,s]}calculateMaskBBox(){const{size:[e,t]}=this.options;let[n,r,i,o]=this.maskBBox;return n<0&&(i=mH(i+n,e),n=0),r<0&&(o=mH(o+r,t),r=0),n+i>e&&(i=yH(e-n,0)),r+o>t&&(o=yH(t-r,0)),[mH(n,e),mH(r,t),yH(i,0),yH(o,0)]}renderMask(){const{maskStyle:e}=this.options;this.mask||(this.mask=document.createElement("div"),this.mask.addEventListener("pointerdown",this.onMaskDragStart)),this.container.appendChild(this.mask),Object.assign(this.mask.style,Object.assign(Object.assign({},e),{cursor:"move",position:"absolute",pointerEvents:"auto"})),this.updateMask()}updateMask(){if(!this.mask)return;const[e,t,n,r]=this.calculateMaskBBox();Object.assign(this.mask.style,{top:t+"px",left:e+"px",width:n+"px",height:r+"px"})}destroy(){var e;this.unbindEvents(),this.canvas.destroy(),null===(e=this.mask)||void 0===e||e.remove(),super.destroy()}}vH.defaultOptions={size:[240,160],shape:"key",padding:10,position:"right-bottom",maskStyle:{border:"1px solid #ddd",background:"rgba(0, 0, 0, 0.1)"},containerStyle:{border:"1px solid #ddd",background:"#fff"},delay:128};const mH=(e,t)=>Math.min(e,t),yH=(e,t)=>Math.max(e,t);var bH=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const wH={x1:0,y1:0,x2:0,y2:0,visibility:"hidden"};class xH extends uj{constructor(e,t){super(e,Object.assign({},xH.defaultOptions,t)),this.initSnapline=()=>{const e=this.context.canvas.getLayer("transient");this.horizontalLine||(this.horizontalLine=e.appendChild(new Vl({style:Object.assign(Object.assign({},wH),this.options.horizontalLineStyle)}))),this.verticalLine||(this.verticalLine=e.appendChild(new Vl({style:Object.assign(Object.assign({},wH),this.options.verticalLineStyle)})))},this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!0,this.autoSnapToLine=(e,t,n)=>bH(this,void 0,void 0,(function*(){const{verticalX:r,horizontalY:i}=n,{tolerance:o}=this.options,{min:[a,s],max:[l,u],center:[c,d]}=t;let f=0,h=0;null!==r&&(EH(l,r)<o&&(f=r-l),EH(a,r)<o&&(f=r-a),EH(c,r)<o&&(f=r-c),0!==f&&(this.isVerticalSticking=!0)),null!==i&&(EH(u,i)<o&&(h=i-u),EH(s,i)<o&&(h=i-s),EH(d,i)<o&&(h=i-d),0!==h&&(this.isHorizontalSticking=!0)),0===f&&0===h||(yield this.context.graph.translateElementBy({[e]:[f,h]},!1))})),this.enableSnap=e=>{const{target:t}=e,n=.5;if(this.isHorizontalSticking||this.isVerticalSticking){const[r,i]=this.getDelta(e);if(this.isHorizontalSticking&&this.isVerticalSticking&&Math.abs(r)<=n&&Math.abs(i)<=n)return this.context.graph.translateElementBy({[t.id]:[-r,-i]},!1),!1;if(this.isHorizontalSticking&&Math.abs(i)<=n)return this.context.graph.translateElementBy({[t.id]:[0,-i]},!1),!1;if(this.isVerticalSticking&&Math.abs(r)<=n)return this.context.graph.translateElementBy({[t.id]:[-r,0]},!1),!1;this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!1,setTimeout((()=>{this.enableStick=!0}),200)}return this.enableStick},this.calcSnaplineMetadata=(e,t)=>{const{tolerance:n,shape:r}=this.options,{min:[i,o],max:[a,s],center:[l,u]}=t;let c=null,d=null,f=null,h=null,p=null,g=null;return this.getNodes().some((t=>{if(Ct(e.id,t.id))return!1;const v=kH(t,r).getRenderBounds(),{min:[m,y],max:[b,w],center:[x,E]}=v;return null===c&&(EH(x,l)<n?c=x:EH(m,i)<n||EH(m,a)<n?c=m:(EH(b,a)<n||EH(b,i)<n)&&(c=b),null!==c&&(d=Math.min(y,o),f=Math.max(w,s))),null===h&&(EH(E,u)<n?h=E:EH(y,o)<n||EH(y,s)<n?h=y:(EH(w,s)<n||EH(w,o)<n)&&(h=w),null!==h&&(p=Math.min(m,i),g=Math.max(b,a))),null!==c&&null!==h})),{verticalX:c,verticalMinY:d,verticalMaxY:f,horizontalY:h,horizontalMinX:p,horizontalMaxX:g}},this.onDragStart=()=>{this.initSnapline()},this.onDrag=e=>bH(this,void 0,void 0,(function*(){const{target:t}=e;if(this.options.autoSnap){if(!this.enableSnap(e))return}const n=kH(t,this.options.shape).getRenderBounds(),r=this.calcSnaplineMetadata(t,n);this.hideSnapline(),null===r.verticalX&&null===r.horizontalY||this.updateSnapline(r),this.options.autoSnap&&(yield this.autoSnapToLine(t.id,n,r))})),this.onDragEnd=()=>{this.hideSnapline()},this.bindEvents()}getNodes(){var e;const{filter:t}=this.options,n=((null===(e=this.context.element)||void 0===e?void 0:e.getNodes())||[]).filter((e=>{var t;return"hidden"!==Nt(e,["style","visibility"])&&(null===(t=this.context.viewport)||void 0===t?void 0:t.isInViewport(e.getRenderBounds()))}));return t?n.filter((e=>t(e))):n}hideSnapline(){this.horizontalLine.style.visibility="hidden",this.verticalLine.style.visibility="hidden"}getLineWidth(e){const{lineWidth:t}=this.options[`${e}LineStyle`];return+(t||wH.lineWidth||1)/this.context.graph.getZoom()}updateSnapline(e){const{verticalX:t,verticalMinY:n,verticalMaxY:r,horizontalY:i,horizontalMinX:o,horizontalMaxX:a}=e,[s,l]=this.context.canvas.getSize(),{offset:u}=this.options;null!==i?Object.assign(this.horizontalLine.style,{x1:u===1/0?0:o-u,y1:i,x2:u===1/0?s:a+u,y2:i,visibility:"visible",lineWidth:this.getLineWidth("horizontal")}):this.horizontalLine.style.visibility="hidden",null!==t?Object.assign(this.verticalLine.style,{x1:t,y1:u===1/0?0:n-u,x2:t,y2:u===1/0?l:r+u,visibility:"visible",lineWidth:this.getLineWidth("vertical")}):this.verticalLine.style.visibility="hidden"}getDelta(e){const t=this.context.graph.getZoom();return Ud([e.dx,e.dy],t)}bindEvents(){return bH(this,void 0,void 0,(function*(){const{graph:e}=this.context;e.on(Ec.DRAG_START,this.onDragStart),e.on(Ec.DRAG,this.onDrag),e.on(Ec.DRAG_END,this.onDragEnd)}))}unbindEvents(){const{graph:e}=this.context;e.off(Ec.DRAG_START,this.onDragStart),e.off(Ec.DRAG,this.onDrag),e.off(Ec.DRAG_END,this.onDragEnd)}destroyElements(){var e,t;null===(e=this.horizontalLine)||void 0===e||e.destroy(),null===(t=this.verticalLine)||void 0===t||t.destroy()}destroy(){this.destroyElements(),this.unbindEvents(),super.destroy()}}xH.defaultOptions={tolerance:5,offset:20,autoSnap:!0,shape:"key",verticalLineStyle:{stroke:"#1783FF"},horizontalLineStyle:{stroke:"#1783FF"},filter:()=>!0};const EH=(e,t)=>Math.abs(e-t),kH=(e,t)=>"function"==typeof t?t(e):e.getShape(t);var SH=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},MH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const TH=["timestamp","time","date","datetime"];class CH extends uj{get padding(){return Yc(this.options.padding)}constructor(e,t){super(e,Object.assign({},CH.defaultOptions,t)),this.backup(),this.upsertTimebar()}play(){var e;null===(e=this.timebar)||void 0===e||e.play()}pause(){var e;null===(e=this.timebar)||void 0===e||e.pause()}forward(){var e;null===(e=this.timebar)||void 0===e||e.forward()}backward(){var e;null===(e=this.timebar)||void 0===e||e.backward()}reset(){var e;null===(e=this.timebar)||void 0===e||e.reset()}update(e){super.update(e),this.backup(),this.upsertTimebar()}backup(){this.originalData=NH(this.context.graph.getData())}upsertTimebar(){const{canvas:e}=this.context,t=this.options,{onChange:n,timebarType:r,data:i,x:o,y:a,width:s,height:l,mode:u}=t,c=MH(t,["onChange","timebarType","data","x","y","width","height","mode"]),d=e.getSize(),[f]=this.padding;this.upsertCanvas().ready.then((()=>{var e;const t=Object.assign(Object.assign({x:d[0]/2-s/2,y:f,onChange:e=>{const t=(qe(e)?e:[e,e]).map((e=>function(e){return e instanceof Date}(e)?e.getTime():e));"modify"===this.options.mode?this.filterElements(t):this.hiddenElements(t),null==n||n(t)}},c),{data:i.map((e=>st(e)?{time:e,value:0}:e)),width:s,height:l,type:r});this.timebar?this.timebar.update(t):(this.timebar=new fH({style:t}),null===(e=this.canvas)||void 0===e||e.appendChild(this.timebar))}))}upsertCanvas(){if(this.canvas)return this.canvas;const{className:e,height:t,position:n}=this.options,r=this.context.canvas,[i]=r.getSize(),[o,,a]=this.padding,[s,l]=hH({width:i,height:t+o+a,graphCanvas:r,className:"timebar",placement:n});return this.container=s,e&&s.classList.add(e),this.canvas=l,this.canvas}filterElements(e){return SH(this,void 0,void 0,(function*(){var t;if(!this.originalData)return;const{elementTypes:n,getTime:r}=this.options,{graph:i,element:o}=this.context,a=NH(this.originalData);n.forEach((t=>{const n=`${t}s`;a[n]=(this.originalData[n]||[]).filter((t=>{const n=r(t);return!!PH(n,e)}))}));const s=[...a.nodes,...a.combos].map((e=>wd(e)));a.edges=a.edges.filter((e=>{const t=e.source,n=e.target;return s.includes(t)&&s.includes(n)})),i.setData(a),yield null===(t=o.draw({animation:!1,silence:!0}))||void 0===t?void 0:t.finished}))}hiddenElements(e){const{graph:t}=this.context,{elementTypes:n,getTime:r}=this.options,i=[],o=[];n.forEach((t=>{var n;const a=`${t}s`;((null===(n=this.originalData)||void 0===n?void 0:n[a])||[]).forEach((t=>{const n=wd(t),a=r(t);PH(a,e)?o.push(n):i.push(n)}))})),t.hideElement(i,!1),t.showElement(o,!1)}destroy(){var e,t,n;const{graph:r}=this.context;this.originalData&&r.setData(Object.assign({},this.originalData)),null===(e=this.timebar)||void 0===e||e.destroy(),null===(t=this.canvas)||void 0===t||t.destroy(),null===(n=this.container)||void 0===n||n.remove(),this.originalData=void 0,this.container=void 0,this.timebar=void 0,this.canvas=void 0,super.destroy()}}CH.defaultOptions={position:"bottom",enable:!0,timebarType:"time",className:"g6-timebar",width:450,height:60,zIndex:3,elementTypes:["node"],padding:10,mode:"modify",getTime:e=>OH(e,TH,void 0),loop:!1};const NH=e=>{const{nodes:t=[],edges:n=[],combos:r=[]}=e;return{nodes:[...t],edges:[...n],combos:[...r]}},PH=(e,t)=>{if(st(t))return e===t;const[n,r]=t;return e>=n&&e<=r},OH=(e,t,n)=>{var r;for(let n=0;n<t.length;n++){const i=t[n],o=null===(r=e.data)||void 0===r?void 0:r[i];if(o)return o}return n};var _H=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class RH extends uj{constructor(e,t){super(e,Object.assign({},RH.defaultOptions,t)),this.$element=cj("toolbar",!1),this.onToolbarItemClick=e=>{const{onClick:t}=this.options;if(e.target instanceof Element&&e.target.className.includes("g6-toolbar-item")){const n=e.target.getAttribute("value");null==t||t(n,e.target)}};const n=this.context.canvas.getContainer();this.$element.style.display="flex",n.appendChild(this.$element),dj("g6-toolbar-css","style",{},"\n  .g6-toolbar {\n    position: absolute;\n    z-index: 100;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);\n    opacity: 0.65;\n  }\n  .g6-toolbar .g6-toolbar-item {\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    padding: 4px;\n    cursor: pointer;\n    box-sizing: content-box;\n  }\n\n  .g6-toolbar .g6-toolbar-item:hover {\n    background-color: #f0f0f0;\n  }\n\n  .g6-toolbar .g6-toolbar-item svg {\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n  }\n",document.head),dj("g6-toolbar-svgicon","div",{display:"none"},'\n  <svg>\n    <symbol id="zoom-in" viewBox="64 64 896 896">\n      <path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>\n    </symbol>\n    <symbol id="zoom-out" viewBox="64 64 896 896">\n      <path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>\n    </symbol>\n    <symbol id="edit" viewBox="64 64 896 896">\n      <path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"></path>\n    </symbol>\n    <symbol id="delete" viewBox="64 64 896 896">\n      <path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"></path>\n    </symbol>\n    <symbol id="redo" viewBox="64 64 896 896">\n      <path d="M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"></path>\n    </symbol>\n    <symbol id="undo" viewBox="64 64 896 896">\n      <path d="M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"></path>\n    </symbol>\n    <symbol id="export" viewBox="64 64 896 896">\n      <path d="M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"></path>\n    </symbol>\n    <symbol id="auto-fit" viewBox="64 64 896 896">\n      <path d="M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"></path>\n      <path d="M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"></path>\n    </symbol>\n    <symbol id="reset" viewBox="64 64 896 896">\n      <path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"></path>\n    </symbol>\n    <symbol id="exit-fullscreen" viewBox="0 0 1024 1024">\n      <path d="M418.13333333 361.43786666c0 0.2048-0.13653333 0.4096-0.13653334 0.68266667C417.99679999 362.32533333 418.13333333 362.53013333 418.13333333 362.73493333 418.13333333 371.54133333 414.44693333 379.392 408.78079999 385.39946666 408.43946666 385.7408 408.30293333 386.21866666 408.02986666 386.49173333c-1.09226667 1.09226667-2.59413333 1.77493333-3.82293333 2.73066667C398.40426666 393.65973333 391.64586666 396.8 383.93173333 396.8 383.72693333 396.8 383.59039999 396.73173333 383.38559999 396.73173333S382.97599999 396.8 382.77119999 396.8L112.29866666 396.8C92.50133333 396.8 76.79999999 381.50826666 76.79999999 362.66666666 76.66346666 343.89333333 92.63786666 328.53333333 112.16213333 328.53333333l189.44 0L87.44959999 114.51733333C73.59146666 100.59093333 73.25013333 78.5408 86.63039999 65.29706666c13.17546667-13.44853333 35.36213333-12.97066667 49.152 0.88746667l214.08426667 214.08426667L349.86666666 90.89706666C349.79839999 71.23626666 365.22666666 55.46666666 383.99999999 55.46666666 402.77333333 55.33013333 418.13333333 71.30453333 418.13333333 90.8288L418.13333333 361.43786666zM928.90453333 328.53333333l-189.44 0 214.15253333-214.08426667c13.85813333-13.9264 14.19946667-35.90826667 0.88746667-49.22026666-13.17546667-13.44853333-35.36213333-12.97066667-49.152 0.88746666l-214.08426667 214.08426667L691.26826666 90.89706666C691.26826666 71.23626666 675.83999999 55.46666666 657.06666666 55.46666666 638.29333333 55.33013333 622.93333333 71.30453333 622.93333333 90.8288l0 270.60906666c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 362.32533333 622.93333333 362.53013333 622.93333333 362.73493333 622.93333333 371.54133333 626.61973333 379.392 632.28586666 385.39946666c0.34133333 0.34133333 0.47786667 0.8192 0.8192 1.09226667 1.09226667 1.09226667 2.59413333 1.77493333 3.8912 2.73066667C642.66239999 393.65973333 649.42079999 396.8 657.13493333 396.8c0.2048 0 0.34133333-0.06826667 0.54613333-0.06826667S658.09066666 396.8 658.29546666 396.8l270.5408 0C948.56533333 396.8 964.26666666 381.50826666 964.26666666 362.66666666 964.40319999 343.89333333 948.42879999 328.53333333 928.90453333 328.53333333zM418.13333333 635.73333333c0-8.8064-3.6864-16.5888-9.35253334-22.66453333C408.43946666 612.72746666 408.30293333 612.2496 408.02986666 611.90826666 406.86933333 610.88426666 405.43573333 610.2016 404.20693333 609.24586666 398.47253333 604.80853333 391.64586666 601.6 383.93173333 601.6 383.72693333 601.6 383.59039999 601.73653333 383.38559999 601.73653333S382.97599999 601.6 382.77119999 601.6L112.29866666 601.6C92.50133333 601.6 76.79999999 616.96 76.79999999 635.73333333 76.66346666 654.50666666 92.63786666 669.86666666 112.16213333 669.86666666l189.44 0-214.15253334 214.15253334c-13.85813333 13.85813333-14.19946667 35.84-0.88746666 49.22026666 13.17546667 13.44853333 35.36213333 12.9024 49.152-0.95573333l214.08426666-214.08426667 0 189.37173334c0 19.59253333 15.42826667 35.49866667 34.2016 35.36213333C402.77333333 943.2064 418.13333333 927.232 418.13333333 907.5712L418.13333333 637.09866666c0-0.27306667-0.13653333-0.47786667-0.13653334-0.68266666C417.99679999 636.14293333 418.13333333 635.93813333 418.13333333 635.73333333zM739.46453333 669.86666666l189.44 0c19.456 0 35.49866667-15.36 35.36213333-34.13333333C964.26666666 616.96 948.56533333 601.6 928.76799999 601.6L658.29546666 601.6C658.09066666 601.6 657.88586666 601.73653333 657.68106666 601.73653333S657.33973333 601.6 657.13493333 601.6C649.42079999 601.6 642.59413333 604.80853333 636.85973333 609.24586666 635.63093333 610.2016 634.19733333 610.88426666 633.03679999 611.90826666 632.76373333 612.2496 632.62719999 612.72746666 632.28586666 613.0688 626.61973333 619.14453333 622.93333333 626.92693333 622.93333333 635.73333333c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 636.6208 622.93333333 636.8256 622.93333333 637.09866666l0 270.5408C622.93333333 927.232 638.29333333 943.2064 657.06666666 942.93333333c18.77333333 0.13653333 34.2016-15.70133333 34.2016-35.36213333l0-189.37173334 214.08426667 214.08426667c13.78986667 13.85813333 35.90826667 14.40426667 49.152 0.95573333 13.312-13.312 12.97066667-35.36213333-0.88746667-49.22026666L739.46453333 669.86666666z"  ></path></symbol>\n    <symbol id="request-fullscreen" viewBox="0 0 1024 1024">\n      <path d="M69.818182 87.598545v273.128728a34.909091 34.909091 0 0 0 69.818182 0V163.653818l221.928727 222.021818a33.512727 33.512727 0 0 0 47.383273-47.383272L186.926545 116.363636h197.073455a34.909091 34.909091 0 0 0 0-69.818181H110.871273C85.364364 46.545455 69.818182 59.671273 69.818182 87.598545zM938.542545 46.545455H665.413818a34.909091 34.909091 0 0 0 0 69.818181h197.073455L640.465455 338.292364a33.512727 33.512727 0 0 0 47.383272 47.383272l221.928728-222.021818v197.073455a34.909091 34.909091 0 0 0 69.818181 0V87.598545c0-27.927273-15.453091-41.053091-40.96-41.05309z m-827.671272 907.636363h273.128727a34.909091 34.909091 0 0 0 0-69.818182H186.926545l222.021819-221.928727a33.512727 33.512727 0 0 0-47.383273-47.383273L139.636364 837.073455V640a34.909091 34.909091 0 0 0-69.818182 0v273.128727c0 27.927273 15.546182 41.053091 41.053091 41.053091z m868.724363-41.053091V640a34.909091 34.909091 0 0 0-69.818181 0v197.073455L687.941818 615.051636a33.512727 33.512727 0 0 0-47.383273 47.383273L862.487273 884.363636H665.413818a34.909091 34.909091 0 0 0 0 69.818182h273.128727c25.6 0 41.053091-13.125818 41.053091-41.053091z"  ></path></symbol>\n  </svg>\n'),this.$element.addEventListener("click",this.onToolbarItemClick),this.update(t)}update(e){const t=Object.create(null,{update:{get:()=>super.update}});return _H(this,void 0,void 0,(function*(){t.update.call(this,e);const{className:n,position:r,style:i}=this.options;this.$element.className=`g6-toolbar ${n||""}`,Object.assign(this.$element.style,i,function(e){const t={top:"unset",right:"unset",bottom:"unset",left:"unset"};return e.split("-").forEach((e=>{t[e]="8px"})),t.flexDirection=e.startsWith("top")||e.startsWith("bottom")?"row":"column",t}(r)),this.$element.innerHTML=yield this.getDOMContent()}))}destroy(){this.$element.removeEventListener("click",this.onToolbarItemClick),this.$element.remove(),super.destroy()}getDOMContent(){return _H(this,void 0,void 0,(function*(){return(yield this.options.getItems()).map((e=>`\n          <div class="g6-toolbar-item" value="${e.value}">\n            <svg aria-hidden="true" focusable="false">\n              <use xlink:href="#${e.id}"></use>\n            </svg>\n          </div>`)).join("")}))}}RH.defaultOptions={position:"top-left"};var AH=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class DH extends uj{constructor(e,t){super(e,Object.assign({},DH.defaultOptions,t)),this.currentTarget=null,this.tooltipElement=null,this.container=null,this.isEnable=(e,t)=>{const{enable:n}=this.options;return"function"==typeof n?n(e,t):n},this.onClick=e=>{const{target:{id:t}}=e;this.currentTarget===t?this.hide(e):this.show(e)},this.onPointerMove=e=>{const{target:t}=e;this.currentTarget&&t.id!==this.currentTarget&&this.show(e)},this.onPointerLeave=e=>{this.hide(e)},this.onCanvasMove=e=>{this.hide(e)},this.onPointerEnter=e=>{this.show(e)},this.showById=e=>AH(this,void 0,void 0,(function*(){const t={target:{id:e}};yield this.show(t)})),this.getElementData=(e,t)=>{const{model:n}=this.context;switch(t){case"node":return n.getNodeData([e]);case"edge":return n.getEdgeData([e]);case"combo":return n.getComboData([e]);default:return[]}},this.show=e=>AH(this,void 0,void 0,(function*(){var t,n;const{client:r,target:{id:i}}=e;if(Wg(e.target))return;const o=this.context.graph.getElementType(i),{getContent:a,title:s}=this.options,l=this.getElementData(i,o);if(!this.tooltipElement||!this.isEnable(e,l))return;let u,c,d={};if(a){if(d.content=yield a(e,l),!d.content)return}else{const e=this.context.graph.getElementRenderStyle(i),t="node"===o?e.fill:e.stroke;d={title:s||o,data:l.map((e=>({name:"ID",value:e.id||`${e.source} -> ${e.target}`,color:t})))}}if(this.currentTarget=i,r)u=r.x,c=r.y;else{const e=Nt(l,"0.style",{x:0,y:0});u=e.x,c=e.y}null===(n=(t=this.options).onOpenChange)||void 0===n||n.call(t,!0),this.tooltipElement.update(Object.assign(Object.assign(Object.assign({},this.tooltipStyleProps),{x:u,y:c,style:{".tooltip":{visibility:"visible"}}}),d))})),this.hide=e=>{var t,n,r,i,o;if(!e)return null===(n=(t=this.options).onOpenChange)||void 0===n||n.call(t,!1),null===(r=this.tooltipElement)||void 0===r||r.hide(),void(this.currentTarget=null);if(!this.tooltipElement)return;if(!this.currentTarget)return;const{client:{x:a,y:s}}=e;null===(o=(i=this.options).onOpenChange)||void 0===o||o.call(i,!1),this.tooltipElement.hide(a,s),this.currentTarget=null},this.initTooltip=()=>{var e;const t=new FV({className:"tooltip",style:this.tooltipStyleProps});return null===(e=this.container)||void 0===e||e.appendChild(t.HTMLTooltipElement),t},this.render(),this.bindEvents()}getEvents(){return"click"===this.options.trigger?{"node:click":this.onClick,"edge:click":this.onClick,"combo:click":this.onClick,"canvas:click":this.onPointerLeave,contextmenu:this.onPointerLeave,drag:this.onPointerLeave}:{"node:pointerenter":this.onPointerEnter,"node:pointermove":this.onPointerMove,"canvas:pointermove":this.onCanvasMove,"edge:pointerenter":this.onPointerEnter,"edge:pointermove":this.onPointerMove,"combo:pointerenter":this.onPointerEnter,"combo:pointermove":this.onPointerMove,contextmenu:this.onPointerLeave,"node:drag":this.onPointerLeave}}update(e){var t;this.unbindEvents(),super.update(e),this.tooltipElement&&(null===(t=this.container)||void 0===t||t.removeChild(this.tooltipElement.HTMLTooltipElement)),this.tooltipElement=this.initTooltip(),this.bindEvents()}render(){const{canvas:e}=this.context,t=e.getContainer();t&&(this.container=t,this.tooltipElement=this.initTooltip())}unbindEvents(){const{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach((n=>{e.off(n,t[n])}))}bindEvents(){const{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach((n=>{e.on(n,t[n])}))}get tooltipStyleProps(){const{canvas:e}=this.context,{center:t}=e.getBounds(),n=e.getContainer(),{top:r,left:i}=n.getBoundingClientRect(),{style:o,position:a,enterable:s,container:l={x:-i,y:-r},title:u,offset:c}=this.options,[d,f]=t,[h,p]=e.getSize();return{x:d,y:f,container:l,title:u,bounding:{x:0,y:0,width:h,height:p},position:a,enterable:s,offset:c,style:o}}destroy(){var e;this.unbindEvents(),this.tooltipElement&&(null===(e=this.container)||void 0===e||e.removeChild(this.tooltipElement.HTMLTooltipElement)),super.destroy()}}DH.defaultOptions={trigger:"hover",position:"top-right",enterable:!1,enable:!0,offset:[10,10],style:{".tooltip":{visibility:"hidden"}}};var LH=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};let IH;function zH(e,t){IH||(IH=document.createElement("canvas")),IH.width=e,IH.height=t;return IH.getContext("2d").clearRect(0,0,e,t),IH}var jH=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},FH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class BH extends uj{constructor(e,t){super(e,Object.assign({},BH.defaultOptions,t)),this.$element=cj("watermark");this.context.canvas.getContainer().appendChild(this.$element),this.update(t)}update(e){const t=Object.create(null,{update:{get:()=>super.update}});return jH(this,void 0,void 0,(function*(){t.update.call(this,e);const n=this.options,{width:r,height:i,text:o,imageURL:a}=n,s=FH(n,["width","height","text","imageURL"]);Object.keys(s).forEach((t=>{t.startsWith("background")&&(this.$element.style[t]=e[t])}));const l=a?yield function(e,t,n,r){return LH(this,void 0,void 0,(function*(){const i=zH(e,t),o=i.getContext("2d"),{rotate:a,opacity:s}=r;a&&o.rotate(a),s&&(o.globalAlpha=s);const l=new Image;return l.crossOrigin="anonymous",l.src=n,new Promise((n=>{l.onload=function(){const r=e>l.width?(e-l.width)/2:0,a=t>l.height?(t-l.height)/2:0;o.drawImage(l,0,0,l.width,l.height,r,a,e-2*r,t-2*a),n(i.toDataURL())}}))}))}(r,i,a,s):yield function(e,t,n,r){return LH(this,void 0,void 0,(function*(){const i=zH(e,t),o=i.getContext("2d"),{rotate:a,opacity:s,textFill:l,textFontSize:u,textFontFamily:c,textFontVariant:d,textFontWeight:f,textAlign:h,textBaseline:p}=r;return o.textAlign=h,o.textBaseline=p,o.translate(e/2,t/2),o.font=`${u}px ${c} ${d} ${f}`,a&&o.rotate(a),s&&(o.globalAlpha=s),l&&(o.fillStyle=l,o.fillText(`${n}`,0,0)),i.toDataURL()}))}(r,i,o,s);this.$element.style.backgroundImage=`url(${l})`}))}destroy(){super.destroy(),this.$element.remove()}}BH.defaultOptions={width:200,height:100,opacity:.2,rotate:Math.PI/12,text:"",textFill:"#000",textFontSize:16,textAlign:"center",textBaseline:"middle",backgroundRepeat:"repeat"};const UH=["#7E92B5","#F4664A","#FFBE3A"],WH={type:"group",color:["#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]},VH={type:"group",color:["#99ADD1","#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]};function HH(e){const{bgColor:t,textColor:n,nodeColor:r,nodeColorDisabled:i,nodeStroke:o,nodeHaloStrokeOpacityActive:a=.15,nodeHaloStrokeOpacitySelected:s=.25,nodeOpacityDisabled:l=.06,nodeIconOpacityInactive:u=.85,nodeOpacityInactive:c=.25,nodeBadgePalette:d=UH,nodePaletteOptions:f=WH,edgeColor:h,edgeColorDisabled:p,edgePaletteOptions:g=VH,comboColor:v,comboColorDisabled:m,comboStroke:y,comboStrokeDisabled:b,edgeColorInactive:w}=e;return{background:t,node:{palette:f,style:{donutOpacity:1,badgeBackgroundOpacity:1,badgeFill:"#fff",badgeFontSize:8,badgePadding:[0,4],badgePalette:d,fill:r,fillOpacity:1,halo:!1,iconFill:"#fff",iconOpacity:1,labelBackground:!1,labelBackgroundFill:t,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelFill:n,labelFillOpacity:.85,labelLineHeight:16,labelPadding:[0,2],labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelOffsetY:2,lineWidth:0,portFill:r,portLineWidth:1,portStroke:o,portStrokeOpacity:.65,size:32,stroke:o,strokeOpacity:1,zIndex:2},state:{selected:{halo:!0,haloLineWidth:24,haloStrokeOpacity:s,labelFontSize:12,labelFontWeight:"bold",lineWidth:4,stroke:o},active:{halo:!0,haloLineWidth:12,haloStrokeOpacity:a},highlight:{labelFontWeight:"bold",lineWidth:4,stroke:o,strokeOpacity:.85},inactive:{badgeBackgroundOpacity:c,donutOpacity:c,fillOpacity:c,iconOpacity:u,labelFill:n,labelFillOpacity:c,strokeOpacity:c},disabled:{badgeBackgroundOpacity:.25,donutOpacity:l,fill:i,fillOpacity:l,iconFill:i,iconOpacity:.25,labelFill:n,labelFillOpacity:.25,strokeOpacity:l}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"node-expand",collapse:"node-collapse",update:[{fields:["x","y","fill","stroke"]}],translate:[{fields:["x","y"]}]}},edge:{palette:g,style:{badgeBackgroundFill:h,badgeFill:"#fff",badgeFontSize:8,badgeOffsetX:10,fillOpacity:1,halo:!1,haloLineWidth:12,haloStrokeOpacity:1,increasedLineWidthForHitTesting:2,labelBackground:!1,labelBackgroundFill:t,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[4,4,4,4],labelFill:n,labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelPlacement:"center",labelTextBaseline:"middle",lineWidth:1,stroke:h,strokeOpacity:1,zIndex:1},state:{selected:{halo:!0,haloStrokeOpacity:.25,labelFontSize:14,labelFontWeight:"bold",lineWidth:3},active:{halo:!0,haloStrokeOpacity:.15},highlight:{labelFontWeight:"bold",lineWidth:3},inactive:{stroke:w,fillOpacity:.08,labelOpacity:.25,strokeOpacity:.08,badgeBackgroundOpacity:.25},disabled:{stroke:p,fillOpacity:.45,strokeOpacity:.45,labelOpacity:.25,badgeBackgroundOpacity:.45}},animation:{enter:"fade",exit:"fade",expand:"path-in",collapse:"path-out",show:"fade",hide:"fade",update:[{fields:["sourceNode","targetNode"]},{fields:["stroke"],shape:"key"}],translate:[{fields:["sourceNode","targetNode"]}]}},combo:{style:{collapsedMarkerFill:t,collapsedMarkerFontSize:12,collapsedMarkerFillOpacity:1,collapsedSize:32,collapsedFillOpacity:1,fill:v,halo:!1,haloLineWidth:12,haloStroke:y,haloStrokeOpacity:.25,labelBackground:!1,labelBackgroundFill:t,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[2,4,2,4],labelFill:n,labelFontSize:12,labelFontWeight:400,labelOpacity:1,lineDash:0,lineWidth:1,fillOpacity:.04,strokeOpacity:1,padding:10,stroke:y},state:{selected:{halo:!0,labelFontSize:14,labelFontWeight:700,lineWidth:4},active:{halo:!0},highlight:{labelFontWeight:700,lineWidth:4},inactive:{fillOpacity:.65,labelOpacity:.25,strokeOpacity:.65},disabled:{fill:m,fillOpacity:.25,labelOpacity:.25,stroke:b,strokeOpacity:.25}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"combo-expand",collapse:"combo-collapse",update:[{fields:["x","y"]},{fields:["fill","stroke","lineWidth"],shape:"key"}],translate:[{fields:["x","y"]}]}}}}const GH=HH({bgColor:"#000000",comboColor:"#fdfdfd",comboColorDisabled:"#d0e4ff",comboStroke:"#99add1",comboStrokeDisabled:"#969696",edgeColor:"#637088",edgeColorDisabled:"#637088",edgeColorInactive:"#D0E4FF",edgePaletteOptions:{type:"group",color:["#637088","#0F55A6","#008383","#9C5D38","#8B53A6","#4E40A6","#8F6608","#3E801D","#A65383","#175E75","#0F8248"]},nodeColor:"#1783ff",nodeColorDisabled:"#D0E4FF",nodeHaloStrokeOpacityActive:.25,nodeHaloStrokeOpacitySelected:.45,nodeIconOpacityInactive:.45,nodeOpacityDisabled:.25,nodeOpacityInactive:.45,nodeStroke:"#d0e4ff",textColor:"#ffffff"}),$H=HH({bgColor:"#ffffff",comboColor:"#99ADD1",comboColorDisabled:"#f0f0f0",comboStroke:"#99add1",comboStrokeDisabled:"#d9d9d9",edgeColor:"#99add1",edgeColorDisabled:"#d9d9d9",edgeColorInactive:"#1B324F",nodeColor:"#1783ff",nodeColorDisabled:"#1B324F",nodeHaloStrokeOpacityActive:.15,nodeHaloStrokeOpacitySelected:.25,nodeIconOpacityInactive:.85,nodeOpacityDisabled:.06,nodeOpacityInactive:.25,nodeStroke:"#000000",textColor:"#000000"});class YH extends Dd{beforeDraw(e,t){return e}afterLayout(e,t){}}function qH(e,t,n,r,i){const o=wd(r),a=`${n}s`,s=i?r:e.add[a].get(o)||e.update[a].get(o)||e.remove[a].get(o)||r;Object.entries(e).forEach((([e,n])=>{t===e?n[a].set(o,s):n[a].delete(o)}))}function KH(e,t){return Object.keys(e).every((n=>e[n]===t[n]))}const XH=(e,t,n,r)=>{const i=`${n}s`,o=wd(r);e.add[i].has(o)||e.update[i].has(o)||e[t][i].set(wd(r),r)};
/*!
   * @antv/g-plugin-dragndrop
   * @description A G plugin for Drag n Drop implemented with PointerEvents
   * @version 2.0.30
   * @date 1/2/2025, 2:55:43 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */
var QH=function(){function e(t){l(this,e),this.dragndropPluginOptions=t}return c(e,[{key:"apply",value:function(t){var n=this,r=t.renderingService,i=t.renderingContext.root.ownerDocument,o=i.defaultView,a=function(e){var t=e.target,r=t===i,a=r&&n.dragndropPluginOptions.isDocumentDraggable?i:t.closest&&t.closest("[draggable=true]");if(a){var s=!1,l=e.timeStamp,u=[e.clientX,e.clientY],c=null,d=[e.clientX,e.clientY],f=function(){var e=Rr(Or().mark((function e(o){var f,h,p,g,v,m;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=8;break}if(f=o.timeStamp-l,h=vn([o.clientX,o.clientY],u),!(f<=n.dragndropPluginOptions.dragstartTimeThreshold||h<=n.dragndropPluginOptions.dragstartDistanceThreshold)){e.next=5;break}return e.abrupt("return");case 5:o.type="dragstart",a.dispatchEvent(o),s=!0;case 8:if(o.type="drag",o.dx=o.clientX-d[0],o.dy=o.clientY-d[1],a.dispatchEvent(o),d=[o.clientX,o.clientY],r){e.next=21;break}return p="pointer"===n.dragndropPluginOptions.overlap?[o.canvasX,o.canvasY]:t.getBounds().center,e.next=17,i.elementsFromPoint(p[0],p[1]);case 17:g=e.sent,v=g[g.indexOf(t)+1],m=(null==v?void 0:v.closest("[droppable=true]"))||(n.dragndropPluginOptions.isDocumentDroppable?i:null),c!==m&&(c&&(o.type="dragleave",o.target=c,c.dispatchEvent(o)),m&&(o.type="dragenter",o.target=m,m.dispatchEvent(o)),(c=m)&&(o.type="dragover",o.target=c,c.dispatchEvent(o)));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();o.addEventListener("pointermove",f);var h=function(e){if(s){e.detail={preventClick:!0};var t=e.clone();c&&(t.type="drop",t.target=c,c.dispatchEvent(t)),t.type="dragend",a.dispatchEvent(t),s=!1}o.removeEventListener("pointermove",f)};t.addEventListener("pointerup",h,{once:!0}),t.addEventListener("pointerupoutside",h,{once:!0})}};r.hooks.init.tap(e.tag,(function(){o.addEventListener("pointerdown",a)})),r.hooks.destroy.tap(e.tag,(function(){o.removeEventListener("pointerdown",a)}))}}])}();QH.tag="Dragndrop";var ZH=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,t),(e=m(this,t)).name="dragndrop",e.options=n,e}return b(t,e),c(t,[{key:"init",value:function(){this.addRenderingPlugin(new QH(s({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(e){Object.assign(this.plugins[0].dragndropPluginOptions,e)}}])}(Fr),JH=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},eG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const tG=["main"],nG=["background","main","label","transient"];class rG{getConfig(){return this.config}getLayer(e="main"){return this.extends.layers[e]||this.getLayers().main}getLayers(){return this.extends.layers}getRenderer(e){return this.extends.renderers[e]}getCamera(e="main"){return this.getLayer(e).getCamera()}getRoot(e="main"){return this.getLayer(e).getRoot()}getContextService(e="main"){return this.getLayer(e).getContextService()}setCursor(e){this.config.cursor=e,this.getLayer().setCursor(e)}get document(){return this.getLayer().document}get context(){return this.getLayer().context}constructor(e){this.config={enableMultiLayer:!0},Object.assign(this.config,e);const t=this.config,{renderer:n,background:r,cursor:i,enableMultiLayer:o}=t,a=eG(t,["renderer","background","cursor","enableMultiLayer"]),s=o?nG:tG,l=iG(n,s),u=Object.fromEntries(s.map((e=>[e,new fu(Object.assign(Object.assign({},a),{supportsMutipleCanvasesInOneContainer:o,renderer:l[e],background:o?"background"===e?r:void 0:r}))])));oG(u),this.extends={config:this.config,renderer:n,renderers:l,layers:u}}get ready(){return Promise.all(Object.entries(this.getLayers()).map((([,e])=>e.ready)))}resize(e,t){Object.assign(this.extends.config,{width:e,height:t}),Object.values(this.getLayers()).forEach((n=>{const r=n.getCamera(),i=r.getPosition(),o=r.getFocalPoint();n.resize(e,t),r.setPosition(i),r.setFocalPoint(o)}))}getBounds(e){return td(Object.values(this.getLayers()).map((t=>e?t.getRoot().childNodes.find((t=>t.classList.includes(e))):t.getRoot())).filter((e=>(null==e?void 0:e.childNodes.length)>0)).map((e=>e.getBounds())))}getContainer(){const e=this.extends.config.container;return"string"==typeof e?document.getElementById(e):e}getSize(){return[this.extends.config.width||0,this.extends.config.height||0]}appendChild(e,t){var n;const r=(null===(n=e.style)||void 0===n?void 0:n.$layer)||"main";return this.getLayer(r).appendChild(e,t)}setRenderer(e){if(e===this.extends.renderer)return;const t=iG(e,this.config.enableMultiLayer?nG:tG);this.extends.renderers=t,Object.entries(t).forEach((([e,t])=>this.getLayer(e).setRenderer(t))),oG(this.getLayers())}getCanvasByViewport(e){return rf(this.getLayer().viewport2Canvas(of(e)))}getViewportByCanvas(e){return rf(this.getLayer().canvas2Viewport(of(e)))}getViewportByClient(e){return rf(this.getLayer().client2Viewport(of(e)))}getClientByViewport(e){return rf(this.getLayer().viewport2Client(of(e)))}getClientByCanvas(e){return this.getClientByViewport(this.getViewportByCanvas(e))}getCanvasByClient(e){const t=this.getLayer(),n=t.client2Viewport(of(e));return rf(t.viewport2Canvas(n))}toDataURL(){return JH(this,arguments,void 0,(function*(e={}){const t=globalThis.devicePixelRatio||1,{mode:n="viewport"}=e,r=eG(e,["mode"]);let[i,o,a,s]=[0,0,0,0];if("viewport"===n)[a,s]=this.getSize();else if("overall"===n){const e=this.getBounds(),t=Qc(e);[i,o]=e.min,[a,s]=t}const l=On('<div id="virtual-image"></div>'),u=new fu({width:a,height:s,renderer:new Pp,devicePixelRatio:t,container:l,background:this.extends.config.background});yield u.ready,u.appendChild(this.getLayer("background").getRoot().cloneNode(!0)),u.appendChild(this.getRoot().cloneNode(!0));const c=this.getLayer("label").getRoot().cloneNode(!0),d=u.viewport2Canvas({x:0,y:0}),f=this.getCanvasByViewport([0,0]);c.translate([f[0]-d.x,f[1]-d.y]),c.scale(1/this.getCamera().getZoom()),u.appendChild(c),u.appendChild(this.getLayer("transient").getRoot().cloneNode(!0));const h=this.getCamera(),p=u.getCamera();if("viewport"===n)p.setZoom(h.getZoom()),p.setPosition(h.getPosition()),p.setFocalPoint(h.getFocalPoint());else if("overall"===n){const[e,t,n]=p.getPosition(),[r,a,s]=p.getFocalPoint();p.setPosition([e+i,t+o,n]),p.setFocalPoint([r+i,a+o,s])}const g=u.getContextService();return new Promise((e=>{u.addEventListener(au.RERENDER,(()=>JH(this,void 0,void 0,(function*(){yield new Promise((e=>setTimeout(e,300)));const t=yield g.toDataURL(r);e(t)}))))}))}))}destroy(){Object.values(this.getLayers()).forEach((e=>{e.getCamera().cancelLandmarkAnimation(),e.destroy()}))}}function iG(e,t){return Object.fromEntries(t.map((t=>{const n=(null==e?void 0:e(t))||new Pp;return"main"===t?n.registerPlugin(new ZH({isDocumentDraggable:!0,isDocumentDroppable:!0,dragstartDistanceThreshold:10,dragstartTimeThreshold:100})):n.unregisterPlugin(n.getPlugin("dom-interaction")),[t,n]})))}function oG(e){Object.entries(e).forEach((([e,t])=>{const n=t.getContextService().getDomElement();(null==n?void 0:n.style)&&(n.style.gridArea="1 / 1 / 2 / 2",n.style.outline="none",n.tabIndex=1,"main"!==e&&(n.style.pointerEvents="none")),(null==n?void 0:n.parentElement)&&(n.parentElement.style.display="grid")}))}const aG=e=>e?parseInt(e):0;function sG(e){if(!e)return[0,0];let t=640,n=480;const[r,i]=function(e){const t=getComputedStyle(e),n=e.clientWidth||aG(t.width),r=e.clientHeight||aG(t.height);return[n-(aG(t.paddingLeft)+aG(t.paddingRight)),r-(aG(t.paddingTop)+aG(t.paddingBottom))]}(e);t=r||t,n=i||n;return[Math.max(st(t)?t:1,1),Math.max(st(n)?n:1,1)]}class lG{constructor(e){this.type=e}}class uG extends lG{constructor(e,t){super(e),this.data=t}}class cG extends lG{constructor(e,t,n,r){super(e),this.animationType=t,this.animation=n,this.data=r}}class dG extends lG{constructor(e,t,n){super(e),this.elementType=t,this.data=n}}class fG extends lG{constructor(e,t){super(e),this.data=t}}function hG(e,t){e.emit(t.type,t)}function pG(e){var t;return(null===(t=null==e?void 0:e.style)||void 0===t?void 0:t.zIndex)||0}const gG="cachedStyle",vG=e=>`__${e}__`;function mG(e,t){return Nt(e,[gG,vG(t)])}class yG{constructor(e){this.tasks=[],this.animations=new Set,this.context=e}getTasks(){const e=[...this.tasks];return this.tasks=[],e}add(e,t){this.tasks.push([e,t])}animate(e,t,n){var r,i,o;null===(r=null==t?void 0:t.before)||void 0===r||r.call(t);const a=this.getTasks().map((([t,r])=>{var i,o,a;const{element:s,elementType:l,stage:u}=t,c=Lc(this.context.options,l,u,e);null===(i=null==r?void 0:r.before)||void 0===i||i.call(r);const d=c.length?jc(s,this.inferStyle(t,n),c):null;return d?(null===(o=null==r?void 0:r.beforeAnimate)||void 0===o||o.call(r,d),d.finished.then((()=>{var e,t;null===(e=null==r?void 0:r.afterAnimate)||void 0===e||e.call(r,d),null===(t=null==r?void 0:r.after)||void 0===t||t.call(r),this.animations.delete(d)}))):null===(a=null==r?void 0:r.after)||void 0===a||a.call(r),d})).filter(Boolean);a.forEach((e=>this.animations.add(e)));const s=_c(a);return s?(null===(i=null==t?void 0:t.beforeAnimate)||void 0===i||i.call(t,s),s.finished.then((()=>{var e,n;null===(e=null==t?void 0:t.afterAnimate)||void 0===e||e.call(t,s),null===(n=null==t?void 0:t.after)||void 0===n||n.call(t),this.release()}))):null===(o=null==t?void 0:t.after)||void 0===o||o.call(t),s}inferStyle(e,t){var n,r;const{element:i,elementType:o,stage:a,originalStyle:s,updatedStyle:l={}}=e;e.modifiedStyle||(e.modifiedStyle=Object.assign(Object.assign({},s),l));const{modifiedStyle:u}=e,c={},d={};if("enter"===a)Object.assign(c,{opacity:0});else if("exit"===a)Object.assign(d,{opacity:0});else if("show"===a)Object.assign(c,{opacity:0}),Object.assign(d,{opacity:null!==(n=mG(i,"opacity"))&&void 0!==n?n:Ac("opacity")});else if("hide"===a)Object.assign(c,{opacity:null!==(r=mG(i,"opacity"))&&void 0!==r?r:Ac("opacity")}),Object.assign(d,{opacity:0});else if("collapse"===a){const{collapse:e}=t||{},{target:n,descendants:r,position:a}=e;if("node"===o){if(r.includes(i.id)){const[e,t,n]=a;Object.assign(d,{x:e,y:t,z:n})}}else if("combo"===o){if(i.id===n||r.includes(i.id)){const[e,t]=a;Object.assign(d,{x:e,y:t,childrenNode:s.childrenNode})}}else"edge"===o&&Object.assign(d,{sourceNode:u.sourceNode,targetNode:u.targetNode})}else if("expand"===a){const{expand:e}=t||{},{target:n,descendants:r,position:a}=e;if("node"===o){if(i.id===n||r.includes(i.id)){const[e,t,n]=a;Object.assign(c,{x:e,y:t,z:n})}}else if("combo"===o){if(i.id===n||r.includes(i.id)){const[e,t,n]=a;Object.assign(c,{x:e,y:t,z:n,childrenNode:u.childrenNode})}}else"edge"===o&&Object.assign(c,{sourceNode:u.sourceNode,targetNode:u.targetNode})}return[Object.keys(c).length>0?Object.assign({},s,c):s,Object.keys(d).length>0?Object.assign({},u,d):u]}stop(){this.animations.forEach((e=>e.cancel()))}clear(){this.tasks=[]}release(){var e,t;const{canvas:n}=this.context,r=null===(t=null===(e=n.document)||void 0===e?void 0:e.timeline)||void 0===t?void 0:t.animationsWithPromises;r&&(n.document.timeline.animationsWithPromises=r.filter((e=>"finished"!==e.playState)))}destroy(){this.stop(),this.animations.clear(),this.tasks=[]}}class bG{constructor(e){this.batchCount=0,this.context=e}emit(e){const{graph:t}=this.context;t.emit(e.type,e)}startBatch(e=!0){this.batchCount++,1===this.batchCount&&this.emit(new uG(wc.BATCH_START,{initiate:e}))}endBatch(){this.batchCount--,0===this.batchCount&&this.emit(new uG(wc.BATCH_END))}get isBatching(){return this.batchCount>0}destroy(){this.context=null}}class wG extends Ad{constructor(e){super(e),this.currentTarget=null,this.currentTargetType=null,this.category="behavior",this.forwardCanvasEvents=e=>{const{target:t}=e,n=function(e){if(!e)return null;if(e instanceof eu)return{type:"canvas",element:e};let t=e;for(;t;){if(Ng(t))return{type:"node",element:t};if(Pg(t))return{type:"edge",element:t};if(Og(t))return{type:"combo",element:t};t=t.parentElement}return null}(t);if(!n)return;const{graph:r,canvas:i}=this.context,{type:o,element:a}=n;if("destroyed"in a&&(Wg(a)||a.destroyed))return;const{type:s,detail:l,button:u}=e,c=Object.assign(Object.assign({},e),{target:a,targetType:o,originalTarget:t});s===mc.POINTER_MOVE&&(this.currentTarget!==a&&(this.currentTarget&&r.emit(`${this.currentTargetType}:${mc.POINTER_LEAVE}`,Object.assign(Object.assign({},c),{type:mc.POINTER_LEAVE,target:this.currentTarget,targetType:this.currentTargetType})),a&&(Object.assign(c,{type:mc.POINTER_ENTER}),r.emit(`${o}:${mc.POINTER_ENTER}`,c))),this.currentTarget=a,this.currentTargetType=o),s===mc.CLICK&&2===u||(r.emit(`${o}:${s}`,c),r.emit(s,c)),s===mc.CLICK&&2===l&&(Object.assign(c,{type:mc.DBLCLICK}),r.emit(`${o}:${mc.DBLCLICK}`,c),r.emit(mc.DBLCLICK,c)),s===mc.POINTER_DOWN&&2===u&&(Object.assign(c,{type:mc.CONTEXT_MENU,preventDefault:()=>{var e;null===(e=i.getContainer())||void 0===e||e.addEventListener(mc.CONTEXT_MENU,(e=>e.preventDefault()),{once:!0})}}),r.emit(`${o}:${mc.CONTEXT_MENU}`,c),r.emit(mc.CONTEXT_MENU,c))},this.forwardContainerEvents=e=>{this.context.graph.emit(e.type,e)},this.forwardEvents(),this.setBehaviors(this.context.options.behaviors||[])}setBehaviors(e){this.setExtensions(e)}forwardEvents(){const e=this.context.canvas.getContainer();e&&[yc.KEY_DOWN,yc.KEY_UP].forEach((t=>{e.addEventListener(t,this.forwardContainerEvents)}));const t=this.context.canvas.document;t&&[mc.CLICK,mc.DBLCLICK,mc.POINTER_OVER,mc.POINTER_LEAVE,mc.POINTER_ENTER,mc.POINTER_MOVE,mc.POINTER_OUT,mc.POINTER_DOWN,mc.POINTER_UP,mc.CONTEXT_MENU,mc.DRAG_START,mc.DRAG,mc.DRAG_END,mc.DRAG_ENTER,mc.DRAG_OVER,mc.DRAG_LEAVE,mc.DROP,mc.WHEEL].forEach((e=>{t.addEventListener(e,this.forwardCanvasEvents)}))}destroy(){const e=this.context.canvas.getContainer();e&&[yc.KEY_DOWN,yc.KEY_UP].forEach((t=>{e.removeEventListener(t,this.forwardContainerEvents)})),this.context.canvas.document.removeAllEventListeners(),super.destroy()}}var xG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function EG(e,t){const{data:n,style:r}=e,i=xG(e,["data","style"]),{data:o,style:a}=t,s=xG(t,["data","style"]),l=Object.assign(Object.assign({},i),s);return(n||o)&&Object.assign(l,{data:Object.assign(Object.assign({},n),o)}),(r||a)&&Object.assign(l,{style:Object.assign(Object.assign({},r),a)}),l}function kG(e){const{data:t,style:n}=e,r=xG(e,["data","style"]);return t&&(r.data=Object.assign({},t)),n&&(r.style=Object.assign({},n)),r}function SG(e={},t={}){const{states:n=[],data:r={},style:i={},children:o=[]}=e,a=xG(e,["states","data","style","children"]),{states:s=[],data:l={},style:u={},children:c=[]}=t,d=(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])),f=(e,t)=>{const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((n=>e[n]===t[n]))};return!!f(a,xG(t,["states","data","style","children"]))&&(!!d(o,c)&&(!!d(n,s)&&(!!f(r,l)&&!!f(i,u))))}var MG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function TG(e){const{id:t=wd(e),style:n,data:r}=e,i=MG(e,["id","style","data"]),o=Object.assign(Object.assign({},e),{style:Object.assign({},n),data:Object.assign({},r)});return function(e){return"source"in e&&"target"in e}(e)?Object.assign({id:t,data:o},i):{id:t,data:o}}function CG(e){return e.data}class NG{constructor(){this.latestRemovedComboIds=new Set,this.comboIds=new Set,this.changes=[],this.batchCount=0,this.isTraceless=!1,this.enableUpdateNodeLikeHierarchy=!0,this.model=new rv}pushChange(e){if(this.isTraceless)return;const{type:t}=e;if(t===hc.NodeUpdated||t===hc.EdgeUpdated||t===hc.ComboUpdated){const{value:n,original:r}=e;this.changes.push({value:kG(n),original:kG(r),type:t})}else this.changes.push({value:kG(e.value),type:t})}getChanges(){return this.changes}clearChanges(){this.changes=[]}batch(e){this.batchCount++,this.model.batch(e),this.batchCount--}isBatching(){return this.batchCount>0}silence(e){this.isTraceless=!0,e(),this.isTraceless=!1}isCombo(e){return this.comboIds.has(e)||this.latestRemovedComboIds.has(e)}getData(){return{nodes:this.getNodeData(),edges:this.getEdgeData(),combos:this.getComboData()}}getNodeData(e){return this.model.getAllNodes().reduce(((t,n)=>{const r=CG(n);return this.isCombo(wd(r))||(void 0===e||e.includes(wd(r)))&&t.push(r),t}),[])}getEdgeDatum(e){return CG(this.model.getEdge(e))}getEdgeData(e){return this.model.getAllEdges().reduce(((t,n)=>{const r=CG(n);return(void 0===e||e.includes(wd(r)))&&t.push(r),t}),[])}getComboData(e){return this.model.getAllNodes().reduce(((t,n)=>{const r=CG(n);return this.isCombo(wd(r))?((void 0===e||e.includes(wd(r)))&&t.push(r),t):t}),[])}getRootsData(e=Sc){return this.model.getRoots(e).map(CG)}getAncestorsData(e,t){const{model:n}=this;return n.hasNode(e)&&n.hasTreeStructure(t)?n.getAncestors(e,t).map(CG):[]}getDescendantsData(e){const t=this.getElementDataById(e),n=[];return kf(t,(e=>{e!==t&&n.push(e)}),(e=>this.getChildrenData(wd(e))),"TB"),n}getParentData(e,t){const{model:n}=this;if(!t)return void Pc("The hierarchy structure key is not specified");if(!n.hasNode(e)||!n.hasTreeStructure(t))return;const r=n.getParent(e,t);return r?CG(r):void 0}getChildrenData(e){const t="node"===this.getElementType(e)?Sc:kc,{model:n}=this;return n.hasNode(e)&&n.hasTreeStructure(t)?n.getChildren(e,t).map(CG):[]}getElementsDataByType(e){return"node"===e?this.getNodeData():"edge"===e?this.getEdgeData():"combo"===e?this.getComboData():[]}getElementDataById(e){return"edge"===this.getElementType(e)?this.getEdgeDatum(e):this.getNodeLikeDatum(e)}getNodeLikeDatum(e){return CG(this.model.getNode(e))}getNodeLikeData(e){return this.model.getAllNodes().reduce(((t,n)=>{const r=CG(n);return e?e.includes(wd(r))&&t.push(r):t.push(r),t}),[])}getElementDataByState(e,t){return this.getElementsDataByType(e).filter((e=>{var n;return null===(n=e.states)||void 0===n?void 0:n.includes(t)}))}getElementState(e){var t;return(null===(t=this.getElementDataById(e))||void 0===t?void 0:t.states)||[]}hasNode(e){return this.model.hasNode(e)&&!this.isCombo(e)}hasEdge(e){return this.model.hasEdge(e)}hasCombo(e){return this.model.hasNode(e)&&this.isCombo(e)}getRelatedEdgesData(e,t="both"){return this.model.getRelatedEdges(e,t).map(CG)}getNeighborNodesData(e){return this.model.getNeighbors(e).map(CG)}setData(e){const{nodes:t=[],edges:n=[],combos:r=[]}=e,{nodes:i,edges:o,combos:a}=this.getData(),s=_d(i,t,(e=>wd(e)),SG),l=_d(o,n,(e=>wd(e)),SG),u=_d(a,r,(e=>wd(e)),SG);this.batch((()=>{const e={nodes:s.enter,edges:l.enter,combos:u.enter};this.addData(e),this.computeZIndex(e,"add",!0);const t={nodes:s.update,edges:l.update,combos:u.update};this.updateData(t),this.computeZIndex(t,"update",!0);const n={nodes:s.exit.map(wd),edges:l.exit.map(wd),combos:u.exit.map(wd)};this.removeData(n)}))}addData(e){const{nodes:t,edges:n,combos:r}=e;this.batch((()=>{this.addComboData(r),this.addNodeData(t),this.addEdgeData(n)})),this.computeZIndex(e,"add")}addNodeData(e=[]){e.length&&(this.model.addNodes(e.map((e=>(this.pushChange({value:e,type:hc.NodeAdded}),TG(e))))),this.updateNodeLikeHierarchy(e),this.computeZIndex({nodes:e},"add"))}addEdgeData(e=[]){e.length&&(this.model.addEdges(e.map((e=>(this.pushChange({value:e,type:hc.EdgeAdded}),TG(e))))),this.computeZIndex({edges:e},"add"))}addComboData(e=[]){if(!e.length)return;const{model:t}=this;t.hasTreeStructure(kc)||t.attachTreeStructure(kc),t.addNodes(e.map((e=>(this.comboIds.add(wd(e)),this.pushChange({value:e,type:hc.ComboAdded}),TG(e))))),this.updateNodeLikeHierarchy(e),this.computeZIndex({combos:e},"add")}addChildrenData(e,t){const n=this.getNodeLikeDatum(e),r=t.map(wd);this.addNodeData(t),this.updateNodeData([{id:e,children:[...n.children||[],...r]}]),this.addEdgeData(r.map((t=>({source:e,target:t}))))}computeZIndex(e,t,n=!1){!n&&this.isBatching()||this.batch((()=>{const{nodes:n=[],edges:r=[],combos:i=[]}=e;i.forEach((e=>{var n,r,i;const o=wd(e);if("add"===t&&st(null===(n=e.style)||void 0===n?void 0:n.zIndex))return;if("update"===t&&!("combo"in e))return;const a=this.getParentData(o,kc),s=a?(null!==(i=null===(r=a.style)||void 0===r?void 0:r.zIndex)&&void 0!==i?i:0)+1:0;this.preventUpdateNodeLikeHierarchy((()=>{this.updateComboData([{id:o,style:{zIndex:s}}])}))})),n.forEach((e=>{var n,r,i;const o=wd(e);if("add"===t&&st(null===(n=e.style)||void 0===n?void 0:n.zIndex))return;if("update"===t&&!("combo"in e)&&!("children"in e))return;let a=0;const s=this.getParentData(o,kc);if(s)a=((null===(r=s.style)||void 0===r?void 0:r.zIndex)||0)+1;else{const e=this.getParentData(o,Sc);e&&(a=(null===(i=null==e?void 0:e.style)||void 0===i?void 0:i.zIndex)||0)}this.preventUpdateNodeLikeHierarchy((()=>{this.updateNodeData([{id:o,style:{zIndex:a}}])}))})),r.forEach((e=>{var t,n,r,i,o;if(st(null===(t=e.style)||void 0===t?void 0:t.zIndex))return;let{id:a,source:s,target:l}=e;if(a){const e=this.getEdgeDatum(a);s=e.source,l=e.target}else a=wd(e);if(!s||!l)return;const u=(null===(r=null===(n=this.getNodeLikeDatum(s))||void 0===n?void 0:n.style)||void 0===r?void 0:r.zIndex)||0,c=(null===(o=null===(i=this.getNodeLikeDatum(l))||void 0===i?void 0:i.style)||void 0===o?void 0:o.zIndex)||0;this.updateEdgeData([{id:wd(e),style:{zIndex:Math.max(u,c)-1}}])}))}))}getFrontZIndex(e){var t;const n=this.getElementType(e),r=this.getElementDataById(e),i=this.getData();if(Object.assign(i,{[`${n}s`]:i[`${n}s`].filter((t=>wd(t)!==e))}),"combo"===n&&!Pf(r)){const t=new Set(this.getAncestorsData(e,kc).map(wd));i.nodes=i.nodes.filter((e=>!t.has(wd(e)))),i.combos=i.combos.filter((e=>!t.has(wd(e)))),i.edges=i.edges.filter((({source:e,target:n})=>!t.has(e)&&!t.has(n)))}return Math.max((null===(t=r.style)||void 0===t?void 0:t.zIndex)||0,0,...Object.values(i).flat().map((e=>{var t;return((null===(t=null==e?void 0:e.style)||void 0===t?void 0:t.zIndex)||0)+1})))}updateNodeLikeHierarchy(e){if(!this.enableUpdateNodeLikeHierarchy)return;const{model:t}=this;e.forEach((e=>{const n=wd(e),r=xd(e);void 0!==r&&(t.hasTreeStructure(kc)||t.attachTreeStructure(kc),null===r&&this.refreshComboData(n),this.setParent(n,xd(e),kc));const i=e.children||[];if(i.length){t.hasTreeStructure(Sc)||t.attachTreeStructure(Sc);const e=i.filter((e=>t.hasNode(e)));e.forEach((e=>this.setParent(e,n,Sc))),e.length!==i.length&&this.updateNodeData([{id:n,children:e}])}}))}preventUpdateNodeLikeHierarchy(e){this.enableUpdateNodeLikeHierarchy=!1,e(),this.enableUpdateNodeLikeHierarchy=!0}updateData(e){const{nodes:t,edges:n,combos:r}=e;this.batch((()=>{this.updateNodeData(t),this.updateComboData(r),this.updateEdgeData(n)})),this.computeZIndex(e,"update")}updateNodeData(e=[]){if(!e.length)return;const{model:t}=this;this.batch((()=>{const n=[];e.forEach((e=>{const r=wd(e),i=CG(t.getNode(r));if(SG(i,e))return;const o=EG(i,e);this.pushChange({value:o,original:i,type:hc.NodeUpdated}),t.mergeNodeData(r,o),n.push(o)})),this.updateNodeLikeHierarchy(n)})),this.computeZIndex({nodes:e},"update")}refreshData(){const{nodes:e,edges:t,combos:n}=this.getData();e.forEach((e=>{this.pushChange({value:e,original:e,type:hc.NodeUpdated})})),t.forEach((e=>{this.pushChange({value:e,original:e,type:hc.EdgeUpdated})})),n.forEach((e=>{this.pushChange({value:e,original:e,type:hc.ComboUpdated})}))}syncNodeLikeDatum(e){const{model:t}=this,n=wd(e);if(!t.hasNode(n))return;const r=EG(CG(t.getNode(n)),e);t.mergeNodeData(n,r)}syncEdgeDatum(e){const{model:t}=this,n=wd(e);if(!t.hasEdge(n))return;const r=EG(CG(t.getEdge(n)),e);t.mergeEdgeData(n,r)}updateEdgeData(e=[]){if(!e.length)return;const{model:t}=this;this.batch((()=>{e.forEach((e=>{const n=wd(e),r=CG(t.getEdge(n));if(SG(r,e))return;e.source&&r.source!==e.source&&t.updateEdgeSource(n,e.source),e.target&&r.target!==e.target&&t.updateEdgeTarget(n,e.target);const i=EG(r,e);this.pushChange({value:i,original:r,type:hc.EdgeUpdated}),t.mergeEdgeData(n,i)}))})),this.computeZIndex({edges:e},"update")}updateComboData(e=[]){if(!e.length)return;const{model:t}=this;t.batch((()=>{const n=[];e.forEach((e=>{const r=wd(e),i=CG(t.getNode(r));if(SG(i,e))return;const o=EG(i,e);this.pushChange({value:o,original:i,type:hc.ComboUpdated}),t.mergeNodeData(r,o),n.push(o)})),this.updateNodeLikeHierarchy(n)})),this.computeZIndex({combos:e},"update")}setParent(e,t,n,r=!0){if(e===t)return;const i=xd(this.getNodeLikeDatum(e));if(i!==t&&n===kc){const n={id:e,combo:t};this.isCombo(e),this.syncNodeLikeDatum(n)}this.model.setParent(e,t,n),r&&n===kc&&function(e,t){void 0===t&&(t=new Map);var n=[];if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];t.has(o)||(n.push(o),t.set(o,!0))}return n}([i,t]).forEach((e=>{void 0!==e&&this.refreshComboData(e)}))}refreshComboData(e){const t=this.getComboData([e])[0],n=this.getAncestorsData(e,kc);t&&this.pushChange({value:t,original:t,type:hc.ComboUpdated}),n.forEach((e=>{this.pushChange({value:e,original:e,type:hc.ComboUpdated})}))}getElementPosition(e){return ef(this.getElementDataById(e))}translateNodeLikeBy(e,t){this.isCombo(e)?this.translateComboBy(e,t):this.translateNodeBy(e,t)}translateNodeLikeTo(e,t){this.isCombo(e)?this.translateComboTo(e,t):this.translateNodeTo(e,t)}translateNodeBy(e,t){const n=jd(this.getElementPosition(e),[...t,0].slice(0,3));this.translateNodeTo(e,n)}translateNodeTo(e,t){const[n=0,r=0,i=0]=t;this.preventUpdateNodeLikeHierarchy((()=>{this.updateNodeData([{id:e,style:{x:n,y:r,z:i}}])}))}translateComboBy(e,t){const[n=0,r=0,i=0]=t;if([n,r,i].some(isNaN)||[n,r,i].every((e=>0===e)))return;const o=this.getComboData([e])[0];if(!o)return;const a=new Set;kf(o,(e=>{const t=wd(e);if(a.has(t))return;a.add(t);const[o,s,l]=ef(e),u=EG(e,{style:{x:o+n,y:s+r,z:l+i}});this.pushChange({value:u,original:e,type:this.isCombo(t)?hc.ComboUpdated:hc.NodeUpdated}),this.model.mergeNodeData(t,u)}),(e=>this.getChildrenData(wd(e))),"BT")}translateComboTo(e,t){var n;if(t.some(isNaN))return;const[r=0,i=0,o=0]=t,a=null===(n=this.getComboData([e]))||void 0===n?void 0:n[0];if(!a)return;const[s,l,u]=ef(a),c=r-s,d=i-l,f=o-u;kf(a,(e=>{const t=wd(e),[n,r,i]=ef(e),o=EG(e,{style:{x:n+c,y:r+d,z:i+f}});this.pushChange({value:o,original:e,type:this.isCombo(t)?hc.ComboUpdated:hc.NodeUpdated}),this.model.mergeNodeData(t,o)}),(e=>this.getChildrenData(wd(e))),"BT")}removeData(e){const{nodes:t,edges:n,combos:r}=e;this.batch((()=>{this.removeEdgeData(n),this.removeNodeData(t),this.removeComboData(r),this.latestRemovedComboIds=new Set(r)}))}removeNodeData(e=[]){e.length&&this.batch((()=>{e.forEach((e=>{this.removeEdgeData(this.getRelatedEdgesData(e).map(wd)),this.pushChange({value:this.getNodeData([e])[0],type:hc.NodeRemoved}),this.removeNodeLikeHierarchy(e)})),this.model.removeNodes(e)}))}removeEdgeData(e=[]){e.length&&(e.forEach((e=>this.pushChange({value:this.getEdgeData([e])[0],type:hc.EdgeRemoved}))),this.model.removeEdges(e))}removeComboData(e=[]){e.length&&this.batch((()=>{e.forEach((e=>{this.pushChange({value:this.getComboData([e])[0],type:hc.ComboRemoved}),this.removeNodeLikeHierarchy(e),this.comboIds.delete(e)})),this.model.removeNodes(e)}))}removeNodeLikeHierarchy(e){if(this.model.hasTreeStructure(kc)){const t=xd(this.getNodeLikeDatum(e));this.setParent(e,void 0,kc,!1),this.model.getChildren(e,kc).forEach((e=>{const n=CG(e),r=wd(n);this.setParent(wd(n),t,kc,!1);const i=EG(n,{id:wd(n),combo:t});this.pushChange({value:i,original:n,type:this.isCombo(r)?hc.ComboUpdated:hc.NodeUpdated}),this.model.mergeNodeData(wd(n),i)})),Ye(t)||this.refreshComboData(t)}}getElementType(e){if(this.model.hasNode(e))return this.isCombo(e)?"combo":"node";if(this.model.hasEdge(e))return"edge";throw new Error(Nc(`Unknown element type of id: ${e}`))}destroy(){const{model:e}=this,t=e.getAllNodes(),n=e.getAllEdges();e.removeEdges(n.map((e=>e.id))),e.removeNodes(t.map((e=>e.id))),this.context={}}}var PG=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class OG{constructor(e){this.elementMap={},this.shapeTypeMap={},this.paletteStyle={},this.defaultStyle={},this.stateStyle={},this.visibilityCache=new WeakMap,this.context=e}init(){if(!this.container){const{canvas:e}=this.context;this.container=e.appendChild(new jl({className:"elements"}))}}emit(e,t){t.silence||hG(this.context.graph,e)}forEachElementData(e){Ef.forEach((t=>{const n=this.context.model.getElementsDataByType(t);e(t,n)}))}getElementType(e,t){var n;const{options:r,graph:i}=this.context,o=(null===(n=r[e])||void 0===n?void 0:n.type)||t.type;return o?"string"==typeof o?o:o.call(i,t):"edge"===e?"line":"circle"}getTheme(e){return Oc(this.context.options)[e]||{}}getThemeStyle(e){return this.getTheme(e).style||{}}getThemeStateStyle(e,t){const{state:n={}}=this.getTheme(e);return Object.assign({},...t.map((e=>n[e]||{})))}computePaletteStyle(){const{options:e}=this.context;this.paletteStyle={},this.forEachElementData(((t,n)=>{var r,i;const o=Object.assign({},Ff(null===(r=this.getTheme(t))||void 0===r?void 0:r.palette),Ff(null===(i=e[t])||void 0===i?void 0:i.palette));(null==o?void 0:o.field)&&Object.assign(this.paletteStyle,function(e,t){if(!t)return{};const{type:n,color:r,field:i,invert:o}=t,a=e=>{const t="string"==typeof r?Cc("palette",r):r;if("function"==typeof t){const n={};return e.forEach((([e,r])=>{n[e]=t(o?1-r:r)})),n}if(Array.isArray(t)){const n=o?[...t].reverse():t,r={};return e.forEach((([e,i])=>{r[e]=n[i%t.length]})),r}return{}},s=(e,t)=>{var n;return"string"==typeof e?null===(n=t.data)||void 0===n?void 0:n[e]:null==e?void 0:e(t)};if("group"===n){const t=ot(e,(e=>{if(!i)return"default";const t=s(i,e);return t?String(t):"default"})),n=a(Object.keys(t).map(((e,t)=>[e,t]))),r={};return Object.entries(t).forEach((([e,t])=>{t.forEach((t=>{r[wd(t)]=n[e]}))})),r}if("value"===n){const[t,n]=e.reduce((([e,t],n)=>{const r=s(i,n);if("number"!=typeof r)throw new Error(Nc(`Palette field ${i} is not a number`));return[Math.min(e,r),Math.max(t,r)]}),[1/0,-1/0]),r=n-t;return a(e.map((e=>[e.id,(s(i,e)-t)/r])))}}(n,o))}))}getPaletteStyle(e,t){const n=this.paletteStyle[t];return n?"edge"===e?{stroke:n}:{fill:n}:{}}computeElementDefaultStyle(e,t){var n;const{options:r}=this.context,i=(null===(n=r[e])||void 0===n?void 0:n.style)||{};"transform"in i&&Array.isArray(i.transform)&&(i.transform=[...i.transform]),this.defaultStyle[wd(t.datum)]=zf(i,t)}computeElementsDefaultStyle(e){const{graph:t}=this.context;this.forEachElementData(((n,r)=>{const i=r.length;for(let o=0;o<i;o++){const i=r[o];(void 0===e||e.includes(wd(i)))&&this.computeElementDefaultStyle(n,{datum:i,graph:t})}}))}getDefaultStyle(e){return this.defaultStyle[e]||{}}getElementState(e){try{const{model:t}=this.context;return t.getElementState(e)}catch(e){return[]}}getElementStateStyle(e,t,n){var r,i;const{options:o}=this.context;return zf((null===(i=null===(r=o[e])||void 0===r?void 0:r.state)||void 0===i?void 0:i[t])||{},n)}computeElementStatesStyle(e,t,n){this.stateStyle[wd(n.datum)]=Object.assign({},...t.map((t=>this.getElementStateStyle(e,t,n))))}computeElementsStatesStyle(e){const{graph:t}=this.context;this.forEachElementData(((n,r)=>{const i=r.length;for(let o=0;o<i;o++){const i=r[o];if(void 0===e||e.includes(wd(i))){const e=this.getElementState(wd(i));this.computeElementStatesStyle(n,e,{datum:i,graph:t})}}}))}getStateStyle(e){return this.stateStyle[e]||{}}computeStyle(e,t){e&&["translate","zIndex"].includes(e)||(this.computePaletteStyle(),this.computeElementsDefaultStyle(t),this.computeElementsStatesStyle(t))}getElement(e){return this.elementMap[e]}getNodes(){return this.context.model.getNodeData().map((({id:e})=>this.elementMap[e]))}getEdges(){return this.context.model.getEdgeData().map((e=>this.elementMap[wd(e)]))}getCombos(){return this.context.model.getComboData().map((({id:e})=>this.elementMap[e]))}getElementComputedStyle(e,t){const n=wd(t),r=this.getThemeStyle(e),i=this.getPaletteStyle(e,n),o=t.style||{},a=this.getDefaultStyle(n),s=this.getThemeStateStyle(e,this.getElementState(n)),l=this.getStateStyle(n),u=Object.assign({},r,i,o,a,s,l);if("combo"===e){const e=this.context.model.getChildrenData(n),t=!!u.collapsed?[]:e.map(wd).filter((e=>this.getElement(e)));Object.assign(u,{childrenNode:t,childrenData:e})}return u}getDrawData(e){this.init();const t=this.computeChangesAndDrawData(e);if(!t)return null;const{type:n="draw",stage:r=n}=e;return this.markDestroyElement(t.drawData),this.computeStyle(r),{type:n,stage:r,data:t}}draw(e={animation:!0}){const t=this.getDrawData(e);if(!t)return;const{data:{drawData:{add:n,update:r,remove:i}}}=t;return this.destroyElements(i,e),this.createElements(n,e),this.updateElements(r,e),this.setAnimationTask(e,t)}preLayoutDraw(){return PG(this,arguments,void 0,(function*(e={animation:!0}){var t,n;const r=this.getDrawData(e);if(!r)return;const{data:{drawData:i}}=r;yield null===(n=null===(t=this.context.layout)||void 0===t?void 0:t.preLayout)||void 0===n?void 0:n.call(t,i);const{add:o,update:a,remove:s}=i;return this.destroyElements(s,e),this.createElements(o,e),this.updateElements(a,e),this.setAnimationTask(e,r)}))}setAnimationTask(e,t){const{animation:n,silence:r}=e,{data:{dataChanges:i,drawData:o},stage:a,type:s}=t;return this.context.animation.animate(n,r?{}:{before:()=>this.emit(new uG(wc.BEFORE_DRAW,{dataChanges:i,animation:n,stage:a,render:"render"===s}),e),beforeAnimate:t=>this.emit(new cG(wc.BEFORE_ANIMATE,pc.DRAW,t,o),e),afterAnimate:t=>this.emit(new cG(wc.AFTER_ANIMATE,pc.DRAW,t,o),e),after:()=>this.emit(new uG(wc.AFTER_DRAW,{dataChanges:i,animation:n,stage:a,render:"render"===s,firstRender:!1===this.context.graph.rendered}),e)})}computeChangesAndDrawData(e){const{model:t}=this.context,n=t.getChanges(),r=vF(n);if(0===r.length)return null;const{NodeAdded:i=[],NodeUpdated:o=[],NodeRemoved:a=[],EdgeAdded:s=[],EdgeUpdated:l=[],EdgeRemoved:u=[],ComboAdded:c=[],ComboUpdated:d=[],ComboRemoved:f=[]}=ot(r,(e=>e.type)),h=e=>new Map(e.map((e=>{const t=e.value;return[wd(t),t]}))),p={add:{nodes:h(i),edges:h(s),combos:h(c)},update:{nodes:h(o),edges:h(l),combos:h(d)},remove:{nodes:h(a),edges:h(u),combos:h(f)}},g=this.transformData(p,e);return t.clearChanges(),{dataChanges:n,drawData:g}}transformData(e,t){const n=this.context.transform.getTransformInstance();return Object.values(n).reduce(((e,n)=>n.beforeDraw(e,t)),e)}createElement(e,t,n){var r;const i=wd(t);if(this.getElement(i))return;const o=this.getElementType(e,t),a=this.getElementComputedStyle(e,t),s=Cc(e,o);if(!s)return Pc(`The element ${o} of ${e} is not registered.`);this.emit(new dG(wc.BEFORE_ELEMENT_CREATE,e,t),n);const l=this.container.appendChild(new s({id:i,context:this.context,style:a}));this.shapeTypeMap[i]=o,this.elementMap[i]=l;const{stage:u="enter"}=n;null===(r=this.context.animation)||void 0===r||r.add({element:l,elementType:e,stage:u,originalStyle:Object.assign({},l.attributes),updatedStyle:a},{after:()=>{var r;this.emit(new dG(wc.AFTER_ELEMENT_CREATE,e,t),n),null===(r=l.onCreate)||void 0===r||r.call(l)}})}createElements(e,t){const{nodes:n,edges:r,combos:i}=e;[["node",n],["combo",i],["edge",r]].forEach((([e,n])=>{n.forEach((n=>this.createElement(e,n,t)))}))}getUpdateStageStyle(e,t,n){const{stage:r="update"}=n;if("translate"===r){if("node"===e||"combo"===e){const{style:{x:e=0,y:n=0,z:r=0}={}}=t;return{x:e,y:n,z:r}}return{}}return this.getElementComputedStyle(e,t)}updateElement(e,t,n){var r;const i=wd(t),{stage:o="update"}=n,a=this.getElement(i);if(!a)return()=>null;this.emit(new dG(wc.BEFORE_ELEMENT_UPDATE,e,t),n);const s=this.getElementType(e,t),l=this.getUpdateStageStyle(e,t,n);this.shapeTypeMap[i]!==s&&(a.destroy(),delete this.shapeTypeMap[i],delete this.elementMap[i],this.createElement(e,t,{animation:!1,silence:!0}));const u="visibility"!==o?o:"hidden"===l.visibility?"hide":"show";"hide"===u&&delete l.visibility,null===(r=this.context.animation)||void 0===r||r.add({element:a,elementType:e,stage:u,originalStyle:Object.assign({},a.attributes),updatedStyle:l},{before:()=>{const e=this.elementMap[i];"collapse"!==o&&Ug(e,l),"visibility"===o&&(function(e,t){return vG(t)in(Nt(e,gG)||{})}(e,"opacity")||function(e,t){const n=Array.isArray(t)?t:[t];Nt(e,gG)||Pt(e,gG,{}),n.forEach((t=>{Pt(Nt(e,gG),vG(t),e.attributes[t])}))}(e,"opacity"),this.visibilityCache.set(e,"show"===u?"visible":"hidden"),"show"===u&&Rd(e,"visible"))},after:()=>{var r;const a=this.elementMap[i];"collapse"===o&&Ug(a,l),"hide"===u&&Rd(a,this.visibilityCache.get(a)),this.emit(new dG(wc.AFTER_ELEMENT_UPDATE,e,t),n),null===(r=a.onUpdate)||void 0===r||r.call(a)}})}updateElements(e,t){const{nodes:n,edges:r,combos:i}=e;[["node",n],["combo",i],["edge",r]].forEach((([e,n])=>{n.forEach((n=>this.updateElement(e,n,t)))}))}markDestroyElement(e){Object.values(e.remove).forEach((e=>{e.forEach((e=>{const t=wd(e),n=this.getElement(t);n&&function(e){Pt(e,"__to_be_destroyed__",!0)}(n)}))}))}destroyElement(e,t,n){var r;const{stage:i="exit"}=n,o=wd(t),a=this.elementMap[o];if(!a)return()=>null;this.emit(new dG(wc.BEFORE_ELEMENT_DESTROY,e,t),n),null===(r=this.context.animation)||void 0===r||r.add({element:a,elementType:e,stage:i,originalStyle:Object.assign({},a.attributes),updatedStyle:{}},{after:()=>{var r;this.clearElement(o),a.destroy(),null===(r=a.onDestroy)||void 0===r||r.call(a),this.emit(new dG(wc.AFTER_ELEMENT_DESTROY,e,t),n)}})}destroyElements(e,t){const{nodes:n,edges:r,combos:i}=e;[["combo",i],["edge",r],["node",n]].forEach((([e,n])=>{n.forEach((n=>this.destroyElement(e,n,t)))}))}clearElement(e){delete this.paletteStyle[e],delete this.defaultStyle[e],delete this.stateStyle[e],delete this.elementMap[e],delete this.shapeTypeMap[e]}alignLayoutResultToElement(e,t){var n,r;const i=null===(n=e.nodes)||void 0===n?void 0:n.find((e=>wd(e)===t));if(i){const n=Fd(ef(this.context.model.getNodeLikeDatum(t)),ef(i));null===(r=e.nodes)||void 0===r||r.forEach((e=>{var t,r,i;(null===(t=e.style)||void 0===t?void 0:t.x)&&(e.style.x+=n[0]),(null===(r=e.style)||void 0===r?void 0:r.y)&&(e.style.y+=n[1]),(null===(i=e.style)||void 0===i?void 0:i.z)&&(e.style.z+=n[2]||0)}))}}collapseNode(e,t){return PG(this,void 0,void 0,(function*(){var n;const{animation:r,align:i}=t,{model:o,layout:a}=this.context,s=this.computeChangesAndDrawData({stage:"collapse",animation:r});if(!s)return;this.markDestroyElement(s.drawData);const l=yield a.simulate();i&&this.alignLayoutResultToElement(l,e),o.updateData(l);const u=this.computeChangesAndDrawData({stage:"collapse",animation:r});if(!u)return;const{drawData:c}=u,{add:d,remove:f,update:h}=c;this.markDestroyElement(c);const p={animation:r,stage:"collapse",data:c};this.destroyElements(f,p),this.createElements(d,p),this.updateElements(h,p),yield null===(n=this.context.animation.animate(r,{beforeAnimate:e=>this.emit(new cG(wc.BEFORE_ANIMATE,pc.COLLAPSE,e,c),p),afterAnimate:e=>this.emit(new cG(wc.AFTER_ANIMATE,pc.COLLAPSE,e,c),p)},{collapse:{target:e,descendants:Array.from(f.nodes).map((([,e])=>wd(e))),position:ef(h.nodes.get(e))}}))||void 0===n?void 0:n.finished}))}expandNode(e,t){return PG(this,void 0,void 0,(function*(){var n;const{model:r,layout:i}=this.context,{animation:o,align:a}=t,s=ef(r.getNodeData([e])[0]),l=this.computeChangesAndDrawData({stage:"expand",animation:o});if(!l)return;const{drawData:{add:u}}=l;this.createElements(u,{animation:!1,stage:"expand",target:e}),this.context.animation.clear();const c=yield i.simulate();a&&this.alignLayoutResultToElement(c,e),r.updateData(c),this.computeStyle("expand");const d=this.computeChangesAndDrawData({stage:"collapse",animation:o});if(!d)return;const{drawData:f}=d,{update:h}=f,p={animation:o,stage:"expand",data:f};u.edges.forEach((e=>h.edges.set(wd(e),e))),u.nodes.forEach((e=>h.nodes.set(wd(e),e))),this.updateElements(h,p),yield null===(n=this.context.animation.animate(o,{beforeAnimate:e=>this.emit(new cG(wc.BEFORE_ANIMATE,pc.EXPAND,e,f),p),afterAnimate:e=>this.emit(new cG(wc.AFTER_ANIMATE,pc.EXPAND,e,f),p)},{expand:{target:e,descendants:Array.from(u.nodes).map((([,e])=>wd(e))),position:s}}))||void 0===n?void 0:n.finished}))}collapseCombo(e,t){return PG(this,void 0,void 0,(function*(){var n;const{model:r,element:i}=this.context;if(r.getAncestorsData(e,kc).some((e=>Pf(e))))return;const o=i.getElement(e),a=o.getComboPosition(Object.assign(Object.assign({},o.attributes),{collapsed:!0})),s=this.computeChangesAndDrawData({stage:"collapse",animation:t});if(!s)return;const{dataChanges:l,drawData:u}=s;this.markDestroyElement(u);const{update:c,remove:d}=u,f={animation:t,stage:"collapse",data:u};this.destroyElements(d,f),this.updateElements(c,f);const h=e=>Array.from(e).map((([,e])=>wd(e)));yield null===(n=this.context.animation.animate(t,{before:()=>this.emit(new uG(wc.BEFORE_DRAW,{dataChanges:l,animation:t}),f),beforeAnimate:e=>this.emit(new cG(wc.BEFORE_ANIMATE,pc.COLLAPSE,e,u),f),afterAnimate:e=>this.emit(new cG(wc.AFTER_ANIMATE,pc.COLLAPSE,e,u),f),after:()=>this.emit(new uG(wc.AFTER_DRAW,{dataChanges:l,animation:t}),f)},{collapse:{target:e,descendants:[...h(d.nodes),...h(d.combos)],position:a}}))||void 0===n?void 0:n.finished}))}expandCombo(e,t){return PG(this,void 0,void 0,(function*(){var n;const{model:r}=this.context,i=ef(r.getComboData([e])[0]);this.computeStyle("expand");const o=this.computeChangesAndDrawData({stage:"expand",animation:t});if(!o)return;const{dataChanges:a,drawData:s}=o,{add:l,update:u}=s,c={animation:t,stage:"expand",data:s,target:e};this.createElements(l,c),this.updateElements(u,c);const d=e=>Array.from(e).map((([,e])=>wd(e)));yield null===(n=this.context.animation.animate(t,{before:()=>this.emit(new uG(wc.BEFORE_DRAW,{dataChanges:a,animation:t}),c),beforeAnimate:e=>this.emit(new cG(wc.BEFORE_ANIMATE,pc.EXPAND,e,s),c),afterAnimate:e=>this.emit(new cG(wc.AFTER_ANIMATE,pc.EXPAND,e,s),c),after:()=>this.emit(new uG(wc.AFTER_DRAW,{dataChanges:a,animation:t}),c)},{expand:{target:e,descendants:[...d(l.nodes),...d(l.combos)],position:i}}))||void 0===n?void 0:n.finished}))}destroy(){this.container.destroy(),this.elementMap={},this.shapeTypeMap={},this.defaultStyle={},this.stateStyle={},this.paletteStyle={},this.context={}}}var _G=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},RG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class AG{get presetOptions(){return{animation:!!Dc(this.context.options,!0)}}get options(){const{options:e}=this.context;return e.layout}constructor(e){this.instances=[],this.context=e}getLayoutInstance(){return this.instances}preLayout(e){return _G(this,void 0,void 0,(function*(){var t,n,r,i;const{graph:o,model:a}=this.context,{add:s}=e;hG(o,new uG(wc.BEFORE_LAYOUT,{type:"pre"}));const l=yield null===(t=this.context.layout)||void 0===t?void 0:t.simulate();null===(n=null==l?void 0:l.nodes)||void 0===n||n.forEach((e=>{const t=wd(e),n=s.nodes.get(t);a.syncNodeLikeDatum(e),n&&Object.assign(n.style,e.style)})),null===(r=null==l?void 0:l.edges)||void 0===r||r.forEach((e=>{const t=wd(e),n=s.edges.get(t);a.syncEdgeDatum(e),n&&Object.assign(n.style,e.style)})),null===(i=null==l?void 0:l.combos)||void 0===i||i.forEach((e=>{const t=wd(e),n=s.combos.get(t);a.syncNodeLikeDatum(e),n&&Object.assign(n.style,e.style)})),hG(o,new uG(wc.AFTER_LAYOUT,{type:"pre"})),this.transformDataAfterLayout("pre",e)}))}postLayout(){return _G(this,void 0,void 0,(function*(){if(!this.options)return;const e=Array.isArray(this.options)?this.options:[this.options],{graph:t}=this.context;hG(t,new uG(wc.BEFORE_LAYOUT,{type:"post"}));for(const n of e){const r=e.indexOf(n),i=this.getLayoutData(n),o=Object.assign(Object.assign({},this.presetOptions),n);hG(t,new uG(wc.BEFORE_STAGE_LAYOUT,{options:o,index:r}));const a=yield this.stepLayout(i,o,r);hG(t,new uG(wc.AFTER_STAGE_LAYOUT,{options:o,index:r})),n.animation||this.updateElementPosition(a,!1)}hG(t,new uG(wc.AFTER_LAYOUT,{type:"post"})),this.transformDataAfterLayout("post")}))}transformDataAfterLayout(e,t){const n=this.context.transform.getTransformInstance();Object.values(n).forEach((n=>n.afterLayout(e,t)))}simulate(){return _G(this,void 0,void 0,(function*(){if(!this.options)return{};const e=Array.isArray(this.options)?this.options:[this.options];let t={};for(const n of e){const r=e.indexOf(n),i=this.getLayoutData(n);t=yield this.stepLayout(i,Object.assign(Object.assign(Object.assign({},this.presetOptions),n),{animation:!1}),r)}return t}))}stepLayout(e,t,n){return _G(this,void 0,void 0,(function*(){return function(e){const{type:t}=e;return["compact-box","mindmap","dendrogram","indented"].includes(t)}(t)?yield this.treeLayout(e,t,n):yield this.graphLayout(e,t,n)}))}graphLayout(e,t,n){return _G(this,void 0,void 0,(function*(){const{animation:r,enableWorker:i,iterations:o=300}=t,a=this.initGraphLayout(t);if(!a)return{};if(this.instances[n]=a,this.instance=a,i){const t=a;return this.supervisor=new tj(t.graphData2LayoutModel(e),t.instance,{iterations:o}),sv(yield this.supervisor.execute())}if(dx(a))return r?yield a.execute(e,{onTick:e=>{this.updateElementPosition(e,!1)}}):(a.execute(e),a.stop(),a.tick(o));const s=yield a.execute(e);if(r){const e=this.updateElementPosition(s,r);yield null==e?void 0:e.finished}return s}))}treeLayout(e,t,n){return _G(this,void 0,void 0,(function*(){const{type:n,animation:r}=t,i=Cc("layout",n);if(!i)return{};const{nodes:o=[],edges:a=[]}=e,s=new rv({nodes:o.map((e=>({id:wd(e),data:e.data||{}}))),edges:a.map((e=>({id:wd(e),source:e.source,target:e.target,data:e.data||{}})))});!function(e){if(e.hasTreeStructure(Sc))return;e.attachTreeStructure(Sc);const t=e.getAllEdges();for(const n of t){const{source:t,target:r}=n;e.setParent(r,t,Sc)}}(s);const l={nodes:[],edges:[]},u={nodes:[],edges:[]};s.getRoots(Sc).forEach((e=>{kf(e,(e=>{e.children=s.getSuccessors(e.id)}),(e=>s.getSuccessors(e.id)),"TB");const n=i(e,t),{x:r,y:o,z:a=0}=n;kf(n,(e=>{const{id:t,x:n,y:i,z:s=0}=e;l.nodes.push({id:t,style:{x:r,y:o,z:a}}),u.nodes.push({id:t,style:{x:n,y:i,z:s}})}),(e=>e.children),"TB")}));const c=this.inferTreeLayoutOffset(u);if(DG(u,c),r){DG(l,c),this.updateElementPosition(l,!1);const e=this.updateElementPosition(u,r);yield null==e?void 0:e.finished}return u}))}inferTreeLayoutOffset(e){var t;let[n,r]=[1/0,-1/0],[i,o]=[1/0,-1/0];null===(t=e.nodes)||void 0===t||t.forEach((e=>{const{x:t=0,y:a=0}=e.style||{};n=Math.min(n,t),r=Math.max(r,t),i=Math.min(i,a),o=Math.max(o,a)}));const{canvas:a}=this.context,s=a.getSize(),[l,u]=a.getCanvasByViewport([0,0]),[c,d]=a.getCanvasByViewport(s);if(n>=l&&r<=c&&i>=u&&o<=d)return[0,0];return[(l+c)/2-(n+r)/2,(u+d)/2-(i+o)/2]}stopLayout(){this.instance&&dx(this.instance)&&(this.instance.stop(),this.instance=void 0),this.supervisor&&(this.supervisor.stop(),this.supervisor=void 0),this.animationResult&&(this.animationResult.finish(),this.animationResult=void 0)}getLayoutData(e){const{nodeFilter:t=()=>!0,preLayout:n=!1,isLayoutInvisibleNodes:r=!1}=e,{nodes:i,edges:o,combos:a}=this.context.model.getData(),{element:s,model:l}=this.context,u=e=>s.getElement(e),c=n?e=>{var n;if(!r){if("hidden"===(null===(n=e.style)||void 0===n?void 0:n.visibility))return!1;if(l.getAncestorsData(e.id,Sc).some(Pf))return!1;if(l.getAncestorsData(e.id,kc).some(Pf))return!1}return t(e)}:e=>{const n=wd(e),r=u(n);return!!r&&(!Wg(r)&&t(e))},d=i.filter(c),f=new Map(d.map((e=>[wd(e),e])));return{nodes:d,edges:o.filter((e=>{const{source:t,target:n}=e;return!(!f.has(t)||!f.has(n))})),combos:a}}initGraphLayout(e){var t;const{element:n,viewport:r}=this.context,{type:i,enableWorker:o,animation:a,iterations:s}=e,l=RG(e,["type","enableWorker","animation","iterations"]),[u,c]=r.getCanvasSize(),d=[u/2,c/2],f=null!==(t=null==e?void 0:e.nodeSize)&&void 0!==t?t:e=>{const t=null==n?void 0:n.getElement(e.id);return t?t.attributes.size:null==n?void 0:n.getElementComputedStyle("node",e).size},h=Cc("layout",i);if(!h)return Pc(`The layout of ${i} is not registered.`);const p=Object.getPrototypeOf(h.prototype)===iv.prototype?h:function(e,t){return class extends iv{constructor(t,n){if(super(t,n),this.instance=new e({}),this.id=this.instance.id,"stop"in this.instance&&"tick"in this.instance){const e=this.instance;this.stop=e.stop.bind(e),this.tick=t=>sv(e.tick(t))}}execute(e,t){return ov(this,void 0,void 0,(function*(){return sv(yield this.instance.execute(this.graphData2LayoutModel(e),this.transformOptions(St({},this.options,t))))}))}transformOptions(e){const{onTick:t}=e;return t?(e.onTick=e=>t(sv(e)),e):e}graphData2LayoutModel(e){const{nodes:n=[],edges:r=[],combos:i=[]}=e,o=n.map((e=>{const t=wd(e),{data:n,style:r,combo:i}=e,o=av(e,["data","style","combo"]),a={id:t,data:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),{data:n}),i?{parentId:i}:{}),{style:r}),o)};return(null==r?void 0:r.x)&&Object.assign(a.data,{x:r.x}),(null==r?void 0:r.y)&&Object.assign(a.data,{y:r.y}),(null==r?void 0:r.z)&&Object.assign(a.data,{z:r.z}),a})),a=new Map(o.map((e=>[e.id,e]))),s=r.filter((e=>{const{source:t,target:n}=e;return a.has(t)&&a.has(n)})).map((e=>{const{source:t,target:n,data:r,style:i}=e;return{id:wd(e),source:t,target:n,data:Object.assign({},r),style:Object.assign({},i)}})),l=i.map((e=>({id:wd(e),data:Object.assign({_isCombo:!0},e.data),style:Object.assign({},e.style)}))),u=new rv({nodes:[...o,...l],edges:s});return t.model.model.hasTreeStructure(kc)&&(u.attachTreeStructure(kc),o.forEach((e=>{const n=t.model.model.getParent(e.id,kc);n&&u.hasNode(n.id)&&u.setParent(e.id,n.id,kc)}))),u}}}(h,this.context),g=new p(this.context),v={nodeSize:f,width:u,height:c,center:d};switch(g.id){case"d3-force":case"d3-force-3d":Object.assign(v,{center:{x:u/2,y:c/2,z:0}})}return St(g.options,v,l),g}updateElementPosition(e,t){const{model:n,element:r}=this.context;return r?(n.updateData(e),r.draw({animation:t,silence:!0})):null}destroy(){var e;this.stopLayout(),this.context={},null===(e=this.supervisor)||void 0===e||e.kill(),this.supervisor=void 0,this.instance=void 0,this.instances=[],this.animationResult=void 0}}const DG=(e,t)=>{var n;const[r,i]=t;null===(n=e.nodes)||void 0===n||n.forEach((e=>{if(e.style){const{x:t=0,y:n=0}=e.style;e.style.x=t+r,e.style.y=n+i}else e.style={x:r,y:i}}))};function LG(e){return e.layout?(Array.isArray(e.layout)||"preLayout"in e.layout||["antv-dagre","combo-combined","compact-box","circular","concentric","dagre","fishbone","grid","indented","mds","radial","random","snake","dendrogram","mindmap"].includes(e.layout.type)&&(e.layout.preLayout=!0),e):e}class IG extends Ad{constructor(e){super(e),this.category="plugin",this.setPlugins(this.context.options.plugins||[])}setPlugins(e){this.setExtensions(e)}getPluginInstance(e){const t=this.extensionMap[e];if(t)return t;Pc(`Cannot find the plugin ${e}, will try to find it by type.`);const n=this.extensions.find((t=>t.type===e));return n?this.extensionMap[n.key]:void 0}}const zG=["update-related-edges","collapse-expand-node","collapse-expand-combo","get-edge-actual-ends","arrange-draw-order"];class jG extends Ad{constructor(e){super(e),this.category="transform",this.setTransforms(this.context.options.transforms||[])}getTransforms(){}setTransforms(e){this.setExtensions([...zG.slice(0,zG.length-1),...e,zG[zG.length-1]])}getTransformInstance(e){return e?this.extensionMap[e]:this.extensionMap}}var FG=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class BG{get padding(){return Yc(this.context.options.padding)}get paddingOffset(){const[e,t,n,r]=this.padding,[i,o,a]=[(r-t)/2,(e-n)/2,0];return[i,o,a]}constructor(e){this.landmarkCounter=0,this.context=e;const[t,n]=this.paddingOffset,{zoom:r,rotation:i,x:o=t,y:a=n}=e.options;this.transform({mode:"absolute",scale:r,translate:[o,a],rotate:i},!1)}get camera(){const{canvas:e}=this.context;return new Proxy(e.getCamera(),{get:(t,n)=>{const r=Object.entries(e.getLayers()).filter((([e])=>!["main"].includes(e))),i=r.map((([,e])=>e.getCamera())),o=t[n];if("function"==typeof o)return(...e)=>{const r=o.apply(t,e);return i.forEach((t=>{t[n].apply(t,e)})),r}}})}createLandmark(e){return this.camera.createLandmark("landmark-"+this.landmarkCounter++,e)}getAnimation(e){const t=Dc(this.context.options,e);return!!t&&_t(Object.assign({},t),["easing","duration"])}getCanvasSize(){const{canvas:e}=this.context,{width:t=0,height:n=0}=e.getConfig();return[t,n]}getCanvasCenter(){const{canvas:e}=this.context,{width:t=0,height:n=0}=e.getConfig();return[t/2,n/2,0]}getViewportCenter(){const[e,t]=this.camera.getPosition();return[e,t,0]}getGraphCenter(){return this.context.graph.getViewportByCanvas(this.getCanvasCenter())}getZoom(){return this.camera.getZoom()}getRotation(){return this.camera.getRoll()}getTranslateOptions(e){const{camera:t}=this,{mode:n,translate:r=[]}=e,i=this.getZoom(),o=t.getPosition(),a=t.getFocalPoint(),[s,l]=this.getCanvasCenter(),[u=0,c=0,d=0]=r,f=Ud([-u,-c,-d],i);return"relative"===n?{position:jd(o,f),focalPoint:jd(a,f)}:{position:jd([s,l,o[2]],f),focalPoint:jd([s,l,a[2]],f)}}getRotateOptions(e){const{mode:t,rotate:n=0}=e;return{roll:"relative"===t?this.camera.getRoll()+n:n}}getZoomOptions(e){const{zoomRange:t}=this.context.options,n=this.camera.getZoom(),{mode:r,scale:i=1}=e;return at("relative"===r?n*i:i,...t)}transform(e,t){return FG(this,void 0,void 0,(function*(){const{graph:n}=this.context,{translate:r,rotate:i,scale:o,origin:a}=e;this.cancelAnimation();const s=this.getAnimation(t);if(hG(n,new fG(wc.BEFORE_TRANSFORM,e)),!i&&o&&!r&&a&&!s)return this.camera.setZoomByViewportPoint(this.getZoomOptions(e),a),void hG(n,new fG(wc.AFTER_TRANSFORM,e));const l={};if(r&&Object.assign(l,this.getTranslateOptions(e)),st(i)&&Object.assign(l,this.getRotateOptions(e)),st(o)&&Object.assign(l,{zoom:this.getZoomOptions(e)}),s)return hG(n,new cG(wc.BEFORE_ANIMATE,pc.TRANSFORM,null,e)),new Promise((t=>{this.transformResolver=t,this.camera.gotoLandmark(this.createLandmark(l),Object.assign(Object.assign({},s),{onfinish:()=>{hG(n,new cG(wc.AFTER_ANIMATE,pc.TRANSFORM,null,e)),hG(n,new fG(wc.AFTER_TRANSFORM,e)),this.transformResolver=void 0,t()}}))}));this.camera.gotoLandmark(this.createLandmark(l),{duration:0}),hG(n,new fG(wc.AFTER_TRANSFORM,e))}))}fitView(e,t){return FG(this,void 0,void 0,(function*(){const[n,r,i,o]=this.padding,{when:a="always",direction:s="both"}=e||{},[l,u]=this.context.canvas.getSize(),c=l-o-r,d=u-n-i,f=this.context.canvas.getBounds(),h=this.getBBoxInViewport(f),[p,g]=Qc(h);if("overflow"===a&&!("x"===s&&p>=c||"y"===s&&g>=d||"both"===s&&p>=c&&g>=d))return yield this.fitCenter({animation:t});const v=c/p,m=d/g,y="x"===s?v:"y"===s?m:Math.min(v,m),b=this.getAnimation(t);yield this.transform({mode:"relative",scale:y,translate:jd(Fd(this.getCanvasCenter(),this.getBBoxInViewport(f).center),Ud(this.paddingOffset,y))},b)}))}fitCenter(e){return FG(this,void 0,void 0,(function*(){const t=this.context.canvas.getBounds();yield this.focus(t,e)}))}focusElements(e){return FG(this,arguments,void 0,(function*(e,t={}){const{element:n}=this.context;if(!n)return;const r=td(e.map((e=>{return r=n.getElement(e),t.shapes?r.getShape(t.shapes).getRenderBounds():r.getRenderBounds();var r})));yield this.focus(r,t)}))}focus(e,t){return FG(this,void 0,void 0,(function*(){const n=this.context.graph.getViewportByCanvas(e.center),r=Fd(t.position||this.getCanvasCenter(),n);yield this.transform({mode:"relative",translate:jd(r,this.paddingOffset)},t.animation)}))}getBBoxInViewport(e){const{min:t,max:n}=e,{graph:r}=this.context,[i,o]=r.getViewportByCanvas(t),[a,s]=r.getViewportByCanvas(n),l=new Yr;return l.setMinMax([i,o,0],[a,s,0]),l}isInViewport(e,t=!1,n=0){const{graph:r}=this.context,i=this.getCanvasSize(),[o,a]=r.getCanvasByViewport([0,0]),[s,l]=r.getCanvasByViewport(i);let u=new Yr;return u.setMinMax([o,a,0],[s,l,0]),n&&(u=ed(u,n)),Gc(e)?nd(e,u):t?function(e,t){const[n,r]=e.min,[i,o]=e.max,[a,s]=t.min,[l,u]=t.max;return n>=a&&i<=l&&r>=s&&o<=u}(e,u):u.intersects(e)}cancelAnimation(){var e,t;(null===(e=this.camera.landmarks)||void 0===e?void 0:e.length)&&this.camera.cancelLandmarkAnimation(),null===(t=this.transformResolver)||void 0===t||t.call(this)}}var UG=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class WG extends Zg{constructor(e){var t;super(),this.options={},this.rendered=!1,this.destroyed=!1,this.context={model:new NG},this.isCollapsingExpanding=!1,this.onResize=bt((()=>{this.resize()}),300),this._setOptions(Object.assign({},WG.defaultOptions,e),!0),this.context.graph=this,this.options.autoResize&&(null===(t=globalThis.addEventListener)||void 0===t||t.call(globalThis,"resize",this.onResize))}getOptions(){return this.options}setOptions(e){this._setOptions(e,!1)}_setOptions(e,t){if(this.updateCanvas(e),Object.assign(this.options,function(e){return[LG].reduce(((e,t)=>t(e)),e)}(e)),t){const{data:t}=e;return void(t&&this.addData(t))}const{behaviors:n,combo:r,data:i,edge:o,layout:a,node:s,plugins:l,theme:u,transforms:c}=e;n&&this.setBehaviors(n),i&&this.setData(i),s&&this.setNode(s),o&&this.setEdge(o),r&&this.setCombo(r),a&&this.setLayout(a),u&&this.setTheme(u),l&&this.setPlugins(l),c&&this.setTransforms(c)}getSize(){return this.context.canvas?this.context.canvas.getSize():[this.options.width||0,this.options.height||0]}setSize(e,t){e&&(this.options.width=e),t&&(this.options.height=t),this.resize(e,t)}setZoomRange(e){this.options.zoomRange=e}getZoomRange(){return this.options.zoomRange}setNode(e){this.options.node=e,this.context.model.refreshData()}setEdge(e){this.options.edge=e,this.context.model.refreshData()}setCombo(e){this.options.combo=e,this.context.model.refreshData()}getTheme(){return this.options.theme}setTheme(e){this.options.theme=$e(e)?e(this.getTheme()):e}setLayout(e){this.options.layout=$e(e)?e(this.getLayout()):e}getLayout(){return this.options.layout}setBehaviors(e){var t;this.options.behaviors=$e(e)?e(this.getBehaviors()):e,null===(t=this.context.behavior)||void 0===t||t.setBehaviors(this.options.behaviors)}updateBehavior(e){this.setBehaviors((t=>t.map((t=>"object"==typeof t&&t.key===e.key?Object.assign(Object.assign({},t),e):t))))}getBehaviors(){return this.options.behaviors||[]}setPlugins(e){var t;this.options.plugins=$e(e)?e(this.getPlugins()):e,null===(t=this.context.plugin)||void 0===t||t.setPlugins(this.options.plugins)}updatePlugin(e){this.setPlugins((t=>t.map((t=>"object"==typeof t&&t.key===e.key?Object.assign(Object.assign({},t),e):t))))}getPlugins(){return this.options.plugins||[]}getPluginInstance(e){return this.context.plugin.getPluginInstance(e)}setTransforms(e){var t;this.options.transforms=$e(e)?e(this.getTransforms()):e,null===(t=this.context.transform)||void 0===t||t.setTransforms(this.options.transforms)}updateTransform(e){this.setTransforms((t=>t.map((t=>"object"==typeof t&&t.key===e.key?Object.assign(Object.assign({},t),e):t)))),this.context.model.refreshData()}getTransforms(){return this.options.transforms||[]}getData(){return this.context.model.getData()}getElementData(e){return Array.isArray(e)?e.map((e=>this.context.model.getElementDataById(e))):this.context.model.getElementDataById(e)}getNodeData(e){var t;return void 0===e?this.context.model.getNodeData():Array.isArray(e)?this.context.model.getNodeData(e):null===(t=this.context.model.getNodeData([e]))||void 0===t?void 0:t[0]}getEdgeData(e){var t;return void 0===e?this.context.model.getEdgeData():Array.isArray(e)?this.context.model.getEdgeData(e):null===(t=this.context.model.getEdgeData([e]))||void 0===t?void 0:t[0]}getComboData(e){var t;return void 0===e?this.context.model.getComboData():Array.isArray(e)?this.context.model.getComboData(e):null===(t=this.context.model.getComboData([e]))||void 0===t?void 0:t[0]}setData(e){this.context.model.setData($e(e)?e(this.getData()):e)}addData(e){this.context.model.addData($e(e)?e(this.getData()):e)}addNodeData(e){this.context.model.addNodeData($e(e)?e(this.getNodeData()):e)}addEdgeData(e){this.context.model.addEdgeData($e(e)?e(this.getEdgeData()):e)}addComboData(e){this.context.model.addComboData($e(e)?e(this.getComboData()):e)}addChildrenData(e,t){this.context.model.addChildrenData(e,t)}updateData(e){this.context.model.updateData($e(e)?e(this.getData()):e)}updateNodeData(e){this.context.model.updateNodeData($e(e)?e(this.getNodeData()):e)}updateEdgeData(e){this.context.model.updateEdgeData($e(e)?e(this.getEdgeData()):e)}updateComboData(e){this.context.model.updateComboData($e(e)?e(this.getComboData()):e)}removeData(e){this.context.model.removeData($e(e)?e(this.getData()):e)}removeNodeData(e){this.context.model.removeNodeData($e(e)?e(this.getNodeData()):e)}removeEdgeData(e){this.context.model.removeEdgeData($e(e)?e(this.getEdgeData()):e)}removeComboData(e){this.context.model.removeComboData($e(e)?e(this.getComboData()):e)}getElementType(e){return this.context.model.getElementType(e)}getRelatedEdgesData(e,t="both"){return this.context.model.getRelatedEdgesData(e,t)}getNeighborNodesData(e){return this.context.model.getNeighborNodesData(e)}getAncestorsData(e,t){return this.context.model.getAncestorsData(e,t)}getParentData(e,t){return this.context.model.getParentData(e,t)}getChildrenData(e){return this.context.model.getChildrenData(e)}getDescendantsData(e){return this.context.model.getDescendantsData(e)}getElementDataByState(e,t){return this.context.model.getElementDataByState(e,t)}initCanvas(){return UG(this,void 0,void 0,(function*(){var e;if(this.context.canvas)return yield this.context.canvas.ready;const{container:t="container",width:n,height:r,renderer:i,cursor:o,background:a,canvas:s,devicePixelRatio:l=(null!==(e=globalThis.devicePixelRatio)&&void 0!==e?e:1)}=this.options;if(t instanceof rG)this.context.canvas=t,o&&t.setCursor(o),i&&t.setRenderer(i),yield t.ready;else{const e=rt(t)?document.getElementById(t):t,u=sG(e);this.emit(wc.BEFORE_CANVAS_INIT,{container:e,width:n,height:r});const c=Object.assign(Object.assign({},s),{container:e,width:n||u[0],height:r||u[1],background:a,renderer:i,cursor:o,devicePixelRatio:l}),d=new rG(c);this.context.canvas=d,yield d.ready,this.emit(wc.AFTER_CANVAS_INIT,{canvas:d})}}))}updateCanvas(e){var t,n;const{renderer:r,cursor:i,height:o,width:a}=e,s=this.context.canvas;s&&(r&&(this.emit(wc.BEFORE_RENDERER_CHANGE,{renderer:this.options.renderer}),s.setRenderer(r),this.emit(wc.AFTER_RENDERER_CHANGE,{renderer:r})),i&&s.setCursor(i),(st(a)||st(o))&&this.setSize(null!==(t=null!=a?a:this.options.width)&&void 0!==t?t:0,null!==(n=null!=o?o:this.options.height)&&void 0!==n?n:0))}initRuntime(){this.context.options=this.options,this.context.batch||(this.context.batch=new bG(this.context)),this.context.plugin||(this.context.plugin=new IG(this.context)),this.context.viewport||(this.context.viewport=new BG(this.context)),this.context.transform||(this.context.transform=new jG(this.context)),this.context.element||(this.context.element=new OG(this.context)),this.context.animation||(this.context.animation=new yG(this.context)),this.context.layout||(this.context.layout=new AG(this.context)),this.context.behavior||(this.context.behavior=new wG(this.context))}prepare(){return UG(this,void 0,void 0,(function*(){if(yield Promise.resolve(),this.destroyed)throw new Error(Nc("The graph instance has been destroyed"));yield this.initCanvas(),this.initRuntime()}))}render(){return UG(this,void 0,void 0,(function*(){if(yield this.prepare(),hG(this,new uG(wc.BEFORE_RENDER)),this.options.layout)if(this.rendered||(e=this.options.layout,Array.isArray(e)||!(null==e?void 0:e.preLayout))){const e=this.context.element.draw({type:"render"});yield Promise.all([null==e?void 0:e.finished,this.context.layout.postLayout()]),yield this.autoFit()}else{const e=yield this.context.element.preLayoutDraw({type:"render"});yield Promise.all([null==e?void 0:e.finished,this.autoFit()])}else{const e=this.context.element.draw({type:"render"});yield Promise.all([null==e?void 0:e.finished,this.autoFit()])}var e;this.rendered=!0,hG(this,new uG(wc.AFTER_RENDER))}))}draw(){return UG(this,void 0,void 0,(function*(){var e;yield this.prepare(),yield null===(e=this.context.element.draw())||void 0===e?void 0:e.finished}))}layout(){return UG(this,void 0,void 0,(function*(){yield this.context.layout.postLayout()}))}stopLayout(){this.context.layout.stopLayout()}clear(){return UG(this,void 0,void 0,(function*(){this.context.model.setData({}),yield this.draw()}))}destroy(){var e;hG(this,new uG(wc.BEFORE_DESTROY));const{layout:t,animation:n,element:r,model:i,canvas:o,behavior:a,plugin:s}=this.context;null==s||s.destroy(),null==a||a.destroy(),null==t||t.destroy(),null==n||n.destroy(),null==r||r.destroy(),i.destroy(),null==o||o.destroy(),this.options={},this.context={},this.off(),null===(e=globalThis.removeEventListener)||void 0===e||e.call(globalThis,"resize",this.onResize),this.destroyed=!0,hG(this,new uG(wc.AFTER_DESTROY))}getCanvas(){return this.context.canvas}resize(e,t){var n;const r=sG(null===(n=this.context.canvas)||void 0===n?void 0:n.getContainer()),i=[e||r[0],t||r[1]];if(!this.context.canvas)return;const o=this.context.canvas.getSize();Ct(i,o)||(hG(this,new uG(wc.BEFORE_SIZE_CHANGE,{size:i})),this.context.canvas.resize(...i),hG(this,new uG(wc.AFTER_SIZE_CHANGE,{size:i})))}fitView(e,t){return UG(this,void 0,void 0,(function*(){var n;yield null===(n=this.context.viewport)||void 0===n?void 0:n.fitView(e,t)}))}fitCenter(e){return UG(this,void 0,void 0,(function*(){var t;yield null===(t=this.context.viewport)||void 0===t?void 0:t.fitCenter({animation:e})}))}autoFit(){return UG(this,void 0,void 0,(function*(){const{autoFit:e}=this.context.options;if(e)if(rt(e))"view"===e?yield this.fitView():"center"===e&&(yield this.fitCenter());else{const{type:t,animation:n}=e;"view"===t?yield this.fitView(e.options,n):"center"===t&&(yield this.fitCenter(n))}}))}focusElement(e,t){return UG(this,void 0,void 0,(function*(){var n;yield null===(n=this.context.viewport)||void 0===n?void 0:n.focusElements(Array.isArray(e)?e:[e],{animation:t})}))}zoomBy(e,t,n){return UG(this,void 0,void 0,(function*(){yield this.context.viewport.transform({mode:"relative",scale:e,origin:n},t)}))}zoomTo(e,t,n){return UG(this,void 0,void 0,(function*(){this.context.viewport.transform({mode:"absolute",scale:e,origin:n},t)}))}getZoom(){return this.context.viewport.getZoom()}rotateBy(e,t,n){return UG(this,void 0,void 0,(function*(){yield this.context.viewport.transform({mode:"relative",rotate:e,origin:n},t)}))}rotateTo(e,t,n){return UG(this,void 0,void 0,(function*(){yield this.context.viewport.transform({mode:"absolute",rotate:e,origin:n},t)}))}getRotation(){return this.context.viewport.getRotation()}translateBy(e,t){return UG(this,void 0,void 0,(function*(){yield this.context.viewport.transform({mode:"relative",translate:e},t)}))}translateTo(e,t){return UG(this,void 0,void 0,(function*(){yield this.context.viewport.transform({mode:"absolute",translate:e},t)}))}getPosition(){return Fd([0,0],this.getCanvasByViewport([0,0]))}translateElementBy(e,t){return UG(this,arguments,void 0,(function*(e,t,n=!0){var r,i;const[o,a]=Ke(e)?[e,null===(r=t)||void 0===r||r]:[{[e]:t},n];Object.entries(o).forEach((([e,t])=>this.context.model.translateNodeLikeBy(e,t))),yield null===(i=this.context.element.draw({animation:a,stage:"translate"}))||void 0===i?void 0:i.finished}))}translateElementTo(e,t){return UG(this,arguments,void 0,(function*(e,t,n=!0){var r,i;const[o,a]=Ke(e)?[e,null===(r=t)||void 0===r||r]:[{[e]:t},n];Object.entries(o).forEach((([e,t])=>this.context.model.translateNodeLikeTo(e,t))),yield null===(i=this.context.element.draw({animation:a,stage:"translate"}))||void 0===i?void 0:i.finished}))}getElementPosition(e){return this.context.model.getElementPosition(e)}getElementRenderStyle(e){return Rt(this.context.element.getElement(e).attributes,["context"])}setElementVisibility(e,t){return UG(this,arguments,void 0,(function*(e,t,n=!0){var r,i;const[o,a]=Ke(e)?[e,null===(r=t)||void 0===r||r]:[{[e]:t},n],s={nodes:[],edges:[],combos:[]};Object.entries(o).forEach((([e,t])=>{const n=this.getElementType(e);s[`${n}s`].push({id:e,style:{visibility:t}})}));const{model:l,element:u}=this.context;l.preventUpdateNodeLikeHierarchy((()=>{l.updateData(s)})),yield null===(i=u.draw({animation:a,stage:"visibility"}))||void 0===i?void 0:i.finished}))}showElement(e,t){return UG(this,void 0,void 0,(function*(){const n=Array.isArray(e)?e:[e];yield this.setElementVisibility(Object.fromEntries(n.map((e=>[e,"visible"]))),t)}))}hideElement(e,t){return UG(this,void 0,void 0,(function*(){const n=Array.isArray(e)?e:[e];yield this.setElementVisibility(Object.fromEntries(n.map((e=>[e,"hidden"]))),t)}))}getElementVisibility(e){var t,n;const r=this.context.element.getElement(e);return null!==(n=null===(t=null==r?void 0:r.style)||void 0===t?void 0:t.visibility)&&void 0!==n?n:"visible"}setElementZIndex(e,t){return UG(this,void 0,void 0,(function*(){var n;const r={nodes:[],edges:[],combos:[]},i=Ke(e)?e:{[e]:t};Object.entries(i).forEach((([e,t])=>{const n=this.getElementType(e);r[`${n}s`].push({id:e,style:{zIndex:t}})}));const{model:o,element:a}=this.context;o.preventUpdateNodeLikeHierarchy((()=>o.updateData(r))),yield null===(n=a.draw({animation:!1,stage:"zIndex"}))||void 0===n?void 0:n.finished}))}frontElement(e){return UG(this,void 0,void 0,(function*(){const t=Array.isArray(e)?e:[e],{model:n}=this.context,r={};t.map((e=>{const t=n.getFrontZIndex(e);if("combo"===n.getElementType(e)){const i=n.getAncestorsData(e,kc).at(-1)||this.getComboData(e),o=[i,...n.getDescendantsData(wd(i))],a=t-pG(i);o.forEach((e=>{r[wd(e)]=this.getElementZIndex(wd(e))+a}));const{internal:s}=ig(o.map(wd),(e=>n.getRelatedEdgesData(e)));s.forEach((e=>{const t=wd(e);r[t]=this.getElementZIndex(t)+a}))}else r[e]=t})),yield this.setElementZIndex(r)}))}getElementZIndex(e){return pG(this.context.model.getElementDataById(e))}setElementState(e,t){return UG(this,arguments,void 0,(function*(e,t,n=!0){var r,i;const[o,a]=Ke(e)?[e,null===(r=t)||void 0===r||r]:[{[e]:t},n],s={nodes:[],edges:[],combos:[]};Object.entries(o).forEach((([e,t])=>{const n=this.getElementType(e);var r;s[`${n}s`].push({id:e,states:(r=t,r?Array.isArray(r)?r:[r]:[])})})),this.updateData(s),yield null===(i=this.context.element.draw({animation:a,stage:"state"}))||void 0===i?void 0:i.finished}))}getElementState(e){return this.context.model.getElementState(e)}getElementRenderBounds(e){return this.context.element.getElement(e).getRenderBounds()}collapseElement(e){return UG(this,arguments,void 0,(function*(e,t=!0){const{model:n,element:r}=this.context;if(Pf(n.getNodeLikeData([e])[0]))return;if(this.isCollapsingExpanding)return;"boolean"==typeof t&&(t={animation:t,align:!0});const i=n.getElementType(e);yield this.frontElement(e),this.isCollapsingExpanding=!0,this.setElementCollapsibility(e,!0),"node"===i?yield r.collapseNode(e,t):"combo"===i&&(yield r.collapseCombo(e,!!t.animation)),this.isCollapsingExpanding=!1}))}expandElement(e){return UG(this,arguments,void 0,(function*(e,t=!0){const{model:n,element:r}=this.context;if(!Pf(n.getNodeLikeData([e])[0]))return;if(this.isCollapsingExpanding)return;"boolean"==typeof t&&(t={animation:t,align:!0});const i=n.getElementType(e);this.isCollapsingExpanding=!0,this.setElementCollapsibility(e,!1),"node"===i?yield r.expandNode(e,t):"combo"===i&&(yield r.expandCombo(e,!!t.animation)),this.isCollapsingExpanding=!1}))}setElementCollapsibility(e,t){const n=this.getElementType(e);"node"===n?this.updateNodeData([{id:e,style:{collapsed:t}}]):"combo"===n&&this.updateComboData([{id:e,style:{collapsed:t}}])}toDataURL(){return UG(this,arguments,void 0,(function*(e={}){return this.context.canvas.toDataURL(e)}))}getCanvasByViewport(e){return this.context.canvas.getCanvasByViewport(e)}getViewportByCanvas(e){return this.context.canvas.getViewportByCanvas(e)}getClientByCanvas(e){return this.context.canvas.getClientByCanvas(e)}getCanvasByClient(e){return this.context.canvas.getCanvasByClient(e)}getViewportCenter(){return this.context.viewport.getViewportCenter()}getCanvasCenter(){return this.context.viewport.getCanvasCenter()}on(e,t,n){return super.on(e,t,n)}once(e,t){return super.once(e,t)}off(e,t){return super.off(e,t)}}WG.defaultOptions={autoResize:!1,theme:"light",rotation:0,zoom:1,zoomRange:[.01,10]};const VG=(e,t)=>{const{source:n,target:r}=t,i=e.getElementDataById(n),o=e.getElementDataById(r),a=og(i,(t=>e.getParentData(t,kc))),s=og(o,(t=>e.getParentData(t,kc))),l={sourceNode:wd(a),targetNode:wd(s)};return t.style?Object.assign(t.style,l):t.style=l,t};class HG extends YH{constructor(e,t){super(e,St({},HG.defaultOptions,t)),this.assignSizeByCentrality=(e,t,n,r,i,o)=>{const a=[t,n],s=[r[0],i[0]],l=[r[1],i[1]],u=[r[2],i[2]],c=(e,t)=>{if("function"==typeof o)return o(e,a,t);switch(o){case"linear":return((e,t,n)=>{const[r,i]=t,[o,a]=n;return i===r?o:o+(e-r)/(i-r)*(a-o)})(e,a,t);case"log":return((e,t,n)=>{const[r,i]=t,[o,a]=n;return o+Math.log(e-r+1)/Math.log(i-r+1)*(a-o)})(e,a,t);case"pow":return((e,t,n,r=2)=>{const[i,o]=t,[a,s]=n;return a+Math.pow((e-i)/(o-i),r)*(s-a)})(e,a,t,2);case"sqrt":return((e,t,n)=>{const[r,i]=t,[o,a]=n;return o+Math.sqrt((e-r)/(i-r))*(a-o)})(e,a,t);default:return t[0]}};return[c(e,s),c(e,l),c(e,u)]}}beforeDraw(e){const{model:t}=this.context,n=t.getNodeData(),r=Lf(this.options.maxSize),i=Lf(this.options.minSize),o=this.getCentralities(this.options.centrality),a=o.size>0?Math.max(...o.values()):0,s=o.size>0?Math.min(...o.values()):0;return n.forEach((t=>{var n;const l=this.assignSizeByCentrality(o.get(wd(t))||0,s,a,i,r,this.options.scale),u=null===(n=this.context.element)||void 0===n?void 0:n.getElement(wd(t)),c={size:l};this.assignLabelStyle(c,l,t,u),u&&KH(c,u.attributes)||qH(e,u?"update":"add","node",St(t,{style:c}),!0)})),e}assignLabelStyle(e,t,n,r){var i;const o=r?r.config.style:null===(i=this.context.element)||void 0===i?void 0:i.getElementComputedStyle("node",n);if(Object.assign(e,_t(o,["labelFontSize","labelLineHeight"])),this.options.mapLabelSize){const n=this.getLabelSizeByNodeSize(t,1/0,Number(e.labelFontSize));Object.assign(e,{labelFontSize:n,labelLineHeight:n+qc(e.labelPadding)})}return e}getLabelSizeByNodeSize(e,t,n){const r=Math.min(...e)/2,[i,o]=Array.isArray(this.options.mapLabelSize)?this.options.mapLabelSize:[n,t];return Math.min(o,Math.max(r,i))}getCentralities(e){const{model:t}=this.context,n=t.getData();if("function"==typeof e)return e(n);const r=t.getRelatedEdgesData.bind(t);return kd(n,r,e)}}HG.defaultOptions={centrality:{type:"degree"},maxSize:80,minSize:20,scale:"linear",mapLabelSize:!1};class GG extends YH{constructor(e,t){super(e,Object.assign({},GG.defaultOptions,t))}get ref(){return this.context.model.getRootsData()[0]}afterLayout(){var e;const t=ef(this.ref),{graph:n,model:r}=this.context;null===(e=r.getData().nodes)||void 0===e||e.forEach((e=>{var i;if(wd(e)===wd(this.ref))return;const o=Xd(Fd(ef(e),t)),a=Math.abs(o)>Math.PI/2,s=!e.children||0===e.children.length,l=wd(e),u=null===(i=this.context.element)||void 0===i?void 0:i.getElement(l);if(!u||!u.isVisible())return;const c=(s?1:-1)*(Lf(n.getElementRenderStyle(l).size)[0]/2+this.options.offset),d=[["translate",c*Math.cos(o),c*Math.sin(o)],["rotate",a?si(o)+180:si(o)]];r.updateNodeData([{id:wd(e),style:{labelTextAlign:a===s?"right":"left",labelTextBaseline:"middle",labelTransform:d}}])})),n.draw()}}GG.defaultOptions={offset:5};const $G=["top","top-right","right","right-bottom","bottom","bottom-left","left","left-top"];class YG extends YH{constructor(e,t){super(e,Object.assign({},YG.defaultOptions,t)),this.cacheMergeStyle=new Map,this.getAffectedParallelEdges=e=>{const{add:{edges:t},update:{nodes:n,edges:r,combos:i},remove:{edges:o}}=e,{model:a}=this.context,s=new Map,l=(e,t)=>{a.getRelatedEdgesData(t).forEach((e=>!s.has(wd(e))&&s.set(wd(e),e)))};n.forEach(l),i.forEach(l);const u=e=>{const t=a.getEdgeData().map((e=>VG(a,e)));KG(e,t).forEach((e=>!s.has(wd(e))&&s.set(wd(e),e)))};if(o.size&&o.forEach(u),t.size&&t.forEach(u),r.size){const e=mF(vF(a.getChanges())).update.edges;r.forEach((t=>{var n;u(t);const r=null===(n=e.find((e=>wd(e.value)===wd(t))))||void 0===n?void 0:n.original;r&&!XG(t,r)&&u(r)}))}Tt(this.options.edges)||s.forEach(((e,t)=>!this.options.edges.includes(t)&&s.delete(t)));const c=a.getEdgeData().map(wd);return new Map([...s].sort(((e,t)=>c.indexOf(e[0])-c.indexOf(t[0]))))},this.applyBundlingStyle=(e,t,n)=>{const{edgeMap:r,reverses:i}=qG(t);r.forEach((t=>{t.forEach(((t,r,o)=>{var a;const s=o.length,l=t.style||{};if(t.source===t.target){const e=$G.length;l.loopPlacement=$G[r%e],l.loopDist=Math.floor(r/e)*n+50}else if(1===s)l.curveOffset=0;else{const e=(r%2==0?1:-1)*(i[`${t.source}|${t.target}|${r}`]?-1:1);l.curveOffset=s%2==1?e*Math.ceil(r/2)*n*2:e*(Math.floor(r/2)*n*2+n)}const u=Object.assign(t,{type:"quadratic",style:l}),c=null===(a=this.context.element)||void 0===a?void 0:a.getElement(wd(t));c&&KH(u.style,c.attributes)||qH(e,c?"update":"add","edge",u,!0)}))}))},this.resetEdgeStyle=e=>{const t=e.style||{},n=this.cacheMergeStyle.get(wd(e))||{};return Object.keys(n).forEach((r=>{Ct(t[r],n[r])&&(e[r]?t[r]=e[r]:delete t[r])})),Object.assign(e,{style:t})},this.applyMergingStyle=(e,t)=>{const{edgeMap:n,reverses:r}=qG(t);n.forEach((t=>{var n;if(1===t.length){const r=t[0],i=null===(n=this.context.element)||void 0===n?void 0:n.getElement(wd(r)),o=this.resetEdgeStyle(r);return void(i&&KH(o,i.attributes)||qH(e,i?"update":"add","edge",o))}const i=t.map((({source:e,target:t,style:n={}},i)=>{const{startArrow:o,endArrow:a}=n,s={},[l,u]=r[`${e}|${t}|${i}`]?["endArrow","startArrow"]:["startArrow","endArrow"];return gt(o)&&(s[l]=o),gt(a)&&(s[u]=a),s})).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{});t.forEach(((t,n,r)=>{var o;if(0!==n)return void qH(e,"remove","edge",t);const a=Object.assign({},$e(this.options.style)?this.options.style(r):this.options.style,{childrenData:r});this.cacheMergeStyle.set(wd(t),a);const s=Object.assign(Object.assign({},t),{type:"line",style:Object.assign(Object.assign(Object.assign({},t.style),i),a)}),l=null===(o=this.context.element)||void 0===o?void 0:o.getElement(wd(t));l&&KH(s.style,l.attributes)||qH(e,l?"update":"add","edge",s,!0)}))}))}}beforeDraw(e){const t=this.getAffectedParallelEdges(e);return 0===t.size||("bundle"===this.options.mode?this.applyBundlingStyle(e,t,this.options.distance):this.applyMergingStyle(e,t)),e}}YG.defaultOptions={mode:"bundle",distance:15};const qG=e=>{const t=new Map,n=new Set,r={};for(const[i,o]of e){if(n.has(i))continue;const{source:a,target:s}=o,l=`${a}-${s}`;t.has(l)||t.set(l,[]),t.get(l).push(o),n.add(i);for(const[i,u]of e)n.has(i)||XG(o,u)&&(t.get(l).push(u),n.add(i),a===u.target&&s===u.source&&(r[`${u.source}|${u.target}|${t.get(l).length-1}`]=!0))}return{edgeMap:t,reverses:r}},KG=(e,t,n)=>t.filter((t=>XG(t,e))),XG=(e,t)=>{const{sourceNode:n,targetNode:r}=e.style||{},{sourceNode:i,targetNode:o}=t.style||{};return n===i&&r===o||n===o&&r===i};const QG={animation:{"combo-collapse":Vc,"combo-expand":Hc,"node-collapse":Fc,"node-expand":Bc,"path-in":Uc,"path-out":Wc,fade:[{fields:["opacity"]}],translate:[{fields:["x","y"]}]},behavior:{"brush-select":bf,"click-select":Nf,"collapse-expand":Hg,"create-edge":Yg,"drag-canvas":Kg,"drag-element-force":class extends Qg{get forceLayoutInstance(){return this.context.layout.getLayoutInstance().find((e=>["d3-force","d3-force-3d"].includes(null==e?void 0:e.id)))}validate(e){return!!this.context.layout&&(this.forceLayoutInstance?super.validate(e):(Pc("DragElementForce only works with d3-force or d3-force-3d layout"),!1))}moveElement(e,t){return cv(this,void 0,void 0,(function*(){const n=this.forceLayoutInstance;this.context.graph.getNodeData(e).forEach(((r,i)=>{const{x:o=0,y:a=0}=r.style||{};n&&lv(n,"setFixedPosition",e[i],[...jd([+o,+a],t)])}))}))}onDragStart(e){if(this.enable=this.validate(e),!this.enable)return;this.target=this.getSelectedNodeIDs([e.target.id]),this.hideEdge(),this.context.graph.frontElement(this.target);const t=this.forceLayoutInstance;t&&uv(t,"simulation").alphaTarget(.3).restart(),this.context.graph.getNodeData(this.target).forEach((e=>{const{x:n=0,y:r=0}=e.style||{};t&&lv(t,"setFixedPosition",wd(e),[+n,+r])}))}onDrag(e){if(!this.enable)return;const t=this.getDelta(e);this.moveElement(this.target,t)}onDragEnd(){const e=this.forceLayoutInstance;e&&uv(e,"simulation").alphaTarget(0),this.options.fixed||this.context.graph.getNodeData(this.target).forEach((t=>{e&&lv(e,"setFixedPosition",wd(t),[null,null,null])}))}},"drag-element":Qg,"fix-element-size":fv,"focus-element":pv,"hover-activate":gv,"lasso-select":class extends bf{onPointerDown(e){if(!super.validate(e)||!super.isKeydown()||this.points)return;const{canvas:t}=this.context;this.pathShape=new Gl({id:"g6-lasso-select",style:this.options.style}),t.appendChild(this.pathShape),this.points=[wf(e)]}onPointerMove(e){var t;if(!this.points)return;const{immediately:n,mode:r}=this.options;this.points.push(wf(e)),null===(t=this.pathShape)||void 0===t||t.setAttribute("d",function(e,t=!0){const n=[];return e.forEach(((e,t)=>{n.push([0===t?"M":"L",...e])})),t&&n.push(["Z"]),n}(this.points)),n&&"default"===r&&this.points.length>2&&super.updateElementsStates(this.points)}onPointerUp(){this.points&&(this.points.length<2||super.updateElementsStates(this.points),this.clearLasso())}clearLasso(){var e;null===(e=this.pathShape)||void 0===e||e.remove(),this.pathShape=void 0,this.points=void 0}},"auto-adapt-label":Id,"optimize-viewport-transform":vv,"scroll-canvas":yv,"zoom-canvas":wv},combo:{circle:class extends zp{constructor(e){super(e)}drawKeyShape(e,t){return this.upsert("key",Dl,this.getKeyStyle(e),t)}getKeyStyle(e){const{collapsed:t}=e,n=super.getKeyStyle(e),[r]=this.getKeySize(e);return Object.assign(Object.assign(Object.assign({},n),t&&Rf(n,"collapsed")),{r:r/2})}getCollapsedKeySize(e){const[t,n]=Lf(e.collapsedSize),r=Math.max(t,n)/2;return[2*r,2*r,0]}getExpandedKeySize(e){const t=this.getContentBBox(e),[n,r]=Qc(t),i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2))/2;return[2*i,2*i,0]}getIntersectPoint(e,t=!1){return ff(e,this.getShape("key").getBounds(),t)}},rect:class extends zp{constructor(e){super(e)}drawKeyShape(e,t){return this.upsert("key",Xl,this.getKeyStyle(e),t)}getKeyStyle(e){const t=super.getKeyStyle(e),[n,r]=this.getKeySize(e);return Object.assign(Object.assign(Object.assign({},t),e.collapsed&&Rf(t,"collapsed")),{width:n,height:r,x:-n/2,y:-r/2})}}},edge:{cubic:cg,line:pg,polyline:Mg,quadratic:Tg,"cubic-horizontal":dg,"cubic-radial":fg,"cubic-vertical":hg},layout:{"antv-dagre":class{constructor(e={}){this.options=e,this.id="antv-dagre",this.options=Object.assign(Object.assign({},_b),e)}execute(e,t){return Ut(this,void 0,void 0,(function*(){return this.genericDagreLayout(!1,e,t)}))}assign(e,t){return Ut(this,void 0,void 0,(function*(){yield this.genericDagreLayout(!0,e,t)}))}genericDagreLayout(e,t,n){return Ut(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},this.options),n),{nodeSize:i,align:o,rankdir:a="TB",ranksep:s,nodesep:l,ranksepFunc:u,nodesepFunc:c,edgeLabelSpace:d,ranker:f,nodeOrder:h,begin:p,controlPoints:g,radial:v,sortByCombo:m,preset:y}=r,b=new rv({tree:[]}),w=Nb(s||50,u),x=Nb(l||50,c);let E=x,k=w;"LR"!==a&&"RL"!==a||(E=w,k=x);const S=Pb(10,i,!1),M=t.getAllNodes(),T=t.getAllEdges();let C;M.forEach((e=>{const t=Cb(S(e)),n=k(e),r=E(e),i=t[0]+2*r,o=t[1]+2*n,a=e.data.layer;st(a)?b.addNode({id:e.id,data:{width:i,height:o,layer:a}}):b.addNode({id:e.id,data:{width:i,height:o}})})),m&&(b.attachTreeStructure("combo"),M.forEach((e=>{const{parentId:t}=e.data;void 0!==t&&b.hasNode(t)&&b.setParent(e.id,t,"combo")}))),T.forEach((e=>{b.addEdge({id:e.id,source:e.source,target:e.target,data:{weight:e.data.weight||1}})})),(null==y?void 0:y.length)&&(C=new rv({nodes:y})),((e,t)=>{const{edgeLabelSpace:n,keepNodeOrder:r,prevGraph:i,rankdir:o,ranksep:a}=t;!r&&i&&Zy(e,i);const s=ob(e);let l;n&&(t.ranksep=ab(s,{rankdir:o,ranksep:a}));try{l=Qy(s,t)}catch(e){if("Not possible to find intersection inside of the rectangle"===e.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",e);throw e}Jy(e,s)})(b,{prevGraph:C,edgeLabelSpace:d,keepNodeOrder:!!h,nodeOrder:h||[],acyclicer:"greedy",ranker:f,rankdir:a,nodesep:l,align:o});const N=[0,0];if(p){let e=1/0,t=1/0;b.getAllNodes().forEach((n=>{e>n.data.x&&(e=n.data.x),t>n.data.y&&(t=n.data.y)})),b.getAllEdges().forEach((n=>{var r;null===(r=n.data.points)||void 0===r||r.forEach((n=>{e>n.x&&(e=n.x),t>n.y&&(t=n.y)}))})),N[0]=p[0]-e,N[1]=p[1]-t}const P="LR"===a||"RL"===a;if(v);else{const e=new Set,t="BT"===a||"RL"===a?(e,t)=>t-e:(e,t)=>e-t;b.getAllNodes().forEach((t=>{t.data.x=t.data.x+N[0],t.data.y=t.data.y+N[1],e.add(P?t.data.x:t.data.y)}));const n=Array.from(e).sort(t),r=P?(e,t)=>e.x!==t.x:(e,t)=>e.y!==t.y,i=P?(e,t,n)=>{const r=Math.max(t.y,n.y),i=Math.min(t.y,n.y);return e.filter((e=>e.y<=r&&e.y>=i))}:(e,t,n)=>{const r=Math.max(t.x,n.x),i=Math.min(t.x,n.x);return e.filter((e=>e.x<=r&&e.x>=i))};b.getAllEdges().forEach(((e,t)=>{var o;d&&g&&"loop"!==e.data.type&&(e.data.controlPoints=Rb(null===(o=e.data.points)||void 0===o?void 0:o.map((({x:e,y:t})=>({x:e+N[0],y:t+N[1]}))),b.getNode(e.source),b.getNode(e.target),n,P,r,i))}))}let O=[];O=b.getAllNodes().map((e=>Tb(e)));const _=b.getAllEdges();e&&(O.forEach((e=>{t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y})})),_.forEach((e=>{t.mergeEdgeData(e.id,{controlPoints:e.data.controlPoints})})));return{nodes:O,edges:_}}))}},"combo-combined":class{constructor(e={}){this.options=e,this.id="comboCombined",this.options=Object.assign(Object.assign({},hx),e)}execute(e,t){return Ut(this,void 0,void 0,(function*(){return this.genericComboCombinedLayout(!1,e,t)}))}assign(e,t){return Ut(this,void 0,void 0,(function*(){yield this.genericComboCombinedLayout(!0,e,t)}))}genericComboCombinedLayout(e,t,n){return Ut(this,void 0,void 0,(function*(){const r=this.initVals(Object.assign(Object.assign({},this.options),n)),{center:i,treeKey:o,outerLayout:a}=r,s=t.getAllNodes().filter((e=>!e.data._isCombo)),l=t.getAllNodes().filter((e=>e.data._isCombo)),u=t.getAllEdges(),c=null==s?void 0:s.length;if(!c||1===c)return Ab(t,e,i);const d=[],f=new Map;s.forEach((e=>{f.set(e.id,e)}));const h=new Map;l.forEach((e=>{h.set(e.id,e)}));const p=new Map,g=this.getInnerGraphs(t,o,f,h,u,r,p);yield Promise.all(g);const v=new Map,m=[],y=new Map;let b=!0;t.getRoots(o).forEach((e=>{const n=p.get(e.id),r=h.get(e.id)||f.get(e.id),i={id:e.id,data:Object.assign(Object.assign({},e.data),{x:n.data.x||r.data.x,y:n.data.y||r.data.y,fx:n.data.fx||r.data.fx,fy:n.data.fy||r.data.fy,mass:n.data.mass||r.data.mass,size:n.data.size})};m.push(i),v.set(e.id,!0),isNaN(i.data.x)||0===i.data.x||isNaN(i.data.y)||0===i.data.y?(i.data.x=100*Math.random(),i.data.y=100*Math.random()):b=!1,Sb(t,[e],(t=>{t.id!==e.id&&y.set(t.id,e.id)}),"TB",o)}));const w=[];let x;if(u.forEach((e=>{const t=y.get(e.source)||e.source,n=y.get(e.target)||e.target;t!==n&&v.has(t)&&v.has(n)&&w.push({id:e.id,source:t,target:n,data:{}})})),null==m?void 0:m.length){if(1===m.length)m[0].data.x=i[0],m[0].data.y=i[1];else{const e=new rv({nodes:m,edges:w}),t=a||new sw;if(b&&fx[t.id]){const t=m.length<100?new lx:new jb;yield t.assign(e)}const n=Object.assign({center:i,kg:5,preventOverlap:!0,animate:!1},"force"===t.id?{gravity:1,factor:4,linkDistance:(e,t,n)=>(Math.max(...t.data.size)||32)/2+(Math.max(...n.data.size)||32)/2+200}:{});x=yield px(t,e,n)}p.forEach((e=>{var t;const n=x.nodes.find((t=>t.id===e.id));if(n){const{x:t,y:r}=n.data;e.data.visited=!0,e.data.x=t,e.data.y=r,d.push({id:e.id,data:{x:t,y:r}})}const{x:r,y:i}=e.data;null===(t=e.data.nodes)||void 0===t||t.forEach((e=>{d.push({id:e.id,data:{x:e.data.x+r,y:e.data.y+i}})}))})),p.forEach((({data:e})=>{const{x:t,y:n,visited:r,nodes:i}=e;null==i||i.forEach((e=>{if(!r){const r=d.find((t=>t.id===e.id));r.data.x+=t||0,r.data.y+=n||0}}))}))}e&&d.forEach((e=>{t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y})}));return{nodes:d,edges:u}}))}initVals(e){const t=Object.assign({},e),{nodeSize:n,spacing:r,comboPadding:i}=e;let o,a,s;if(a=st(r)?()=>r:$e(r)?r:()=>0,t.spacing=a,n)if($e(n))o=e=>{const t=n(e),r=a(e);if(wb(e.size)){return((e.size[0]>e.size[1]?e.size[0]:e.size[1])+r)/2}return((t||32)+r)/2};else if(wb(n)){const e=(n[0]>n[1]?n[0]:n[1])/2;o=t=>e+a(t)/2}else{const e=n/2;o=t=>e+a(t)/2}else o=e=>{const t=a(e);if(e.size){if(wb(e.size)){return((e.size[0]>e.size[1]?e.size[0]:e.size[1])+t)/2}if(Ke(e.size)){return((e.size.width>e.size.height?e.size.width:e.size.height)+t)/2}return(e.size+t)/2}return 32+t/2};return t.nodeSize=o,s=st(i)?()=>i:wb(i)?()=>Math.max.apply(null,i):$e(i)?i:()=>0,t.comboPadding=s,t}getInnerGraphs(e,t,n,r,i,o,a){const{nodeSize:s,comboPadding:l,spacing:u,innerLayout:c}=o,d=c||new jb({}),f={center:[0,0],preventOverlap:!0,nodeSpacing:u},h=[],p=e=>{let t=(null==l?void 0:l(e))||10;return wb(t)&&(t=Math.max(...t)),{size:t?[2*t,2*t]:[30,30],padding:t}};return e.getRoots(t).forEach((o=>{a.set(o.id,{id:o.id,data:{nodes:[],size:p(o).size}});let l=Promise.resolve();Sb(e,[o],(o=>{var u;if(!o.data._isCombo)return;const{size:c,padding:h}=p(o);if(null===(u=e.getChildren(o.id,t))||void 0===u?void 0:u.length){const u=a.get(o.id);a.set(o.id,{id:o.id,data:Object.assign({nodes:[]},null==u?void 0:u.data)});const c=new Map,p=e.getChildren(o.id,t).map((e=>{if(e.data._isCombo)return a.has(e.id)||a.set(e.id,{id:e.id,data:Object.assign({},e.data)}),c.set(e.id,!0),a.get(e.id);const t=n.get(e.id)||r.get(e.id);return c.set(e.id,!0),{id:e.id,data:Object.assign(Object.assign({},t.data),e.data)}})),g={nodes:p,edges:i.filter((e=>c.has(e.source)&&c.has(e.target)))};let v=1/0;p.forEach((e=>{var t;let{size:n}=e.data;n||(n=(null===(t=a.get(e.id))||void 0===t?void 0:t.data.size)||(null==s?void 0:s(e))||[30,30]),st(n)&&(n=[n,n]);const[r,i]=n;v>r&&(v=r),v>i&&(v=i),e.data.size=n})),l=l.then((()=>Ut(this,void 0,void 0,(function*(){const e=new rv(g);yield px(d,e,f,!0);const{minX:t,minY:n,maxX:r,maxY:i}=(e=>{let t=1/0,n=1/0,r=-1/0,i=-1/0;return e.forEach((e=>{let o=e.data.size;wb(o)?1===o.length&&(o=[o[0],o[0]]):st(o)?o=[o,o]:(void 0===o||isNaN(o))&&(o=[30,30]);const a=[o[0]/2,o[1]/2],s=e.data.x-a[0],l=e.data.x+a[0],u=e.data.y-a[1],c=e.data.y+a[1];t>s&&(t=s),n>u&&(n=u),r<l&&(r=l),i<c&&(i=c)})),{minX:t,minY:n,maxX:r,maxY:i}})(p),s=(r+t)/2,l=(i+n)/2;g.nodes.forEach((e=>{e.data.x-=s,e.data.y-=l}));const u=[Math.max(r-t,v)+2*h,Math.max(i-n,v)+2*h];a.get(o.id).data.size=u,a.get(o.id).data.nodes=p}))))}else a.set(o.id,{id:o.id,data:Object.assign(Object.assign({},o.data),{size:c})});return!0}),"BT",t),h.push(l)})),h}},"compact-box":Nm.compactBox,"d3-force":class{constructor(e){this.id="d3-force",this.config={inputNodeAttrs:["x","y","vx","vy","fx","fy"],outputNodeAttrs:["x","y","vx","vy"],simulationAttrs:["alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","randomSource"]},this.forceMap={link:kx,manyBody:Qx,center:gx,collide:wx,radial:Zx,x:Jx,y:eE},this.options={link:{id:e=>e.id},manyBody:{},center:{x:0,y:0}},this.context={options:{},assign:!1,nodes:[],edges:[]},St(this.options,e),this.options.forceSimulation&&(this.simulation=this.options.forceSimulation)}execute(e,t){return Ut(this,void 0,void 0,(function*(){return this.genericLayout(!1,e,t)}))}assign(e,t){return Ut(this,void 0,void 0,(function*(){yield this.genericLayout(!0,e,t)}))}stop(){this.simulation.stop()}tick(e){return this.simulation.tick(e),this.getResult()}restart(){this.simulation.restart()}setFixedPosition(e,t){const n=this.context.nodes.find((t=>t.id===e));n&&t.forEach(((e,t)=>{if("number"==typeof e||null===e){n[["fx","fy","fz"][t]]=e}}))}getOptions(e){var t,n;const r=St({},this.options,e);return r.collide&&void 0===(null===(t=r.collide)||void 0===t?void 0:t.radius)&&(r.collide=r.collide||{},r.collide.radius=null!==(n=r.nodeSize)&&void 0!==n?n:10),void 0===r.iterations&&(r.link&&void 0===r.link.iterations&&(r.iterations=r.link.iterations),r.collide&&void 0===r.collide.iterations&&(r.iterations=r.collide.iterations)),this.context.options=r,r}genericLayout(e,t,n){var r;return Ut(this,void 0,void 0,(function*(){const i=this.getOptions(n),o=t.getAllNodes().map((({id:e,data:t})=>Object.assign(Object.assign({id:e},t),_t(t.data,this.config.inputNodeAttrs)))),a=t.getAllEdges().map((e=>Object.assign({},e)));Object.assign(this.context,{assign:e,nodes:o,edges:a,graph:t});const s=new Promise((e=>{this.resolver=e})),l=this.setSimulation(i);return l.nodes(o),null===(r=l.force("link"))||void 0===r||r.links(a),s}))}getResult(){const{assign:e,nodes:t,edges:n,graph:r}=this.context,i=t.map((e=>({id:e.id,data:Object.assign(Object.assign({},e.data),_t(e,this.config.outputNodeAttrs))}))),o=n.map((({id:e,source:t,target:n,data:r})=>({id:e,source:"object"==typeof t?t.id:t,target:"object"==typeof n?n.id:n,data:r})));return e&&i.forEach((e=>r.mergeNodeData(e.id,e.data))),{nodes:i,edges:o}}initSimulation(){return Xx()}setSimulation(e){const t=this.simulation||this.options.forceSimulation||this.initSimulation();return this.simulation||(this.simulation=t.on("tick",(()=>{var t;return null===(t=e.onTick)||void 0===t?void 0:t.call(e,this.getResult())})).on("end",(()=>{var e;return null===(e=this.resolver)||void 0===e?void 0:e.call(this,this.getResult())}))),tE(t,this.config.simulationAttrs.map((t=>[t,e[t]]))),Object.entries(this.forceMap).forEach((([n,r])=>{const i=n;if(e[n]){let n=t.force(i);n||(n=r(),t.force(i,n)),tE(n,Object.entries(e[i]))}else t.force(i,null)})),t}},"force-atlas2":class{constructor(e={}){this.options=e,this.id="forceAtlas2",this.options=Object.assign(Object.assign({},vz),e)}execute(e,t){return Ut(this,void 0,void 0,(function*(){return this.genericForceAtlas2Layout(!1,e,t)}))}assign(e,t){return Ut(this,void 0,void 0,(function*(){yield this.genericForceAtlas2Layout(!0,e,t)}))}genericForceAtlas2Layout(e,t,n){return Ut(this,void 0,void 0,(function*(){const r=t.getAllEdges(),i=t.getAllNodes(),o=this.formatOptions(n,i.length),{width:a,height:s,prune:l,maxIteration:u,nodeSize:c,center:d}=o;if(!(null==i?void 0:i.length)||1===i.length)return Ab(t,e,d);const f=i.map((e=>Tb(e,[a,s]))),h=r.filter((e=>{const{source:t,target:n}=e;return t!==n})),p=new rv({nodes:f,edges:h}),g=this.getSizes(p,c);if(this.run(p,t,u,g,e,o),l){for(let e=0;e<h.length;e+=1){const{source:t,target:n}=h[e],r=p.getDegree(t),i=p.getDegree(t);if(r<=1){const e=p.getNode(n);p.mergeNodeData(t,{x:e.data.x,y:e.data.y})}else if(i<=1){const e=p.getNode(t);p.mergeNodeData(n,{x:e.data.x,y:e.data.y})}}const n=Object.assign(Object.assign({},o),{prune:!1,barnesHut:!1});this.run(p,t,100,g,e,n)}return{nodes:f,edges:r}}))}getSizes(e,t){const n=e.getAllNodes(),r={};for(let e=0;e<n.length;e+=1){const i=n[e];r[i.id]=Ob(t,void 0)(i)}return r}formatOptions(e={},t){const n=Object.assign(Object.assign({},this.options),e),{center:r,width:i,height:o,barnesHut:a,prune:s,maxIteration:l,kr:u,kg:c}=n;return n.width=i||"undefined"==typeof window?i:window.innerWidth,n.height=o||"undefined"==typeof window?o:window.innerHeight,n.center=r||[n.width/2,n.height/2],void 0===a&&t>250&&(n.barnesHut=!0),void 0===s&&t>100&&(n.prune=!0),0!==l||s?0===l&&s&&(n.maxIteration=100,t<=200&&t>100?n.maxIteration=500:t>200&&(n.maxIteration=950)):(n.maxIteration=250,t<=200&&t>100?n.maxIteration=1e3:t>200&&(n.maxIteration=1200)),u||(n.kr=50,t>100&&t<=500?n.kr=20:t>500&&(n.kr=1)),c||(n.kg=20,t>100&&t<=500?n.kg=10:t>500&&(n.kg=1)),n}run(e,t,n,r,i,o){const{kr:a,barnesHut:s,onTick:l}=o,u=e.getAllNodes();let c=0,d=n;const f={},h={},p={};for(let t=0;t<u.length;t+=1){const{data:n,id:r}=u[t];if(f[r]=[0,0],s){const i={id:t,rx:n.x,ry:n.y,mass:1,g:a,degree:e.getDegree(r)};p[r]=new hz(i)}}for(;d>0;)c=this.oneStep(e,{iter:d,preventOverlapIters:50,krPrime:100,sg:c,forces:f,preForces:h,bodies:p,sizes:r},o),d--,null==l||l({nodes:u,edges:t.getAllEdges()});return e}oneStep(e,t,n){const{iter:r,preventOverlapIters:i,krPrime:o,sg:a,preForces:s,bodies:l,sizes:u}=t;let{forces:c}=t;const{preventOverlap:d,barnesHut:f}=n,h=e.getAllNodes();for(let e=0;e<h.length;e+=1){const{id:t}=h[e];s[t]=[...c[t]],c[t]=[0,0]}return c=this.getAttrForces(e,r,i,u,c,n),c=f&&(d&&r>i||!d)?this.getOptRepGraForces(e,c,l,n):this.getRepGraForces(e,r,i,c,o,u,n),this.updatePos(e,c,s,a,n)}getAttrForces(e,t,n,r,i,o){const{preventOverlap:a,dissuadeHubs:s,mode:l,prune:u}=o,c=e.getAllEdges();for(let o=0;o<c.length;o+=1){const{source:d,target:f}=c[o],h=e.getNode(d),p=e.getNode(f),g=e.getDegree(d),v=e.getDegree(f);if(u&&(g<=1||v<=1))continue;const m=[p.data.x-h.data.x,p.data.y-h.data.y];let y=Math.hypot(m[0],m[1]);y=y<1e-4?1e-4:y,m[0]=m[0]/y,m[1]=m[1]/y,a&&t<n&&(y=y-r[d]-r[f]);let b=y,w=b;"linlog"===l&&(b=Math.log(1+y),w=b),s&&(b=y/g,w=y/v),a&&t<n&&y<=0?(b=0,w=0):a&&t<n&&y>0&&(b=y,w=y),i[d][0]+=b*m[0],i[f][0]-=w*m[0],i[d][1]+=b*m[1],i[f][1]-=w*m[1]}return i}getOptRepGraForces(e,t,n,r){const{kg:i,center:o,prune:a}=r,s=e.getAllNodes(),l=s.length;let u=9e10,c=-9e10,d=9e10,f=-9e10;for(let t=0;t<l;t+=1){const{id:r,data:i}=s[t];a&&e.getDegree(r)<=1||(n[r].setPos(i.x,i.y),i.x>=c&&(c=i.x),i.x<=u&&(u=i.x),i.y>=f&&(f=i.y),i.y<=d&&(d=i.y))}const h=Math.max(c-u,f-d),p=new pz({xmid:(c+u)/2,ymid:(f+d)/2,length:h,massCenter:o,mass:l}),g=new gz(p);for(let t=0;t<l;t+=1){const{id:r}=s[t];a&&e.getDegree(r)<=1||n[r].in(p)&&g.insert(n[r])}for(let r=0;r<l;r+=1){const{id:l,data:u}=s[r],c=e.getDegree(l);if(a&&c<=1)continue;n[l].resetForce(),g.updateForce(n[l]),t[l][0]-=n[l].fx,t[l][1]-=n[l].fy;const d=[u.x-o[0],u.y-o[1]];let f=Math.hypot(d[0],d[1]);f=f<1e-4?1e-4:f,d[0]=d[0]/f,d[1]=d[1]/f;const h=i*(c+1);t[l][0]-=h*d[0],t[l][1]-=h*d[1]}return t}getRepGraForces(e,t,n,r,i,o,a){const{preventOverlap:s,kr:l,kg:u,center:c,prune:d}=a,f=e.getAllNodes(),h=f.length;for(let a=0;a<h;a+=1){const p=f[a],g=e.getDegree(p.id);for(let u=a+1;u<h;u+=1){const a=f[u],c=e.getDegree(a.id);if(d&&(g<=1||c<=1))continue;const h=[a.data.x-p.data.x,a.data.y-p.data.y];let v=Math.hypot(h[0],h[1]);v=v<1e-4?1e-4:v,h[0]=h[0]/v,h[1]=h[1]/v,s&&t<n&&(v=v-o[p.id]-o[a.id]);let m=l*(g+1)*(c+1)/v;s&&t<n&&v<0?m=i*(g+1)*(c+1):s&&t<n&&0===v?m=0:s&&t<n&&v>0&&(m=l*(g+1)*(c+1)/v),r[p.id][0]-=m*h[0],r[a.id][0]+=m*h[0],r[p.id][1]-=m*h[1],r[a.id][1]+=m*h[1]}const v=[p.data.x-c[0],p.data.y-c[1]],m=Math.hypot(v[0],v[1]);v[0]=v[0]/m,v[1]=v[1]/m;const y=u*(g+1);r[p.id][0]-=y*v[0],r[p.id][1]-=y*v[1]}return r}updatePos(e,t,n,r,i){const{ks:o,tao:a,prune:s,ksmax:l}=i,u=e.getAllNodes(),c=u.length,d=[],f=[];let h=0,p=0,g=r;for(let r=0;r<c;r+=1){const{id:i}=u[r],o=e.getDegree(i);if(s&&o<=1)continue;const a=[t[i][0]-n[i][0],t[i][1]-n[i][1]],l=Math.hypot(a[0],a[1]),c=[t[i][0]+n[i][0],t[i][1]+n[i][1]],g=Math.hypot(c[0],c[1]);d[r]=l,f[r]=g/2,h+=(o+1)*d[r],p+=(o+1)*f[r]}const v=g;g=a*p/h,0!==v&&(g=g>1.5*v?1.5*v:g);for(let n=0;n<c;n+=1){const{id:r,data:i}=u[n],a=e.getDegree(r);if(s&&a<=1)continue;if(st(i.fx)&&st(i.fy))continue;let c=o*g/(1+g*Math.sqrt(d[n])),f=Math.hypot(t[r][0],t[r][1]);f=f<1e-4?1e-4:f;const h=l/f;c=c>h?h:c;const p=c*t[r][0],v=c*t[r][1];e.mergeNodeData(r,{x:i.x+p,y:i.y+v})}return g}},circular:class{constructor(e={}){this.options=e,this.id="circular",this.options=Object.assign(Object.assign({},Db),e)}execute(e,t){return Ut(this,void 0,void 0,(function*(){return this.genericCircularLayout(!1,e,t)}))}assign(e,t){return Ut(this,void 0,void 0,(function*(){yield this.genericCircularLayout(!0,e,t)}))}genericCircularLayout(e,t,n){return Ut(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},this.options),n),{width:i,height:o,center:a,divisions:s,startAngle:l=0,endAngle:u=2*Math.PI,angleRatio:c,ordering:d,clockwise:f,nodeSpacing:h,nodeSize:p}=r,g=t.getAllNodes(),v=t.getAllEdges(),[m,y,b]=Ib(i,o,a),w=null==g?void 0:g.length;if(!w||1===w)return Ab(t,e,b);const x=(u-l)/w;let{radius:E,startRadius:k,endRadius:S}=r;if(h){const e=Nb(10,h),t=Pb(10,p);let n=-1/0;g.forEach((e=>{const r=t(e);n<r&&(n=r)}));let r=0;g.forEach(((t,i)=>{r+=0===i?n||10:(e(t)||0)+(n||10)})),E=r/(2*Math.PI)}else E||k||S?!k&&S?k=S:k&&!S&&(S=k):E=Math.min(y,m)/2;const M=x*c;let T=[];T="topology"===d?Lb(t,g):"topology-directed"===d?Lb(t,g,!0):"degree"===d?function(e,t){const n=[];return t.forEach(((e,t)=>{n.push(Tb(e))})),n.sort(((t,n)=>e.getDegree(t.id,"both")-e.getDegree(n.id,"both"))),n}(t,g):g.map((e=>Tb(e)));const C=Math.ceil(w/s);for(let e=0;e<w;++e){let t=E;t||null===k||null===S||(t=k+e*(S-k)/(w-1)),t||(t=10+100*e/(w-1));let n=l+e%C*M+2*Math.PI/s*Math.floor(e/C);f||(n=u-e%C*M-2*Math.PI/s*Math.floor(e/C)),T[e].data.x=b[0]+Math.cos(n)*t,T[e].data.y=b[1]+Math.sin(n)*t}e&&T.forEach((e=>{t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y})}));return{nodes:T,edges:v}}))}},concentric:jb,dagre:fz,dendrogram:Nm.dendrogram,fishbone:rj,force:sw,fruchterman:class{constructor(e={}){this.options=e,this.id="fruchterman",this.timeInterval=0,this.running=!1,this.options=Object.assign(Object.assign({},mz),e)}execute(e,t){return Ut(this,void 0,void 0,(function*(){return this.genericFruchtermanLayout(!1,e,t)}))}assign(e,t){return Ut(this,void 0,void 0,(function*(){yield this.genericFruchtermanLayout(!0,e,t)}))}stop(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval),this.running=!1}tick(e=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let t=0;t<e;t++)this.runOneStep(this.lastGraph,this.lastClusterMap,this.lastOptions);const t={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&t.nodes.forEach((e=>this.lastGraph.mergeNodeData(e.id,{x:e.data.x,y:e.data.y,z:3===this.options.dimensions?e.data.z:void 0}))),t}genericFruchtermanLayout(e,t,n){return Ut(this,void 0,void 0,(function*(){if(this.running)return;const r=this.formatOptions(n),{dimensions:i,width:o,height:a,center:s,clustering:l,nodeClusterBy:u,maxIteration:c,onTick:d}=r,f=t.getAllNodes(),h=t.getAllEdges();if(!(null==f?void 0:f.length)){const e={nodes:[],edges:h};return this.lastResult=e,e}if(1===f.length){e&&t.mergeNodeData(f[0].id,{x:s[0],y:s[1],z:3===i?s[2]:void 0});const n={nodes:[Object.assign(Object.assign({},f[0]),{data:Object.assign(Object.assign({},f[0].data),{x:s[0],y:s[1],z:3===i?s[2]:void 0})})],edges:h};return this.lastResult=n,n}const p=f.map((e=>Tb(e,[o,a]))),g=new rv({nodes:p,edges:h}),v={};if(l&&p.forEach((e=>{const t=e.data[u];v[t]||(v[t]={name:t,cx:0,cy:0,count:0})})),this.lastLayoutNodes=p,this.lastLayoutEdges=h,this.lastAssign=e,this.lastGraph=g,this.lastOptions=r,this.lastClusterMap=v,"undefined"==typeof window)return;let m=0;return new Promise((n=>{this.timeInterval=window.setInterval((()=>{this.running?(this.runOneStep(g,v,r),e&&p.forEach((({id:e,data:n})=>t.mergeNodeData(e,{x:n.x,y:n.y,z:3===i?n.z:void 0}))),null==d||d({nodes:p,edges:h}),m++,m>=c&&(window.clearInterval(this.timeInterval),n({nodes:p,edges:h}))):n({nodes:p,edges:h})}),0),this.running=!0}))}))}formatOptions(e={}){const t=Object.assign(Object.assign({},this.options),e),{clustering:n,nodeClusterBy:r}=t,{center:i,width:o,height:a}=t;return t.width=o||"undefined"==typeof window?o:window.innerWidth,t.height=a||"undefined"==typeof window?a:window.innerHeight,t.center=i||[t.width/2,t.height/2],t.clustering=n&&!!r,t}runOneStep(e,t,n){const{dimensions:r,height:i,width:o,gravity:a,center:s,speed:l,clustering:u,nodeClusterBy:c,clusterGravity:d}=n,f=i*o,h=Math.sqrt(f)/10,p=e.getAllNodes(),g=f/(p.length+1),v=Math.sqrt(g),m={};if(this.applyCalculate(e,m,v,g),u){for(const e in t)t[e].cx=0,t[e].cy=0,t[e].count=0;p.forEach((e=>{const{data:n}=e,r=t[n[c]];st(n.x)&&(r.cx+=n.x),st(n.y)&&(r.cy+=n.y),r.count++}));for(const e in t)t[e].cx/=t[e].count,t[e].cy/=t[e].count;const e=d||a;p.forEach(((n,r)=>{const{id:i,data:o}=n;if(!st(o.x)||!st(o.y))return;const a=t[o[c]],s=Math.sqrt((o.x-a.cx)*(o.x-a.cx)+(o.y-a.cy)*(o.y-a.cy)),l=v*e;m[i].x-=l*(o.x-a.cx)/s,m[i].y-=l*(o.y-a.cy)/s}))}p.forEach(((e,t)=>{const{id:n,data:i}=e;if(!st(i.x)||!st(i.y))return;const o=.01*v*a;m[n].x-=o*(i.x-s[0]),m[n].y-=o*(i.y-s[1]),3===r&&(m[n].z-=o*(i.z-s[2]))})),p.forEach(((t,n)=>{const{id:i,data:o}=t;if(st(o.fx)&&st(o.fy))return o.x=o.fx,o.y=o.fy,void(3===r&&(o.z=o.fz));if(!st(o.x)||!st(o.y))return;const a=Math.sqrt(m[i].x*m[i].x+m[i].y*m[i].y+(3===r?m[i].z*m[i].z:0));if(a>0){const t=Math.min(h*(l/800),a);e.mergeNodeData(i,{x:o.x+m[i].x/a*t,y:o.y+m[i].y/a*t,z:3===r?o.z+m[i].z/a*t:void 0})}}))}applyCalculate(e,t,n,r){this.calRepulsive(e,t,r),this.calAttractive(e,t,n)}calRepulsive(e,t,n){const r=e.getAllNodes();r.forEach((({data:e,id:i},o)=>{t[i]={x:0,y:0,z:0},r.forEach((({data:r,id:a},s)=>{if(o<=s||!st(e.x)||!st(r.x)||!st(e.y)||!st(r.y))return;let l=e.x-r.x,u=e.y-r.y,c=3===this.options.dimensions?e.z-r.z:0,d=l*l+u*u+c*c;0===d&&(d=1,l=.01,u=.01,c=.01);const f=n/d,h=l*f,p=u*f,g=c*f;t[i].x+=h,t[i].y+=p,t[a].x-=h,t[a].y-=p,3===this.options.dimensions&&(t[i].z+=g,t[a].z-=g)}))}))}calAttractive(e,t,n){e.getAllEdges().forEach((r=>{const{source:i,target:o}=r;if(!i||!o||i===o)return;const{data:a}=e.getNode(i),{data:s}=e.getNode(o);if(!(st(s.x)&&st(a.x)&&st(s.y)&&st(a.y)))return;const l=s.x-a.x,u=s.y-a.y,c=3===this.options.dimensions?s.z-a.z:0,d=Math.sqrt(l*l+u*u+c*c)/n,f=l*d,h=u*d,p=c*d;t[i].x+=f,t[i].y+=h,t[o].x-=f,t[o].y-=h,3===this.options.dimensions&&(t[i].z+=p,t[o].z-=p)}))}},grid:class{constructor(e={}){this.options=e,this.id="grid",this.options=Object.assign(Object.assign({},yz),e)}execute(e,t){return Ut(this,void 0,void 0,(function*(){return this.genericGridLayout(!1,e,t)}))}assign(e,t){return Ut(this,void 0,void 0,(function*(){yield this.genericGridLayout(!0,e,t)}))}genericGridLayout(e,t,n){return Ut(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},this.options),n),{begin:i=[0,0],condense:o,preventOverlapPadding:a,preventOverlap:s,rows:l,cols:u,nodeSpacing:c,nodeSize:d,width:f,height:h,position:p}=r;let{sortBy:g}=r;const v=t.getAllNodes(),m=t.getAllEdges(),y=null==v?void 0:v.length;if(!y||1===y)return Ab(t,e,i);const b=v.map((e=>Tb(e)));"id"===g||rt(g)&&void 0!==b[0].data[g]||(g="degree"),"degree"===g?b.sort(((e,n)=>t.getDegree(n.id,"both")-t.getDegree(e.id,"both"))):"id"===g?b.sort(((e,t)=>st(t.id)&&st(e.id)?t.id-e.id:`${e.id}`.localeCompare(`${t.id}`))):b.sort(((e,t)=>t.data[g]-e.data[g]));const w=f||"undefined"==typeof window?f:window.innerWidth,x=h||"undefined"==typeof window?h:window.innerHeight,E=y,k={rows:l,cols:u};if(null!=l&&null!=u)k.rows=l,k.cols=u;else if(null!=l&&null==u)k.rows=l,k.cols=Math.ceil(E/k.rows);else if(null==l&&null!=u)k.cols=u,k.rows=Math.ceil(E/k.cols);else{const e=Math.sqrt(E*x/w);k.rows=Math.round(e),k.cols=Math.round(w/x*e)}if(k.rows=Math.max(k.rows,1),k.cols=Math.max(k.cols,1),k.cols*k.rows>E){const e=bz(k),t=wz(k);(e-1)*t>=E?bz(k,e-1):(t-1)*e>=E&&wz(k,t-1)}else for(;k.cols*k.rows<E;){const e=bz(k),t=wz(k);(t+1)*e>=E?wz(k,t+1):bz(k,e+1)}let S=o?0:w/k.cols,M=o?0:x/k.rows;if(s||c){const e=Nb(10,c),n=Pb(30,d,!1);b.forEach((r=>{r.data.x&&r.data.y||(r.data.x=0,r.data.y=0);const i=t.getNode(r.id),[o,s]=Cb(n(i)||30),l=void 0!==e?e(r):a,u=o+l,c=s+l;S=Math.max(S,u),M=Math.max(M,c)}))}const T={},C={row:0,col:0},N={};for(let e=0;e<b.length;e++){const n=b[e];let r;if(p&&(r=p(t.getNode(n.id))),r&&(void 0!==r.row||void 0!==r.col)){const e={row:r.row,col:r.col};if(void 0===e.col)for(e.col=0;xz(T,e);)e.col++;else if(void 0===e.row)for(e.row=0;xz(T,e);)e.row++;N[n.id]=e,Ez(T,e)}Sz(n,i,S,M,N,k,C,T)}const P={nodes:b,edges:m};return e&&b.forEach((e=>{t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y})})),P}))}},indented:Nm.indented,mds:lx,mindmap:Nm.mindmap,radial:class{constructor(e={}){this.options=e,this.id="radial",this.options=Object.assign(Object.assign({},Nz),e)}execute(e,t){return Ut(this,void 0,void 0,(function*(){return this.genericRadialLayout(!1,e,t)}))}assign(e,t){return Ut(this,void 0,void 0,(function*(){yield this.genericRadialLayout(!0,e,t)}))}genericRadialLayout(e,t,n){return Ut(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},this.options),n),{width:i,height:o,center:a,focusNode:s,unitRadius:l,nodeSize:u,nodeSpacing:c,strictRadial:d,preventOverlap:f,maxPreventOverlapIteration:h,sortBy:p,linkDistance:g=50,sortStrength:v=10,maxIteration:m=1e3}=r,y=t.getAllNodes(),b=t.getAllEdges(),w=i||"undefined"==typeof window?i:window.innerWidth,x=o||"undefined"==typeof window?o:window.innerHeight,E=a||[w/2,x/2];if(!(null==y?void 0:y.length)||1===y.length)return Ab(t,e,E);let k=y[0];if(rt(s)){for(let e=0;e<y.length;e++)if(y[e].id===s){k=y[e];break}}else k=s||y[0];const S=_z(y,k.id),M=Eb({nodes:y,edges:b}),T=xb(M),C=Az(T,S);Rz(T,S,C+1);const N=T[S];let P=w-E[0]>E[0]?E[0]:w-E[0],O=x-E[1]>E[1]?E[1]:x-E[1];0===P&&(P=w/2),0===O&&(O=x/2);const _=Math.min(P,O),R=Math.max(...N),A=[],D=l||_/R;N.forEach(((e,t)=>{A[t]=e*D}));const L=Pz(y,T,g,A,D,p,v),I=Oz(L),z=((e,t,n)=>{try{const n=ox.mul(ox.pow(t,2),-.5),r=n.mean("row"),i=n.mean("column"),o=n.mean();n.add(o).subRowVector(r).subColumnVector(i);const a=new ax(n),s=ox.sqrt(a.diagonalMatrix).diagonal();return a.leftSingularVectors.toJSON().map((t=>ox.mul([t],[s]).toJSON()[0].splice(0,e)))}catch(e){const r=[];for(let e=0;e<t.length;e++){const e=Math.random()*n,t=Math.random()*n;r.push([e,t])}return r}})(g,L,g);let j,F=z.map((([e,t])=>({x:(isNaN(e)?Math.random()*g:e)-z[S][0],y:(isNaN(t)?Math.random()*g:t)-z[S][1]})));if(this.run(m,F,I,L,A,S),f){j=Ob(u,c);const e={nodes:y,nodeSizeFunc:j,positions:F,radii:A,height:x,width:w,strictRadial:Boolean(d),focusIdx:S,iterations:h||200,k:F.length/4.5};F=((e,t)=>{const n=Object.assign(Object.assign({},Mz),t),{positions:r,iterations:i,width:o,k:a,speed:s=100,strictRadial:l,focusIdx:u,radii:c=[],nodeSizeFunc:d}=n,f=e.getAllNodes(),h=[],p=o/10;for(let e=0;e<i;e++)r.forEach(((e,t)=>{h[t]={x:0,y:0}})),Tz(f,r,h,a,c,d),Cz(r,h,s,l,u,p,o,c);return r})(t,e)}const B=[];F.forEach(((e,t)=>{const n=Tb(y[t]);n.data.x=e.x+E[0],n.data.y=e.y+E[1],B.push(n)})),e&&B.forEach((e=>t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y})));return{nodes:B,edges:b}}))}run(e,t,n,r,i,o){for(let a=0;a<=e;a++){const s=a/e;this.oneIteration(s,t,i,r,n,o)}}oneIteration(e,t,n,r,i,o){const a=1-e;t.forEach(((s,l)=>{const u=kb(s,{x:0,y:0}),c=0===u?0:1/u;if(l===o)return;let d=0,f=0,h=0;t.forEach(((e,t)=>{if(l===t)return;const n=kb(s,e),o=0===n?0:1/n,a=r[t][l];h+=i[l][t],d+=i[l][t]*(e.x+a*(s.x-e.x)*o),f+=i[l][t]*(e.y+a*(s.y-e.y)*o)}));const p=0===n[l]?0:1/n[l];h*=a,h+=e*p*p,d*=a,d+=e*p*s.x*c,s.x=d/h,f*=a,f+=e*p*s.y*c,s.y=f/h}))}},random:class{constructor(e={}){this.options=e,this.id="random",this.options=Object.assign(Object.assign({},Dz),e)}execute(e,t){return Ut(this,void 0,void 0,(function*(){return this.genericRandomLayout(!1,e,t)}))}assign(e,t){return Ut(this,void 0,void 0,(function*(){yield this.genericRandomLayout(!0,e,t)}))}genericRandomLayout(e,t,n){return Ut(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},this.options),n),{center:i,width:o,height:a}=r,s=t.getAllNodes(),l=o||"undefined"==typeof window?o:window.innerWidth,u=a||"undefined"==typeof window?a:window.innerHeight,c=i||[l/2,u/2],d=[];s&&s.forEach((e=>{d.push({id:e.id,data:{x:.9*(Math.random()-.5)*l+c[0],y:.9*(Math.random()-.5)*u+c[1]}})})),e&&d.forEach((e=>t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y})));return{nodes:d,edges:t.getAllEdges()}}))}},snake:lj},node:{circle:uh,diamond:class extends ch{constructor(e){super(e)}getPoints(e){const[t,n]=this.getSize(e);return function(e,t){return[[0,-t/2],[e/2,0],[0,t/2],[-e/2,0]]}(t,n)}},ellipse:gh,hexagon:class extends ch{constructor(e){super(e)}getOuterR(e){return e.outerR||Math.min(...this.getSize(e))/2}getPoints(e){return[[0,t=this.getOuterR(e)],[t*Math.sqrt(3)/2,t/2],[t*Math.sqrt(3)/2,-t/2],[0,-t],[-t*Math.sqrt(3)/2,-t/2],[-t*Math.sqrt(3)/2,t/2]];var t}getIconStyle(e){const t=super.getIconStyle(e),n=this.getOuterR(e)*xf;return!!t&&Object.assign({width:n,height:n},t)}},html:_p,image:Ap,rect:Dp,star:class extends ch{constructor(e){super(e)}getInnerR(e){return e.innerR||3*this.getOuterR(e)/8}getOuterR(e){return Math.min(...this.getSize(e))/2}getPoints(e){return t=this.getOuterR(e),n=this.getInnerR(e),[[0,-t],[n*Math.cos(3*Math.PI/10),-n*Math.sin(3*Math.PI/10)],[t*Math.cos(Math.PI/10),-t*Math.sin(Math.PI/10)],[n*Math.cos(Math.PI/10),n*Math.sin(Math.PI/10)],[t*Math.cos(3*Math.PI/10),t*Math.sin(3*Math.PI/10)],[0,n],[-t*Math.cos(3*Math.PI/10),t*Math.sin(3*Math.PI/10)],[-n*Math.cos(Math.PI/10),n*Math.sin(Math.PI/10)],[-t*Math.cos(Math.PI/10),-t*Math.sin(Math.PI/10)],[-n*Math.cos(3*Math.PI/10),-n*Math.sin(3*Math.PI/10)]];var t,n}getIconStyle(e){const t=super.getIconStyle(e),n=2*this.getInnerR(e)*xf;return!!t&&Object.assign({width:n,height:n},t)}getPortXY(e,t){const{placement:n="top"}=t;return Rg(this.getShape("key").getLocalBounds(),n,function(e,t){const n={};return n.top=[0,-e],n.left=[-e*Math.cos(Math.PI/10),-e*Math.sin(Math.PI/10)],n["left-bottom"]=[-e*Math.cos(3*Math.PI/10),e*Math.sin(3*Math.PI/10)],n.bottom=[0,t],n["right-bottom"]=[e*Math.cos(3*Math.PI/10),e*Math.sin(3*Math.PI/10)],n.right=n.default=[e*Math.cos(Math.PI/10),-e*Math.sin(Math.PI/10)],n}(this.getOuterR(e),this.getInnerR(e)),!1)}},donut:fh,triangle:Lp},palette:{spectral:["rgb(158, 1, 66)","rgb(213, 62, 79)","rgb(244, 109, 67)","rgb(253, 174, 97)","rgb(254, 224, 139)","rgb(255, 255, 191)","rgb(230, 245, 152)","rgb(171, 221, 164)","rgb(102, 194, 165)","rgb(50, 136, 189)","rgb(94, 79, 162)"],tableau:["rgb(78, 121, 167)","rgb(242, 142, 44)","rgb(225, 87, 89)","rgb(118, 183, 178)","rgb(89, 161, 79)","rgb(237, 201, 73)","rgb(175, 122, 161)","rgb(255, 157, 167)","rgb(156, 117, 95)","rgb(186, 176, 171)"],oranges:["rgb(255, 245, 235)","rgb(254, 230, 206)","rgb(253, 208, 162)","rgb(253, 174, 107)","rgb(253, 141, 60)","rgb(241, 105, 19)","rgb(217, 72, 1)","rgb(166, 54, 3)","rgb(127, 39, 4)"],greens:["rgb(247, 252, 245)","rgb(229, 245, 224)","rgb(199, 233, 192)","rgb(161, 217, 155)","rgb(116, 196, 118)","rgb(65, 171, 93)","rgb(35, 139, 69)","rgb(0, 109, 44)","rgb(0, 68, 27)"],blues:["rgb(247, 251, 255)","rgb(222, 235, 247)","rgb(198, 219, 239)","rgb(158, 202, 225)","rgb(107, 174, 214)","rgb(66, 146, 198)","rgb(33, 113, 181)","rgb(8, 81, 156)","rgb(8, 48, 107)"]},theme:{dark:GH,light:$H},plugin:{"bubble-sets":Qj,"edge-bundling":nF,"edge-filter-lens":dF,"grid-line":gF,background:hj,contextmenu:tF,fisheye:hF,fullscreen:pF,history:wF,hull:$F,legend:gH,minimap:vH,snapline:xH,timebar:CH,toolbar:RH,tooltip:DH,watermark:BH},transform:{"arrange-draw-order":class extends YH{beforeDraw(e){const{model:t}=this.context,n=e.add.combos,r=e=>{const n=[];return e.forEach(((e,r)=>{const i=t.getAncestorsData(r,"combo").map((e=>wd(e))).reverse();n.push([r,e,i.length])})),new Map(n.sort((([,,e],[,,t])=>t-e)).map((([e,t])=>[e,t])))};return e.add.combos=r(n),e.update.combos=r(e.update.combos),e}},"collapse-expand-combo":class extends YH{beforeDraw(e,t){if("visibility"===t.stage)return e;if(!this.context.model.model.hasTreeStructure(kc))return e;const{model:n}=this.context,{add:r,update:i}=e,o=[...e.update.combos.entries(),...e.add.combos.entries()];for(;o.length;){const[t,a]=o.pop();if(Pf(a)){const a=n.getDescendantsData(t),s=a.map(wd),{internal:l,external:u}=ig(s,(e=>n.getRelatedEdgesData(e)));a.forEach((t=>{const r=wd(t),i=o.findIndex((([e])=>e===r));-1!==i&&o.splice(i,1);const a=n.getElementType(r);qH(e,"remove",a,t)})),l.forEach((t=>qH(e,"remove","edge",t))),u.forEach((e=>{var t;const n=wd(e);(null===(t=this.context.element)||void 0===t?void 0:t.getElement(n))?i.edges.set(n,e):r.edges.set(n,e)}))}else{const r=n.getChildrenData(t),i=r.map(wd),{edges:a}=ig(i,(e=>n.getRelatedEdgesData(e)));[...r,...a].forEach((t=>{var r;const i=wd(t),a=n.getElementType(i),s=null===(r=this.context.element)||void 0===r?void 0:r.getElement(i);qH(e,s?"update":"add",a,t),"combo"===a&&o.push([i,t])}))}}return e}},"collapse-expand-node":class extends YH{getElement(e){return this.context.element.getElement(e)}handleExpand(e,t){if(XH(t,"add","node",e),Pf(e))return;const n=wd(e);XH(t,"add","node",e);this.context.model.getRelatedEdgesData(n,"out").forEach((e=>{qH(t,"add","edge",e)}));this.context.model.getChildrenData(n).forEach((e=>{this.handleExpand(e,t)}))}beforeDraw(e){const{graph:t,model:n}=this.context;if(!n.model.hasTreeStructure(Sc))return e;const{add:{nodes:r,edges:i},update:{nodes:o}}=e,a=new Map,s=new Map;r.forEach(((e,t)=>{Pf(e)&&a.set(t,e)})),i.forEach((e=>{if("node"!==t.getElementType(e.source))return;const n=t.getNodeData(e.source);Pf(n)&&a.set(e.source,n)})),o.forEach(((e,t)=>{const n=this.getElement(t);if(!n)return;const r=n.attributes.collapsed;Pf(e)?r||a.set(t,e):r&&s.set(t,e)}));const l=new Set;return a.forEach(((t,r)=>{n.getDescendantsData(r).forEach((t=>{const r=wd(t);if(l.has(r))return;qH(e,"remove","node",t);n.getRelatedEdgesData(r).forEach((t=>{qH(e,"remove","edge",t)})),l.add(r)}))})),s.forEach(((t,r)=>{n.getAncestorsData(r,Sc).some(Pf)?qH(e,"remove","node",t):this.handleExpand(t,e)})),e}},"get-edge-actual-ends":class extends YH{beforeDraw(e){const{add:t,update:n}=e,{model:r}=this.context;return[...t.edges.entries(),...n.edges.entries()].forEach((([,e])=>{VG(r,e)})),e}},"map-node-size":HG,"place-radial-labels":GG,"process-parallel-edges":YG,"update-related-edges":class extends YH{beforeDraw(e,t){const{stage:n}=t;if("visibility"===n)return e;const{model:r}=this.context,{update:{nodes:i,edges:o,combos:a}}=e,s=(e,t)=>{r.getRelatedEdgesData(t).forEach((e=>!o.has(wd(e))&&o.set(wd(e),e)))};return i.forEach(s),a.forEach(s),e}}},shape:{circle:Dl,ellipse:zl,group:jl,html:Bl,image:eh,line:Vl,path:Gl,polygon:Yl,polyline:Kl,rect:Xl,text:Zl,label:Yf,badge:qf}};function ZG(){return ZG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZG.apply(null,arguments)}Object.entries(QG).forEach((([e,t])=>{Object.entries(t).forEach((([t,n])=>{!function(e,t,n,r=!1){const i=Tc[e][t];!r&&i?i!==n&&Pc(`The extension ${t} of ${e} has been registered before.`):Object.assign(Tc[e],{[t]:n})}(e,t,n)}))}));var JG,e$={exports:{}},t$={};var n$,r$={exports:{}};
/**
   * @license React
   * react.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */"production"===process.env.NODE_ENV?e$.exports=function(){if(JG)return t$;JG=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,p={};function g(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}function v(){}function m(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var y=m.prototype=new v;y.constructor=m,h(y,g.prototype),y.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(t,n,r){var i,o={},a=null,s=null;if(null!=n)for(i in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(a=""+n.key),n)w.call(n,i)&&!E.hasOwnProperty(i)&&(o[i]=n[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:e,type:t,key:a,ref:s,props:o,_owner:x.current}}function S(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var M=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(n,r,i,o,a){var s=typeof n;"undefined"!==s&&"boolean"!==s||(n=null);var l=!1;if(null===n)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(n.$$typeof){case e:case t:l=!0}}if(l)return a=a(l=n),n=""===o?"."+T(l,0):o,b(a)?(i="",null!=n&&(i=n.replace(M,"$&/")+"/"),C(a,r,i,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(t,n){return{$$typeof:e,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(M,"$&/")+"/")+n)),r.push(a)),1;if(l=0,o=""===o?".":o+":",b(n))for(var u=0;u<n.length;u++){var c=o+T(s=n[u],u);l+=C(s,r,i,c,a)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(n),"function"==typeof c)for(n=c.call(n),u=0;!(s=n.next()).done;)l+=C(s=s.value,r,i,c=o+T(s,u++),a);else if("object"===s)throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},_={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:_,ReactCurrentOwner:x};function A(){throw Error("act(...) is not supported in production builds of React.")}return t$.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t$.Component=g,t$.Fragment=n,t$.Profiler=i,t$.PureComponent=m,t$.StrictMode=r,t$.Suspense=l,t$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t$.act=A,t$.cloneElement=function(t,n,r){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=h({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=n){if(void 0!==n.ref&&(a=n.ref,s=x.current),void 0!==n.key&&(o=""+n.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in n)w.call(n,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===n[u]&&void 0!==l?l[u]:n[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:e,type:t.type,key:o,ref:a,props:i,_owner:s}},t$.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t$.createElement=k,t$.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t$.createRef=function(){return{current:null}},t$.forwardRef=function(e){return{$$typeof:s,render:e}},t$.isValidElement=S,t$.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:P}},t$.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t$.startTransition=function(e){var t=_.transition;_.transition={};try{e()}finally{_.transition=t}},t$.unstable_act=A,t$.useCallback=function(e,t){return O.current.useCallback(e,t)},t$.useContext=function(e){return O.current.useContext(e)},t$.useDebugValue=function(){},t$.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t$.useEffect=function(e,t){return O.current.useEffect(e,t)},t$.useId=function(){return O.current.useId()},t$.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t$.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t$.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t$.useMemo=function(e,t){return O.current.useMemo(e,t)},t$.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t$.useRef=function(e){return O.current.useRef(e)},t$.useState=function(e){return O.current.useState(e)},t$.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t$.useTransition=function(){return O.current.useTransition()},t$.version="18.3.1",t$}():e$.exports=(n$||(n$=1,function(e,t){"production"!==process.env.NODE_ENV&&function(){"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),g=Symbol.iterator;function v(e){if(null===e||"object"!=typeof e)return null;var t=g&&e[g]||e["@@iterator"];return"function"==typeof t?t:null}var m={current:null},y={transition:null},b={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},w={current:null},x={},E=null;function k(e){E=e}x.setExtraStackFrame=function(e){E=e},x.getCurrentStack=null,x.getStackAddendum=function(){var e="";E&&(e+=E);var t=x.getCurrentStack;return t&&(e+=t()||""),e};var S={ReactCurrentDispatcher:m,ReactCurrentBatchConfig:y,ReactCurrentOwner:w};function M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];C("warn",e,n)}function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];C("error",e,n)}function C(e,t,n){var r=S.ReactDebugCurrentFrame.getStackAddendum();""!==r&&(t+="%s",n=n.concat([r]));var i=n.map((function(e){return String(e)}));i.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,i)}S.ReactDebugCurrentFrame=x,S.ReactCurrentActQueue=b;var N={};function P(e,t){var n=e.constructor,r=n&&(n.displayName||n.name)||"ReactClass",i=r+"."+t;N[i]||(T("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",t,r),N[i]=!0)}var O={isMounted:function(e){return!1},enqueueForceUpdate:function(e,t,n){P(e,"forceUpdate")},enqueueReplaceState:function(e,t,n,r){P(e,"replaceState")},enqueueSetState:function(e,t,n,r){P(e,"setState")}},_=Object.assign,R={};function A(e,t,n){this.props=e,this.context=t,this.refs=R,this.updater=n||O}Object.freeze(R),A.prototype.isReactComponent={},A.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},A.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};var D={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},L=function(e,t){Object.defineProperty(A.prototype,e,{get:function(){M("%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var I in D)D.hasOwnProperty(I)&&L(I,D[I]);function z(){}function j(e,t,n){this.props=e,this.context=t,this.refs=R,this.updater=n||O}z.prototype=A.prototype;var F=j.prototype=new z;F.constructor=j,_(F,A.prototype),F.isPureReactComponent=!0;var B=Array.isArray;function U(e){return B(e)}function W(e){return""+e}function V(e){if(function(e){try{return W(e),!1}catch(e){return!0}}(e))return T("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),W(e)}function H(e){return e.displayName||"Context"}function G(e){if(null==e)return null;if("number"==typeof e.tag&&T("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case i:return"Fragment";case r:return"Portal";case a:return"Profiler";case o:return"StrictMode";case c:return"Suspense";case d:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case l:return H(e)+".Consumer";case s:return H(e._context)+".Provider";case u:return function(e,t,n){var r=e.displayName;if(r)return r;var i=t.displayName||t.name||"";return""!==i?n+"("+i+")":n}(e,e.render,"ForwardRef");case f:var t=e.displayName||null;return null!==t?t:G(e.type)||"Memo";case h:var n=e,p=n._payload,g=n._init;try{return G(g(p))}catch(e){return null}}return null}var $,Y,q,K=Object.prototype.hasOwnProperty,X={key:!0,ref:!0,__self:!0,__source:!0};function Q(e){if(K.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}function Z(e){if(K.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}q={};var J=function(e,t,r,i,o,a,s){var l={$$typeof:n,type:e,key:t,ref:r,props:s,_owner:a,_store:{}};return Object.defineProperty(l._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,"_self",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(l,"_source",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l};function ee(e,t,n){var r,i={},o=null,a=null,s=null,l=null;if(null!=t)for(r in Q(t)&&(a=t.ref,function(e){if("string"==typeof e.ref&&w.current&&e.__self&&w.current.stateNode!==e.__self){var t=G(w.current.type);q[t]||(T('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',t,e.ref),q[t]=!0)}}(t)),Z(t)&&(V(t.key),o=""+t.key),s=void 0===t.__self?null:t.__self,l=void 0===t.__source?null:t.__source,t)K.call(t,r)&&!X.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(u>1){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];Object.freeze&&Object.freeze(c),i.children=c}if(e&&e.defaultProps){var f=e.defaultProps;for(r in f)void 0===i[r]&&(i[r]=f[r])}if(o||a){var h="function"==typeof e?e.displayName||e.name||"Unknown":e;o&&function(e,t){var n=function(){$||($=!0,T("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}(i,h),a&&function(e,t){var n=function(){Y||(Y=!0,T("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}(i,h)}return J(e,o,a,s,l,w.current,i)}function te(e,t,n){if(null==e)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r,i,o=_({},e.props),a=e.key,s=e.ref,l=e._self,u=e._source,c=e._owner;if(null!=t)for(r in Q(t)&&(s=t.ref,c=w.current),Z(t)&&(V(t.key),a=""+t.key),e.type&&e.type.defaultProps&&(i=e.type.defaultProps),t)K.call(t,r)&&!X.hasOwnProperty(r)&&(void 0===t[r]&&void 0!==i?o[r]=i[r]:o[r]=t[r]);var d=arguments.length-2;if(1===d)o.children=n;else if(d>1){for(var f=Array(d),h=0;h<d;h++)f[h]=arguments[h+2];o.children=f}return J(e.type,a,s,l,u,c,o)}function ne(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var re,ie=!1,oe=/\/+/g;function ae(e){return e.replace(oe,"$&/")}function se(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(V(e.key),n=""+e.key,r={"=":"=0",":":"=2"},i=n.replace(/[=:]/g,(function(e){return r[e]})),"$"+i):t.toString(36);var n,r,i}function le(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,u,c,d=!1;if(null===e)d=!0;else switch(s){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case r:d=!0}}if(d){var f=e,h=a(f),p=""===o?"."+se(f,0):o;if(U(h)){var g="";null!=p&&(g=ae(p)+"/"),le(h,t,g,"",(function(e){return e}))}else null!=h&&(ne(h)&&(!h.key||f&&f.key===h.key||V(h.key),l=h,u=i+(!h.key||f&&f.key===h.key?"":ae(""+h.key)+"/")+p,h=J(l.type,u,l.ref,l._self,l._source,l._owner,l.props)),t.push(h));return 1}var m=0,y=""===o?".":o+":";if(U(e))for(var b=0;b<e.length;b++)m+=le(c=e[b],t,i,y+se(c,b),a);else{var w=v(e);if("function"==typeof w){var x=e;w===x.entries&&(ie||M("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),ie=!0);for(var E,k=w.call(x),S=0;!(E=k.next()).done;)m+=le(c=E.value,t,i,y+se(c,S++),a)}else if("object"===s){var T=String(e);throw new Error("Objects are not valid as a React child (found: "+("[object Object]"===T?"object with keys {"+Object.keys(e).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}}return m}function ue(e,t,n){if(null==e)return e;var r=[],i=0;return le(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function ce(e){if(-1===e._status){var t=(0,e._result)();if(t.then((function(t){if(0===e._status||-1===e._status){var n=e;n._status=1,n._result=t}}),(function(t){if(0===e._status||-1===e._status){var n=e;n._status=2,n._result=t}})),-1===e._status){var n=e;n._status=0,n._result=t}}if(1===e._status){var r=e._result;return void 0===r&&T("lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))\n\nDid you accidentally put curly braces around the import?",r),"default"in r||T("lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))",r),r.default}throw e._result}function de(e){return"string"==typeof e||"function"==typeof e||e===i||e===a||e===o||e===c||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===f||e.$$typeof===s||e.$$typeof===l||e.$$typeof===u||e.$$typeof===re||void 0!==e.getModuleId)}function fe(){var e=m.current;return null===e&&T("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem."),e}re=Symbol.for("react.module.reference");var he,pe,ge,ve,me,ye,be,we=0;function xe(){}xe.__reactDisabledLog=!0;var Ee,ke=S.ReactCurrentDispatcher;function Se(e,t,n){if(void 0===Ee)try{throw Error()}catch(e){var r=e.stack.trim().match(/\n( *(at )?)/);Ee=r&&r[1]||""}return"\n"+Ee+e}var Me,Te=!1,Ce="function"==typeof WeakMap?WeakMap:Map;function Ne(e,t){if(!e||Te)return"";var n,r=Me.get(e);if(void 0!==r)return r;Te=!0;var i,o=Error.prepareStackTrace;Error.prepareStackTrace=void 0,i=ke.current,ke.current=null,function(){if(0===we){he=console.log,pe=console.info,ge=console.warn,ve=console.error,me=console.group,ye=console.groupCollapsed,be=console.groupEnd;var e={configurable:!0,enumerable:!0,value:xe,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}we++}();try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(e){n=e}Reflect.construct(e,[],a)}else{try{a.call()}catch(e){n=e}e.call(a.prototype)}}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var s=t.stack.split("\n"),l=n.stack.split("\n"),u=s.length-1,c=l.length-1;u>=1&&c>=0&&s[u]!==l[c];)c--;for(;u>=1&&c>=0;u--,c--)if(s[u]!==l[c]){if(1!==u||1!==c)do{if(u--,--c<0||s[u]!==l[c]){var d="\n"+s[u].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),"function"==typeof e&&Me.set(e,d),d}}while(u>=1&&c>=0);break}}}finally{Te=!1,ke.current=i,function(){if(0==--we){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:_({},e,{value:he}),info:_({},e,{value:pe}),warn:_({},e,{value:ge}),error:_({},e,{value:ve}),group:_({},e,{value:me}),groupCollapsed:_({},e,{value:ye}),groupEnd:_({},e,{value:be})})}we<0&&T("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=o}var f=e?e.displayName||e.name:"",h=f?Se(f):"";return"function"==typeof e&&Me.set(e,h),h}function Pe(e,t,n){if(null==e)return"";if("function"==typeof e)return Ne(e,function(e){var t=e.prototype;return!(!t||!t.isReactComponent)}(e));if("string"==typeof e)return Se(e);switch(e){case c:return Se("Suspense");case d:return Se("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case u:return Ne(e.render,!1);case f:return Pe(e.type,t,n);case h:var r=e,i=r._payload,o=r._init;try{return Pe(o(i),t,n)}catch(e){}}return""}Me=new Ce;var Oe,_e={},Re=S.ReactDebugCurrentFrame;function Ae(e){if(e){var t=e._owner,n=Pe(e.type,e._source,t?t.type:null);Re.setExtraStackFrame(n)}else Re.setExtraStackFrame(null)}function De(e){if(e){var t=e._owner;k(Pe(e.type,e._source,t?t.type:null))}else k(null)}function Le(){if(w.current){var e=G(w.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}Oe=!1;var Ie={};function ze(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function(e){var t=Le();if(!t){var n="string"==typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!Ie[n]){Ie[n]=!0;var r="";e&&e._owner&&e._owner!==w.current&&(r=" It was passed a child from "+G(e._owner.type)+"."),De(e),T('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,r),De(null)}}}function je(e,t){if("object"==typeof e)if(U(e))for(var n=0;n<e.length;n++){var r=e[n];ne(r)&&ze(r,t)}else if(ne(e))e._store&&(e._store.validated=!0);else if(e){var i=v(e);if("function"==typeof i&&i!==e.entries)for(var o,a=i.call(e);!(o=a.next()).done;)ne(o.value)&&ze(o.value,t)}}function Fe(e){var t,n=e.type;if(null!=n&&"string"!=typeof n){if("function"==typeof n)t=n.propTypes;else{if("object"!=typeof n||n.$$typeof!==u&&n.$$typeof!==f)return;t=n.propTypes}if(t){var r=G(n);!function(e,t,n,r,i){var o=Function.call.bind(K);for(var a in e)if(o(e,a)){var s=void 0;try{if("function"!=typeof e[a]){var l=Error((r||"React class")+": "+n+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}s=e[a](t,a,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){s=e}!s||s instanceof Error||(Ae(i),T("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,a,typeof s),Ae(null)),s instanceof Error&&!(s.message in _e)&&(_e[s.message]=!0,Ae(i),T("Failed %s type: %s",n,s.message),Ae(null))}}(t,e.props,"prop",r,e)}else void 0===n.PropTypes||Oe||(Oe=!0,T("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",G(n)||"Unknown"));"function"!=typeof n.getDefaultProps||n.getDefaultProps.isReactClassApproved||T("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Be(e,t,r){var o,a,s=de(e);if(!s){var l,u="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(u+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),u+=(null!=(o=t)&&void 0!==(a=o.__source)?"\n\nCheck your code at "+a.fileName.replace(/^.*[\\\/]/,"")+":"+a.lineNumber+".":"")||Le(),null===e?l="null":U(e)?l="array":void 0!==e&&e.$$typeof===n?(l="<"+(G(e.type)||"Unknown")+" />",u=" Did you accidentally export a JSX literal instead of a component?"):l=typeof e,T("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",l,u)}var c=ee.apply(this,arguments);if(null==c)return c;if(s)for(var d=2;d<arguments.length;d++)je(arguments[d],e);return e===i?function(e){for(var t=Object.keys(e.props),n=0;n<t.length;n++){var r=t[n];if("children"!==r&&"key"!==r){De(e),T("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",r),De(null);break}}null!==e.ref&&(De(e),T("Invalid attribute `ref` supplied to `React.Fragment`."),De(null))}(c):Fe(c),c}var Ue=!1,We=!1,Ve=null,He=0,Ge=!1;function $e(e){var t=He;He++,null===b.current&&(b.current=[]);var n,r=b.isBatchingLegacy;try{if(b.isBatchingLegacy=!0,n=e(),!r&&b.didScheduleLegacyUpdate){var i=b.current;null!==i&&(b.didScheduleLegacyUpdate=!1,Xe(i))}}catch(e){throw Ye(t),e}finally{b.isBatchingLegacy=r}if(null!==n&&"object"==typeof n&&"function"==typeof n.then){var o=n,a=!1,s={then:function(e,n){a=!0,o.then((function(r){Ye(t),0===He?qe(r,e,n):e(r)}),(function(e){Ye(t),n(e)}))}};return Ge||"undefined"==typeof Promise||Promise.resolve().then((function(){})).then((function(){a||(Ge=!0,T("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))})),s}var l=n;if(Ye(t),0===He){var u=b.current;return null!==u&&(Xe(u),b.current=null),{then:function(e,t){null===b.current?(b.current=[],qe(l,e,t)):e(l)}}}return{then:function(e,t){e(l)}}}function Ye(e){e!==He-1&&T("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),He=e}function qe(t,n,r){var i=b.current;if(null!==i)try{Xe(i),function(t){if(null===Ve)try{var n=("require"+Math.random()).slice(0,7);Ve=(e&&e[n]).call(e,"timers").setImmediate}catch(e){Ve=function(e){!1===We&&(We=!0,"undefined"==typeof MessageChannel&&T("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}Ve(t)}((function(){0===i.length?(b.current=null,n(t)):qe(t,n,r)}))}catch(e){r(e)}else n(t)}var Ke=!1;function Xe(e){if(!Ke){Ke=!0;var t=0;try{for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}e.length=0}catch(n){throw e=e.slice(t+1),n}finally{Ke=!1}}}var Qe=Be,Ze=function(e,t,n){for(var r=te.apply(this,arguments),i=2;i<arguments.length;i++)je(arguments[i],r.type);return Fe(r),r},Je=function(e){var t=Be.bind(null,e);return t.type=e,Ue||(Ue=!0,M("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(t,"type",{enumerable:!1,get:function(){return M("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},et={map:ue,forEach:function(e,t,n){ue(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return ue(e,(function(){t++})),t},toArray:function(e){return ue(e,(function(e){return e}))||[]},only:function(e){if(!ne(e))throw new Error("React.Children.only expected to receive a single React element child.");return e}};t.Children=et,t.Component=A,t.Fragment=i,t.Profiler=a,t.PureComponent=j,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S,t.act=$e,t.cloneElement=Ze,t.createContext=function(e){var t={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};t.Provider={$$typeof:s,_context:t};var n=!1,r=!1,i=!1,o={$$typeof:l,_context:t};return Object.defineProperties(o,{Provider:{get:function(){return r||(r=!0,T("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),t.Provider},set:function(e){t.Provider=e}},_currentValue:{get:function(){return t._currentValue},set:function(e){t._currentValue=e}},_currentValue2:{get:function(){return t._currentValue2},set:function(e){t._currentValue2=e}},_threadCount:{get:function(){return t._threadCount},set:function(e){t._threadCount=e}},Consumer:{get:function(){return n||(n=!0,T("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),t.Consumer}},displayName:{get:function(){return t.displayName},set:function(e){i||(M("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",e),i=!0)}}}),t.Consumer=o,t._currentRenderer=null,t._currentRenderer2=null,t},t.createElement=Qe,t.createFactory=Je,t.createRef=function(){var e={current:null};return Object.seal(e),e},t.forwardRef=function(e){null!=e&&e.$$typeof===f?T("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):"function"!=typeof e?T("forwardRef requires a render function but was given %s.",null===e?"null":typeof e):0!==e.length&&2!==e.length&&T("forwardRef render functions accept exactly two parameters: props and ref. %s",1===e.length?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),null!=e&&(null==e.defaultProps&&null==e.propTypes||T("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?"));var t,n={$$typeof:u,render:e};return Object.defineProperty(n,"displayName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n,e.name||e.displayName||(e.displayName=n)}}),n},t.isValidElement=ne,t.lazy=function(e){var t,n,r={$$typeof:h,_payload:{_status:-1,_result:e},_init:ce};return Object.defineProperties(r,{defaultProps:{configurable:!0,get:function(){return t},set:function(e){T("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),t=e,Object.defineProperty(r,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return n},set:function(e){T("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),n=e,Object.defineProperty(r,"propTypes",{enumerable:!0})}}}),r},t.memo=function(e,t){de(e)||T("memo: The first argument must be a component. Instead received: %s",null===e?"null":typeof e);var n,r={$$typeof:f,type:e,compare:void 0===t?null:t};return Object.defineProperty(r,"displayName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(t){n=t,e.name||e.displayName||(e.displayName=t)}}),r},t.startTransition=function(e,t){var n=y.transition;y.transition={};var r=y.transition;y.transition._updatedFibers=new Set;try{e()}finally{y.transition=n,null===n&&r._updatedFibers&&(r._updatedFibers.size>10&&M("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),r._updatedFibers.clear())}},t.unstable_act=$e,t.useCallback=function(e,t){return fe().useCallback(e,t)},t.useContext=function(e){var t=fe();if(void 0!==e._context){var n=e._context;n.Consumer===e?T("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):n.Provider===e&&T("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return t.useContext(e)},t.useDebugValue=function(e,t){return fe().useDebugValue(e,t)},t.useDeferredValue=function(e){return fe().useDeferredValue(e)},t.useEffect=function(e,t){return fe().useEffect(e,t)},t.useId=function(){return fe().useId()},t.useImperativeHandle=function(e,t,n){return fe().useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return fe().useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return fe().useLayoutEffect(e,t)},t.useMemo=function(e,t){return fe().useMemo(e,t)},t.useReducer=function(e,t,n){return fe().useReducer(e,t,n)},t.useRef=function(e){return fe().useRef(e)},t.useState=function(e){return fe().useState(e)},t.useSyncExternalStore=function(e,t,n){return fe().useSyncExternalStore(e,t,n)},t.useTransition=function(){return fe().useTransition()},t.version="18.3.1","undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()}(r$,r$.exports)),r$.exports);var i$,o$,a$=e$.exports,s$=E(a$),l$={exports:{}},u$={exports:{}};function c$(){if(o$)return i$;o$=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;return i$=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(r,i){for(var o,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(r),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))t.call(o,u)&&(s[u]=o[u]);if(e){a=e(o);for(var c=0;c<a.length;c++)n.call(o,a[c])&&(s[a[c]]=o[a[c]])}}return s},i$}var d$,f$={exports:{}},h$={};var p$,g$={};
/** @license React v0.20.2
   * scheduler.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */"production"===process.env.NODE_ENV?f$.exports=(d$||(d$=1,function(e){var t,n,r,i;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(e){throw setTimeout(c,0),e}};t=function(e){null!==l?setTimeout(t,0,e):(l=e,setTimeout(c,0))},n=function(e,t){u=setTimeout(e,t)},r=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var h=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,g=null,v=-1,m=5,y=0;e.unstable_shouldYield=function(){return e.unstable_now()>=y},i=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();y=t+m;try{g(!0,t)?w.postMessage(null):(p=!1,g=null)}catch(e){throw w.postMessage(null),e}}else p=!1},t=function(e){g=e,p||(p=!0,w.postMessage(null))},n=function(t,n){v=d((function(){t(e.unstable_now())}),n)},r=function(){f(v),v=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>S(a,n))void 0!==l&&0>S(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>S(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var M=[],T=[],C=1,N=null,P=3,O=!1,_=!1,R=!1;function A(e){for(var t=E(T);null!==t;){if(null===t.callback)k(T);else{if(!(t.startTime<=e))break;k(T),t.sortIndex=t.expirationTime,x(M,t)}t=E(T)}}function D(e){if(R=!1,A(e),!_)if(null!==E(M))_=!0,t(L);else{var r=E(T);null!==r&&n(D,r.startTime-e)}}function L(t,i){_=!1,R&&(R=!1,r()),O=!0;var o=P;try{for(A(i),N=E(M);null!==N&&(!(N.expirationTime>i)||t&&!e.unstable_shouldYield());){var a=N.callback;if("function"==typeof a){N.callback=null,P=N.priorityLevel;var s=a(N.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?N.callback=s:N===E(M)&&k(M),A(i)}else k(M);N=E(M)}if(null!==N)var l=!0;else{var u=E(T);null!==u&&n(D,u.startTime-i),l=!1}return l}finally{N=null,P=o,O=!1}}var I=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){_||O||(_=!0,t(L))},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return E(M)},e.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=I,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},e.unstable_scheduleCallback=function(i,o,a){var s=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,i){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return i={id:C++,callback:o,priorityLevel:i,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(i.sortIndex=a,x(T,i),null===E(M)&&i===E(T)&&(R?r():R=!0,n(D,a-s))):(i.sortIndex=l,x(M,i),_||O||(_=!0,t(L))),i},e.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}}(h$)),h$):f$.exports=(p$||(p$=1,function(e){"production"!==process.env.NODE_ENV&&function(){var t,n,r,i;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(e){throw setTimeout(c,0),e}};t=function(e){null!==l?setTimeout(t,0,e):(l=e,setTimeout(c,0))},n=function(e,t){u=setTimeout(e,t)},r=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var h=window.requestAnimationFrame,p=window.cancelAnimationFrame;"function"!=typeof h&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,m=-1,y=5,b=0;e.unstable_shouldYield=function(){return e.unstable_now()>=b},i=function(){},e.unstable_forceFrameRate=function(e){e<0||e>125?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=e>0?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();b=t+y;try{v(!0,t)?x.postMessage(null):(g=!1,v=null)}catch(e){throw x.postMessage(null),e}}else g=!1},t=function(e){v=e,g||(g=!0,x.postMessage(null))},n=function(t,n){m=d((function(){t(e.unstable_now())}),n)},r=function(){f(m),m=-1}}function E(e,t){var n=e.length;e.push(t),function(e,t,n){for(var r=n;;){var i=r-1>>>1,o=e[i];if(!(void 0!==o&&M(o,t)>0))return;e[i]=t,e[r]=o,r=i}}(e,t,n)}function k(e){var t=e[0];return void 0===t?null:t}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();return n!==t&&(e[0]=n,function(e,t){for(var n=0,r=e.length;n<r;){var i=2*(n+1)-1,o=e[i],a=i+1,s=e[a];if(void 0!==o&&M(o,t)<0)void 0!==s&&M(s,o)<0?(e[n]=s,e[a]=t,n=a):(e[n]=o,e[i]=t,n=i);else{if(!(void 0!==s&&M(s,t)<0))return;e[n]=s,e[a]=t,n=a}}}(e,n)),t}return null}function M(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],C=[],N=1,P=null,O=3,_=!1,R=!1,A=!1;function D(e){for(var t=k(C);null!==t;){if(null===t.callback)S(C);else{if(!(t.startTime<=e))return;S(C),t.sortIndex=t.expirationTime,E(T,t)}t=k(C)}}function L(e){if(A=!1,D(e),!R)if(null!==k(T))R=!0,t(I);else{var r=k(C);null!==r&&n(L,r.startTime-e)}}function I(t,i){R=!1,A&&(A=!1,r()),_=!0;var o=O;try{return function(t,r){var i=r;for(D(i),P=k(T);null!==P&&(!(P.expirationTime>i)||t&&!e.unstable_shouldYield());){var o=P.callback;if("function"==typeof o){P.callback=null,O=P.priorityLevel;var a=o(P.expirationTime<=i);i=e.unstable_now(),"function"==typeof a?P.callback=a:P===k(T)&&S(T),D(i)}else S(T);P=k(T)}if(null!==P)return!0;var s=k(C);return null!==s&&n(L,s.startTime-i),!1}(t,i)}finally{P=null,O=o,_=!1}}var z=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){R||_||(R=!0,t(I))},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return k(T)},e.unstable_next=function(e){var t;switch(O){case 1:case 2:case 3:t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=z,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},e.unstable_scheduleCallback=function(i,o,a){var s,l,u=e.unstable_now();if("object"==typeof a&&null!==a){var c=a.delay;s="number"==typeof c&&c>0?u+c:u}else s=u;switch(i){case 1:l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}var d=s+l,f={id:N++,callback:o,priorityLevel:i,startTime:s,expirationTime:d,sortIndex:-1};return s>u?(f.sortIndex=s,E(C,f),null===k(T)&&f===k(C)&&(A?r():A=!0,n(L,s-u))):(f.sortIndex=d,E(T,f),R||_||(R=!0,t(I))),f},e.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}}()}(g$)),g$);var v$,m$=f$.exports;
/** @license React v0.26.2
   * react-reconciler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */var y$,b$={exports:{}},w$={exports:{}},x$={};var E$,k$,S$,M$={};
/** @license React v0.20.2
   * scheduler-tracing.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */function T$(){return k$||(k$=1,"production"===process.env.NODE_ENV?w$.exports=function(){if(y$)return x$;y$=1;var e=0;return x$.__interactionsRef=null,x$.__subscriberRef=null,x$.unstable_clear=function(e){return e()},x$.unstable_getCurrent=function(){return null},x$.unstable_getThreadID=function(){return++e},x$.unstable_subscribe=function(){},x$.unstable_trace=function(e,t,n){return n()},x$.unstable_unsubscribe=function(){},x$.unstable_wrap=function(e){return e},x$}():w$.exports=(E$||(E$=1,function(e){"production"!==process.env.NODE_ENV&&function(){var t=0,n=0;e.__interactionsRef=null,e.__subscriberRef=null,e.__interactionsRef={current:new Set},e.__subscriberRef={current:null};var r=null;function i(e){var t=!1,n=null;if(r.forEach((function(r){try{r.onInteractionTraced(e)}catch(e){t||(t=!0,n=e)}})),t)throw n}function o(e){var t=!1,n=null;if(r.forEach((function(r){try{r.onInteractionScheduledWorkCompleted(e)}catch(e){t||(t=!0,n=e)}})),t)throw n}function a(e,t){var n=!1,i=null;if(r.forEach((function(r){try{r.onWorkScheduled(e,t)}catch(e){n||(n=!0,i=e)}})),n)throw i}function s(e,t){var n=!1,i=null;if(r.forEach((function(r){try{r.onWorkStarted(e,t)}catch(e){n||(n=!0,i=e)}})),n)throw i}function l(e,t){var n=!1,i=null;if(r.forEach((function(r){try{r.onWorkStopped(e,t)}catch(e){n||(n=!0,i=e)}})),n)throw i}function u(e,t){var n=!1,i=null;if(r.forEach((function(r){try{r.onWorkCanceled(e,t)}catch(e){n||(n=!0,i=e)}})),n)throw i}r=new Set,e.unstable_clear=function(t){var n=e.__interactionsRef.current;e.__interactionsRef.current=new Set;try{return t()}finally{e.__interactionsRef.current=n}},e.unstable_getCurrent=function(){return e.__interactionsRef.current},e.unstable_getThreadID=function(){return++n},e.unstable_subscribe=function(t){r.add(t),1===r.size&&(e.__subscriberRef.current={onInteractionScheduledWorkCompleted:o,onInteractionTraced:i,onWorkCanceled:u,onWorkScheduled:a,onWorkStarted:s,onWorkStopped:l})},e.unstable_trace=function(n,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a={__count:1,id:t++,name:n,timestamp:r},s=e.__interactionsRef.current,l=new Set(s);l.add(a),e.__interactionsRef.current=l;var u,c=e.__subscriberRef.current;try{null!==c&&c.onInteractionTraced(a)}finally{try{null!==c&&c.onWorkStarted(l,o)}finally{try{u=i()}finally{e.__interactionsRef.current=s;try{null!==c&&c.onWorkStopped(l,o)}finally{a.__count--,null!==c&&0===a.__count&&c.onInteractionScheduledWorkCompleted(a)}}}}return u},e.unstable_unsubscribe=function(t){r.delete(t),0===r.size&&(e.__subscriberRef.current=null)},e.unstable_wrap=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.__interactionsRef.current,i=e.__subscriberRef.current;null!==i&&i.onWorkScheduled(r,n),r.forEach((function(e){e.__count++}));var o=!1;function a(){var a=e.__interactionsRef.current;e.__interactionsRef.current=r,i=e.__subscriberRef.current;try{var s;try{null!==i&&i.onWorkStarted(r,n)}finally{try{s=t.apply(void 0,arguments)}finally{e.__interactionsRef.current=a,null!==i&&i.onWorkStopped(r,n)}}return s}finally{o||(o=!0,r.forEach((function(e){e.__count--,null!==i&&0===e.__count&&i.onInteractionScheduledWorkCompleted(e)})))}}return a.cancel=function(){i=e.__subscriberRef.current;try{null!==i&&i.onWorkCanceled(r,n)}finally{r.forEach((function(e){e.__count--,i&&0===e.__count&&i.onInteractionScheduledWorkCompleted(e)}))}},a}}()}(M$)),M$)),w$.exports}
/** @license React v0.26.2
   * react-reconciler.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */"production"===process.env.NODE_ENV?l$.exports=(v$||(v$=1,function(e){e.exports=function(t){var n={},r=c$(),i=a$,o=m$;function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=60103,u=60106,c=60107,d=60108,f=60114,h=60109,p=60110,g=60112,v=60113,m=60120,y=60115,b=60116,w=60121,x=60129,E=60130,k=60131;if("function"==typeof Symbol&&Symbol.for){var S=Symbol.for;l=S("react.element"),u=S("react.portal"),c=S("react.fragment"),d=S("react.strict_mode"),f=S("react.profiler"),h=S("react.provider"),p=S("react.context"),g=S("react.forward_ref"),v=S("react.suspense"),m=S("react.suspense_list"),y=S("react.memo"),b=S("react.lazy"),w=S("react.block"),S("react.scope"),x=S("react.debug_trace_mode"),E=S("react.offscreen"),k=S("react.legacy_hidden")}var M="function"==typeof Symbol&&Symbol.iterator;function T(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=M&&e[M]||e["@@iterator"])?e:null}function C(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case c:return"Fragment";case u:return"Portal";case f:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case m:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case h:return(e._context.displayName||"Context")+".Provider";case g:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case y:return C(e.type);case w:return C(e._render);case b:t=e._payload,e=e._init;try{return C(e(t))}catch(e){}}return null}function N(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function P(e){if(N(e)!==e)throw Error(a(188))}function O(e){var t=e.alternate;if(!t){if(null===(t=N(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return P(i),e;if(o===r)return P(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function _(e){if(!(e=O(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function R(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var A,D=t.getPublicInstance,L=t.getRootHostContext,I=t.getChildHostContext,z=t.prepareForCommit,j=t.resetAfterCommit,F=t.createInstance,B=t.appendInitialChild,U=t.finalizeInitialChildren,W=t.prepareUpdate,V=t.shouldSetTextContent,H=t.createTextInstance,G=t.scheduleTimeout,$=t.cancelTimeout,Y=t.noTimeout,q=t.isPrimaryRenderer,K=t.supportsMutation,X=t.supportsPersistence,Q=t.supportsHydration,Z=t.getInstanceFromNode,J=t.makeOpaqueHydratingObject,ee=t.makeClientId,te=t.beforeActiveInstanceBlur,ne=t.afterActiveInstanceBlur,re=t.preparePortalMount,ie=t.supportsTestSelectors,oe=t.findFiberRoot,ae=t.getBoundingRect,se=t.getTextContent,le=t.isHiddenSubtree,ue=t.matchAccessibilityRole,ce=t.setFocusIfFocusable,de=t.setupIntersectionObserver,fe=t.appendChild,he=t.appendChildToContainer,pe=t.commitTextUpdate,ge=t.commitMount,ve=t.commitUpdate,me=t.insertBefore,ye=t.insertInContainerBefore,be=t.removeChild,we=t.removeChildFromContainer,xe=t.resetTextContent,Ee=t.hideInstance,ke=t.hideTextInstance,Se=t.unhideInstance,Me=t.unhideTextInstance,Te=t.clearContainer,Ce=t.cloneInstance,Ne=t.createContainerChildSet,Pe=t.appendChildToContainerChildSet,Oe=t.finalizeContainerChildren,_e=t.replaceContainerChildren,Re=t.cloneHiddenInstance,Ae=t.cloneHiddenTextInstance,De=t.canHydrateInstance,Le=t.canHydrateTextInstance,Ie=t.isSuspenseInstancePending,ze=t.isSuspenseInstanceFallback,je=t.getNextHydratableSibling,Fe=t.getFirstHydratableChild,Be=t.hydrateInstance,Ue=t.hydrateTextInstance,We=t.getNextHydratableInstanceAfterSuspenseInstance,Ve=t.commitHydratedContainer,He=t.commitHydratedSuspenseInstance;function Ge(e){if(void 0===A)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var $e=!1;function Ye(e,t){if(!e||$e)return"";$e=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{$e=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ge(e):""}var qe=[],Ke=-1;function Xe(e){return{current:e}}function Qe(e){0>Ke||(e.current=qe[Ke],qe[Ke]=null,Ke--)}function Ze(e,t){Ke++,qe[Ke]=e.current,e.current=t}var Je={},et=Xe(Je),tt=Xe(!1),nt=Je;function rt(e,t){var n=e.type.contextTypes;if(!n)return Je;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function it(e){return null!=e.childContextTypes}function ot(){Qe(tt),Qe(et)}function at(e,t,n){if(et.current!==Je)throw Error(a(168));Ze(et,t),Ze(tt,n)}function st(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(a(108,C(t)||"Unknown",o));return r({},n,i)}function lt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Je,nt=et.current,Ze(et,e),Ze(tt,tt.current),!0}function ut(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=st(e,t,nt),r.__reactInternalMemoizedMergedChildContext=e,Qe(tt),Qe(et),Ze(et,e)):Qe(tt),Ze(tt,n)}var ct=null,dt=null;(0,o.unstable_now)();var ft=0,ht=8;function pt(e){if(1&e)return ht=15,1;if(2&e)return ht=14,2;if(4&e)return ht=13,4;var t=24&e;return 0!==t?(ht=12,t):32&e?(ht=11,32):0!=(t=192&e)?(ht=10,t):256&e?(ht=9,256):0!=(t=3584&e)?(ht=8,t):4096&e?(ht=7,4096):0!=(t=4186112&e)?(ht=6,t):0!=(t=62914560&e)?(ht=5,t):67108864&e?(ht=4,67108864):134217728&e?(ht=3,134217728):0!=(t=805306368&e)?(ht=2,t):1073741824&e?(ht=1,1073741824):(ht=8,e)}function gt(e,t){var n=e.pendingLanes;if(0===n)return ht=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=ht=15;else if(0!=(o=134217727&n)){var l=o&~a;0!==l?(r=pt(l),i=ht):0!=(s&=o)&&(r=pt(s),i=ht)}else 0!=(o=n&~a)?(r=pt(o),i=ht):0!==s&&(r=pt(s),i=ht);if(0===r)return 0;if(r=n&((0>(r=31-xt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&!(t&a)){if(pt(t),i<=ht)return t;ht=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-xt(t)),r|=e[n],t&=~i;return r}function vt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=yt(24&~t))?mt(10,t):e;case 10:return 0===(e=yt(192&~t))?mt(8,t):e;case 8:return 0===(e=yt(3584&~t))&&0===(e=yt(4186112&~t))&&(e=512),e;case 2:return 0===(t=yt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function yt(e){return e&-e}function bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-xt(t)]=n}var xt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Et(e)/kt|0)|0},Et=Math.log,kt=Math.LN2,St=o.unstable_runWithPriority,Mt=o.unstable_scheduleCallback,Tt=o.unstable_cancelCallback,Ct=o.unstable_shouldYield,Nt=o.unstable_requestPaint,Pt=o.unstable_now,Ot=o.unstable_getCurrentPriorityLevel,_t=o.unstable_ImmediatePriority,Rt=o.unstable_UserBlockingPriority,At=o.unstable_NormalPriority,Dt=o.unstable_LowPriority,Lt=o.unstable_IdlePriority,It={},zt=void 0!==Nt?Nt:function(){},jt=null,Ft=null,Bt=!1,Ut=Pt(),Wt=1e4>Ut?Pt:function(){return Pt()-Ut};function Vt(){switch(Ot()){case _t:return 99;case Rt:return 98;case At:return 97;case Dt:return 96;case Lt:return 95;default:throw Error(a(332))}}function Ht(e){switch(e){case 99:return _t;case 98:return Rt;case 97:return At;case 96:return Dt;case 95:return Lt;default:throw Error(a(332))}}function Gt(e,t){return e=Ht(e),St(e,t)}function $t(e,t,n){return e=Ht(e),Mt(e,t,n)}function Yt(){if(null!==Ft){var e=Ft;Ft=null,Tt(e)}qt()}function qt(){if(!Bt&&null!==jt){Bt=!0;var e=0;try{var t=jt;Gt(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),jt=null}catch(t){throw null!==jt&&(jt=jt.slice(e+1)),Mt(_t,Yt),t}finally{Bt=!1}}}var Kt=s.ReactCurrentBatchConfig,Xt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Qt=Object.prototype.hasOwnProperty;function Zt(e,t){if(Xt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Qt.call(t,n[r])||!Xt(e[n[r]],t[n[r]]))return!1;return!0}function Jt(e){switch(e.tag){case 5:return Ge(e.type);case 16:return Ge("Lazy");case 13:return Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 2:case 15:return Ye(e.type,!1);case 11:return Ye(e.type.render,!1);case 22:return Ye(e.type._render,!1);case 1:return Ye(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=Xe(null),nn=null,rn=null,on=null;function an(){on=rn=nn=null}function sn(e,t){e=e.type._context,q?(Ze(tn,e._currentValue),e._currentValue=t):(Ze(tn,e._currentValue2),e._currentValue2=t)}function ln(e){var t=tn.current;Qe(tn),e=e.type._context,q?e._currentValue=t:e._currentValue2=t}function un(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function cn(e,t){nn=e,on=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Ur=!0),e.firstContext=null)}function dn(e,t){if(on!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(on=e,t=1073741823),t={context:e,observedBits:t,next:null},null===rn){if(null===nn)throw Error(a(308));rn=t,nn.dependencies={lanes:0,firstContext:t,responders:null}}else rn=rn.next=t;return q?e._currentValue:e._currentValue2}var fn=!1;function hn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function pn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function mn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yn(e,t,n,i){var o=e.updateQueue;fn=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=c:f.next=c,d.lastBaseUpdate=u)}}if(null!==a){for(f=o.baseState,s=0,d=c=u=null;;){l=a.lane;var h=a.eventTime;if((i&l)===l){null!==d&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(l=t,h=n,g.tag){case 1:if("function"==typeof(p=g.payload)){f=p.call(h,f,l);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(l="function"==typeof(p=g.payload)?p.call(h,f,l):p))break e;f=r({},f,l);break e;case 2:fn=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else h={eventTime:h,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=h,u=f):d=d.next=h,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(u=f),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=d,co|=s,e.lanes=s,e.memoizedState=f}}function bn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var wn=(new i.Component).refs;function xn(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var En={isMounted:function(e){return!!(e=e._reactInternals)&&N(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Io(),i=zo(e),o=gn(r,i);o.payload=t,null!=n&&(o.callback=n),vn(e,o),jo(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Io(),i=zo(e),o=gn(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),vn(e,o),jo(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Io(),r=zo(e),i=gn(n,r);i.tag=2,null!=t&&(i.callback=t),vn(e,i),jo(e,r,n)}};function kn(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&Zt(n,r)&&Zt(i,o))}function Sn(e,t,n){var r=!1,i=Je,o=t.contextType;return"object"==typeof o&&null!==o?o=dn(o):(i=it(t)?nt:et.current,o=(r=null!=(r=t.contextTypes))?rt(e,i):Je),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=En,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Mn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&En.enqueueReplaceState(t,t.state,null)}function Tn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=wn,hn(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=dn(o):(o=it(t)?nt:et.current,i.context=rt(e,o)),yn(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(xn(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&En.enqueueReplaceState(i,i.state,null),yn(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Cn=Array.isArray;function Nn(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===wn&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Pn(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function On(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ka(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function d(e,t,n,r){return null===t||6!==t.tag?((t=Ca(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Nn(e,t,n),r.return=e,r):((r=Sa(n.type,n.key,n.props,null,e.mode,r)).ref=Nn(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Na(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=Ma(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function g(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ca(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case l:return(n=Sa(t.type,t.key,t.props,null,e.mode,n)).ref=Nn(e,null,t),n.return=e,n;case u:return(t=Na(t,e.mode,n)).return=e,t}if(Cn(t)||T(t))return(t=Ma(t,e.mode,n,null)).return=e,t;Pn(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:d(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===i?n.type===c?p(e,t,n.props.children,r,i):f(e,t,n,r):null;case u:return n.key===i?h(e,t,n,r):null}if(Cn(n)||T(n))return null!==i?null:p(e,t,n,r,null);Pn(e,n)}return null}function m(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return d(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case l:return e=e.get(null===r.key?n:r.key)||null,r.type===c?p(t,e,r.props.children,i,r.key):f(t,e,r,i);case u:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Cn(r)||T(r))return p(t,e=e.get(n)||null,r,i,null);Pn(t,r)}return null}function y(i,a,s,l){for(var u=null,c=null,d=a,f=a=0,h=null;null!==d&&f<s.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var p=v(i,d,s[f],l);if(null===p){null===d&&(d=h);break}e&&d&&null===p.alternate&&t(i,d),a=o(p,a,f),null===c?u=p:c.sibling=p,c=p,d=h}if(f===s.length)return n(i,d),u;if(null===d){for(;f<s.length;f++)null!==(d=g(i,s[f],l))&&(a=o(d,a,f),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);f<s.length;f++)null!==(h=m(d,i,f,s[f],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),a=o(h,a,f),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach((function(e){return t(i,e)})),u}function b(i,s,l,u){var c=T(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,f=s,h=s=0,p=null,y=l.next();null!==f&&!y.done;h++,y=l.next()){f.index>h?(p=f,f=null):p=f.sibling;var b=v(i,f,y.value,u);if(null===b){null===f&&(f=p);break}e&&f&&null===b.alternate&&t(i,f),s=o(b,s,h),null===d?c=b:d.sibling=b,d=b,f=p}if(y.done)return n(i,f),c;if(null===f){for(;!y.done;h++,y=l.next())null!==(y=g(i,y.value,u))&&(s=o(y,s,h),null===d?c=y:d.sibling=y,d=y);return c}for(f=r(i,f);!y.done;h++,y=l.next())null!==(y=m(f,i,h,y.value,u))&&(e&&null!==y.alternate&&f.delete(null===y.key?h:y.key),s=o(y,s,h),null===d?c=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(i,e)})),c}return function(e,r,o,d){var f="object"==typeof o&&null!==o&&o.type===c&&null===o.key;f&&(o=o.props.children);var h="object"==typeof o&&null!==o;if(h)switch(o.$$typeof){case l:e:{for(h=o.key,f=r;null!==f;){if(f.key===h){if(7===f.tag){if(o.type===c){n(e,f.sibling),(r=i(f,o.props.children)).return=e,e=r;break e}}else if(f.elementType===o.type){n(e,f.sibling),(r=i(f,o.props)).ref=Nn(e,f,o),r.return=e,e=r;break e}n(e,f);break}t(e,f),f=f.sibling}o.type===c?((r=Ma(o.props.children,e.mode,d,o.key)).return=e,e=r):((d=Sa(o.type,o.key,o.props,null,e.mode,d)).ref=Nn(e,r,o),d.return=e,e=d)}return s(e);case u:e:{for(f=o.key;null!==r;){if(r.key===f){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Na(o,e.mode,d)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Ca(o,e.mode,d)).return=e,e=r),s(e);if(Cn(o))return y(e,r,o,d);if(T(o))return b(e,r,o,d);if(h&&Pn(e,o),void 0===o&&!f)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,C(e.type)||"Component"))}return n(e,r)}}var _n=On(!0),Rn=On(!1),An={},Dn=Xe(An),Ln=Xe(An),In=Xe(An);function zn(e){if(e===An)throw Error(a(174));return e}function jn(e,t){Ze(In,t),Ze(Ln,e),Ze(Dn,An),e=L(t),Qe(Dn),Ze(Dn,e)}function Fn(){Qe(Dn),Qe(Ln),Qe(In)}function Bn(e){var t=zn(In.current),n=zn(Dn.current);n!==(t=I(n,e.type,t))&&(Ze(Ln,e),Ze(Dn,t))}function Un(e){Ln.current===e&&(Qe(Dn),Qe(Ln))}var Wn=Xe(0);function Vn(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ie(n)||ze(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(64&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hn=null,Gn=null,$n=!1;function Yn(e,t){var n=xa(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qn(e,t){switch(e.tag){case 5:return null!==(t=De(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=Le(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function Kn(e){if($n){var t=Gn;if(t){var n=t;if(!qn(e,t)){if(!(t=je(n))||!qn(e,t))return e.flags=-1025&e.flags|2,$n=!1,void(Hn=e);Yn(Hn,n)}Hn=e,Gn=Fe(t)}else e.flags=-1025&e.flags|2,$n=!1,Hn=e}}function Xn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Hn=e}function Qn(e){if(!Q||e!==Hn)return!1;if(!$n)return Xn(e),$n=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!V(t,e.memoizedProps))for(t=Gn;t;)Yn(e,t),t=je(t);if(Xn(e),13===e.tag){if(!Q)throw Error(a(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));Gn=We(e)}else Gn=Hn?je(e.stateNode):null;return!0}function Zn(){Q&&(Gn=Hn=null,$n=!1)}var Jn=[];function er(){for(var e=0;e<Jn.length;e++){var t=Jn[e];q?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Jn.length=0}var tr=s.ReactCurrentDispatcher,nr=s.ReactCurrentBatchConfig,rr=0,ir=null,or=null,ar=null,sr=!1,lr=!1;function ur(){throw Error(a(321))}function cr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xt(e[n],t[n]))return!1;return!0}function dr(e,t,n,r,i,o){if(rr=o,ir=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tr.current=null===e||null===e.memoizedState?zr:jr,e=n(r,i),lr){o=0;do{if(lr=!1,!(25>o))throw Error(a(301));o+=1,ar=or=null,t.updateQueue=null,tr.current=Fr,e=n(r,i)}while(lr)}if(tr.current=Ir,t=null!==or&&null!==or.next,rr=0,ar=or=ir=null,sr=!1,t)throw Error(a(300));return e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ar?ir.memoizedState=ar=e:ar=ar.next=e,ar}function hr(){if(null===or){var e=ir.alternate;e=null!==e?e.memoizedState:null}else e=or.next;var t=null===ar?ir.memoizedState:ar.next;if(null!==t)ar=t,or=e;else{if(null===e)throw Error(a(310));e={memoizedState:(or=e).memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},null===ar?ir.memoizedState=ar=e:ar=ar.next=e}return ar}function pr(e,t){return"function"==typeof t?t(e):t}function gr(e){var t=hr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=or,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.lane;if((rr&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=d,o=r):l=l.next=d,ir.lanes|=c,co|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,Xt(r,t.memoizedState)||(Ur=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function vr(e){var t=hr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Xt(o,t.memoizedState)||(Ur=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function mr(e,t,n){var r=t._getVersion;r=r(t._source);var i=q?t._workInProgressVersionPrimary:t._workInProgressVersionSecondary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(rr&e)===e)&&(q?t._workInProgressVersionPrimary=r:t._workInProgressVersionSecondary=r,Jn.push(t))),e)return n(t._source);throw Jn.push(t),Error(a(350))}function yr(e,t,n,r){var i=no;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=tr.current,u=l.useState((function(){return mr(i,t,n)})),c=u[1],d=u[0];u=ar;var f=e.memoizedState,h=f.refs,p=h.getSnapshot,g=f.source;f=f.subscribe;var v=ir;return e.memoizedState={refs:h,source:t,subscribe:r},l.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=o(t._source);if(!Xt(s,e)){e=n(t._source),Xt(d,e)||(c(e),e=zo(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-xt(a),u=1<<l;r[l]|=e,a&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=zo(v);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),Xt(p,n)&&Xt(g,t)&&Xt(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:pr,lastRenderedState:d}).dispatch=c=Lr.bind(null,ir,e),u.queue=e,u.baseQueue=null,d=mr(i,t,n),u.memoizedState=u.baseState=d),d}function br(e,t,n){return yr(hr(),e,t,n)}function wr(e){var t=fr();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:pr,lastRenderedState:e}).dispatch=Lr.bind(null,ir,e),[t.memoizedState,e]}function xr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ir.updateQueue)?(t={lastEffect:null},ir.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Er(e){return e={current:e},fr().memoizedState=e}function kr(){return hr().memoizedState}function Sr(e,t,n,r){var i=fr();ir.flags|=e,i.memoizedState=xr(1|t,n,void 0,void 0===r?null:r)}function Mr(e,t,n,r){var i=hr();r=void 0===r?null:r;var o=void 0;if(null!==or){var a=or.memoizedState;if(o=a.destroy,null!==r&&cr(r,a.deps))return void xr(t,n,o,r)}ir.flags|=e,i.memoizedState=xr(1|t,n,o,r)}function Tr(e,t){return Sr(516,4,e,t)}function Cr(e,t){return Mr(516,4,e,t)}function Nr(e,t){return Mr(4,2,e,t)}function Pr(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Or(e,t,n){return n=null!=n?n.concat([e]):null,Mr(4,2,Pr.bind(null,t,e),n)}function _r(){}function Rr(e,t){var n=hr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&cr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ar(e,t){var n=hr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&cr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Dr(e,t){var n=Vt();Gt(98>n?98:n,(function(){e(!0)})),Gt(97<n?97:n,(function(){var n=nr.transition;nr.transition=1;try{e(!1),t()}finally{nr.transition=n}}))}function Lr(e,t,n){var r=Io(),i=zo(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ir||null!==a&&a===ir)lr=sr=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,Xt(l,s))return}catch(e){}jo(e,i,r)}}var Ir={readContext:dn,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useOpaqueIdentifier:ur,unstable_isNewReconciler:!1},zr={readContext:dn,useCallback:function(e,t){return fr().memoizedState=[e,void 0===t?null:t],e},useContext:dn,useEffect:Tr,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Sr(4,2,Pr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sr(4,2,e,t)},useMemo:function(e,t){var n=fr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Lr.bind(null,ir,e),[r.memoizedState,e]},useRef:Er,useState:wr,useDebugValue:_r,useDeferredValue:function(e){var t=wr(e),n=t[0],r=t[1];return Tr((function(){var t=nr.transition;nr.transition=1;try{r(e)}finally{nr.transition=t}}),[e]),n},useTransition:function(){var e=wr(!1),t=e[0];return Er(e=Dr.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=fr();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},yr(r,e,t,n)},useOpaqueIdentifier:function(){if($n){var e=!1,t=J((function(){throw e||(e=!0,n(ee())),Error(a(355))})),n=wr(t)[1];return!(2&ir.mode)&&(ir.flags|=516,xr(5,(function(){n(ee())}),void 0,null)),t}return wr(t=ee()),t},unstable_isNewReconciler:!1},jr={readContext:dn,useCallback:Rr,useContext:dn,useEffect:Cr,useImperativeHandle:Or,useLayoutEffect:Nr,useMemo:Ar,useReducer:gr,useRef:kr,useState:function(){return gr(pr)},useDebugValue:_r,useDeferredValue:function(e){var t=gr(pr),n=t[0],r=t[1];return Cr((function(){var t=nr.transition;nr.transition=1;try{r(e)}finally{nr.transition=t}}),[e]),n},useTransition:function(){var e=gr(pr)[0];return[kr().current,e]},useMutableSource:br,useOpaqueIdentifier:function(){return gr(pr)[0]},unstable_isNewReconciler:!1},Fr={readContext:dn,useCallback:Rr,useContext:dn,useEffect:Cr,useImperativeHandle:Or,useLayoutEffect:Nr,useMemo:Ar,useReducer:vr,useRef:kr,useState:function(){return vr(pr)},useDebugValue:_r,useDeferredValue:function(e){var t=vr(pr),n=t[0],r=t[1];return Cr((function(){var t=nr.transition;nr.transition=1;try{r(e)}finally{nr.transition=t}}),[e]),n},useTransition:function(){var e=vr(pr)[0];return[kr().current,e]},useMutableSource:br,useOpaqueIdentifier:function(){return vr(pr)[0]},unstable_isNewReconciler:!1},Br=s.ReactCurrentOwner,Ur=!1;function Wr(e,t,n,r){t.child=null===e?Rn(t,null,n,r):_n(t,e.child,n,r)}function Vr(e,t,n,r,i){n=n.render;var o=t.ref;return cn(t,i),r=dr(e,t,n,r,o,i),null===e||Ur?(t.flags|=1,Wr(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ci(e,t,i))}function Hr(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Ea(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Sa(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Gr(e,t,a,r,i,o))}return a=e.child,i&o||(i=a.memoizedProps,!(n=null!==(n=n.compare)?n:Zt)(i,r)||e.ref!==t.ref)?(t.flags|=1,(e=ka(a,r)).ref=t.ref,e.return=t,t.child=e):ci(e,t,o)}function Gr(e,t,n,r,i,o){if(null!==e&&Zt(e.memoizedProps,r)&&e.ref===t.ref){if(Ur=!1,!(o&i))return t.lanes=e.lanes,ci(e,t,o);16384&e.flags&&(Ur=!0)}return qr(e,t,n,r,o)}function $r(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(4&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},$o(t,e),null;t.memoizedState={baseLanes:0},$o(t,null!==o?o.baseLanes:n)}else t.memoizedState={baseLanes:0},$o(t,n);else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,$o(t,r);return Wr(e,t,i,n),t.child}function Yr(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qr(e,t,n,r,i){var o=it(n)?nt:et.current;return o=rt(t,o),cn(t,i),n=dr(e,t,n,r,o,i),null===e||Ur?(t.flags|=1,Wr(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ci(e,t,i))}function Kr(e,t,n,r,i){if(it(n)){var o=!0;lt(t)}else o=!1;if(cn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Sn(t,n,r),Tn(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?dn(u):rt(t,u=it(n)?nt:et.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&Mn(t,a,r,u),fn=!1;var f=t.memoizedState;a.state=f,yn(t,r,a,i),l=t.memoizedState,s!==r||f!==l||tt.current||fn?("function"==typeof c&&(xn(t,n,c,r),l=t.memoizedState),(s=fn||kn(t,n,s,r,f,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,pn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:en(t.type,s),a.props=u,d=t.pendingProps,f=a.context,l="object"==typeof(l=n.contextType)&&null!==l?dn(l):rt(t,l=it(n)?nt:et.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||f!==l)&&Mn(t,a,r,l),fn=!1,f=t.memoizedState,a.state=f,yn(t,r,a,i);var p=t.memoizedState;s!==d||f!==p||tt.current||fn?("function"==typeof h&&(xn(t,n,h,r),p=t.memoizedState),(u=fn||kn(t,n,u,r,f,p,l))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Xr(e,t,n,r,o,i)}function Xr(e,t,n,r,i,o){Yr(e,t);var a=!!(64&t.flags);if(!r&&!a)return i&&ut(t,n,!1),ci(e,t,o);r=t.stateNode,Br.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=_n(t,e.child,null,o),t.child=_n(t,null,s,o)):Wr(e,t,s,o),t.memoizedState=r.state,i&&ut(t,n,!0),t.child}function Qr(e){var t=e.stateNode;t.pendingContext?at(0,t.pendingContext,t.pendingContext!==t.context):t.context&&at(0,t.context,!1),jn(e,t.containerInfo)}var Zr,Jr,ei,ti,ni={dehydrated:null,retryLane:0};function ri(e,t,n){var r,i=t.pendingProps,o=Wn.current,a=!1;return(r=!!(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&!!(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Ze(Wn,1&o),null===e?(void 0!==i.fallback&&Kn(t),e=i.children,o=i.fallback,a?(e=ii(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ni,e):"number"==typeof i.unstable_expectedLoadTime?(e=ii(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ni,t.lanes=33554432,e):((n=Ta({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ai(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=ni,i):(n=oi(e,t,i.children,n),t.memoizedState=null,n))}function ii(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},2&i||null===o?o=Ta(t,i,0,null):(o.childLanes=0,o.pendingProps=t),n=Ma(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function oi(e,t,n,r){var i=e.child;return e=i.sibling,n=ka(i,{mode:"visible",children:n}),!(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ai(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 2&o||t.child===a?n=ka(a,s):((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null),null!==e?r=ka(e,r):(r=Ma(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function si(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),un(e.return,t)}function li(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ui(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Wr(e,t,r.children,n),2&(r=Wn.current))r=1&r|2,t.flags|=64;else{if(null!==e&&64&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&si(e,n);else if(19===e.tag)si(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ze(Wn,r),2&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Vn(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),li(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Vn(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}li(t,!0,n,null,o,t.lastEffect);break;case"together":li(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function ci(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),co|=t.lanes,n&t.childLanes){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=ka(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ka(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function di(e){e.flags|=4}if(K)Zr=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)B(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Jr=function(){},ei=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var o=t.stateNode,a=zn(Dn.current);n=W(o,n,e,r,i,a),(t.updateQueue=n)&&di(t)}},ti=function(e,t,n,r){n!==r&&di(t)};else if(X){Zr=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=Re(o,i.type,i.memoizedProps,i)),B(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=Ae(o,i.memoizedProps,i)),B(e,o);else if(4!==i.tag){if(13===i.tag&&4&i.flags&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,Zr(e,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var fi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=Re(o,i.type,i.memoizedProps,i)),Pe(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=Ae(o,i.memoizedProps,i)),Pe(e,o);else if(4!==i.tag){if(13===i.tag&&4&i.flags&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,fi(e,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Jr=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,r=Ne(n);fi(r,e,!1,!1),t.pendingChildren=r,di(e),Oe(n,r)}},ei=function(e,t,n,r,i){var o=e.stateNode,a=e.memoizedProps;if((e=null===t.firstEffect)&&a===r)t.stateNode=o;else{var s=t.stateNode,l=zn(Dn.current),u=null;a!==r&&(u=W(s,n,a,r,i,l)),e&&null===u?t.stateNode=o:(o=Ce(o,u,n,a,r,t,e,s),U(o,n,r,i,l)&&di(t),t.stateNode=o,e?di(t):Zr(o,t,!1,!1))}},ti=function(e,t,n,r){n!==r?(e=zn(In.current),n=zn(Dn.current),t.stateNode=H(r,e,n,t),di(t)):t.stateNode=e.stateNode}}else Jr=function(){},ei=function(){},ti=function(){};function hi(e,t){if(!$n)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pi(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return it(t.type)&&ot(),null;case 3:return Fn(),Qe(tt),Qe(et),er(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Qn(t)?di(t):r.hydrate||(t.flags|=256)),Jr(t),null;case 5:Un(t);var i=zn(In.current);if(n=t.type,null!==e&&null!=t.stateNode)ei(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=zn(Dn.current),Qn(t)){if(!Q)throw Error(a(175));e=Be(t.stateNode,t.type,t.memoizedProps,i,e,t),t.updateQueue=e,null!==e&&di(t)}else{var o=F(n,r,i,e,t);Zr(o,t,!1,!1),t.stateNode=o,U(o,n,r,i,e)&&di(t)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)ti(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(e=zn(In.current),i=zn(Dn.current),Qn(t)){if(!Q)throw Error(a(176));Ue(t.stateNode,t.memoizedProps,t)&&di(t)}else t.stateNode=H(r,e,i,t)}return null;case 13:return Qe(Wn),r=t.memoizedState,64&t.flags?(t.lanes=n,t):(r=null!==r,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Qn(t):i=null!==e.memoizedState,r&&!i&&2&t.mode&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||1&Wn.current?0===so&&(so=3):(0!==so&&3!==so||(so=4),null===no||!(134217727&co)&&!(134217727&fo)||Wo(no,io))),X&&r&&(t.flags|=4),K&&(r||i)&&(t.flags|=4),null);case 4:return Fn(),Jr(t),null===e&&re(t.stateNode.containerInfo),null;case 10:return ln(t),null;case 19:if(Qe(Wn),null===(r=t.memoizedState))return null;if(i=!!(64&t.flags),null===(o=r.rendering))if(i)hi(r,!1);else{if(0!==so||null!==e&&64&e.flags)for(e=t.child;null!==e;){if(null!==(o=Vn(e))){for(t.flags|=64,hi(r,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,e=n,r=t.child;null!==r;)n=e,(i=r).flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(o=i.alternate)?(i.childLanes=0,i.lanes=n,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return Ze(Wn,1&Wn.current|2),t.child}e=e.sibling}null!==r.tail&&Wt()>vo&&(t.flags|=64,i=!0,hi(r,!1),t.lanes=33554432)}else{if(!i)if(null!==(e=Vn(o))){if(t.flags|=64,i=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),hi(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!$n)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wt()-r.renderingStartTime>vo&&1073741824!==n&&(t.flags|=64,i=!0,hi(r,!1),t.lanes=33554432);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wt(),e.sibling=null,t=Wn.current,Ze(Wn,i?1&t|2:1&t),e):null;case 23:case 24:return Yo(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function gi(e){switch(e.tag){case 1:it(e.type)&&ot();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Fn(),Qe(tt),Qe(et),er(),64&(t=e.flags))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Un(e),null;case 13:return Qe(Wn),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Qe(Wn),null;case 4:return Fn(),null;case 10:return ln(e),null;case 23:case 24:return Yo(),null;default:return null}}function vi(e,t){try{var n="",r=t;do{n+=Jt(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function mi(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var yi="function"==typeof WeakMap?WeakMap:Map;function bi(e,t,n){(n=gn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wo||(wo=!0,xo=r),mi(0,t)},n}function wi(e,t,n){(n=gn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return mi(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Eo?Eo=new Set([this]):Eo.add(this),mi(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var xi="function"==typeof WeakSet?WeakSet:Set;function Ei(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){ca(e,t)}else t.current=null}function ki(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:en(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(K&&256&t.flags&&Te(t.stateNode.containerInfo))}throw Error(a(163))}function Si(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Mi(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(!(3&~e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,4&(i=i.tag)&&1&i&&(sa(n,e),aa(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:en(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&bn(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=D(n.child.stateNode);break;case 1:e=n.child.stateNode}bn(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&ge(e,n.type,n.memoizedProps,n));case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(Q&&null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&He(n)))))}throw Error(a(163))}function Ti(e,t){if(K)for(var n=e;;){if(5===n.tag){var r=n.stateNode;t?Ee(r):Se(n.stateNode,n.memoizedProps)}else if(6===n.tag)r=n.stateNode,t?ke(r):Me(r,n.memoizedProps);else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Ci(e,t){if(dt&&"function"==typeof dt.onCommitFiberUnmount)try{dt.onCommitFiberUnmount(ct,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(4&r)sa(t,n);else{r=t;try{i()}catch(e){ca(r,e)}}n=n.next}while(n!==e)}break;case 1:if(Ei(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){ca(t,e)}break;case 5:Ei(t);break;case 4:K?Di(e,t):X&&X&&(t=t.stateNode.containerInfo,e=Ne(t),_e(t,e))}}function Ni(e,t){for(var n=t;;)if(Ci(e,n),null===n.child||K&&4===n.tag){if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n.child.return=n,n=n.child}function Pi(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Oi(e){return 5===e.tag||3===e.tag||4===e.tag}function _i(e){if(K){e:{for(var t=e.return;null!==t;){if(Oi(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(xe(t),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Oi(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ri(e,n,t):Ai(e,n,t)}}function Ri(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?ye(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(Ri(e,t,n),e=e.sibling;null!==e;)Ri(e,t,n),e=e.sibling}function Ai(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?me(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(Ai(e,t,n),e=e.sibling;null!==e;)Ai(e,t,n),e=e.sibling}function Di(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag)Ni(e,i),r?we(n,i.stateNode):be(n,i.stateNode);else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(Ci(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Li(e,t){if(K){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Si(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&ve(n,o,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(a(162));return n=t.memoizedProps,void pe(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Q&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,Ve(t.containerInfo))));case 13:return Ii(t),void zi(t);case 19:return void zi(t);case 23:case 24:return void Ti(t,null!==t.memoizedState)}throw Error(a(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Si(3,t);case 12:case 23:case 24:return;case 13:return Ii(t),void zi(t);case 19:return void zi(t);case 3:Q&&(n=t.stateNode).hydrate&&(n.hydrate=!1,Ve(n.containerInfo))}e:if(X){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,_e(t.containerInfo,t.pendingChildren);break e}throw Error(a(163))}}function Ii(e){null!==e.memoizedState&&(go=Wt(),K&&Ti(e.child,!0))}function zi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new xi),t.forEach((function(t){var r=fa.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ji(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Fi=0,Bi=1,Ui=2,Wi=3,Vi=4;if("function"==typeof Symbol&&Symbol.for){var Hi=Symbol.for;Fi=Hi("selector.component"),Bi=Hi("selector.has_pseudo_class"),Ui=Hi("selector.role"),Wi=Hi("selector.test_id"),Vi=Hi("selector.text")}function Gi(e){var t=Z(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(a(364));return t}if(null===(e=oe(e)))throw Error(a(362));return e.stateNode.current}function $i(e,t){switch(t.$$typeof){case Fi:if(e.type===t.value)return!0;break;case Bi:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],o=t[i];if(5!==r.tag||!le(r)){for(;null!=o&&$i(r,o);)o=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Ui:if(5===e.tag&&ue(e.stateNode,t.value))return!0;break;case Vi:if((5===e.tag||6===e.tag)&&null!==(e=se(e))&&0<=e.indexOf(t.value))return!0;break;case Wi:if(5===e.tag&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(a(365,t))}return!1}function Yi(e){switch(e.$$typeof){case Fi:return"<"+(C(e.value)||"Unknown")+">";case Bi:return":has("+(Yi(e)||"")+")";case Ui:return'[role="'+e.value+'"]';case Vi:return'"'+e.value+'"';case Wi:return'[data-testname="'+e.value+'"]';default:throw Error(a(365,e))}}function qi(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],o=e[r++],a=t[o];if(5!==i.tag||!le(i)){for(;null!=a&&$i(i,a);)a=t[++o];if(o===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}}return n}function Ki(e,t){if(!ie)throw Error(a(363));e=qi(e=Gi(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)le(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Xi=null,Qi=Math.ceil,Zi=s.ReactCurrentDispatcher,Ji=s.ReactCurrentOwner,eo=s.IsSomeRendererActing,to=0,no=null,ro=null,io=0,oo=0,ao=Xe(0),so=0,lo=null,uo=0,co=0,fo=0,ho=0,po=null,go=0,vo=1/0;function mo(){vo=Wt()+500}var yo,bo=null,wo=!1,xo=null,Eo=null,ko=!1,So=null,Mo=90,To=[],Co=[],No=null,Po=0,Oo=null,_o=-1,Ro=0,Ao=0,Do=null,Lo=!1;function Io(){return 48&to?Wt():-1!==_o?_o:_o=Wt()}function zo(e){if(!(2&(e=e.mode)))return 1;if(!(4&e))return 99===Vt()?1:2;if(0===Ro&&(Ro=uo),0!==Kt.transition){0!==Ao&&(Ao=null!==po?po.pendingLanes:0),e=Ro;var t=4186112&~Ao;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Vt(),e=mt(4&to&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Ro)}function jo(e,t,n){if(50<Po)throw Po=0,Oo=null,Error(a(185));if(null===(e=Fo(e,t)))return null;wt(e,t,n),e===no&&(fo|=t,4===so&&Wo(e,io));var r=Vt();1===t?8&to&&!(48&to)?Vo(e):(Bo(e,n),0===to&&(mo(),Yt())):(!(4&to)||98!==r&&99!==r||(null===No?No=new Set([e]):No.add(e)),Bo(e,n)),po=e}function Fo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Bo(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-xt(s),u=1<<l,c=o[l];if(-1===c){if(!(u&r)||u&i){c=t,pt(u);var d=ht;o[l]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);s&=~u}if(r=gt(e,e===no?io:0),t=ht,0===r)null!==n&&(n!==It&&Tt(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==It&&Tt(n)}15===t?(n=Vo.bind(null,e),null===jt?(jt=[n],Ft=Mt(_t,qt)):jt.push(n),n=It):14===t?n=$t(99,Vo.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=$t(n,Uo.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function Uo(e){if(_o=-1,Ao=Ro=0,48&to)throw Error(a(327));var t=e.callbackNode;if(oa()&&e.callbackNode!==t)return null;var n=gt(e,e===no?io:0);if(0===n)return null;var r=n,i=to;to|=16;var o=Xo();for(no===e&&io===r||(mo(),qo(e,r));;)try{Jo();break}catch(t){Ko(e,t)}if(an(),Zi.current=o,to=i,null!==ro?r=0:(no=null,io=0,r=so),uo&fo)qo(e,0);else if(0!==r){if(2===r&&(to|=64,e.hydrate&&(e.hydrate=!1,Te(e.containerInfo)),0!==(n=vt(e))&&(r=Qo(e,n))),1===r)throw t=lo,qo(e,0),Wo(e,n),Bo(e,Wt()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:na(e);break;case 3:if(Wo(e,n),(62914560&n)===n&&10<(r=go+500-Wt())){if(0!==gt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){Io(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=G(na.bind(null,e),r);break}na(e);break;case 4:if(Wo(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-xt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Wt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Qi(n/1960))-n)){e.timeoutHandle=G(na.bind(null,e),n);break}na(e);break;default:throw Error(a(329))}}return Bo(e,Wt()),e.callbackNode===t?Uo.bind(null,e):null}function Wo(e,t){for(t&=~ho,t&=~fo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Vo(e){if(48&to)throw Error(a(327));if(oa(),e===no&&e.expiredLanes&io){var t=io,n=Qo(e,t);uo&fo&&(n=Qo(e,t=gt(e,t)))}else n=Qo(e,t=gt(e,0));if(0!==e.tag&&2===n&&(to|=64,e.hydrate&&(e.hydrate=!1,Te(e.containerInfo)),0!==(t=vt(e))&&(n=Qo(e,t))),1===n)throw n=lo,qo(e,0),Wo(e,t),Bo(e,Wt()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,na(e),Bo(e,Wt()),null}function Ho(e,t){var n=to;to|=1;try{return e(t)}finally{0===(to=n)&&(mo(),Yt())}}function Go(e,t){var n=to;if(48&n)return e(t);to|=1;try{if(e)return Gt(99,e.bind(null,t))}finally{to=n,Yt()}}function $o(e,t){Ze(ao,oo),oo|=t,uo|=t}function Yo(){oo=ao.current,Qe(ao)}function qo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==Y&&(e.timeoutHandle=Y,$(n)),null!==ro)for(n=ro.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&ot();break;case 3:Fn(),Qe(tt),Qe(et),er();break;case 5:Un(r);break;case 4:Fn();break;case 13:case 19:Qe(Wn);break;case 10:ln(r);break;case 23:case 24:Yo()}n=n.return}no=e,ro=ka(e.current,null),io=oo=uo=t,so=0,lo=null,ho=fo=co=0}function Ko(e,t){for(;;){var n=ro;try{if(an(),tr.current=Ir,sr){for(var r=ir.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}sr=!1}if(rr=0,ar=or=ir=null,lr=!1,Ji.current=null,null===n||null===n.return){so=1,lo=t,ro=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=io,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(!(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=!!(1&Wn.current),f=a;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var g=f.memoizedProps;h=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!d)}}if(h){var v=f.updateQueue;if(null===v){var m=new Set;m.add(u),f.updateQueue=m}else v.add(u);if(!(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=gn(-1,1);y.tag=2,vn(s,y)}s.lanes|=1;break e}l=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new yi,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(s)){l.add(s);var w=da.bind(null,o,u,s);u.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);l=Error((C(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==so&&(so=2),l=vi(l,s),f=a;do{switch(f.tag){case 3:o=l,f.flags|=4096,t&=-t,f.lanes|=t,mn(f,bi(0,o,t));break e;case 1:o=l;var x=f.type,E=f.stateNode;if(!(64&f.flags||"function"!=typeof x.getDerivedStateFromError&&(null===E||"function"!=typeof E.componentDidCatch||null!==Eo&&Eo.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,mn(f,wi(f,o,t));break e}}f=f.return}while(null!==f)}ta(n)}catch(e){t=e,ro===n&&null!==n&&(ro=n=n.return);continue}break}}function Xo(){var e=Zi.current;return Zi.current=Ir,null===e?Ir:e}function Qo(e,t){var n=to;to|=16;var r=Xo();for(no===e&&io===t||qo(e,t);;)try{Zo();break}catch(t){Ko(e,t)}if(an(),to=n,Zi.current=r,null!==ro)throw Error(a(261));return no=null,io=0,so}function Zo(){for(;null!==ro;)ea(ro)}function Jo(){for(;null!==ro&&!Ct();)ea(ro)}function ea(e){var t=yo(e.alternate,e,oo);e.memoizedProps=e.pendingProps,null===t?ta(e):ro=t,Ji.current=null}function ta(e){var t=e;do{var n=t.alternate;if(e=t.return,2048&t.flags){if(null!==(n=gi(t)))return n.flags&=2047,void(ro=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(null!==(n=pi(n,t,oo)))return void(ro=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||1073741824&oo||!(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&!(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(null!==(t=t.sibling))return void(ro=t);ro=t=e}while(null!==t);0===so&&(so=5)}function na(e){var t=Vt();return Gt(99,ra.bind(null,e,t)),null}function ra(e,t){do{oa()}while(null!==So);if(48&to)throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-xt(o),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,o&=~c}if(null!==No&&!(24&r)&&No.has(e)&&No.delete(e),e===no&&(ro=no=null,io=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){i=to,to|=32,Ji.current=null,Do=z(e.containerInfo),Lo=!1,bo=r;do{try{ia()}catch(e){if(null===bo)throw Error(a(330));ca(bo,e),bo=bo.nextEffect}}while(null!==bo);Do=null,bo=r;do{try{for(s=e;null!==bo;){var d=bo.flags;if(16&d&&K&&xe(bo.stateNode),128&d){var f=bo.alternate;if(null!==f){var h=f.ref;null!==h&&("function"==typeof h?h(null):h.current=null)}}switch(1038&d){case 2:_i(bo),bo.flags&=-3;break;case 6:_i(bo),bo.flags&=-3,Li(bo.alternate,bo);break;case 1024:bo.flags&=-1025;break;case 1028:bo.flags&=-1025,Li(bo.alternate,bo);break;case 4:Li(bo.alternate,bo);break;case 8:l=s,o=bo,K?Di(l,o):Ni(l,o);var p=o.alternate;Pi(o),null!==p&&Pi(p)}bo=bo.nextEffect}}catch(e){if(null===bo)throw Error(a(330));ca(bo,e),bo=bo.nextEffect}}while(null!==bo);Lo&&ne(),j(e.containerInfo),e.current=n,bo=r;do{try{for(d=e;null!==bo;){var g=bo.flags;if(36&g&&Mi(d,bo.alternate,bo),128&g){f=void 0;var v=bo.ref;if(null!==v){var m=bo.stateNode;f=5===bo.tag?D(m):m,"function"==typeof v?v(f):v.current=f}}bo=bo.nextEffect}}catch(e){if(null===bo)throw Error(a(330));ca(bo,e),bo=bo.nextEffect}}while(null!==bo);bo=null,zt(),to=i}else e.current=n;if(ko)ko=!1,So=e,Mo=t;else for(bo=r;null!==bo;)t=bo.nextEffect,bo.nextEffect=null,8&bo.flags&&((g=bo).sibling=null,g.stateNode=null),bo=t;if(0===(r=e.pendingLanes)&&(Eo=null),1===r?e===Oo?Po++:(Po=0,Oo=e):Po=0,n=n.stateNode,dt&&"function"==typeof dt.onCommitFiberRoot)try{dt.onCommitFiberRoot(ct,n,void 0,!(64&~n.current.flags))}catch(e){}if(Bo(e,Wt()),wo)throw wo=!1,e=xo,xo=null,e;return 8&to||Yt(),null}function ia(){for(;null!==bo;){var e=bo.alternate;Lo||null===Do||(8&bo.flags?R(bo,Do)&&(Lo=!0,te()):13===bo.tag&&ji(e,bo)&&R(bo,Do)&&(Lo=!0,te()));var t=bo.flags;256&t&&ki(e,bo),!(512&t)||ko||(ko=!0,$t(97,(function(){return oa(),null}))),bo=bo.nextEffect}}function oa(){if(90!==Mo){var e=97<Mo?97:Mo;return Mo=90,Gt(e,la)}return!1}function aa(e,t){To.push(t,e),ko||(ko=!0,$t(97,(function(){return oa(),null})))}function sa(e,t){Co.push(t,e),ko||(ko=!0,$t(97,(function(){return oa(),null})))}function la(){if(null===So)return!1;var e=So;if(So=null,48&to)throw Error(a(331));var t=to;to|=32;var n=Co;Co=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));ca(o,e)}}for(n=To,To=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===o)throw Error(a(330));ca(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return to=t,Yt(),!0}function ua(e,t,n){vn(e,t=bi(0,t=vi(n,t),1)),t=Io(),null!==(e=Fo(e,1))&&(wt(e,1,t),Bo(e,t))}function ca(e,t){if(3===e.tag)ua(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ua(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Eo||!Eo.has(r))){var i=wi(n,e=vi(t,e),1);if(vn(n,i),i=Io(),null!==(n=Fo(n,1)))wt(n,1,i),Bo(n,i);else if("function"==typeof r.componentDidCatch&&(null===Eo||!Eo.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function da(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Io(),e.pingedLanes|=e.suspendedLanes&n,no===e&&(io&n)===n&&(4===so||3===so&&(62914560&io)===io&&500>Wt()-go?qo(e,0):ho|=n),Bo(e,t)}function fa(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(2&(t=e.mode)?4&t?(0===Ro&&(Ro=uo),0===(t=yt(62914560&~Ro))&&(t=4194304)):t=99===Vt()?1:2:t=1),n=Io(),null!==(e=Fo(e,t))&&(wt(e,t,n),Bo(e,n))}yo=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||tt.current)Ur=!0;else{if(!(n&r)){switch(Ur=!1,t.tag){case 3:Qr(t),Zn();break;case 5:Bn(t);break;case 1:it(t.type)&&lt(t);break;case 4:jn(t,t.stateNode.containerInfo);break;case 10:sn(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return n&t.child.childLanes?ri(e,t,n):(Ze(Wn,1&Wn.current),null!==(t=ci(e,t,n))?t.sibling:null);Ze(Wn,1&Wn.current);break;case 19:if(r=!!(n&t.childLanes),64&e.flags){if(r)return ui(e,t,n);t.flags|=64}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(Wn,Wn.current),r)break;return null;case 23:case 24:return t.lanes=0,$r(e,t,n)}return ci(e,t,n)}Ur=!!(16384&e.flags)}else Ur=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=rt(t,et.current),cn(t,n),i=dr(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(r)){var o=!0;lt(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,hn(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&xn(t,r,s,e),i.updater=En,t.stateNode=i,i._reactInternals=t,Tn(t,r,e,n),t=Xr(null,t,r,!0,o,n)}else t.tag=0,Wr(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Ea(e)?1:0;if(null!=e){if((e=e.$$typeof)===g)return 11;if(e===y)return 14}return 2}(i),e=en(i,e),o){case 0:t=qr(null,t,i,e,n);break e;case 1:t=Kr(null,t,i,e,n);break e;case 11:t=Vr(null,t,i,e,n);break e;case 14:t=Hr(null,t,i,en(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qr(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Kr(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:if(Qr(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,pn(e,t),yn(t,r,null,n),(r=t.memoizedState.element)===i)Zn(),t=ci(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Q?(Gn=Fe(t.stateNode.containerInfo),Hn=t,o=$n=!0):o=!1),o){if(Q&&null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)o=e[i],s=e[i+1],q?o._workInProgressVersionPrimary=s:o._workInProgressVersionSecondary=s,Jn.push(o);for(n=Rn(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Wr(e,t,r,n),Zn();t=t.child}return t;case 5:return Bn(t),null===e&&Kn(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,V(r,i)?s=null:null!==o&&V(r,o)&&(t.flags|=16),Yr(e,t),Wr(e,t,s,n),t.child;case 6:return null===e&&Kn(t),null;case 13:return ri(e,t,n);case 4:return jn(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_n(t,null,r,n):Wr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vr(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Wr(e,t,t.pendingProps,n),t.child;case 8:case 12:return Wr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,sn(t,o=i.value),null!==s){var l=s.value;if(0==(o=Xt(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!tt.current){t=ci(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&c.observedBits&o){1===l.tag&&((c=gn(-1,n&-n)).tag=2,vn(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),un(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Wr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,cn(t,n),r=r(i=dn(i,o.unstable_observedBits)),t.flags|=1,Wr(e,t,r,n),t.child;case 14:return o=en(i=t.type,t.pendingProps),Hr(e,t,i,o=en(i.type,o),r,n);case 15:return Gr(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,it(r)?(e=!0,lt(t)):e=!1,cn(t,n),Sn(t,r,i),Tn(t,r,i,n),Xr(null,t,r,!0,e,n);case 19:return ui(e,t,n);case 23:case 24:return $r(e,t,n)}throw Error(a(156,t.tag))};var ha={current:!1},pa=o.unstable_flushAllWithoutAsserting,ga="function"==typeof pa;function va(){if(void 0!==pa)return pa();for(var e=!1;oa();)e=!0;return e}function ma(t){try{va(),function(t){if(null===Xi)try{var n=("require"+Math.random()).slice(0,7);Xi=(e&&e[n]).call(e,"timers").setImmediate}catch(e){Xi=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}Xi(t)}((function(){va()?ma(t):t()}))}catch(e){t(e)}}var ya=0,ba=!1;function wa(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(e,t,n,r){return new wa(e,t,n,r)}function Ea(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ka(e,t){var n=e.alternate;return null===n?((n=xa(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sa(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Ea(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case c:return Ma(n.children,i,o,t);case x:s=8,i|=16;break;case d:s=8,i|=1;break;case f:return(e=xa(12,n,t,8|i)).elementType=f,e.type=f,e.lanes=o,e;case v:return(e=xa(13,n,t,i)).type=v,e.elementType=v,e.lanes=o,e;case m:return(e=xa(19,n,t,i)).elementType=m,e.lanes=o,e;case E:return Ta(n,i,o,t);case k:return(e=xa(24,n,t,i)).elementType=k,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case h:s=10;break e;case p:s=9;break e;case g:s=11;break e;case y:s=14;break e;case b:s=16,r=null;break e;case w:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=xa(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ma(e,t,n,r){return(e=xa(7,e,r,t)).lanes=n,e}function Ta(e,t,n,r){return(e=xa(23,e,r,t)).elementType=E,e.lanes=n,e}function Ca(e,t,n){return(e=xa(6,e,null,t)).lanes=n,e}function Na(e,t,n){return(t=xa(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pa(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Y,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=bt(0),this.expirationTimes=bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),Q&&(this.mutableSourceEagerHydrationData=null)}function Oa(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=_(t))?null:e.stateNode}function _a(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ra(e,t){_a(e,t),(e=e.alternate)&&_a(e,t)}function Aa(e){return null===(e=_(e))?null:e.stateNode}function Da(){return null}return n.IsThisRendererActing=ha,n.act=function(e){function t(){ya--,eo.current=n,ha.current=r}!1===ba&&(ba=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),ya++;var n=eo.current,r=ha.current;eo.current=!0,ha.current=!0;try{var i=Ho(e)}catch(e){throw t(),e}if(null!==i&&"object"==typeof i&&"function"==typeof i.then)return{then:function(e,r){i.then((function(){1<ya||!0===ga&&!0===n?(t(),e()):ma((function(n){t(),n?r(n):e()}))}),(function(e){t(),r(e)}))}};try{1!==ya||!1!==ga&&!1!==n||va(),t()}catch(e){throw t(),e}return{then:function(e){e()}}},n.attemptContinuousHydration=function(e){13===e.tag&&(jo(e,67108864,Io()),Ra(e,67108864))},n.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Io(),n=zo(e);jo(e,n,t),Ra(e,n)}},n.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var n=pt(t.pendingLanes);t.expiredLanes|=n&t.pendingLanes,Bo(t,Wt()),!(48&to)&&(mo(),Yt())}break;case 13:var r=Io();Go((function(){return jo(e,1,r)})),Ra(e,4)}},n.attemptUserBlockingHydration=function(e){13===e.tag&&(jo(e,4,Io()),Ra(e,4))},n.batchedEventUpdates=function(e,t){var n=to;to|=2;try{return e(t)}finally{0===(to=n)&&(mo(),Yt())}},n.batchedUpdates=Ho,n.createComponentSelector=function(e){return{$$typeof:Fi,value:e}},n.createContainer=function(e,t,n){return e=new Pa(e,t,n),t=xa(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,hn(t),e},n.createHasPsuedoClassSelector=function(e){return{$$typeof:Bi,value:e}},n.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:u,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},n.createRoleSelector=function(e){return{$$typeof:Ui,value:e}},n.createTestNameSelector=function(e){return{$$typeof:Wi,value:e}},n.createTextSelector=function(e){return{$$typeof:Vi,value:e}},n.deferredUpdates=function(e){return Gt(97,e)},n.discreteUpdates=function(e,t,n,r,i){var o=to;to|=4;try{return Gt(98,e.bind(null,t,n,r,i))}finally{0===(to=o)&&(mo(),Yt())}},n.findAllNodes=Ki,n.findBoundingRects=function(e,t){if(!ie)throw Error(a(363));t=Ki(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,o=n.y,s=o+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,d=c+u.width,f=u.y,h=f+u.height;if(r>=c&&o>=f&&i<=d&&s<=h){e.splice(t,1);break}if(!(r!==c||n.width!==u.width||h<o||f>s)){f>o&&(u.height+=f-o,u.y=o),h<s&&(u.height=s-f),e.splice(t,1);break}if(!(o!==f||n.height!==u.height||d<r||c>i)){c>r&&(u.width+=c-r,u.x=r),d<i&&(u.width=i-c),e.splice(t,1);break}}return e},n.findHostInstance=Oa,n.findHostInstanceWithNoPortals=function(e){return null===(e=function(e){if(!(e=O(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},n.findHostInstanceWithWarning=function(e){return Oa(e)},n.flushControlled=function(e){var t=to;to|=1;try{Gt(99,e)}finally{0===(to=t)&&(mo(),Yt())}},n.flushDiscreteUpdates=function(){!(49&to)&&(function(){if(null!==No){var e=No;No=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Bo(e,Wt())}))}Yt()}(),oa())},n.flushPassiveEffects=oa,n.flushSync=Go,n.focusWithin=function(e,t){if(!ie)throw Error(a(363));for(t=qi(e=Gi(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!le(n)){if(5===n.tag&&ce(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},n.getCurrentUpdateLanePriority=function(){return ft},n.getFindAllNodesFailureDescription=function(e,t){if(!ie)throw Error(a(363));var n=0,r=[];e=[Gi(e),0];for(var i=0;i<e.length;){var o=e[i++],s=e[i++],l=t[s];if((5!==o.tag||!le(o))&&($i(o,l)&&(r.push(Yi(l)),++s>n&&(n=s)),s<t.length))for(o=o.child;null!==o;)e.push(o,s),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Yi(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},n.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?D(e.child.stateNode):e.child.stateNode:null},n.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:Aa,findFiberByHostInstance:e.findFiberByHostInstance||Da,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.isDisabled&&t.supportsFiber)try{ct=t.inject(e),dt=t}catch(e){}e=!0}return e},n.observeVisibleRects=function(e,t,n,r){if(!ie)throw Error(a(363));e=Ki(e,t);var i=de(e,n,r).disconnect;return{disconnect:function(){i()}}},n.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},n.runWithPriority=function(e,t){var n=ft;try{return ft=e,t()}finally{ft=n}},n.shouldSuspend=function(){return!1},n.unbatchedUpdates=function(e,t){var n=to;to&=-2,to|=8;try{return e(t)}finally{0===(to=n)&&(mo(),Yt())}},n.updateContainer=function(e,t,n,r){var i=t.current,o=Io(),s=zo(i);e:if(n){t:{if(N(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(it(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(it(u)){n=st(n,u,l);break e}}n=l}else n=Je;return null===t.context?t.context=n:t.pendingContext=n,(t=gn(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),vn(i,t),jo(i,s,o),s},n}}(u$)),u$.exports):l$.exports=(S$||(S$=1,function(e){"production"!==process.env.NODE_ENV&&(e.exports=function(t){var n={},r=a$,i=c$(),o=m$,a=T$(),s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function l(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];c("warn",e,n)}function u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];c("error",e,n)}function c(e,t,n){var r=s.ReactDebugCurrentFrame.getStackAddendum();""!==r&&(t+="%s",n=n.concat([r]));var i=n.map((function(e){return""+e}));i.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,i)}var d=10,f=11,h=12,p=13,g=14,v=15,m=17,y=19,b=20,w=22,x=23,E=24;function k(e){return e._reactInternals}var S=60103,M=60106,T=60107,C=60108,N=60114,P=60109,O=60110,_=60112,R=60113,A=60120,D=60115,L=60116,I=60121,z=60129,j=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var B=Symbol.for;S=B("react.element"),M=B("react.portal"),T=B("react.fragment"),C=B("react.strict_mode"),N=B("react.profiler"),P=B("react.provider"),O=B("react.context"),_=B("react.forward_ref"),R=B("react.suspense"),A=B("react.suspense_list"),D=B("react.memo"),L=B("react.lazy"),I=B("react.block"),B("react.server.block"),B("react.fundamental"),B("react.scope"),B("react.opaque.id"),z=B("react.debug_trace_mode"),j=B("react.offscreen"),F=B("react.legacy_hidden")}var U="function"==typeof Symbol&&Symbol.iterator;function W(e){if(null===e||"object"!=typeof e)return null;var t=U&&e[U]||e["@@iterator"];return"function"==typeof t?t:null}function V(e){return e.displayName||"Context"}function H(e){if(null==e)return null;if("number"==typeof e.tag&&u("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case T:return"Fragment";case M:return"Portal";case N:return"Profiler";case C:return"StrictMode";case R:return"Suspense";case A:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case O:return V(e)+".Consumer";case P:return V(e._context)+".Provider";case _:return i=e,a="ForwardRef",s=(o=e.render).displayName||o.name||"",i.displayName||(""!==s?a+"("+s+")":a);case D:return H(e.type);case I:return H(e._render);case L:var t=e,n=t._payload,r=t._init;try{return H(r(n))}catch(e){return null}}var i,o,a,s;return null}var G=64,$=128,Y=256,q=512,K=8192,X=1024,Q=2048,Z=4096,J=16384,ee=!1,te=s.ReactCurrentOwner;function ne(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{var r=t;do{1026&(t=r).flags&&(n=t.return),r=t.return}while(r)}return 3===t.tag?n:null}function re(e){if(ne(e)!==e)throw Error("Unable to find node on an unmounted component.")}function ie(e){var t=e.alternate;if(!t){var n=ne(e);if(null===n)throw Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var r=e,i=t;;){var o=r.return;if(null===o)break;var a=o.alternate;if(null===a){var s=o.return;if(null!==s){r=i=s;continue}break}if(o.child===a.child){for(var l=o.child;l;){if(l===r)return re(o),e;if(l===i)return re(o),t;l=l.sibling}throw Error("Unable to find node on an unmounted component.")}if(r.return!==i.return)r=o,i=a;else{for(var u=!1,c=o.child;c;){if(c===r){u=!0,r=o,i=a;break}if(c===i){u=!0,i=o,r=a;break}c=c.sibling}if(!u){for(c=a.child;c;){if(c===r){u=!0,r=a,i=o;break}if(c===i){u=!0,i=a,r=o;break}c=c.sibling}if(!u)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(r.alternate!==i)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==r.tag)throw Error("Unable to find node on an unmounted component.");return r.stateNode.current===r?e:t}function oe(e){var t=ie(e);if(!t)return null;for(var n=t;;){if(5===n.tag||6===n.tag)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===t)return null;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}function ae(e,t){for(var n=t,r=e.alternate;null!==n;){if(n===e||n===r)return!0;n=n.return}return!1}var se=t.getPublicInstance,le=t.getRootHostContext,ue=t.getChildHostContext,ce=t.prepareForCommit,de=t.resetAfterCommit,fe=t.createInstance,he=t.appendInitialChild,pe=t.finalizeInitialChildren,ge=t.prepareUpdate,ve=t.shouldSetTextContent,me=t.createTextInstance,ye=t.scheduleTimeout,be=t.cancelTimeout,we=t.noTimeout;t.now;var xe=t.isPrimaryRenderer,Ee=t.warnsIfNotActing,ke=t.supportsMutation,Se=t.supportsPersistence,Me=t.supportsHydration;t.getFundamentalComponentInstance,t.mountFundamentalComponent,t.shouldUpdateFundamentalComponent;var Te=t.getInstanceFromNode;t.isOpaqueHydratingObject;var Ce=t.makeOpaqueHydratingObject;t.makeClientId;var Ne=t.makeClientIdInDEV,Pe=t.beforeActiveInstanceBlur,Oe=t.afterActiveInstanceBlur,_e=t.preparePortalMount;t.preparePortalMount,t.getInstanceFromScope;var Re=t.supportsTestSelectors,Ae=t.findFiberRoot,De=t.getBoundingRect,Le=t.getTextContent,Ie=t.isHiddenSubtree,ze=t.matchAccessibilityRole,je=t.setFocusIfFocusable,Fe=t.setupIntersectionObserver,Be=t.appendChild,Ue=t.appendChildToContainer,We=t.commitTextUpdate,Ve=t.commitMount,He=t.commitUpdate,Ge=t.insertBefore,$e=t.insertInContainerBefore,Ye=t.removeChild,qe=t.removeChildFromContainer,Ke=t.resetTextContent,Xe=t.hideInstance,Qe=t.hideTextInstance,Ze=t.unhideInstance,Je=t.unhideTextInstance;t.updateFundamentalComponent,t.unmountFundamentalComponent;var et=t.clearContainer,tt=t.cloneInstance,nt=t.createContainerChildSet,rt=t.appendChildToContainerChildSet,it=t.finalizeContainerChildren,ot=t.replaceContainerChildren,at=t.cloneHiddenInstance,st=t.cloneHiddenTextInstance;t.cloneInstance;var lt=t.canHydrateInstance,ut=t.canHydrateTextInstance;t.canHydrateSuspenseInstance;var ct=t.isSuspenseInstancePending,dt=t.isSuspenseInstanceFallback;t.registerSuspenseInstanceRetry;var ft=t.getNextHydratableSibling,ht=t.getFirstHydratableChild,pt=t.hydrateInstance,gt=t.hydrateTextInstance;t.hydrateSuspenseInstance;var vt=t.getNextHydratableInstanceAfterSuspenseInstance,mt=t.commitHydratedContainer,yt=t.commitHydratedSuspenseInstance;t.clearSuspenseBoundary,t.clearSuspenseBoundaryFromContainer;var bt,wt,xt,Et,kt,St,Mt,Tt=t.didNotMatchHydratedContainerTextInstance,Ct=t.didNotMatchHydratedTextInstance,Nt=t.didNotHydrateContainerInstance,Pt=t.didNotHydrateInstance,Ot=t.didNotFindHydratableContainerInstance,_t=t.didNotFindHydratableContainerTextInstance,Rt=t.didNotFindHydratableContainerSuspenseInstance,At=t.didNotFindHydratableInstance,Dt=t.didNotFindHydratableTextInstance,Lt=t.didNotFindHydratableSuspenseInstance,It=0;function zt(){}function jt(){if(0===It){bt=console.log,wt=console.info,xt=console.warn,Et=console.error,kt=console.group,St=console.groupCollapsed,Mt=console.groupEnd;var e={configurable:!0,enumerable:!0,value:zt,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}It++}function Ft(){if(0==--It){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:i({},e,{value:bt}),info:i({},e,{value:wt}),warn:i({},e,{value:xt}),error:i({},e,{value:Et}),group:i({},e,{value:kt}),groupCollapsed:i({},e,{value:St}),groupEnd:i({},e,{value:Mt})})}It<0&&u("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}zt.__reactDisabledLog=!0;var Bt,Ut=s.ReactCurrentDispatcher;function Wt(e,t,n){if(void 0===Bt)try{throw Error()}catch(e){var r=e.stack.trim().match(/\n( *(at )?)/);Bt=r&&r[1]||""}return"\n"+Bt+e}var Vt,Ht=!1,Gt="function"==typeof WeakMap?WeakMap:Map;function $t(e,t){if(!e||Ht)return"";var n,r=Vt.get(e);if(void 0!==r)return r;Ht=!0;var i,o=Error.prepareStackTrace;Error.prepareStackTrace=void 0,i=Ut.current,Ut.current=null,jt();try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(e){n=e}Reflect.construct(e,[],a)}else{try{a.call()}catch(e){n=e}e.call(a.prototype)}}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var s=t.stack.split("\n"),l=n.stack.split("\n"),u=s.length-1,c=l.length-1;u>=1&&c>=0&&s[u]!==l[c];)c--;for(;u>=1&&c>=0;u--,c--)if(s[u]!==l[c]){if(1!==u||1!==c)do{if(u--,--c<0||s[u]!==l[c]){var d="\n"+s[u].replace(" at new "," at ");return"function"==typeof e&&Vt.set(e,d),d}}while(u>=1&&c>=0);break}}}finally{Ht=!1,Ut.current=i,Ft(),Error.prepareStackTrace=o}var f=e?e.displayName||e.name:"",h=f?Wt(f):"";return"function"==typeof e&&Vt.set(e,h),h}function Yt(e,t,n){return $t(e,!1)}function qt(e,t,n){if(null==e)return"";if("function"==typeof e)return $t(e,function(e){var t=e.prototype;return!(!t||!t.isReactComponent)}(e));if("string"==typeof e)return Wt(e);switch(e){case R:return Wt("Suspense");case A:return Wt("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case _:return Yt(e.render);case D:return qt(e.type,t,n);case I:return Yt(e._render);case L:var r=e,i=r._payload,o=r._init;try{return qt(o(i),t,n)}catch(e){}}return""}Vt=new Gt;var Kt={},Xt=s.ReactDebugCurrentFrame;function Qt(e){if(e){var t=e._owner,n=qt(e.type,e._source,t?t.type:null);Xt.setExtraStackFrame(n)}else Xt.setExtraStackFrame(null)}function Zt(e,t,n,r,i){var o=Function.call.bind(Object.prototype.hasOwnProperty);for(var a in e)if(o(e,a)){var s=void 0;try{if("function"!=typeof e[a]){var l=Error((r||"React class")+": "+n+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}s=e[a](t,a,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){s=e}!s||s instanceof Error||(Qt(i),u("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,a,typeof s),Qt(null)),s instanceof Error&&!(s.message in Kt)&&(Kt[s.message]=!0,Qt(i),u("Failed %s type: %s",n,s.message),Qt(null))}}var Jt,en=[];Jt=[];var tn,nn=-1;function rn(e){return{current:e}}function on(e,t){nn<0?u("Unexpected pop."):(t!==Jt[nn]&&u("Unexpected Fiber popped."),e.current=en[nn],en[nn]=null,Jt[nn]=null,nn--)}function an(e,t,n){nn++,en[nn]=e.current,Jt[nn]=n,e.current=t}tn={};var sn={};Object.freeze(sn);var ln=rn(sn),un=rn(!1),cn=sn;function dn(e,t,n){return n&&gn(t)?cn:ln.current}function fn(e,t,n){var r=e.stateNode;r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=n}function hn(e,t){var n=e.type,r=n.contextTypes;if(!r)return sn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={};for(var a in r)o[a]=t[a];return Zt(r,o,"context",H(n)||"Unknown"),i&&fn(e,t,o),o}function pn(){return un.current}function gn(e){return null!=e.childContextTypes}function vn(e){on(un,e),on(ln,e)}function mn(e){on(un,e),on(ln,e)}function yn(e,t,n){if(ln.current!==sn)throw Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");an(ln,t,e),an(un,n,e)}function bn(e,t,n){var r=e.stateNode,o=t.childContextTypes;if("function"!=typeof r.getChildContext){var a=H(t)||"Unknown";return tn[a]||(tn[a]=!0,u("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",a,a)),n}var s=r.getChildContext();for(var l in s)if(!(l in o))throw Error((H(t)||"Unknown")+'.getChildContext(): key "'+l+'" is not defined in childContextTypes.');return Zt(o,s,"child context",H(t)||"Unknown"),i({},n,s)}function wn(e){var t=e.stateNode,n=t&&t.__reactInternalMemoizedMergedChildContext||sn;return cn=ln.current,an(ln,n,e),an(un,un.current,e),!0}function xn(e,t,n){var r=e.stateNode;if(!r)throw Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(n){var i=bn(e,t,cn);r.__reactInternalMemoizedMergedChildContext=i,on(un,e),on(ln,e),an(ln,i,e),an(un,n,e)}else on(un,e),an(un,n,e)}function En(e){if(!function(e){return ne(e)===e}(e)||1!==e.tag)throw Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var t=e;do{switch(t.tag){case 3:return t.stateNode.context;case 1:if(gn(t.type))return t.stateNode.__reactInternalMemoizedMergedChildContext}t=t.return}while(null!==t);throw Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}var kn=null,Sn=null,Mn=!1,Tn="undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__;function Cn(e,t){if(Sn&&"function"==typeof Sn.onCommitFiberRoot)try{var n=(e.current.flags&G)===G;Sn.onCommitFiberRoot(kn,e,t,n)}catch(e){Mn||(Mn=!0,u("React instrumentation encountered an error: %s",e))}}var Nn=o.unstable_now;if(null==a.__interactionsRef||null==a.__interactionsRef.current)throw Error("It is not supported to run the profiling version of a renderer (for example, `react-dom/profiling`) without also replacing the `scheduler/tracing` module with `scheduler/tracing-profiling`. Your bundler might have a setting for aliasing both modules. Learn more at https://reactjs.org/link/profiling");Nn();var Pn=15,On=10,_n=3584,Rn=4186112,An=62914560,Dn=33554432,Ln=67108864,In=134217727,zn=134217728,jn=805306368,Fn=1073741824,Bn=-1,Un=0;function Wn(){return Un}function Vn(e){Un=e}var Hn=8;function Gn(e){if(1&e)return Hn=Pn,1;if(2&e)return Hn=14,2;if(4&e)return Hn=13,4;var t=24&e;if(0!==t)return Hn=12,t;if(32&e)return Hn=11,32;var n=192&e;if(0!==n)return Hn=On,n;if(256&e)return Hn=9,256;var r=_n&e;if(0!==r)return Hn=8,r;if(4096&e)return Hn=7,4096;var i=Rn&e;if(0!==i)return Hn=6,i;var o=An&e;if(0!==o)return Hn=5,o;if(e&Ln)return Hn=4,Ln;if(e&zn)return Hn=3,zn;var a=jn&e;return 0!==a?(Hn=2,a):Fn&e?(Hn=1,Fn):(u("Should have found matching lanes. This is a bug in React."),Hn=8,e)}function $n(e,t){var n=e.pendingLanes;if(0===n)return Hn=0,0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Hn=Pn;else{var l=n&In;if(0!==l){var u=l&~a;if(0!==u)r=Gn(u),i=Hn;else{var c=l&s;0!==c&&(r=Gn(c),i=Hn)}}else{var d=n&~a;0!==d?(r=Gn(d),i=Hn):0!==s&&(r=Gn(s),i=Hn)}}if(0===r)return 0;if(r=n&function(e){return(function(e){var t=31-lr(e);return t<0?0:1<<t}(e)<<1)-1}(r),0!==t&&t!==r&&!(t&a)){if(Gn(t),i<=Hn)return t;Hn=i}var f=e.entangledLanes;if(0!==f)for(var h=e.entanglements,p=r&f;p>0;){var g=Jn(p),v=1<<g;r|=h[g],p&=~v}return r}function Yn(e,t){return Gn(e),Hn>=On?t+250:Hn>=6?t+5e3:Bn}function qn(e){var t=-1073741825&e.pendingLanes;return 0!==t?t:t&Fn?Fn:0}function Kn(e){return!!(e&In)}function Xn(e){return(e&An)===e}function Qn(e,t){switch(e){case 0:break;case Pn:return 1;case 14:return 2;case 12:var n=Zn(24&~t);return 0===n?Qn(On,t):n;case On:var r=Zn(192&~t);return 0===r?Qn(8,t):r;case 8:var i=Zn(_n&~t);return 0===i&&0===(i=Zn(Rn&~t))&&(i=Zn(_n)),i;case 6:case 5:break;case 2:var o=Zn(jn&~t);return 0===o&&(o=Zn(jn)),o}throw Error("Invalid update priority: "+e+". This is a bug in React.")}function Zn(e){return function(e){return e&-e}(e)}function Jn(e){return 31-lr(e)}function er(e,t){return!!(e&t)}function tr(e,t){return(e&t)===t}function nr(e,t){return e|t}function rr(e,t){return e&~t}function ir(e){for(var t=[],n=0;n<31;n++)t.push(e);return t}function or(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e.eventTimes[Jn(t)]=n}function ar(e,t,n){e.pingedLanes|=e.suspendedLanes&t}function sr(e,t){e.mutableReadLanes|=t&e.pendingLanes}var lr=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(ur(e)/cr|0)|0},ur=Math.log,cr=Math.LN2,dr=o.unstable_runWithPriority,fr=o.unstable_scheduleCallback,hr=o.unstable_cancelCallback,pr=o.unstable_shouldYield,gr=o.unstable_requestPaint,vr=o.unstable_now,mr=o.unstable_getCurrentPriorityLevel,yr=o.unstable_ImmediatePriority,br=o.unstable_UserBlockingPriority,wr=o.unstable_NormalPriority,xr=o.unstable_LowPriority,Er=o.unstable_IdlePriority;if(null==a.__interactionsRef||null==a.__interactionsRef.current)throw Error("It is not supported to run the profiling version of a renderer (for example, `react-dom/profiling`) without also replacing the `scheduler/tracing` module with `scheduler/tracing-profiling`. Your bundler might have a setting for aliasing both modules. Learn more at https://reactjs.org/link/profiling");var kr={},Sr=99,Mr=98,Tr=97,Cr=pr,Nr=void 0!==gr?gr:function(){},Pr=null,Or=null,_r=!1,Rr=vr(),Ar=Rr<1e4?vr:function(){return vr()-Rr};function Dr(){switch(mr()){case yr:return Sr;case br:return Mr;case wr:return Tr;case xr:return 96;case Er:return 95;default:throw Error("Unknown priority level.")}}function Lr(e){switch(e){case Sr:return yr;case Mr:return br;case Tr:return wr;case 96:return xr;case 95:return Er;default:throw Error("Unknown priority level.")}}function Ir(e,t){var n=Lr(e);return dr(n,t)}function zr(e,t,n){var r=Lr(e);return fr(r,t,n)}function jr(e){e!==kr&&hr(e)}function Fr(){if(null!==Or){var e=Or;Or=null,hr(e)}Br()}function Br(){if(!_r&&null!==Pr){_r=!0;var e=0;try{var t=Pr;Ir(Sr,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Pr=null}catch(t){throw null!==Pr&&(Pr=Pr.slice(e+1)),fr(yr,Fr),t}finally{_r=!1}}}var Ur=s.ReactCurrentBatchConfig,Wr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Vr=Object.prototype.hasOwnProperty;function Hr(e,t){if(Wr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Vr.call(t,n[i])||!Wr(e[n[i]],t[n[i]]))return!1;return!0}function Gr(e){switch(e._debugOwner&&e._debugOwner.type,e._debugSource,e.tag){case 5:return Wt(e.type);case 16:return Wt("Lazy");case p:return Wt("Suspense");case y:return Wt("SuspenseList");case 0:case 2:case v:return Yt(e.type);case f:return Yt(e.type.render);case w:return Yt(e.type._render);case 1:return $t(e.type,!0);default:return""}}function $r(e){try{var t="",n=e;do{t+=Gr(n),n=n.return}while(n);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var Yr=s.ReactDebugCurrentFrame,qr=null,Kr=!1;function Xr(){return null===qr?"":$r(qr)}function Qr(){Yr.getCurrentStack=null,qr=null,Kr=!1}function Zr(e){Yr.getCurrentStack=Xr,qr=e,Kr=!1}function Jr(e){Kr=e}var ei={recordUnsafeLifecycleWarnings:function(e,t){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(e,t){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},ti=function(e){var t=[];return e.forEach((function(e){t.push(e)})),t.sort().join(", ")},ni=[],ri=[],ii=[],oi=[],ai=[],si=[],li=new Set;ei.recordUnsafeLifecycleWarnings=function(e,t){li.has(e.type)||("function"==typeof t.componentWillMount&&!0!==t.componentWillMount.__suppressDeprecationWarning&&ni.push(e),1&e.mode&&"function"==typeof t.UNSAFE_componentWillMount&&ri.push(e),"function"==typeof t.componentWillReceiveProps&&!0!==t.componentWillReceiveProps.__suppressDeprecationWarning&&ii.push(e),1&e.mode&&"function"==typeof t.UNSAFE_componentWillReceiveProps&&oi.push(e),"function"==typeof t.componentWillUpdate&&!0!==t.componentWillUpdate.__suppressDeprecationWarning&&ai.push(e),1&e.mode&&"function"==typeof t.UNSAFE_componentWillUpdate&&si.push(e))},ei.flushPendingUnsafeLifecycleWarnings=function(){var e=new Set;ni.length>0&&(ni.forEach((function(t){e.add(H(t.type)||"Component"),li.add(t.type)})),ni=[]);var t=new Set;ri.length>0&&(ri.forEach((function(e){t.add(H(e.type)||"Component"),li.add(e.type)})),ri=[]);var n=new Set;ii.length>0&&(ii.forEach((function(e){n.add(H(e.type)||"Component"),li.add(e.type)})),ii=[]);var r=new Set;oi.length>0&&(oi.forEach((function(e){r.add(H(e.type)||"Component"),li.add(e.type)})),oi=[]);var i=new Set;ai.length>0&&(ai.forEach((function(e){i.add(H(e.type)||"Component"),li.add(e.type)})),ai=[]);var o=new Set;si.length>0&&(si.forEach((function(e){o.add(H(e.type)||"Component"),li.add(e.type)})),si=[]),t.size>0&&u("Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n\nPlease update the following components: %s",ti(t)),r.size>0&&u("Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n\nPlease update the following components: %s",ti(r)),o.size>0&&u("Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n\nPlease update the following components: %s",ti(o)),e.size>0&&l("componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",ti(e)),n.size>0&&l("componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",ti(n)),i.size>0&&l("componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",ti(i))};var ui=new Map,ci=new Set;function di(e,t){if(e&&e.defaultProps){var n=i({},t),r=e.defaultProps;for(var o in r)void 0===n[o]&&(n[o]=r[o]);return n}return t}ei.recordLegacyContextWarning=function(e,t){var n=function(e){for(var t=null,n=e;null!==n;)1&n.mode&&(t=n),n=n.return;return t}(e);if(null!==n){if(!ci.has(e.type)){var r=ui.get(n);(null!=e.type.contextTypes||null!=e.type.childContextTypes||null!==t&&"function"==typeof t.getChildContext)&&(void 0===r&&(r=[],ui.set(n,r)),r.push(e))}}else u("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.")},ei.flushLegacyContextWarning=function(){ui.forEach((function(e,t){if(0!==e.length){var n=e[0],r=new Set;e.forEach((function(e){r.add(H(e.type)||"Component"),ci.add(e.type)}));var i=ti(r);try{Zr(n),u("Legacy context API has been detected within a strict-mode tree.\n\nThe old API will be supported in all 16.x releases, but applications using it should migrate to the new version.\n\nPlease update the following components: %s\n\nLearn more about this warning here: https://reactjs.org/link/legacy-context",i)}finally{Qr()}}}))},ei.discardPendingWarnings=function(){ni=[],ri=[],ii=[],oi=[],ai=[],si=[],ui=new Map};var fi,hi=1073741823,pi=rn(null);fi={};var gi=null,vi=null,mi=null,yi=!1;function bi(){gi=null,vi=null,mi=null,yi=!1}function wi(){yi=!0}function xi(){yi=!1}function Ei(e,t){var n=e.type._context;xe?(an(pi,n._currentValue,e),n._currentValue=t,void 0!==n._currentRenderer&&null!==n._currentRenderer&&n._currentRenderer!==fi&&u("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),n._currentRenderer=fi):(an(pi,n._currentValue2,e),n._currentValue2=t,void 0!==n._currentRenderer2&&null!==n._currentRenderer2&&n._currentRenderer2!==fi&&u("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),n._currentRenderer2=fi)}function ki(e){var t=pi.current;on(pi,e);var n=e.type._context;xe?n._currentValue=t:n._currentValue2=t}function Si(e,t){for(var n=e;null!==n;){var r=n.alternate;if(tr(n.childLanes,t)){if(null===r||tr(r.childLanes,t))break;r.childLanes=nr(r.childLanes,t)}else n.childLanes=nr(n.childLanes,t),null!==r&&(r.childLanes=nr(r.childLanes,t));n=n.return}}function Mi(e,t){gi=e,vi=null,mi=null;var n=e.dependencies;null!==n&&null!==n.firstContext&&(er(n.lanes,t)&&Al(),n.firstContext=null)}function Ti(e,t){if(yi&&u("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),mi===e);else if(!1===t||0===t);else{var n;"number"!=typeof t||t===hi?(mi=e,n=hi):n=t;var r={context:e,observedBits:n,next:null};if(null===vi){if(null===gi)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");vi=r,gi.dependencies={lanes:0,firstContext:r,responders:null}}else vi=vi.next=r}return xe?e._currentValue:e._currentValue2}var Ci,Ni,Pi=0,Oi=2,_i=!1;function Ri(e){var t={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null};e.updateQueue=t}function Ai(e,t){var n=t.updateQueue,r=e.updateQueue;if(n===r){var i={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects};t.updateQueue=i}}function Di(e,t){return{eventTime:e,lane:t,tag:Pi,payload:null,callback:null,next:null}}function Li(e,t){var n=e.updateQueue;if(null!==n){var r=n.shared,i=r.pending;null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ni!==r||Ci||(u("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),Ci=!0)}}function Ii(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r){var i=r.updateQueue;if(n===i){var o=null,a=null,s=n.firstBaseUpdate;if(null!==s){var l=s;do{var u={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};null===a?o=a=u:(a.next=u,a=u),l=l.next}while(null!==l);null===a?o=a=t:(a.next=t,a=t)}else o=a=t;return n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}}var c=n.lastBaseUpdate;null===c?n.firstBaseUpdate=t:c.next=t,n.lastBaseUpdate=t}function zi(e,t,n,r,o,a){switch(n.tag){case 1:var s=n.payload;if("function"==typeof s){wi();var l=s.call(a,r,o);if(1&e.mode){jt();try{s.call(a,r,o)}finally{Ft()}}return xi(),l}return s;case 3:e.flags=-4097&e.flags|G;case Pi:var u,c=n.payload;if("function"==typeof c){if(wi(),u=c.call(a,r,o),1&e.mode){jt();try{c.call(a,r,o)}finally{Ft()}}xi()}else u=c;return null==u?r:i({},r,u);case Oi:return _i=!0,r}return r}function ji(e,t,n,r){var i=e.updateQueue;_i=!1,Ni=i.shared;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;if(null!==c){var d=c.updateQueue,f=d.lastBaseUpdate;f!==a&&(null===f?d.firstBaseUpdate=u:f.next=u,d.lastBaseUpdate=l)}}if(null!==o){for(var h=i.baseState,p=0,g=null,v=null,m=null,y=o;;){var b=y.lane,w=y.eventTime;if(tr(r,b)){if(null!==m){var x={eventTime:w,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null};m=m.next=x}if(h=zi(e,0,y,h,t,n),null!==y.callback){e.flags|=32;var E=i.effects;null===E?i.effects=[y]:E.push(y)}}else{var k={eventTime:w,lane:b,tag:y.tag,payload:y.payload,callback:y.callback,next:null};null===m?(v=m=k,g=h):m=m.next=k,p=nr(p,b)}if(null===(y=y.next)){if(null===(s=i.shared.pending))break;var S=s,M=S.next;S.next=null,y=M,i.lastBaseUpdate=S,i.shared.pending=null}}null===m&&(g=h),i.baseState=g,i.firstBaseUpdate=v,i.lastBaseUpdate=m,pd(p),e.lanes=p,e.memoizedState=h}Ni=null}function Fi(e,t){if("function"!=typeof e)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+e);e.call(t)}function Bi(){_i=!1}function Ui(){return _i}function Wi(e,t,n){var r=t.effects;if(t.effects=null,null!==r)for(var i=0;i<r.length;i++){var o=r[i],a=o.callback;null!==a&&(o.callback=null,Fi(a,n))}}Ci=!1,Ni=null;var Vi,Hi,Gi,$i,Yi,qi,Ki,Xi,Qi,Zi,Ji={},eo=Array.isArray,to=(new r.Component).refs;Vi=new Set,Hi=new Set,Gi=new Set,$i=new Set,Xi=new Set,Yi=new Set,Qi=new Set,Zi=new Set;var no=new Set;function ro(e,t,n,r){var o=e.memoizedState;if(1&e.mode){jt();try{n(r,o)}finally{Ft()}}var a=n(r,o);qi(t,a);var s=null==a?o:i({},o,a);e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}Ki=function(e,t){if(null!==e&&"function"!=typeof e){var n=t+"_"+e;no.has(n)||(no.add(n),u("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e))}},qi=function(e,t){if(void 0===t){var n=H(e)||"Component";Yi.has(n)||(Yi.add(n),u("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",n))}},Object.defineProperty(Ji,"_processChildContext",{enumerable:!1,value:function(){throw Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(Ji);var io,oo,ao,so,lo,uo,co={isMounted:function(e){var t=te.current;if(null!==t&&1===t.tag){var n=t,r=n.stateNode;r._warnedAboutRefsInRender||u("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",H(n.type)||"A component"),r._warnedAboutRefsInRender=!0}var i=k(e);return!!i&&ne(i)===i},enqueueSetState:function(e,t,n){var r=k(e),i=Kc(),o=Xc(r),a=Di(i,o);a.payload=t,null!=n&&(Ki(n,"setState"),a.callback=n),Li(r,a),Zc(r,o,i)},enqueueReplaceState:function(e,t,n){var r=k(e),i=Kc(),o=Xc(r),a=Di(i,o);a.tag=1,a.payload=t,null!=n&&(Ki(n,"replaceState"),a.callback=n),Li(r,a),Zc(r,o,i)},enqueueForceUpdate:function(e,t){var n=k(e),r=Kc(),i=Xc(n),o=Di(r,i);o.tag=Oi,null!=t&&(Ki(t,"forceUpdate"),o.callback=t),Li(n,o),Zc(n,i,r)}};function fo(e,t,n,r,i,o,a){var s=e.stateNode;if("function"==typeof s.shouldComponentUpdate){if(1&e.mode){jt();try{s.shouldComponentUpdate(r,o,a)}finally{Ft()}}var l=s.shouldComponentUpdate(r,o,a);return void 0===l&&u("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",H(t)||"Component"),l}return!(t.prototype&&t.prototype.isPureReactComponent&&Hr(n,r)&&Hr(i,o))}function ho(e,t){var n;t.updater=co,e.stateNode=t,n=e,t._reactInternals=n,t._reactInternalInstance=Ji}function po(e,t,n){var r=!1,i=sn,o=sn,a=t.contextType;if("contextType"in t&&null!==a&&(void 0===a||a.$$typeof!==O||void 0!==a._context)&&!Zi.has(t)){Zi.add(t);var s="";s=void 0===a?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":"object"!=typeof a?" However, it is set to a "+typeof a+".":a.$$typeof===P?" Did you accidentally pass the Context.Provider instead?":void 0!==a._context?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(a).join(", ")+"}.",u("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",H(t)||"Component",s)}if("object"==typeof a&&null!==a?o=Ti(a):(i=dn(0,t,!0),o=(r=null!=t.contextTypes)?hn(e,i):sn),1&e.mode){jt();try{new t(n,o)}finally{Ft()}}var l=new t(n,o),c=e.memoizedState=null!==l.state&&void 0!==l.state?l.state:null;if(ho(e,l),"function"==typeof t.getDerivedStateFromProps&&null===c){var d=H(t)||"Component";Hi.has(d)||(Hi.add(d),u("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",d,null===l.state?"null":"undefined",d))}if("function"==typeof t.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate){var f=null,h=null,p=null;if("function"==typeof l.componentWillMount&&!0!==l.componentWillMount.__suppressDeprecationWarning?f="componentWillMount":"function"==typeof l.UNSAFE_componentWillMount&&(f="UNSAFE_componentWillMount"),"function"==typeof l.componentWillReceiveProps&&!0!==l.componentWillReceiveProps.__suppressDeprecationWarning?h="componentWillReceiveProps":"function"==typeof l.UNSAFE_componentWillReceiveProps&&(h="UNSAFE_componentWillReceiveProps"),"function"==typeof l.componentWillUpdate&&!0!==l.componentWillUpdate.__suppressDeprecationWarning?p="componentWillUpdate":"function"==typeof l.UNSAFE_componentWillUpdate&&(p="UNSAFE_componentWillUpdate"),null!==f||null!==h||null!==p){var g=H(t)||"Component",v="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";$i.has(g)||($i.add(g),u("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://reactjs.org/link/unsafe-component-lifecycles",g,v,null!==f?"\n  "+f:"",null!==h?"\n  "+h:"",null!==p?"\n  "+p:""))}}return r&&fn(e,i,o),l}function go(e,t,n,r){var i=t.state;if("function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==i){var o=H(e.type)||"Component";Vi.has(o)||(Vi.add(o),u("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",o)),co.enqueueReplaceState(t,t.state,null)}}function vo(e,t,n,r){!function(e,t,n){var r=e.stateNode,i=H(t)||"Component";r.render||(t.prototype&&"function"==typeof t.prototype.render?u("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",i):u("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",i)),!r.getInitialState||r.getInitialState.isReactClassApproved||r.state||u("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",i),r.getDefaultProps&&!r.getDefaultProps.isReactClassApproved&&u("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",i),r.propTypes&&u("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",i),r.contextType&&u("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",i),r.contextTypes&&u("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",i),t.contextType&&t.contextTypes&&!Qi.has(t)&&(Qi.add(t),u("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",i)),"function"==typeof r.componentShouldUpdate&&u("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",i),t.prototype&&t.prototype.isPureReactComponent&&void 0!==r.shouldComponentUpdate&&u("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",H(t)||"A pure component"),"function"==typeof r.componentDidUnmount&&u("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",i),"function"==typeof r.componentDidReceiveProps&&u("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",i),"function"==typeof r.componentWillRecieveProps&&u("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",i),"function"==typeof r.UNSAFE_componentWillRecieveProps&&u("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",i);var o=r.props!==n;void 0!==r.props&&o&&u("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",i,i),r.defaultProps&&u("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",i,i),"function"!=typeof r.getSnapshotBeforeUpdate||"function"==typeof r.componentDidUpdate||Gi.has(t)||(Gi.add(t),u("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",H(t))),"function"==typeof r.getDerivedStateFromProps&&u("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",i),"function"==typeof r.getDerivedStateFromError&&u("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",i),"function"==typeof t.getSnapshotBeforeUpdate&&u("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",i);var a=r.state;a&&("object"!=typeof a||eo(a))&&u("%s.state: must be set to an object or null",i),"function"==typeof r.getChildContext&&"object"!=typeof t.childContextTypes&&u("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",i)}(e,t,n);var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=to,Ri(e);var o=t.contextType;if("object"==typeof o&&null!==o)i.context=Ti(o);else{var a=dn(0,t,!0);i.context=hn(e,a)}if(i.state===n){var s=H(t)||"Component";Xi.has(s)||(Xi.add(s),u("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",s))}1&e.mode&&ei.recordLegacyContextWarning(e,i),ei.recordUnsafeLifecycleWarnings(e,i),ji(e,n,i,r),i.state=e.memoizedState;var l=t.getDerivedStateFromProps;"function"==typeof l&&(ro(e,t,l,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(function(e,t){var n=t.state;"function"==typeof t.componentWillMount&&t.componentWillMount(),"function"==typeof t.UNSAFE_componentWillMount&&t.UNSAFE_componentWillMount(),n!==t.state&&(u("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",H(e.type)||"Component"),co.enqueueReplaceState(t,t.state,null))}(e,i),ji(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}io=!1,oo=!1,ao={},so={},lo={},uo=function(e,t){if(null!==e&&"object"==typeof e&&e._store&&!e._store.validated&&null==e.key){if("object"!=typeof e._store)throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");e._store.validated=!0;var n=H(t.type)||"Component";so[n]||(so[n]=!0,u('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};var mo=Array.isArray;function yo(e,t,n){var r=n.ref;if(null!==r&&"function"!=typeof r&&"object"!=typeof r){if(1&e.mode&&(!n._owner||!n._self||n._owner.stateNode===n._self)){var i=H(e.type)||"Component";ao[i]||(u('A string ref, "%s", has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',r),ao[i]=!0)}if(n._owner){var o,a=n._owner;if(a){var s=a;if(1!==s.tag)throw Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");o=s.stateNode}if(!o)throw Error("Missing owner for string ref "+r+". This error is likely caused by a bug in React. Please file an issue.");var l=""+r;if(null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===l)return t.ref;var c=function(e){var t=o.refs;t===to&&(t=o.refs={}),null===e?delete t[l]:t[l]=e};return c._stringRef=l,c}if("string"!=typeof r)throw Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!n._owner)throw Error("Element ref was specified as a string ("+r+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.")}return r}function bo(e,t){if("textarea"!==e.type)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}function wo(e){var t=H(e.type)||"Component";lo[t]||(lo[t]=!0,u("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it."))}function xo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(var i=r;null!==i;)t(n,i),i=i.sibling;return null}function r(e,t){for(var n=new Map,r=t;null!==r;)null!==r.key?n.set(r.key,r):n.set(r.index,r),r=r.sibling;return n}function i(e,t){var n=Pf(e,t);return n.index=0,n.sibling=null,n}function o(t,n,r){if(t.index=r,!e)return n;var i=t.alternate;if(null!==i){var o=i.index;return o<n?(t.flags=2,n):o}return t.flags=2,n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){if(null===t||6!==t.tag){var o=Lf(n,e.mode,r);return o.return=e,o}var a=i(t,n);return a.return=e,a}function l(e,t,n,r){if(null!==t&&(t.elementType===n.type||pf(t,n))){var o=i(t,n.props);return o.ref=yo(e,t,n),o.return=e,o._debugSource=n._source,o._debugOwner=n._owner,o}var a=Rf(n,e.mode,r);return a.ref=yo(e,t,n),a.return=e,a}function c(e,t,n,r){if(null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation){var o=If(n,e.mode,r);return o.return=e,o}var a=i(t,n.children||[]);return a.return=e,a}function d(e,t,n,r,o){if(null===t||7!==t.tag){var a=Af(n,e.mode,r,o);return a.return=e,a}var s=i(t,n);return s.return=e,s}function h(e,t,n){if("string"==typeof t||"number"==typeof t){var r=Lf(""+t,e.mode,n);return r.return=e,r}if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:var i=Rf(t,e.mode,n);return i.ref=yo(e,null,t),i.return=e,i;case M:var o=If(t,e.mode,n);return o.return=e,o}if(mo(t)||W(t)){var a=Af(t,e.mode,n,null);return a.return=e,a}bo(e,t)}return"function"==typeof t&&wo(e),null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===T?d(e,t,n.props.children,r,i):l(e,t,n,r):null;case M:return n.key===i?c(e,t,n,r):null}if(mo(n)||W(n))return null!==i?null:d(e,t,n,r,null);bo(e,n)}return"function"==typeof n&&wo(e),null}function g(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:var o=e.get(null===r.key?n:r.key)||null;return r.type===T?d(t,o,r.props.children,i,r.key):l(t,o,r,i);case M:return c(t,e.get(null===r.key?n:r.key)||null,r,i)}if(mo(r)||W(r))return d(t,e.get(n)||null,r,i,null);bo(t,r)}return"function"==typeof r&&wo(t),null}function m(e,t,n){if("object"!=typeof e||null===e)return t;switch(e.$$typeof){case S:case M:uo(e,n);var r=e.key;if("string"!=typeof r)break;if(null===t){(t=new Set).add(r);break}if(!t.has(r)){t.add(r);break}u("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",r)}return t}return function(s,l,c,d){var y="object"==typeof c&&null!==c&&c.type===T&&null===c.key;y&&(c=c.props.children);var b="object"==typeof c&&null!==c;if(b)switch(c.$$typeof){case S:return a(function(e,r,o,a){for(var s=o.key,l=r;null!==l;){if(l.key===s){if(7===l.tag){if(o.type===T){n(e,l.sibling);var u=i(l,o.props.children);return u.return=e,u._debugSource=o._source,u._debugOwner=o._owner,u}}else if(l.elementType===o.type||pf(l,o)){n(e,l.sibling);var c=i(l,o.props);return c.ref=yo(e,l,o),c.return=e,c._debugSource=o._source,c._debugOwner=o._owner,c}n(e,l);break}t(e,l),l=l.sibling}if(o.type===T){var d=Af(o.props.children,e.mode,a,o.key);return d.return=e,d}var f=Rf(o,e.mode,a);return f.ref=yo(e,r,o),f.return=e,f}(s,l,c,d));case M:return a(function(e,r,o,a){for(var s=o.key,l=r;null!==l;){if(l.key===s){if(4===l.tag&&l.stateNode.containerInfo===o.containerInfo&&l.stateNode.implementation===o.implementation){n(e,l.sibling);var u=i(l,o.children||[]);return u.return=e,u}n(e,l);break}t(e,l),l=l.sibling}var c=If(o,e.mode,a);return c.return=e,c}(s,l,c,d))}if("string"==typeof c||"number"==typeof c)return a(function(e,t,r,o){if(null!==t&&6===t.tag){n(e,t.sibling);var a=i(t,r);return a.return=e,a}n(e,t);var s=Lf(r,e.mode,o);return s.return=e,s}(s,l,""+c,d));if(mo(c))return function(i,a,s,l){for(var u=null,c=0;c<s.length;c++)u=m(s[c],u,i);for(var d=null,f=null,v=a,y=0,b=0,w=null;null!==v&&b<s.length;b++){v.index>b?(w=v,v=null):w=v.sibling;var x=p(i,v,s[b],l);if(null===x){null===v&&(v=w);break}e&&v&&null===x.alternate&&t(i,v),y=o(x,y,b),null===f?d=x:f.sibling=x,f=x,v=w}if(b===s.length)return n(i,v),d;if(null===v){for(;b<s.length;b++){var E=h(i,s[b],l);null!==E&&(y=o(E,y,b),null===f?d=E:f.sibling=E,f=E)}return d}for(var k=r(0,v);b<s.length;b++){var S=g(k,i,b,s[b],l);null!==S&&(e&&null!==S.alternate&&k.delete(null===S.key?b:S.key),y=o(S,y,b),null===f?d=S:f.sibling=S,f=S)}return e&&k.forEach((function(e){return t(i,e)})),d}(s,l,c,d);if(W(c))return function(i,a,s,l){var c=W(s);if("function"!=typeof c)throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");"function"==typeof Symbol&&"Generator"===s[Symbol.toStringTag]&&(oo||u("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),oo=!0),s.entries===c&&(io||u("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),io=!0);var d=c.call(s);if(d)for(var f=null,v=d.next();!v.done;v=d.next())f=m(v.value,f,i);var y=c.call(s);if(null==y)throw Error("An iterable object provided no iterator.");for(var b=null,w=null,x=a,E=0,k=0,S=null,M=y.next();null!==x&&!M.done;k++,M=y.next()){x.index>k?(S=x,x=null):S=x.sibling;var T=p(i,x,M.value,l);if(null===T){null===x&&(x=S);break}e&&x&&null===T.alternate&&t(i,x),E=o(T,E,k),null===w?b=T:w.sibling=T,w=T,x=S}if(M.done)return n(i,x),b;if(null===x){for(;!M.done;k++,M=y.next()){var C=h(i,M.value,l);null!==C&&(E=o(C,E,k),null===w?b=C:w.sibling=C,w=C)}return b}for(var N=r(0,x);!M.done;k++,M=y.next()){var P=g(N,i,k,M.value,l);null!==P&&(e&&null!==P.alternate&&N.delete(null===P.key?k:P.key),E=o(P,E,k),null===w?b=P:w.sibling=P,w=P)}return e&&N.forEach((function(e){return t(i,e)})),b}(s,l,c,d);if(b&&bo(s,c),"function"==typeof c&&wo(s),void 0===c&&!y)switch(s.tag){case 1:if(s.stateNode.render._isMockFunction)break;case w:case 0:case f:case v:throw Error((H(s.type)||"Component")+"(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.")}return n(s,l)}}var Eo=xo(!0),ko=xo(!1);function So(e,t){for(var n=e.child;null!==n;)Of(n,t),n=n.sibling}var Mo={},To=rn(Mo),Co=rn(Mo),No=rn(Mo);function Po(e){if(e===Mo)throw Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function Oo(){return Po(No.current)}function _o(e,t){an(No,t,e),an(Co,e,e),an(To,Mo,e);var n=le(t);on(To,e),an(To,n,e)}function Ro(e){on(To,e),on(Co,e),on(No,e)}function Ao(){return Po(To.current)}function Do(e){var t=Po(No.current),n=Po(To.current),r=ue(n,e.type,t);n!==r&&(an(Co,e,e),an(To,r,e))}function Lo(e){Co.current===e&&(on(To,e),on(Co,e))}var Io=1,zo=1,jo=2,Fo=rn(0);function Bo(e,t){return!!(e&t)}function Uo(e){return e&Io}function Wo(e,t){return e&Io|t}function Vo(e,t){an(Fo,t,e)}function Ho(e){on(Fo,e)}function Go(e,t){var n=e.memoizedState;if(null!==n)return null!==n.dehydrated;var r=e.memoizedProps;return void 0!==r.fallback&&(!0!==r.unstable_avoidThisFallback||!t)}function $o(e){for(var t=e;null!==t;){if(t.tag===p){var n=t.memoizedState;if(null!==n){var r=n.dehydrated;if(null===r||ct(r)||dt(r))return t}}else if(t.tag===y&&void 0!==t.memoizedProps.revealOrder){if(t.flags&G)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)return null;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yo=0,qo=1,Ko=2,Xo=4,Qo=null,Zo=null,Jo=!1;function ea(e,t){switch(e.tag){case 3:Nt(e.stateNode.containerInfo,t);break;case 5:Pt(e.type,e.memoizedProps,e.stateNode,t)}var n,r=((n=Cf(5,null,null,0)).elementType="DELETED",n.type="DELETED",n);r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function ta(e,t){switch(t.flags=-1025&t.flags|2,e.tag){case 3:var n=e.stateNode.containerInfo;switch(t.tag){case 5:var r=t.type,i=t.pendingProps;Ot(n,r,i);break;case 6:var o=t.pendingProps;_t(n,o);break;case p:Rt(n)}break;case 5:var a=e.type,s=e.memoizedProps,l=e.stateNode;switch(t.tag){case 5:var u=t.type,c=t.pendingProps;At(a,s,l,u,c);break;case 6:var d=t.pendingProps;Dt(a,s,l,d);break;case p:Lt(a,s,l)}break;default:return}}function na(e,t){switch(e.tag){case 5:var n=e.type,r=e.pendingProps,i=lt(t,n,r);return null!==i&&(e.stateNode=i,!0);case 6:var o=e.pendingProps,a=ut(t,o);return null!==a&&(e.stateNode=a,!0);default:return!1}}function ra(e){if(Jo){var t=Zo;if(!t)return ta(Qo,e),Jo=!1,void(Qo=e);var n=t;if(!na(e,t)){if(!(t=ft(n))||!na(e,t))return ta(Qo,e),Jo=!1,void(Qo=e);ea(Qo,n)}Qo=e,Zo=ht(t)}}function ia(e){for(var t=e.return;null!==t&&5!==t.tag&&3!==t.tag&&t.tag!==p;)t=t.return;Qo=t}function oa(e){if(!Me)return!1;if(e!==Qo)return!1;if(!Jo)return ia(e),Jo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!ve(t,e.memoizedProps))for(var n=Zo;n;)ea(e,n),n=ft(n);return ia(e),Zo=e.tag===p?function(e){if(!Me)throw Error("Expected skipPastDehydratedSuspenseInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var t=e.memoizedState,n=null!==t?t.dehydrated:null;if(!n)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return vt(n)}(e):Qo?ft(e.stateNode):null,!0}function aa(){Me&&(Qo=null,Zo=null,Jo=!1)}function sa(){return Jo}var la,ua=[];function ca(){for(var e=0;e<ua.length;e++){var t=ua[e];xe?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}ua.length=0}function da(e,t){xe?e._workInProgressVersionPrimary=t:e._workInProgressVersionSecondary=t,ua.push(e)}la={};var fa,ha,pa=s.ReactCurrentDispatcher,ga=s.ReactCurrentBatchConfig;ha={},fa=new Set;var va=0,ma=null,ya=null,ba=null,wa=!1,xa=!1,Ea=null,ka=null,Sa=-1,Ma=!1;function Ta(){var e=Ea;null===ka?ka=[e]:ka.push(e)}function Ca(){var e=Ea;null!==ka&&(Sa++,ka[Sa]!==e&&function(e){var t=H(ma.type);if(!fa.has(t)&&(fa.add(t),null!==ka)){for(var n="",r=30,i=0;i<=Sa;i++){for(var o=ka[i],a=i===Sa?e:o,s=i+1+". "+o;s.length<r;)s+=" ";n+=s+=a+"\n"}u("React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks\n\n   Previous render            Next render\n   ------------------------------------------------------\n%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n",t,n)}}(e))}function Na(e){null==e||Array.isArray(e)||u("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Ea,typeof e)}function Pa(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.")}function Oa(e,t){if(Ma)return!1;if(null===t)return u("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Ea),!1;e.length!==t.length&&u("The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\n\nPrevious: %s\nIncoming: %s",Ea,"["+t.join(", ")+"]","["+e.join(", ")+"]");for(var n=0;n<t.length&&n<e.length;n++)if(!Wr(e[n],t[n]))return!1;return!0}function _a(e,t,n,r,i,o){va=o,ma=t,ka=null!==e?e._debugHookTypes:null,Sa=-1,Ma=null!==e&&e.type!==t.type,t.memoizedState=null,t.updateQueue=null,t.lanes=0,null!==e&&null!==e.memoizedState?pa.current=Cs:pa.current=null!==ka?Ts:Ms;var a=n(r,i);if(xa){var s=0;do{if(xa=!1,!(s<25))throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");s+=1,Ma=!1,ya=null,ba=null,t.updateQueue=null,Sa=-1,pa.current=Ns,a=n(r,i)}while(xa)}pa.current=Ss,t._debugHookTypes=ka;var l=null!==ya&&null!==ya.next;if(va=0,ma=null,ya=null,ba=null,Ea=null,ka=null,Sa=-1,wa=!1,l)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return a}function Ra(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes=rr(e.lanes,n)}function Aa(){if(pa.current=Ss,wa){for(var e=ma.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}wa=!1}va=0,ma=null,ya=null,ba=null,ka=null,Sa=-1,Ea=null,ys=!1,xa=!1}function Da(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ba?ma.memoizedState=ba=e:ba=ba.next=e,ba}function La(){var e,t;if(null===ya){var n=ma.alternate;e=null!==n?n.memoizedState:null}else e=ya.next;if(null!==(t=null===ba?ma.memoizedState:ba.next))t=(ba=t).next,ya=e;else{if(null===e)throw Error("Rendered more hooks than during the previous render.");var r={memoizedState:(ya=e).memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null};null===ba?ma.memoizedState=ba=r:ba=ba.next=r}return ba}function Ia(e,t){return"function"==typeof t?t(e):t}function za(e,t,n){var r,i=Da();r=void 0!==n?n(t):t,i.memoizedState=i.baseState=r;var o=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a=o.dispatch=ks.bind(null,ma,o);return[i.memoizedState,a]}function ja(e,t,n){var r=La(),i=r.queue;if(null===i)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");i.lastRenderedReducer=e;var o=ya,a=o.baseQueue,s=i.pending;if(null!==s){if(null!==a){var l=a.next,c=s.next;a.next=c,s.next=l}o.baseQueue!==a&&u("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),o.baseQueue=a=s,i.pending=null}if(null!==a){var d=a.next,f=o.baseState,h=null,p=null,g=null,v=d;do{var m=v.lane;if(tr(va,m)){if(null!==g){var y={lane:0,action:v.action,eagerReducer:v.eagerReducer,eagerState:v.eagerState,next:null};g=g.next=y}f=v.eagerReducer===e?v.eagerState:e(f,v.action)}else{var b={lane:m,action:v.action,eagerReducer:v.eagerReducer,eagerState:v.eagerState,next:null};null===g?(p=g=b,h=f):g=g.next=b,ma.lanes=nr(ma.lanes,m),pd(m)}v=v.next}while(null!==v&&v!==d);null===g?h=f:g.next=p,Wr(f,r.memoizedState)||Al(),r.memoizedState=f,r.baseState=h,r.baseQueue=g,i.lastRenderedState=f}var w=i.dispatch;return[r.memoizedState,w]}function Fa(e,t,n){var r=La(),i=r.queue;if(null===i)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");i.lastRenderedReducer=e;var o=i.dispatch,a=i.pending,s=r.memoizedState;if(null!==a){i.pending=null;var l=a.next,u=l;do{s=e(s,u.action),u=u.next}while(u!==l);Wr(s,r.memoizedState)||Al(),r.memoizedState=s,null===r.baseQueue&&(r.baseState=s),i.lastRenderedState=s}return[s,o]}function Ba(e,t,n){var r;r=t,xe?null==r._currentPrimaryRenderer?r._currentPrimaryRenderer=la:r._currentPrimaryRenderer!==la&&u("Detected multiple renderers concurrently rendering the same mutable source. This is currently unsupported."):null==r._currentSecondaryRenderer?r._currentSecondaryRenderer=la:r._currentSecondaryRenderer!==la&&u("Detected multiple renderers concurrently rendering the same mutable source. This is currently unsupported.");var i=(0,t._getVersion)(t._source),o=!1,a=function(e){return xe?e._workInProgressVersionPrimary:e._workInProgressVersionSecondary}(t);if(null!==a?o=a===i:(o=tr(va,e.mutableReadLanes))&&da(t,i),o){var s=n(t._source);return"function"==typeof s&&u("Mutable source should not return a function as the snapshot value. Functions may close over mutable values and cause tearing."),s}throw function(e){ua.push(e)}(t),Error("Cannot read from mutable source during the current render without tearing. This is a bug in React. Please file an issue.")}function Ua(e,t,n,r){var i=lc;if(null===i)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");var o=t._getVersion,a=o(t._source),s=pa.current,l=s.useState((function(){return Ba(i,t,n)})),c=l[0],d=l[1],f=c,h=ba,p=e.memoizedState,g=p.refs,v=g.getSnapshot,m=p.source,y=p.subscribe,b=ma;if(e.memoizedState={refs:g,source:t,subscribe:r},s.useEffect((function(){g.getSnapshot=n,g.setSnapshot=d;var e=o(t._source);if(!Wr(a,e)){var r=n(t._source);if("function"==typeof r&&u("Mutable source should not return a function as the snapshot value. Functions may close over mutable values and cause tearing."),!Wr(f,r)){d(r);var s=Xc(b);sr(i,s)}!function(e,t){e.entangledLanes|=t;for(var n=e.entanglements,r=t;r>0;){var i=Jn(r),o=1<<i;n[i]|=t,r&=~o}}(i,i.mutableReadLanes)}}),[n,t,r]),s.useEffect((function(){var e=r(t._source,(function(){var e=g.getSnapshot,n=g.setSnapshot;try{n(e(t._source));var r=Xc(b);sr(i,r)}catch(e){n((function(){throw e}))}}));return"function"!=typeof e&&u("Mutable source subscribe function must return an unsubscribe function."),e}),[t,r]),!Wr(v,n)||!Wr(m,t)||!Wr(y,r)){var w={pending:null,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:f};w.dispatch=d=ks.bind(null,ma,w),h.queue=w,h.baseQueue=null,f=Ba(i,t,n),h.memoizedState=h.baseState=f}return f}function Wa(e,t,n){var r=Da();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Ua(r,e,t,n)}function Va(e,t,n){return Ua(La(),e,t,n)}function Ha(e){var t=Da();"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e;var n=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},r=n.dispatch=ks.bind(null,ma,n);return[t.memoizedState,r]}function Ga(e){return ja(Ia)}function $a(e){return Fa(Ia)}function Ya(e,t,n,r){var i={tag:e,create:t,destroy:n,deps:r,next:null},o=ma.updateQueue;if(null===o)o={lastEffect:null},ma.updateQueue=o,o.lastEffect=i.next=i;else{var a=o.lastEffect;if(null===a)o.lastEffect=i.next=i;else{var s=a.next;a.next=i,i.next=s,o.lastEffect=i}}return i}function qa(e){var t=Da(),n={current:e};return Object.seal(n),t.memoizedState=n,n}function Ka(e){return La().memoizedState}function Xa(e,t,n,r){var i=Da(),o=void 0===r?null:r;ma.flags|=e,i.memoizedState=Ya(qo|t,n,void 0,o)}function Qa(e,t,n,r){var i=La(),o=void 0===r?null:r,a=void 0;if(null!==ya){var s=ya.memoizedState;if(a=s.destroy,null!==o&&Oa(o,s.deps))return void Ya(t,n,a,o)}ma.flags|=e,i.memoizedState=Ya(qo|t,n,a,o)}function Za(e,t){return"undefined"!=typeof jest&&Gd(ma),Xa(516,Xo,e,t)}function Ja(e,t){return"undefined"!=typeof jest&&Gd(ma),Qa(516,Xo,e,t)}function es(e,t){return Xa(4,Ko,e,t)}function ts(e,t){return Qa(4,Ko,e,t)}function ns(e,t){if("function"==typeof t){var n=t,r=e();return n(r),function(){n(null)}}if(null!=t){var i=t;i.hasOwnProperty("current")||u("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(i).join(", ")+"}");var o=e();return i.current=o,function(){i.current=null}}}function rs(e,t,n){"function"!=typeof t&&u("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var r=null!=n?n.concat([e]):null;return Xa(4,Ko,ns.bind(null,t,e),r)}function is(e,t,n){"function"!=typeof t&&u("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var r=null!=n?n.concat([e]):null;return Qa(4,Ko,ns.bind(null,t,e),r)}function os(e,t){}var as=os;function ss(e,t){var n=void 0===t?null:t;return Da().memoizedState=[e,n],e}function ls(e,t){var n=La(),r=void 0===t?null:t,i=n.memoizedState;return null!==i&&null!==r&&Oa(r,i[1])?i[0]:(n.memoizedState=[e,r],e)}function us(e,t){var n=Da(),r=void 0===t?null:t,i=e();return n.memoizedState=[i,r],i}function cs(e,t){var n=La(),r=void 0===t?null:t,i=n.memoizedState;if(null!==i&&null!==r&&Oa(r,i[1]))return i[0];var o=e();return n.memoizedState=[o,r],o}function ds(e){var t=Ha(e),n=t[0],r=t[1];return Za((function(){var t=ga.transition;ga.transition=1;try{r(e)}finally{ga.transition=t}}),[e]),n}function fs(e){var t=Ga(),n=t[0],r=t[1];return Ja((function(){var t=ga.transition;ga.transition=1;try{r(e)}finally{ga.transition=t}}),[e]),n}function hs(e){var t=$a(),n=t[0],r=t[1];return Ja((function(){var t=ga.transition;ga.transition=1;try{r(e)}finally{ga.transition=t}}),[e]),n}function ps(e,t){var n=Dr();Ir(n<Mr?Mr:n,(function(){e(!0)})),Ir(n>Tr?Tr:n,(function(){var n=ga.transition;ga.transition=1;try{e(!1),t()}finally{ga.transition=n}}))}function gs(){var e=Ha(!1),t=e[0],n=e[1],r=ps.bind(null,n);return qa(r),[r,t]}function vs(){var e=Ga()[0];return[Ka().current,e]}function ms(){var e=$a()[0];return[Ka().current,e]}var ys=!1;function bs(e){var t=H(e.type)||"Unknown";Kr&&!ha[t]&&(u("The object passed back from useOpaqueIdentifier is meant to be passed through to attributes only. Do not read the value directly."),ha[t]=!0)}function ws(){var e=Ne.bind(null,bs.bind(null,ma));if(sa()){var t=!1,n=ma,r=Ce((function(){throw t||(t=!0,ys=!0,i(e()),ys=!1,bs(n)),Error("The object passed back from useOpaqueIdentifier is meant to be passed through to attributes only. Do not read the value directly.")})),i=Ha(r)[1];return 2&ma.mode||(ma.flags|=516,Ya(qo|Xo,(function(){i(e())}),void 0,null)),r}var o=e();return Ha(o),o}function xs(){return Ga()[0]}function Es(){return $a()[0]}function ks(e,t,n){"function"==typeof arguments[3]&&u("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var r=Kc(),i=Xc(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o;var s=e.alternate;if(e===ma||null!==s&&s===ma)xa=wa=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)){var l=t.lastRenderedReducer;if(null!==l){var c;c=pa.current,pa.current=Os;try{var d=t.lastRenderedState,f=l(d,n);if(o.eagerReducer=l,o.eagerState=f,Wr(f,d))return}catch(e){}finally{pa.current=c}}}"undefined"!=typeof jest&&(Hd(e),$d(e)),Zc(e,i,r)}}var Ss={readContext:Ti,useCallback:Pa,useContext:Pa,useEffect:Pa,useImperativeHandle:Pa,useLayoutEffect:Pa,useMemo:Pa,useReducer:Pa,useRef:Pa,useState:Pa,useDebugValue:Pa,useDeferredValue:Pa,useTransition:Pa,useMutableSource:Pa,useOpaqueIdentifier:Pa,unstable_isNewReconciler:ee},Ms=null,Ts=null,Cs=null,Ns=null,Ps=null,Os=null,_s=null,Rs=function(){u("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},As=function(){u("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};Ms={readContext:function(e,t){return Ti(e,t)},useCallback:function(e,t){return Ea="useCallback",Ta(),Na(t),ss(e,t)},useContext:function(e,t){return Ea="useContext",Ta(),Ti(e,t)},useEffect:function(e,t){return Ea="useEffect",Ta(),Na(t),Za(e,t)},useImperativeHandle:function(e,t,n){return Ea="useImperativeHandle",Ta(),Na(n),rs(e,t,n)},useLayoutEffect:function(e,t){return Ea="useLayoutEffect",Ta(),Na(t),es(e,t)},useMemo:function(e,t){Ea="useMemo",Ta(),Na(t);var n=pa.current;pa.current=Ps;try{return us(e,t)}finally{pa.current=n}},useReducer:function(e,t,n){Ea="useReducer",Ta();var r=pa.current;pa.current=Ps;try{return za(e,t,n)}finally{pa.current=r}},useRef:function(e){return Ea="useRef",Ta(),qa(e)},useState:function(e){Ea="useState",Ta();var t=pa.current;pa.current=Ps;try{return Ha(e)}finally{pa.current=t}},useDebugValue:function(e,t){Ea="useDebugValue",Ta()},useDeferredValue:function(e){return Ea="useDeferredValue",Ta(),ds(e)},useTransition:function(){return Ea="useTransition",Ta(),gs()},useMutableSource:function(e,t,n){return Ea="useMutableSource",Ta(),Wa(e,t,n)},useOpaqueIdentifier:function(){return Ea="useOpaqueIdentifier",Ta(),ws()},unstable_isNewReconciler:ee},Ts={readContext:function(e,t){return Ti(e,t)},useCallback:function(e,t){return Ea="useCallback",Ca(),ss(e,t)},useContext:function(e,t){return Ea="useContext",Ca(),Ti(e,t)},useEffect:function(e,t){return Ea="useEffect",Ca(),Za(e,t)},useImperativeHandle:function(e,t,n){return Ea="useImperativeHandle",Ca(),rs(e,t,n)},useLayoutEffect:function(e,t){return Ea="useLayoutEffect",Ca(),es(e,t)},useMemo:function(e,t){Ea="useMemo",Ca();var n=pa.current;pa.current=Ps;try{return us(e,t)}finally{pa.current=n}},useReducer:function(e,t,n){Ea="useReducer",Ca();var r=pa.current;pa.current=Ps;try{return za(e,t,n)}finally{pa.current=r}},useRef:function(e){return Ea="useRef",Ca(),qa(e)},useState:function(e){Ea="useState",Ca();var t=pa.current;pa.current=Ps;try{return Ha(e)}finally{pa.current=t}},useDebugValue:function(e,t){Ea="useDebugValue",Ca()},useDeferredValue:function(e){return Ea="useDeferredValue",Ca(),ds(e)},useTransition:function(){return Ea="useTransition",Ca(),gs()},useMutableSource:function(e,t,n){return Ea="useMutableSource",Ca(),Wa(e,t,n)},useOpaqueIdentifier:function(){return Ea="useOpaqueIdentifier",Ca(),ws()},unstable_isNewReconciler:ee},Cs={readContext:function(e,t){return Ti(e,t)},useCallback:function(e,t){return Ea="useCallback",Ca(),ls(e,t)},useContext:function(e,t){return Ea="useContext",Ca(),Ti(e,t)},useEffect:function(e,t){return Ea="useEffect",Ca(),Ja(e,t)},useImperativeHandle:function(e,t,n){return Ea="useImperativeHandle",Ca(),is(e,t,n)},useLayoutEffect:function(e,t){return Ea="useLayoutEffect",Ca(),ts(e,t)},useMemo:function(e,t){Ea="useMemo",Ca();var n=pa.current;pa.current=Os;try{return cs(e,t)}finally{pa.current=n}},useReducer:function(e,t,n){Ea="useReducer",Ca();var r=pa.current;pa.current=Os;try{return ja(e)}finally{pa.current=r}},useRef:function(e){return Ea="useRef",Ca(),Ka()},useState:function(e){Ea="useState",Ca();var t=pa.current;pa.current=Os;try{return Ga()}finally{pa.current=t}},useDebugValue:function(e,t){return Ea="useDebugValue",Ca(),as()},useDeferredValue:function(e){return Ea="useDeferredValue",Ca(),fs(e)},useTransition:function(){return Ea="useTransition",Ca(),vs()},useMutableSource:function(e,t,n){return Ea="useMutableSource",Ca(),Va(e,t,n)},useOpaqueIdentifier:function(){return Ea="useOpaqueIdentifier",Ca(),xs()},unstable_isNewReconciler:ee},Ns={readContext:function(e,t){return Ti(e,t)},useCallback:function(e,t){return Ea="useCallback",Ca(),ls(e,t)},useContext:function(e,t){return Ea="useContext",Ca(),Ti(e,t)},useEffect:function(e,t){return Ea="useEffect",Ca(),Ja(e,t)},useImperativeHandle:function(e,t,n){return Ea="useImperativeHandle",Ca(),is(e,t,n)},useLayoutEffect:function(e,t){return Ea="useLayoutEffect",Ca(),ts(e,t)},useMemo:function(e,t){Ea="useMemo",Ca();var n=pa.current;pa.current=_s;try{return cs(e,t)}finally{pa.current=n}},useReducer:function(e,t,n){Ea="useReducer",Ca();var r=pa.current;pa.current=_s;try{return Fa(e)}finally{pa.current=r}},useRef:function(e){return Ea="useRef",Ca(),Ka()},useState:function(e){Ea="useState",Ca();var t=pa.current;pa.current=_s;try{return $a()}finally{pa.current=t}},useDebugValue:function(e,t){return Ea="useDebugValue",Ca(),as()},useDeferredValue:function(e){return Ea="useDeferredValue",Ca(),hs(e)},useTransition:function(){return Ea="useTransition",Ca(),ms()},useMutableSource:function(e,t,n){return Ea="useMutableSource",Ca(),Va(e,t,n)},useOpaqueIdentifier:function(){return Ea="useOpaqueIdentifier",Ca(),Es()},unstable_isNewReconciler:ee},Ps={readContext:function(e,t){return Rs(),Ti(e,t)},useCallback:function(e,t){return Ea="useCallback",As(),Ta(),ss(e,t)},useContext:function(e,t){return Ea="useContext",As(),Ta(),Ti(e,t)},useEffect:function(e,t){return Ea="useEffect",As(),Ta(),Za(e,t)},useImperativeHandle:function(e,t,n){return Ea="useImperativeHandle",As(),Ta(),rs(e,t,n)},useLayoutEffect:function(e,t){return Ea="useLayoutEffect",As(),Ta(),es(e,t)},useMemo:function(e,t){Ea="useMemo",As(),Ta();var n=pa.current;pa.current=Ps;try{return us(e,t)}finally{pa.current=n}},useReducer:function(e,t,n){Ea="useReducer",As(),Ta();var r=pa.current;pa.current=Ps;try{return za(e,t,n)}finally{pa.current=r}},useRef:function(e){return Ea="useRef",As(),Ta(),qa(e)},useState:function(e){Ea="useState",As(),Ta();var t=pa.current;pa.current=Ps;try{return Ha(e)}finally{pa.current=t}},useDebugValue:function(e,t){Ea="useDebugValue",As(),Ta()},useDeferredValue:function(e){return Ea="useDeferredValue",As(),Ta(),ds(e)},useTransition:function(){return Ea="useTransition",As(),Ta(),gs()},useMutableSource:function(e,t,n){return Ea="useMutableSource",As(),Ta(),Wa(e,t,n)},useOpaqueIdentifier:function(){return Ea="useOpaqueIdentifier",As(),Ta(),ws()},unstable_isNewReconciler:ee},Os={readContext:function(e,t){return Rs(),Ti(e,t)},useCallback:function(e,t){return Ea="useCallback",As(),Ca(),ls(e,t)},useContext:function(e,t){return Ea="useContext",As(),Ca(),Ti(e,t)},useEffect:function(e,t){return Ea="useEffect",As(),Ca(),Ja(e,t)},useImperativeHandle:function(e,t,n){return Ea="useImperativeHandle",As(),Ca(),is(e,t,n)},useLayoutEffect:function(e,t){return Ea="useLayoutEffect",As(),Ca(),ts(e,t)},useMemo:function(e,t){Ea="useMemo",As(),Ca();var n=pa.current;pa.current=Os;try{return cs(e,t)}finally{pa.current=n}},useReducer:function(e,t,n){Ea="useReducer",As(),Ca();var r=pa.current;pa.current=Os;try{return ja(e)}finally{pa.current=r}},useRef:function(e){return Ea="useRef",As(),Ca(),Ka()},useState:function(e){Ea="useState",As(),Ca();var t=pa.current;pa.current=Os;try{return Ga()}finally{pa.current=t}},useDebugValue:function(e,t){return Ea="useDebugValue",As(),Ca(),as()},useDeferredValue:function(e){return Ea="useDeferredValue",As(),Ca(),fs(e)},useTransition:function(){return Ea="useTransition",As(),Ca(),vs()},useMutableSource:function(e,t,n){return Ea="useMutableSource",As(),Ca(),Va(e,t,n)},useOpaqueIdentifier:function(){return Ea="useOpaqueIdentifier",As(),Ca(),xs()},unstable_isNewReconciler:ee},_s={readContext:function(e,t){return Rs(),Ti(e,t)},useCallback:function(e,t){return Ea="useCallback",As(),Ca(),ls(e,t)},useContext:function(e,t){return Ea="useContext",As(),Ca(),Ti(e,t)},useEffect:function(e,t){return Ea="useEffect",As(),Ca(),Ja(e,t)},useImperativeHandle:function(e,t,n){return Ea="useImperativeHandle",As(),Ca(),is(e,t,n)},useLayoutEffect:function(e,t){return Ea="useLayoutEffect",As(),Ca(),ts(e,t)},useMemo:function(e,t){Ea="useMemo",As(),Ca();var n=pa.current;pa.current=Os;try{return cs(e,t)}finally{pa.current=n}},useReducer:function(e,t,n){Ea="useReducer",As(),Ca();var r=pa.current;pa.current=Os;try{return Fa(e)}finally{pa.current=r}},useRef:function(e){return Ea="useRef",As(),Ca(),Ka()},useState:function(e){Ea="useState",As(),Ca();var t=pa.current;pa.current=Os;try{return $a()}finally{pa.current=t}},useDebugValue:function(e,t){return Ea="useDebugValue",As(),Ca(),as()},useDeferredValue:function(e){return Ea="useDeferredValue",As(),Ca(),hs(e)},useTransition:function(){return Ea="useTransition",As(),Ca(),ms()},useMutableSource:function(e,t,n){return Ea="useMutableSource",As(),Ca(),Va(e,t,n)},useOpaqueIdentifier:function(){return Ea="useOpaqueIdentifier",As(),Ca(),Es()},unstable_isNewReconciler:ee};var Ds=o.unstable_now,Ls=0,Is=-1;function zs(){return Ls}function js(){Ls=Ds()}function Fs(e){Is=Ds(),e.actualStartTime<0&&(e.actualStartTime=Ds())}function Bs(e){Is=-1}function Us(e,t){if(Is>=0){var n=Ds()-Is;e.actualDuration+=n,t&&(e.selfBaseDuration=n),Is=-1}}function Ws(e){for(var t=e.child;t;)e.actualDuration+=t.actualDuration,t=t.sibling}var Vs,Hs,Gs,$s,Ys,qs,Ks,Xs,Qs=s.ReactCurrentOwner,Zs=!1;function Js(e,t,n,r){t.child=null===e?ko(t,null,n,r):Eo(t,e.child,n,r)}function el(e,t,n,r,i){if(t.type!==t.elementType){var o=n.propTypes;o&&Zt(o,r,"prop",H(n))}var a,s=n.render,l=t.ref;if(Mi(t,i),Qs.current=t,Jr(!0),a=_a(e,t,s,r,l,i),1&t.mode){jt();try{a=_a(e,t,s,r,l,i)}finally{Ft()}}return Jr(!1),null===e||Zs?(t.flags|=1,Js(e,t,a,i),t.child):(Ra(e,t,i),Dl(e,t,i))}function tl(e,t,n,r,i,o){if(null===e){var a,s=n.type;if(function(e){return"function"==typeof e&&!Nf(e)&&void 0===e.defaultProps}(s)&&null===n.compare&&void 0===n.defaultProps)return a=df(s),t.tag=v,t.type=a,fl(t,s),nl(e,t,a,r,i,o);var l=s.propTypes;l&&Zt(l,r,"prop",H(s));var u=_f(n.type,null,r,t,t.mode,o);return u.ref=t.ref,u.return=t,t.child=u,u}var c=n.type,d=c.propTypes;d&&Zt(d,r,"prop",H(c));var f=e.child;if(!er(i,o)){var h=f.memoizedProps,p=n.compare;if((p=null!==p?p:Hr)(h,r)&&e.ref===t.ref)return Dl(e,t,o)}t.flags|=1;var g=Pf(f,r);return g.ref=t.ref,g.return=t,t.child=g,g}function nl(e,t,n,r,i,o){if(t.type!==t.elementType){var a=t.elementType;if(a.$$typeof===L){var s=a,l=s._payload,u=s._init;try{a=u(l)}catch(e){a=null}var c=a&&a.propTypes;c&&Zt(c,r,"prop",H(a))}}if(null!==e&&Hr(e.memoizedProps,r)&&e.ref===t.ref&&t.type===e.type){if(Zs=!1,!er(o,i))return t.lanes=e.lanes,Dl(e,t,o);e.flags&J&&(Zs=!0)}return al(e,t,n,r,o)}function rl(e,t,n){var r,i=t.pendingProps,o=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode||"unstable-defer-without-hiding"===i.mode)if(4&t.mode){if(!er(n,Fn)){var s;s=null!==a?nr(a.baseLanes,n):n,Kd(Fn),t.lanes=t.childLanes=Fn;var l={baseLanes:s};return t.memoizedState=l,ad(t,s),null}var u={baseLanes:0};t.memoizedState=u,ad(t,null!==a?a.baseLanes:n)}else{var c={baseLanes:0};t.memoizedState=c,ad(t,n)}else null!==a?(r=nr(a.baseLanes,n),t.memoizedState=null):r=n,ad(t,r);return Js(e,t,o,n),t.child}Vs={},Hs={},Gs={},$s={},Ys={},qs=!1,Ks={},Xs={};var il=rl;function ol(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=$)}function al(e,t,n,r,i){if(t.type!==t.elementType){var o=n.propTypes;o&&Zt(o,r,"prop",H(n))}var a,s;if(a=hn(t,dn(0,n,!0)),Mi(t,i),Qs.current=t,Jr(!0),s=_a(e,t,n,r,a,i),1&t.mode){jt();try{s=_a(e,t,n,r,a,i)}finally{Ft()}}return Jr(!1),null===e||Zs?(t.flags|=1,Js(e,t,s,i),t.child):(Ra(e,t,i),Dl(e,t,i))}function sl(e,t,n,r,i){if(t.type!==t.elementType){var o=n.propTypes;o&&Zt(o,r,"prop",H(n))}var a,s;gn(n)?(a=!0,wn(t)):a=!1,Mi(t,i),null===t.stateNode?(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),po(t,n,r),vo(t,n,r,i),s=!0):s=null===e?function(e,t,n,r){var i=e.stateNode,o=e.memoizedProps;i.props=o;var a=i.context,s=t.contextType,l=sn;l="object"==typeof s&&null!==s?Ti(s):hn(e,dn(0,t,!0));var u=t.getDerivedStateFromProps,c="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;c||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||o===n&&a===l||go(e,i,n,l),Bi();var d=e.memoizedState,f=i.state=d;if(ji(e,n,i,r),f=e.memoizedState,o===n&&d===f&&!pn()&&!Ui())return"function"==typeof i.componentDidMount&&(e.flags|=4),!1;"function"==typeof u&&(ro(e,t,u,n),f=e.memoizedState);var h=Ui()||fo(e,t,o,n,d,f,l);return h?(c||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(e.flags|=4)):("function"==typeof i.componentDidMount&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=f),i.props=n,i.state=f,i.context=l,h}(t,n,r,i):function(e,t,n,r,i){var o=t.stateNode;Ai(e,t);var a=t.memoizedProps,s=t.type===t.elementType?a:di(t.type,a);o.props=s;var l=t.pendingProps,u=o.context,c=n.contextType,d=sn;d="object"==typeof c&&null!==c?Ti(c):hn(t,dn(0,n,!0));var f=n.getDerivedStateFromProps,h="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||a===l&&u===d||go(t,o,r,d),Bi();var p=t.memoizedState,g=o.state=p;if(ji(t,r,o,i),g=t.memoizedState,a===l&&p===g&&!pn()&&!Ui())return"function"==typeof o.componentDidUpdate&&(a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4)),"function"==typeof o.getSnapshotBeforeUpdate&&(a===e.memoizedProps&&p===e.memoizedState||(t.flags|=Y)),!1;"function"==typeof f&&(ro(t,n,f,r),g=t.memoizedState);var v=Ui()||fo(t,n,s,r,p,g,d);return v?(h||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,g,d),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,g,d)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=Y)):("function"==typeof o.componentDidUpdate&&(a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4)),"function"==typeof o.getSnapshotBeforeUpdate&&(a===e.memoizedProps&&p===e.memoizedState||(t.flags|=Y)),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=d,v}(e,t,n,r,i);var l=ll(e,t,n,s,a,i),c=t.stateNode;return s&&c.props!==r&&(qs||u("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",H(t.type)||"a component"),qs=!0),l}function ll(e,t,n,r,i,o){ol(e,t);var a=!!(t.flags&G);if(!r&&!a)return i&&xn(t,n,!1),Dl(e,t,o);var s,l=t.stateNode;if(Qs.current=t,a&&"function"!=typeof n.getDerivedStateFromError)s=null,Bs();else{if(Jr(!0),s=l.render(),1&t.mode){jt();try{l.render()}finally{Ft()}}Jr(!1)}return t.flags|=1,null!==e&&a?function(e,t,n,r){t.child=Eo(t,e.child,null,r),t.child=Eo(t,null,n,r)}(e,t,s,o):Js(e,t,s,o),t.memoizedState=l.state,i&&xn(t,n,!0),t.child}function ul(e){var t=e.stateNode;t.pendingContext?yn(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yn(e,t.context,!1),_o(e,t.containerInfo)}function cl(e,t,n){ul(t);var r=t.updateQueue;if(null===e||null===r)throw Error("If the root does not have an updateQueue, we should have already bailed out. This error is likely caused by a bug in React. Please file an issue.");var i=t.pendingProps,o=t.memoizedState,a=null!==o?o.element:null;Ai(e,t),ji(t,i,null,n);var s=t.memoizedState.element;if(s===a)return aa(),Dl(e,t,n);var l=t.stateNode;if(l.hydrate&&function(e){if(!Me)return!1;var t=e.stateNode.containerInfo;return Zo=ht(t),Qo=e,Jo=!0,!0}(t)){if(Me){var u=l.mutableSourceEagerHydrationData;if(null!=u)for(var c=0;c<u.length;c+=2)da(u[c],u[c+1])}var d=ko(t,null,s,n);t.child=d;for(var f=d;f;)f.flags=-3&f.flags|X,f=f.sibling}else Js(e,t,s,n),aa();return t.child}function dl(e,t,n,r,i){null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2);var o=t.pendingProps,a=n,s=a._payload,l=(0,a._init)(s);t.type=l;var u=t.tag=function(e){if("function"==typeof e)return Nf(e)?1:0;if(null!=e){var t=e.$$typeof;if(t===_)return f;if(t===D)return g}return 2}(l),c=di(l,o);switch(u){case 0:return fl(t,l),t.type=l=df(l),al(null,t,l,c,i);case 1:return t.type=l=ff(l),sl(null,t,l,c,i);case f:return t.type=l=hf(l),el(null,t,l,c,i);case g:if(t.type!==t.elementType){var d=l.propTypes;d&&Zt(d,c,"prop",H(l))}return tl(null,t,l,di(l.type,c),r,i)}var h="";throw null!==l&&"object"==typeof l&&l.$$typeof===L&&(h=" Did you wrap a component in React.lazy() more than once?"),Error("Element type is invalid. Received a promise that resolves to: "+l+". Lazy element type must resolve to a class or function."+h)}function fl(e,t){if(t&&t.childContextTypes&&u("%s(...): childContextTypes cannot be defined on a function component.",t.displayName||t.name||"Component"),null!==e.ref){var n="",r=function(){if(null===qr)return null;var e=qr._debugOwner;return null!=e?H(e.type):null}();r&&(n+="\n\nCheck the render method of `"+r+"`.");var i=r||e._debugID||"",o=e._debugSource;o&&(i=o.fileName+":"+o.lineNumber),Ys[i]||(Ys[i]=!0,u("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",n))}if("function"==typeof t.getDerivedStateFromProps){var a=H(t)||"Unknown";$s[a]||(u("%s: Function components do not support getDerivedStateFromProps.",a),$s[a]=!0)}if("object"==typeof t.contextType&&null!==t.contextType){var s=H(t)||"Unknown";Gs[s]||(u("%s: Function components do not support contextType.",s),Gs[s]=!0)}}var hl={dehydrated:null,retryLane:0};function pl(e){return{baseLanes:e}}function gl(e,t){return{baseLanes:nr(e.baseLanes,t)}}function vl(e,t){return rr(e.childLanes,t)}function ml(e,t,n){var r=t.pendingProps;Hf(t)&&(t.flags|=G);var i=Fo.current,o=!1;if(t.flags&G||function(e,t){return(null===t||null!==t.memoizedState)&&Bo(e,jo)}(i,e)?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0!==r.fallback&&!0!==r.unstable_avoidThisFallback&&(i|=zo),Vo(t,i=Uo(i)),null===e){void 0!==r.fallback&&ra(t);var a=r.children,s=r.fallback;if(o){var l=yl(t,a,s,n);return t.child.memoizedState=pl(n),t.memoizedState=hl,l}if("number"==typeof r.unstable_expectedLoadTime){var u=yl(t,a,s,n);return t.child.memoizedState=pl(n),t.memoizedState=hl,t.lanes=Dn,Kd(Dn),u}return function(e,t,n){var r=Df({mode:"visible",children:t},e.mode,n,null);return r.return=e,e.child=r,r}(t,a,n)}if(null!==e.memoizedState){if(o){var c=r.fallback,d=xl(e,t,r.children,c,n),f=t.child,h=e.child.memoizedState;return f.memoizedState=null===h?pl(n):gl(h,n),f.childLanes=vl(e,n),t.memoizedState=hl,d}var p=wl(e,t,r.children,n);return t.memoizedState=null,p}if(o){var g=r.fallback,v=xl(e,t,r.children,g,n),m=t.child,y=e.child.memoizedState;return m.memoizedState=null===y?pl(n):gl(y,n),m.childLanes=vl(e,n),t.memoizedState=hl,v}var b=wl(e,t,r.children,n);return t.memoizedState=null,b}function yl(e,t,n,r){var i,o,a=e.mode,s=e.child,l={mode:"hidden",children:t};return 2&a||null===s?(i=Df(l,a,0,null),o=Af(n,a,r,null)):((i=s).childLanes=0,i.pendingProps=l,8&e.mode&&(i.actualDuration=0,i.actualStartTime=-1,i.selfBaseDuration=0,i.treeBaseDuration=0),o=Af(n,a,r,null)),i.return=e,o.return=e,i.sibling=o,e.child=i,o}function bl(e,t){return Pf(e,t)}function wl(e,t,n,r){var i=e.child,o=i.sibling,a=bl(i,{mode:"visible",children:n});return 2&t.mode||(a.lanes=r),a.return=t,a.sibling=null,null!==o&&(o.nextEffect=null,o.flags=8,t.firstEffect=t.lastEffect=o),t.child=a,a}function xl(e,t,n,r,i){var o,a,s=t.mode,l=e.child,u=l.sibling,c={mode:"hidden",children:n};if(2&s||t.child===l)o=bl(l,c);else{(o=t.child).childLanes=0,o.pendingProps=c,8&t.mode&&(o.actualDuration=0,o.actualStartTime=-1,o.selfBaseDuration=l.selfBaseDuration,o.treeBaseDuration=l.treeBaseDuration);var d=o.lastEffect;null!==d?(t.firstEffect=o.firstEffect,t.lastEffect=d,d.nextEffect=null):t.firstEffect=t.lastEffect=null}return null!==u?a=Pf(u,r):(a=Af(r,s,i,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,a}function El(e,t){e.lanes=nr(e.lanes,t);var n=e.alternate;null!==n&&(n.lanes=nr(n.lanes,t)),Si(e.return,t)}function kl(e,t){var n=Array.isArray(e),r=!n&&"function"==typeof W(e);if(n||r){var i=n?"array":"iterable";return u("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",i,t,i),!1}return!0}function Sl(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Ml(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail,a=r.children;!function(e){if(void 0!==e&&"forwards"!==e&&"backwards"!==e&&"together"!==e&&!Ks[e])if(Ks[e]=!0,"string"==typeof e)switch(e.toLowerCase()){case"together":case"forwards":case"backwards":u('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',e,e.toLowerCase());break;case"forward":case"backward":u('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',e,e.toLowerCase());break;default:u('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}else u('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}(i),function(e,t){void 0===e||Xs[e]||("collapsed"!==e&&"hidden"!==e?(Xs[e]=!0,u('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',e)):"forwards"!==t&&"backwards"!==t&&(Xs[e]=!0,u('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',e)))}(o,i),function(e,t){if(("forwards"===t||"backwards"===t)&&null!=e&&!1!==e)if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(!kl(e[n],n))return}else{var r=W(e);if("function"==typeof r){var i=r.call(e);if(i)for(var o=i.next(),a=0;!o.done;o=i.next()){if(!kl(o.value,a))return;a++}}else u('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',t)}}(a,i),Js(e,t,a,n);var s=Fo.current;if(Bo(s,jo)?(s=Wo(s,jo),t.flags|=G):(null!==e&&!!(e.flags&G)&&function(e,t,n){for(var r=t;null!==r;){if(r.tag===p)null!==r.memoizedState&&El(r,n);else if(r.tag===y)El(r,n);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)return;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}(t,t.child,n),s=Uo(s)),Vo(t,s),2&t.mode)switch(i){case"forwards":var l,c=function(e){for(var t=e,n=null;null!==t;){var r=t.alternate;null!==r&&null===$o(r)&&(n=t),t=t.sibling}return n}(t.child);null===c?(l=t.child,t.child=null):(l=c.sibling,c.sibling=null),Sl(t,!1,l,c,o,t.lastEffect);break;case"backwards":var d=null,f=t.child;for(t.child=null;null!==f;){var h=f.alternate;if(null!==h&&null===$o(h)){t.child=f;break}var g=f.sibling;f.sibling=d,d=f,f=g}Sl(t,!0,d,null,o,t.lastEffect);break;case"together":Sl(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}var Tl=!1;function Cl(e,t,n){var r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value;"value"in i||Tl||(Tl=!0,u("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var s=t.type.propTypes;if(s&&Zt(s,i,"prop","Context.Provider"),Ei(t,a),null!==o){var l=function(e,t,n){if(Wr(n,t))return 0;var r="function"==typeof e._calculateChangedBits?e._calculateChangedBits(n,t):hi;return(r&hi)!==r&&u("calculateChangedBits: Expected the return value to be a 31-bit integer. Instead received: %s",r),0|r}(r,a,o.value);if(0===l){if(o.children===i.children&&!pn())return Dl(e,t,n)}else!function(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=void 0,a=i.dependencies;if(null!==a){o=i.child;for(var s=a.firstContext;null!==s;){if(s.context===t&&s.observedBits&n){if(1===i.tag){var l=Di(Bn,Zn(r));l.tag=Oi,Li(i,l)}i.lanes=nr(i.lanes,r);var u=i.alternate;null!==u&&(u.lanes=nr(u.lanes,r)),Si(i.return,r),a.lanes=nr(a.lanes,r);break}s=s.next}}else o=i.tag===d&&i.type===e.type?null:i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}var c=o.sibling;if(null!==c){c.return=o.return,o=c;break}o=o.return}i=o}}(t,r,l,n)}return Js(e,t,i.children,n),t.child}var Nl,Pl,Ol,_l,Rl=!1;function Al(){Zs=!0}function Dl(e,t,n){return null!==e&&(t.dependencies=e.dependencies),Bs(),pd(t.lanes),er(n,t.childLanes)?(function(e,t){if(null!==e&&t.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==t.child){var n=t.child,r=Pf(n,n.pendingProps);for(t.child=r,r.return=t;null!==n.sibling;)n=n.sibling,(r=r.sibling=Pf(n,n.pendingProps)).return=t;r.sibling=null}}(e,t),t.child):null}function Ll(e,t,n){var r=t.lanes;if(t._debugNeedsRemount&&null!==e)return function(e,t,n){var r=t.return;if(null===r)throw new Error("Cannot swap the root fiber.");if(e.alternate=null,t.alternate=null,n.index=t.index,n.sibling=t.sibling,n.return=t.return,n.ref=t.ref,t===r.child)r.child=n;else{var i=r.child;if(null===i)throw new Error("Expected parent to have a child.");for(;i.sibling!==t;)if(null===(i=i.sibling))throw new Error("Expected to find the previous sibling.");i.sibling=n}var o=r.lastEffect;return null!==o?(o.nextEffect=e,r.lastEffect=e):r.firstEffect=r.lastEffect=e,e.nextEffect=null,e.flags=8,n.flags|=2,n}(e,t,_f(t.type,t.key,t.pendingProps,t._debugOwner||null,t.mode,t.lanes));if(null!==e)if(e.memoizedProps!==t.pendingProps||pn()||t.type!==e.type)Zs=!0;else{if(!er(n,r)){switch(Zs=!1,t.tag){case 3:ul(t),aa();break;case 5:Do(t);break;case 1:gn(t.type)&&wn(t);break;case 4:_o(t,t.stateNode.containerInfo);break;case d:Ei(t,t.memoizedProps.value);break;case h:er(n,t.childLanes)&&(t.flags|=4);var i=t.stateNode;i.effectDuration=0,i.passiveEffectDuration=0;break;case p:if(null!==t.memoizedState){if(er(n,t.child.childLanes))return ml(e,t,n);Vo(t,Uo(Fo.current));var o=Dl(e,t,n);return null!==o?o.sibling:null}Vo(t,Uo(Fo.current));break;case y:var a=!!(e.flags&G),s=er(n,t.childLanes);if(a){if(s)return Ml(e,t,n);t.flags|=G}var l=t.memoizedState;if(null!==l&&(l.rendering=null,l.tail=null,l.lastEffect=null),Vo(t,Fo.current),s)break;return null;case x:case E:return t.lanes=0,rl(e,t,n)}return Dl(e,t,n)}Zs=!!(e.flags&J)}else Zs=!1;switch(t.lanes=0,t.tag){case 2:return function(e,t,n,r){null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2);var i,o,a=t.pendingProps;if(i=hn(t,dn(0,n,!1)),Mi(t,r),n.prototype&&"function"==typeof n.prototype.render){var s=H(n)||"Unknown";Vs[s]||(u("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",s,s),Vs[s]=!0)}if(1&t.mode&&ei.recordLegacyContextWarning(t,null),Jr(!0),Qs.current=t,o=_a(null,t,n,a,i,r),Jr(!1),t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){var l=H(n)||"Unknown";Hs[l]||(u("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",l,l,l),Hs[l]=!0)}if("object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){var c=H(n)||"Unknown";Hs[c]||(u("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",c,c,c),Hs[c]=!0),t.tag=1,t.memoizedState=null,t.updateQueue=null;var d=!1;gn(n)?(d=!0,wn(t)):d=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ri(t);var f=n.getDerivedStateFromProps;return"function"==typeof f&&ro(t,n,f,a),ho(t,o),vo(t,n,a,r),ll(null,t,n,!0,d,r)}if(t.tag=0,1&t.mode){jt();try{o=_a(null,t,n,a,i,r)}finally{Ft()}}return Js(null,t,o,r),fl(t,n),t.child}(e,t,t.type,n);case 16:return dl(e,t,t.elementType,r,n);case 0:var c=t.type,k=t.pendingProps;return al(e,t,c,t.elementType===c?k:di(c,k),n);case 1:var S=t.type,M=t.pendingProps;return sl(e,t,S,t.elementType===S?M:di(S,M),n);case 3:return cl(e,t,n);case 5:return function(e,t,n){Do(t),null===e&&ra(t);var r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children;return ve(r,i)?a=null:null!==o&&ve(r,o)&&(t.flags|=16),ol(e,t),Js(e,t,a,n),t.child}(e,t,n);case 6:return function(e,t){return null===e&&ra(t),null}(e,t);case p:return ml(e,t,n);case 4:return function(e,t,n){_o(t,t.stateNode.containerInfo);var r=t.pendingProps;return null===e?t.child=Eo(t,null,r,n):Js(e,t,r,n),t.child}(e,t,n);case f:var T=t.type,C=t.pendingProps;return el(e,t,T,t.elementType===T?C:di(T,C),n);case 7:return function(e,t,n){return Js(e,t,t.pendingProps,n),t.child}(e,t,n);case 8:return function(e,t,n){return Js(e,t,t.pendingProps.children,n),t.child}(e,t,n);case h:return function(e,t,n){t.flags|=4;var r=t.stateNode;return r.effectDuration=0,r.passiveEffectDuration=0,Js(e,t,t.pendingProps.children,n),t.child}(e,t,n);case d:return Cl(e,t,n);case 9:return function(e,t,n){var r=t.type;void 0===r._context?r!==r.Consumer&&(Rl||(Rl=!0,u("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):r=r._context;var i=t.pendingProps,o=i.children;"function"!=typeof o&&u("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Mi(t,n);var a,s=Ti(r,i.unstable_observedBits);return Qs.current=t,Jr(!0),a=o(s),Jr(!1),t.flags|=1,Js(e,t,a,n),t.child}(e,t,n);case g:var N=t.type,P=di(N,t.pendingProps);if(t.type!==t.elementType){var O=N.propTypes;O&&Zt(O,P,"prop",H(N))}return tl(e,t,N,P=di(N.type,P),r,n);case v:return nl(e,t,t.type,t.pendingProps,r,n);case m:var _=t.type,R=t.pendingProps;return function(e,t,n,r,i){var o;return null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gn(n)?(o=!0,wn(t)):o=!1,Mi(t,i),po(t,n,r),vo(t,n,r,i),ll(null,t,n,!0,o,i)}(e,t,_,t.elementType===_?R:di(_,R),n);case y:return Ml(e,t,n);case b:case 21:case w:break;case x:return rl(e,t,n);case E:return il(e,t,n)}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Il(e){e.flags|=4}function zl(e){e.flags|=$}if(ke)Nl=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)he(e,i.stateNode);else if(4===i.tag);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)return;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Pl=function(e){},Ol=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var a=t.stateNode,s=Ao(),l=ge(a,n,o,r,i,s);t.updateQueue=l,l&&Il(t)}},_l=function(e,t,n,r){n!==r&&Il(t)};else if(Se){Nl=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;if(n&&r){var a=i.memoizedProps,s=i.type;o=at(o,s,a,i)}he(e,o)}else if(6===i.tag){var l=i.stateNode;if(n&&r){var u=i.memoizedProps;l=st(l,u,i)}he(e,l)}else if(4===i.tag);else if(i.tag===p){if(4&i.flags){var c=null!==i.memoizedState;if(c){var d=i.child;if(null!==d){null!==d.child&&(d.child.return=d,Nl(e,d,!0,c));var f=d.sibling;if(null!==f){f.return=i,i=f;continue}}}}if(null!==i.child){i.child.return=i,i=i.child;continue}}else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)return;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var jl=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;if(n&&r){var a=i.memoizedProps,s=i.type;o=at(o,s,a,i)}rt(e,o)}else if(6===i.tag){var l=i.stateNode;if(n&&r){var u=i.memoizedProps;l=st(l,u,i)}rt(e,l)}else if(4===i.tag);else if(i.tag===p){if(4&i.flags){var c=null!==i.memoizedState;if(c){var d=i.child;if(null!==d){null!==d.child&&(d.child.return=d,jl(e,d,!0,c));var f=d.sibling;if(null!==f){f.return=i,i=f;continue}}}}if(null!==i.child){i.child.return=i,i=i.child;continue}}else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)return;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Pl=function(e){var t=e.stateNode;if(null===e.firstEffect);else{var n=t.containerInfo,r=nt(n);jl(r,e,!1,!1),t.pendingChildren=r,Il(e),it(n,r)}},Ol=function(e,t,n,r,i){var o=e.stateNode,a=e.memoizedProps,s=null===t.firstEffect;if(s&&a===r)t.stateNode=o;else{var l=t.stateNode,u=Ao(),c=null;if(a!==r&&(c=ge(l,n,a,r,i,u)),s&&null===c)t.stateNode=o;else{var d=tt(o,c,n,a,r,t,s,l);pe(d,n,r,i,u)&&Il(t),t.stateNode=d,s?Il(t):Nl(d,t,!1,!1)}}},_l=function(e,t,n,r){if(n!==r){var i=Oo(),o=Ao();t.stateNode=me(r,i,o,t),Il(t)}else t.stateNode=e.stateNode}}else Pl=function(e){},Ol=function(e,t,n,r,i){},_l=function(e,t,n,r){};function Fl(e,t){if(!sa())switch(e.tailMode){case"hidden":for(var n=e.tail,r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":for(var i=e.tail,o=null;null!==i;)null!==i.alternate&&(o=i),i=i.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Bl(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case v:case 0:case f:case 7:case 8:case h:case 9:case g:return null;case 1:return gn(t.type)&&vn(t),null;case 3:Ro(t),mn(t),ca();var i=t.stateNode;return i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===e||null===e.child)&&(oa(t)?Il(t):i.hydrate||(t.flags|=Y)),Pl(t),null;case 5:Lo(t);var o=Oo(),a=t.type;if(null!==e&&null!=t.stateNode)Ol(e,t,a,r,o),e.ref!==t.ref&&zl(t);else{if(!r){if(null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return null}var s=Ao();if(oa(t))(function(e,t,n){if(!Me)throw Error("Expected prepareToHydrateHostInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var r=e.stateNode,i=pt(r,e.type,e.memoizedProps,t,n,e);return e.updateQueue=i,null!==i})(t,o,s)&&Il(t);else{var l=fe(a,r,o,s,t);Nl(l,t,!1,!1),t.stateNode=l,pe(l,a,r,o,s)&&Il(t)}null!==t.ref&&zl(t)}return null;case 6:var u=r;if(e&&null!=t.stateNode){var c=e.memoizedProps;_l(e,t,c,u)}else{if("string"!=typeof u&&null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var k=Oo(),S=Ao();oa(t)?function(e){if(!Me)throw Error("Expected prepareToHydrateHostTextInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var t=e.stateNode,n=e.memoizedProps,r=gt(t,n,e);if(r){var i=Qo;if(null!==i)switch(i.tag){case 3:var o=i.stateNode.containerInfo;Tt(o,t,n);break;case 5:var a=i.type,s=i.memoizedProps,l=i.stateNode;Ct(a,s,l,t,n)}}return r}(t)&&Il(t):t.stateNode=me(u,k,S,t)}return null;case p:Ho(t);var M=t.memoizedState;if(t.flags&G)return t.lanes=n,8&t.mode&&Ws(t),t;var T=null!==M,C=!1;return null===e?void 0!==t.memoizedProps.fallback&&oa(t):C=null!==e.memoizedState,T&&!C&&2&t.mode&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||Bo(Fo.current,zo)?hc===tc&&(hc=ic):(hc!==tc&&hc!==ic||(hc=oc),null!==lc&&(Kn(vc)||Kn(mc))&&nd(lc,cc))),Se&&T&&(t.flags|=4),ke&&(T||C)&&(t.flags|=4),null;case 4:return Ro(t),Pl(t),null===e&&_e(t.stateNode.containerInfo),null;case d:return ki(t),null;case m:return gn(t.type)&&vn(t),null;case y:Ho(t);var N=t.memoizedState;if(null===N)return null;var P=!!(t.flags&G),O=N.rendering;if(null===O)if(P)Fl(N,!1);else{if(hc!==tc||null!==e&&e.flags&G)for(var _=t.child;null!==_;){var R=$o(_);if(null!==R){P=!0,t.flags|=G,Fl(N,!1);var A=R.updateQueue;return null!==A&&(t.updateQueue=A,t.flags|=4),null===N.lastEffect&&(t.firstEffect=null),t.lastEffect=N.lastEffect,So(t,n),Vo(t,Wo(Fo.current,jo)),t.child}_=_.sibling}null!==N.tail&&Ar()>Mc()&&(t.flags|=G,P=!0,Fl(N,!1),t.lanes=Dn,Kd(Dn))}else{if(!P){var D=$o(O);if(null!==D){t.flags|=G,P=!0;var L=D.updateQueue;if(null!==L&&(t.updateQueue=L,t.flags|=4),Fl(N,!0),null===N.tail&&"hidden"===N.tailMode&&!O.alternate&&!sa()){var I=t.lastEffect=N.lastEffect;return null!==I&&(I.nextEffect=null),null}}else 2*Ar()-N.renderingStartTime>Mc()&&n!==Fn&&(t.flags|=G,P=!0,Fl(N,!1),t.lanes=Dn,Kd(Dn))}if(N.isBackwards)O.sibling=t.child,t.child=O;else{var z=N.last;null!==z?z.sibling=O:t.child=O,N.last=O}}if(null!==N.tail){var j=N.tail;N.rendering=j,N.tail=j.sibling,N.lastEffect=t.lastEffect,N.renderingStartTime=Ar(),j.sibling=null;var F=Fo.current;return Vo(t,F=P?Wo(F,jo):Uo(F)),j}return null;case b:case 21:case w:break;case x:case E:if(sd(t),null!==e){var B=t.memoizedState;null!==e.memoizedState!=(null!==B)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4)}return null}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Ul(e,t){switch(e.tag){case 1:gn(e.type)&&vn(e);var n=e.flags;return n&Z?(e.flags=-4097&n|G,8&e.mode&&Ws(e),e):null;case 3:Ro(e),mn(e),ca();var r=e.flags;if(r&G)throw Error("The root failed to unmount after an error. This is likely a bug in React. Please file an issue.");return e.flags=-4097&r|G,e;case 5:return Lo(e),null;case p:Ho(e);var i=e.flags;return i&Z?(e.flags=-4097&i|G,8&e.mode&&Ws(e),e):null;case y:return Ho(e),null;case 4:return Ro(e),null;case d:return ki(e),null;case x:case E:return sd(e),null;default:return null}}function Wl(e){switch(e.tag){case 1:null!=e.type.childContextTypes&&vn(e);break;case 3:Ro(e),mn(e),ca();break;case 5:Lo(e);break;case 4:Ro(e);break;case p:case y:Ho(e);break;case d:ki(e);break;case x:case E:sd(e)}}function Vl(e,t){return{value:e,source:t,stack:$r(t)}}function Hl(e,t){try{var n=t.value,r=t.source,i=t.stack,o=null!==i?i:"";if(null!=n&&n._suppressLogging){if(1===e.tag)return;console.error(n)}var a=r?H(r.type):null,s=a?"The above error occurred in the <"+a+"> component:":"The above error occurred in one of your React components:",l=H(e.type),u=s+"\n"+o+"\n\n"+(l?"React will try to recreate this component tree from scratch using the error boundary you provided, "+l+".":"Consider adding an error boundary to your tree to customize error handling behavior.\nVisit https://reactjs.org/link/error-boundaries to learn more about error boundaries.");console.error(u)}catch(e){setTimeout((function(){throw e}))}}var Gl="function"==typeof WeakMap?WeakMap:Map;function $l(e,t,n){var r=Di(Bn,n);r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Rd(i),Hl(e,t)},r}function Yl(e,t,n){var r=Di(Bn,n);r.tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var o=t.value;r.payload=function(){return Hl(e,t),i(o)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch?r.callback=function(){var n;gf(e),"function"!=typeof i&&(n=this,null===Pc?Pc=new Set([n]):Pc.add(n),Hl(e,t));var r=t.value,o=t.stack;this.componentDidCatch(r,{componentStack:null!==o?o:""}),"function"!=typeof i&&(er(e.lanes,1)||u("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",H(e.type)||"Unknown"))}:r.callback=function(){gf(e)},r}function ql(e,t,n){var r,i=e.pingCache;if(null===i?(i=e.pingCache=new Gl,r=new Set,i.set(t,r)):void 0===(r=i.get(t))&&(r=new Set,i.set(t,r)),!r.has(n)){r.add(n);var o=Ld.bind(null,e,t,n);t.then(o,o)}}function Kl(e,t,n,r,i){if(n.flags|=Q,n.firstEffect=n.lastEffect=null,null!==r&&"object"==typeof r&&"function"==typeof r.then){var o=r;if(!(2&n.mode)){var a=n.alternate;a?(n.updateQueue=a.updateQueue,n.memoizedState=a.memoizedState,n.lanes=a.lanes):(n.updateQueue=null,n.memoizedState=null)}var s=Bo(Fo.current,zo),l=t;do{if(l.tag===p&&Go(l,s)){var u=l.updateQueue;if(null===u){var c=new Set;c.add(o),l.updateQueue=c}else u.add(o);if(!(2&l.mode)){if(l.flags|=G,n.flags|=J,n.flags&=-2981,1===n.tag)if(null===n.alternate)n.tag=m;else{var d=Di(Bn,1);d.tag=Oi,Li(n,d)}return void(n.lanes=nr(n.lanes,1))}return ql(e,o,i),l.flags|=Z,void(l.lanes=i)}l=l.return}while(null!==l);r=new Error((H(n.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}hc!==ac&&(hc=rc),r=Vl(r,n);var f=t;do{switch(f.tag){case 3:var h=r;f.flags|=Z;var g=Zn(i);return f.lanes=nr(f.lanes,g),void Ii(f,$l(f,h,g));case 1:var v=r,y=f.type,b=f.stateNode;if(!(f.flags&G||"function"!=typeof y.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||_d(b)))){f.flags|=Z;var w=Zn(i);return f.lanes=nr(f.lanes,w),void Ii(f,Yl(f,v,w))}}f=f.return}while(null!==f)}function Xl(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Ql=Xl;if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var Zl=document.createElement("react");Ql=function(e,t,n,r,i,o,a,s,l){if("undefined"==typeof document)throw Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var u=document.createEvent("Event"),c=!1,d=!0,f=window.event,h=Object.getOwnPropertyDescriptor(window,"event");function p(){Zl.removeEventListener(x,m,!1),void 0!==window.event&&window.hasOwnProperty("event")&&(window.event=f)}var g,v=Array.prototype.slice.call(arguments,3);function m(){c=!0,p(),t.apply(n,v),d=!1}var y=!1,b=!1;function w(e){if(g=e.error,y=!0,null===g&&0===e.colno&&0===e.lineno&&(b=!0),e.defaultPrevented&&null!=g&&"object"==typeof g)try{g._suppressLogging=!0}catch(e){}}var x="react-"+(e||"invokeguardedcallback");if(window.addEventListener("error",w),Zl.addEventListener(x,m,!1),u.initEvent(x,!1,!1),Zl.dispatchEvent(u),h&&Object.defineProperty(window,"event",h),c&&d&&(y?b&&(g=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):g=new Error("An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the \"Pause on exceptions\" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue."),this.onError(g)),window.removeEventListener("error",w),!c)return p(),Xl.apply(this,arguments)}}var Jl=Ql,eu=!1,tu=null,nu={onError:function(e){eu=!0,tu=e}};function ru(e,t,n,r,i,o,a,s,l){eu=!1,tu=null,Jl.apply(nu,arguments)}function iu(){return eu}function ou(){if(eu){var e=tu;return eu=!1,tu=null,e}throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}var au=null;au=new Set;var su="function"==typeof WeakSet?WeakSet:Set,lu=function(e,t){t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()};function uu(e){var t=e.ref;null!==t&&("function"==typeof t?(ru(null,t,null,null),iu()&&Dd(e,ou())):t.current=null)}function cu(e,t){ru(null,t,null),iu()&&Dd(e,ou())}function du(e,t){switch(t.tag){case 0:case f:case v:case w:return;case 1:if(t.flags&Y&&null!==e){var n=e.memoizedProps,r=e.memoizedState,i=t.stateNode;t.type!==t.elementType||qs||(i.props!==t.memoizedProps&&u("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",H(t.type)||"instance"),i.state!==t.memoizedState&&u("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",H(t.type)||"instance"));var o=i.getSnapshotBeforeUpdate(t.elementType===t.type?n:di(t.type,n),r),a=au;void 0!==o||a.has(t.type)||(a.add(t.type),u("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",H(t.type))),i.__reactInternalSnapshotBeforeUpdate=o}return;case 3:if(ke&&t.flags&Y){var s=t.stateNode;et(s.containerInfo)}return;case 5:case 6:case 4:case m:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function fu(e,t){var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next,o=i;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&a()}o=o.next}while(o!==i)}}function hu(e,t,n,r){switch(n.tag){case 0:case f:case v:case w:return function(e,t){var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next,o=i;do{if((o.tag&e)===e){var a=o.create;o.destroy=a();var s=o.destroy;void 0!==s&&"function"!=typeof s&&u("An effect function must not return anything besides a function, which is used for clean-up.%s",null===s?" You returned null. If your effect does not require clean up, return undefined (or nothing).":"function"==typeof s.then?"\n\nIt looks like you wrote useEffect(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching":" You returned: "+s)}o=o.next}while(o!==i)}}(Ko|qo,n),void function(e){var t=e.updateQueue,n=null!==t?t.lastEffect:null;if(null!==n){var r=n.next,i=r;do{var o=i,a=o.next,s=o.tag;(s&Xo)!==Yo&&(s&qo)!==Yo&&(Nd(e,i),Cd(e,i)),i=a}while(i!==r)}}(n);case 1:var i=n.stateNode;if(4&n.flags)if(null===t)n.type!==n.elementType||qs||(i.props!==n.memoizedProps&&u("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",H(n.type)||"instance"),i.state!==n.memoizedState&&u("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",H(n.type)||"instance")),i.componentDidMount();else{var o=n.elementType===n.type?t.memoizedProps:di(n.type,t.memoizedProps),a=t.memoizedState;n.type!==n.elementType||qs||(i.props!==n.memoizedProps&&u("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",H(n.type)||"instance"),i.state!==n.memoizedState&&u("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",H(n.type)||"instance")),i.componentDidUpdate(o,a,i.__reactInternalSnapshotBeforeUpdate)}var s=n.updateQueue;return void(null!==s&&(n.type!==n.elementType||qs||(i.props!==n.memoizedProps&&u("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",H(n.type)||"instance"),i.state!==n.memoizedState&&u("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",H(n.type)||"instance")),Wi(0,s,i)));case 3:var l=n.updateQueue;if(null!==l){var c=null;if(null!==n.child)switch(n.child.tag){case 5:c=se(n.child.stateNode);break;case 1:c=n.child.stateNode}Wi(0,l,c)}return;case 5:var d=n.stateNode;if(null===t&&4&n.flags){var g=n.type,k=n.memoizedProps;Ve(d,g,k,n)}return;case 6:case 4:return;case h:var S=n.memoizedProps;S.onCommit;var M=S.onRender;n.stateNode.effectDuration;var T=zs();return void("function"==typeof M&&M(n.memoizedProps.id,null===t?"mount":"update",n.actualDuration,n.treeBaseDuration,n.actualStartTime,T,e.memoizedInteractions));case p:return void function(e,t){if(Me&&null===t.memoizedState){var n=t.alternate;if(null!==n){var r=n.memoizedState;if(null!==r){var i=r.dehydrated;null!==i&&yt(i)}}}}(0,n);case y:case m:case b:case 21:case x:case E:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function pu(e,t){if(ke)for(var n=e;;){if(5===n.tag){var r=n.stateNode;t?Xe(r):Ze(n.stateNode,n.memoizedProps)}else if(6===n.tag){var i=n.stateNode;t?Qe(i):Je(i,n.memoizedProps)}else if((n.tag!==x&&n.tag!==E||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)return;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function gu(e){var t=e.ref;if(null!==t){var n,r=e.stateNode;n=5===e.tag?se(r):r,"function"==typeof t?t(n):(t.hasOwnProperty("current")||u("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",H(e.type)),t.current=n)}}function vu(e){var t=e.ref;null!==t&&("function"==typeof t?t(null):t.current=null)}function mu(e,t,n){switch(function(e){if(Sn&&"function"==typeof Sn.onCommitFiberUnmount)try{Sn.onCommitFiberUnmount(kn,e)}catch(e){Mn||(Mn=!0,u("React instrumentation encountered an error: %s",e))}}(t),t.tag){case 0:case f:case g:case v:case w:var r=t.updateQueue;if(null!==r){var i=r.lastEffect;if(null!==i){var o=i.next,a=o;do{var s=a,l=s.destroy,c=s.tag;void 0!==l&&((c&Xo)!==Yo?Nd(t,a):cu(t,l)),a=a.next}while(a!==o)}}return;case 1:uu(t);var d=t.stateNode;return void("function"==typeof d.componentWillUnmount&&function(e,t){ru(null,lu,null,e,t),iu()&&Dd(e,ou())}(t,d));case 5:return void uu(t);case 4:return void(ke?Su(e,t):Se&&function(e){if(Se){var t=e.stateNode.containerInfo,n=nt(t);ot(t,n)}}(t));case b:case 18:case 21:return}}function yu(e,t,n){for(var r=t;;)if(mu(e,r),null===r.child||ke&&4===r.tag){if(r===t)return;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null,e._debugOwner=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){if(ke){var t,n,r=function(e){for(var t=e.return;null!==t;){if(wu(t))return t;t=t.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}(e),i=r.stateNode;switch(r.tag){case 5:t=i,n=!1;break;case 3:case 4:t=i.containerInfo,n=!0;break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}16&r.flags&&(Ke(t),r.flags&=-17);var o=function(e){var t=e;e:for(;;){for(;null===t.sibling;){if(null===t.return||wu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue e;if(null===t.child||4===t.tag)continue e;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}(e);n?Eu(e,o,t):ku(e,o,t)}}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i){var o=i?e.stateNode:e.stateNode.instance;t?$e(n,o,t):Ue(n,o)}else if(4===r);else{var a=e.child;if(null!==a){Eu(a,t,n);for(var s=a.sibling;null!==s;)Eu(s,t,n),s=s.sibling}}}function ku(e,t,n){var r=e.tag,i=5===r||6===r;if(i){var o=i?e.stateNode:e.stateNode.instance;t?Ge(n,o,t):Be(n,o)}else if(4===r);else{var a=e.child;if(null!==a){ku(a,t,n);for(var s=a.sibling;null!==s;)ku(s,t,n),s=s.sibling}}}function Su(e,t,n){for(var r,i,o=t,a=!1;;){if(!a){var s=o.return;e:for(;;){if(null===s)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");var l=s.stateNode;switch(s.tag){case 5:r=l,i=!1;break e;case 3:case 4:r=l.containerInfo,i=!0;break e}s=s.return}a=!0}if(5===o.tag||6===o.tag)yu(e,o),i?qe(r,o.stateNode):Ye(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(mu(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)return;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function Mu(e,t,n){ke?Su(e,t):yu(e,t);var r=t.alternate;bu(t),null!==r&&bu(r)}function Tu(e,t){if(ke){switch(t.tag){case 0:case f:case g:case v:case w:return void fu(Ko|qo,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r,o=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&He(n,a,o,i,r,t)}return;case 6:if(null===t.stateNode)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var s=t.stateNode,l=t.memoizedProps,u=null!==e?e.memoizedProps:l;return void We(s,u,l);case 3:if(Me){var c=t.stateNode;c.hydrate&&(c.hydrate=!1,mt(c.containerInfo))}return;case h:return;case p:return Cu(t),void Nu(t);case y:return void Nu(t);case m:return;case b:case 21:break;case x:case E:return void pu(t,null!==t.memoizedState)}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}switch(t.tag){case 0:case f:case g:case v:case w:return void fu(Ko|qo,t);case h:return;case p:return Cu(t),void Nu(t);case y:return void Nu(t);case 3:if(Me){var d=t.stateNode;d.hydrate&&(d.hydrate=!1,mt(d.containerInfo))}break;case x:case E:return}!function(e){if(Se){switch(e.tag){case 1:case 5:case 6:case b:return;case 3:case 4:var t=e.stateNode,n=t.containerInfo,r=t.pendingChildren;return void ot(n,r)}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}(t)}function Cu(e){null!==e.memoizedState&&(wc=Ar(),ke&&pu(e.child,!0))}function Nu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new su),t.forEach((function(t){var r=Id.bind(null,e,t);n.has(t)||(!0!==t.__reactDoNotTraceInteractions&&(r=a.unstable_wrap(r)),n.add(t),t.then(r,r))}))}}function Pu(e,t){if(null!==e){var n=e.memoizedState;if(null===n||null!==n.dehydrated){var r=t.memoizedState;return null!==r&&null===r.dehydrated}}return!1}function Ou(e){ke&&Ke(e.stateNode)}var _u=0,Ru=1,Au=2,Du=3,Lu=4;if("function"==typeof Symbol&&Symbol.for){var Iu=Symbol.for;_u=Iu("selector.component"),Ru=Iu("selector.has_pseudo_class"),Au=Iu("selector.role"),Du=Iu("selector.test_id"),Lu=Iu("selector.text")}function zu(e){var t=Te(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error("Invalid host root specified. Should be either a React container or a node with a testname attribute.");return t}var n=Ae(e);if(null===n)throw Error("Could not find React container within specified host subtree.");return n.stateNode.current}function ju(e,t){switch(t.$$typeof){case _u:if(e.type===t.value)return!0;break;case Ru:return function(e,t){for(var n=[e,0],r=0;r<n.length;){var i=n[r++],o=n[r++],a=t[o];if(5!==i.tag||!Ie(i)){for(;null!=a&&ju(i,a);)a=t[++o];if(o===t.length)return!0;for(var s=i.child;null!==s;)n.push(s,o),s=s.sibling}}return!1}(e,t.value);case Au:if(5===e.tag){var n=e.stateNode;if(ze(n,t.value))return!0}break;case Lu:if(5===e.tag||6===e.tag){var r=Le(e);if(null!==r&&r.indexOf(t.value)>=0)return!0}break;case Du:if(5===e.tag){var i=e.memoizedProps["data-testname"];if("string"==typeof i&&i.toLowerCase()===t.value.toLowerCase())return!0}break;default:throw Error("Invalid selector type "+t+" specified.")}return!1}function Fu(e){switch(e.$$typeof){case _u:return"<"+(H(e.value)||"Unknown")+">";case Ru:return":has("+(Fu(e)||"")+")";case Au:return'[role="'+e.value+'"]';case Lu:return'"'+e.value+'"';case Du:return'[data-testname="'+e.value+'"]';default:throw Error("Invalid selector type "+e+" specified.")}}function Bu(e,t){for(var n=[],r=[e,0],i=0;i<r.length;){var o=r[i++],a=r[i++],s=t[a];if(5!==o.tag||!Ie(o)){for(;null!=s&&ju(o,s);)s=t[++a];if(a===t.length)n.push(o);else for(var l=o.child;null!==l;)r.push(l,a),l=l.sibling}}return n}function Uu(e,t){if(!Re)throw Error("Test selector API is not supported by this renderer.");for(var n=Bu(zu(e),t),r=[],i=Array.from(n),o=0;o<i.length;){var a=i[o++];if(5===a.tag){if(Ie(a))continue;r.push(a.stateNode)}else for(var s=a.child;null!==s;)i.push(s),s=s.sibling}return r}var Wu=[],Vu=!1,Hu=null,Gu=Math.ceil,$u=s.ReactCurrentDispatcher,Yu=s.ReactCurrentOwner,qu=s.IsSomeRendererActing,Ku=0,Xu=4,Qu=8,Zu=16,Ju=32,ec=64,tc=0,nc=1,rc=2,ic=3,oc=4,ac=5,sc=Ku,lc=null,uc=null,cc=0,dc=0,fc=rn(0),hc=tc,pc=null,gc=0,vc=0,mc=0,yc=0,bc=null,wc=0,xc=500,Ec=1/0,kc=500;function Sc(){Ec=Ar()+kc}function Mc(){return Ec}var Tc=null,Cc=!1,Nc=null,Pc=null,Oc=!1,_c=null,Rc=90,Ac=0,Dc=[],Lc=[],Ic=null,zc=50,jc=0,Fc=null,Bc=50,Uc=0,Wc=null,Vc=Bn,Hc=0,Gc=0,$c=!1,Yc=null,qc=!1;function Kc(){return(sc&(Zu|Ju))!==Ku?Ar():Vc!==Bn?Vc:Vc=Ar()}function Xc(e){var t=e.mode;if(!(2&t))return 1;if(!(4&t))return Dr()===Sr?1:2;if(0===Hc&&(Hc=gc),0!==Ur.transition)return 0!==Gc&&(Gc=null!==bc?bc.pendingLanes:0),function(e,t){var n=Zn(Rn&~t);return 0===n&&0===(n=Zn(Rn&~e))&&(n=Zn(Rn)),n}(Hc,Gc);var n=Dr();return Qn((sc&Xu)!==Ku&&n===Mr?12:function(e){switch(e){case 99:return Pn;case 98:return On;case 97:case 96:return 8;case 95:return 2;default:return 0}}(n),Hc)}function Qc(e){var t,n=e.mode;return 2&n?4&n?(0===Hc&&(Hc=gc),0===(t=Zn(An&~Hc))&&(t=Zn(An)),t):Dr()===Sr?1:2:1}function Zc(e,t,n){!function(){if(jc>zc)throw jc=0,Fc=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Uc>Bc&&(Uc=0,u("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}(),function(e){if(Kr&&(sc&Zu)!==Ku&&!ys)switch(e.tag){case 0:case f:case v:var t=uc&&H(uc.type)||"Unknown",n=t;Ud.has(n)||(Ud.add(n),u("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",H(e.type)||"Unknown",t,t));break;case 1:Wd||(u("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),Wd=!0)}}(e);var r=Jc(e,t);if(null===r)return function(e){var t=e.tag;if(!(3!==t&&1!==t&&0!==t&&t!==f&&t!==g&&t!==v&&t!==w||e.flags&K)){var n=H(e.type)||"ReactComponent";if(null!==Bd){if(Bd.has(n))return;Bd.add(n)}else Bd=new Set([n]);if($c);else{var r=qr;try{Zr(e),u("Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in %s.",1===t?"the componentWillUnmount method":"a useEffect cleanup function")}finally{r?Zr(e):Qr()}}}}(e),null;or(r,t,n),r===lc&&(mc=nr(mc,t),hc===oc&&nd(r,cc));var i=Dr();1===t?(sc&Qu)!==Ku&&(sc&(Zu|Ju))===Ku?(Qd(r,t),rd(r)):(ed(r,n),Qd(r,t),sc===Ku&&(Sc(),Fr())):((sc&Xu)===Ku||i!==Mr&&i!==Sr||(null===Ic?Ic=new Set([r]):Ic.add(r)),ed(r,n),Qd(r,t)),bc=r}function Jc(e,t){e.lanes=nr(e.lanes,t);var n=e.alternate;null!==n&&(n.lanes=nr(n.lanes,t)),null===n&&1026&e.flags&&jd(e);for(var r=e,i=e.return;null!==i;)i.childLanes=nr(i.childLanes,t),null!==(n=i.alternate)?n.childLanes=nr(n.childLanes,t):1026&i.flags&&jd(e),r=i,i=i.return;return 3===r.tag?r.stateNode:null}function ed(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.pendingLanes,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=n;a>0;){var s=Jn(a),l=1<<s,u=o[s];u===Bn?l&r&&!(l&i)||(o[s]=Yn(l,t)):u<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var r=$n(e,e===lc?cc:0),i=Hn;if(0!==r){if(null!==n){if(e.callbackPriority===i)return;jr(n)}var o,a;i===Pn?(a=rd.bind(null,e),null===Pr?(Pr=[a],Or=fr(yr,Br)):Pr.push(a),o=kr):o=14===i?zr(Sr,rd.bind(null,e)):zr(function(e){switch(e){case Pn:case 14:return 99;case 13:case 12:case 11:case On:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error("Invalid update priority: "+e+". This is a bug in React.")}}(i),td.bind(null,e)),e.callbackPriority=i,e.callbackNode=o}else null!==n&&(jr(n),e.callbackNode=null,e.callbackPriority=0)}function td(e){if(Vc=Bn,Hc=0,Gc=0,(sc&(Zu|Ju))!==Ku)throw Error("Should not already be working.");var t=e.callbackNode;if(Td()&&e.callbackNode!==t)return null;var n=$n(e,e===lc?cc:0);if(0===n)return null;var r=function(e,t){var n=sc;sc|=Zu;var r=cd();lc===e&&cc===t||(Sc(),ld(e,t),Zd(e,t));for(var i=fd(e);;)try{md();break}catch(t){ud(e,t)}return bi(),hd(i),dd(r),sc=n,null!==uc?tc:(lc=null,cc=0,hc)}(e,n);if(er(gc,mc))ld(e,0);else if(r!==tc){if(r===rc&&(sc|=ec,e.hydrate&&(e.hydrate=!1,et(e.containerInfo)),0!==(n=qn(e))&&(r=gd(e,n))),r===nc){var i=pc;throw ld(e,0),nd(e,n),ed(e,Ar()),i}var o=e.current.alternate;e.finishedWork=o,e.finishedLanes=n,function(e,t,n){switch(t){case tc:case nc:throw Error("Root did not complete. This is a bug in React.");case rc:xd(e);break;case ic:if(nd(e,n),Xn(n)&&!ef()){var r=wc+xc-Ar();if(r>10){if(0!==$n(e,0))break;var i=e.suspendedLanes;if(!tr(i,n)){Kc(),ar(e,i);break}e.timeoutHandle=ye(xd.bind(null,e),r);break}}xd(e);break;case oc:if(nd(e,n),function(e){return(e&Rn)===e}(n))break;if(!ef()){var o=function(e,t){for(var n=e.eventTimes,r=Bn;t>0;){var i=Jn(t),o=1<<i,a=n[i];a>r&&(r=a),t&=~o}return r}(e,n),a=o,s=Ar()-a,l=((u=s)<120?120:u<480?480:u<1080?1080:u<1920?1920:u<3e3?3e3:u<4320?4320:1960*Gu(u/1960))-s;if(l>10){e.timeoutHandle=ye(xd.bind(null,e),l);break}}xd(e);break;case ac:xd(e);break;default:throw Error("Unknown root exit status.")}var u}(e,r,n)}return ed(e,Ar()),e.callbackNode===t?td.bind(null,e):null}function nd(e,t){t=rr(t,yc),function(e,t){e.suspendedLanes|=t,e.pingedLanes&=~t;for(var n=e.expirationTimes,r=t;r>0;){var i=Jn(r),o=1<<i;n[i]=Bn,r&=~o}}(e,t=rr(t,mc))}function rd(e){if((sc&(Zu|Ju))!==Ku)throw Error("Should not already be working.");var t,n;if(Td(),e===lc&&er(e.expiredLanes,cc)?(n=gd(e,t=cc),er(gc,mc)&&(n=gd(e,t=$n(e,t)))):n=gd(e,t=$n(e,0)),0!==e.tag&&n===rc&&(sc|=ec,e.hydrate&&(e.hydrate=!1,et(e.containerInfo)),0!==(t=qn(e))&&(n=gd(e,t))),n===nc){var r=pc;throw ld(e,0),nd(e,t),ed(e,Ar()),r}var i=e.current.alternate;return e.finishedWork=i,e.finishedLanes=t,xd(e),ed(e,Ar()),null}function id(e,t){var n=sc;sc|=1;try{return e(t)}finally{(sc=n)===Ku&&(Sc(),Fr())}}function od(e,t){var n=sc;if((n&(Zu|Ju))!==Ku)return u("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),e(t);sc|=1;try{return e?Ir(Sr,e.bind(null,t)):void 0}finally{sc=n,Fr()}}function ad(e,t){an(fc,dc,e),dc=nr(dc,t),gc=nr(gc,t)}function sd(e){dc=fc.current,on(fc,e)}function ld(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==we&&(e.timeoutHandle=we,be(n)),null!==uc)for(var r=uc.return;null!==r;)Wl(r),r=r.return;lc=e,uc=Pf(e.current,null),cc=dc=gc=t,hc=tc,pc=null,vc=0,mc=0,yc=0,Wc=null,ei.discardPendingWarnings()}function ud(e,t){for(;;){var n=uc;try{if(bi(),Aa(),Qr(),Yu.current=null,null===n||null===n.return)return hc=nc,pc=t,void(uc=null);8&n.mode&&Us(n,!0),Kl(e,n.return,n,t,cc),bd(n)}catch(e){t=e,uc===n&&null!==n?(n=n.return,uc=n):n=uc;continue}return}}function cd(){var e=$u.current;return $u.current=Ss,null===e?Ss:e}function dd(e){$u.current=e}function fd(e){var t=a.__interactionsRef.current;return a.__interactionsRef.current=e.memoizedInteractions,t}function hd(e){a.__interactionsRef.current=e}function pd(e){vc=nr(e,vc)}function gd(e,t){var n=sc;sc|=Zu;var r=cd();lc===e&&cc===t||(ld(e,t),Zd(e,t));for(var i=fd(e);;)try{vd();break}catch(t){ud(e,t)}if(bi(),hd(i),sc=n,dd(r),null!==uc)throw Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return lc=null,cc=0,hc}function vd(){for(;null!==uc;)yd(uc)}function md(){for(;null!==uc&&!Cr();)yd(uc)}function yd(e){var t,n=e.alternate;Zr(e),8&e.mode?(Fs(e),t=Fd(n,e,dc),Us(e,!0)):t=Fd(n,e,dc),Qr(),e.memoizedProps=e.pendingProps,null===t?bd(e):uc=t,Yu.current=null}function bd(e){var t=e;do{var n=t.alternate,r=t.return;if(t.flags&Q){var i=Ul(t);if(null!==i)return i.flags&=2047,void(uc=i);if(8&t.mode){Us(t,!1);for(var o=t.actualDuration,a=t.child;null!==a;)o+=a.actualDuration,a=a.sibling;t.actualDuration=o}null!==r&&(r.firstEffect=r.lastEffect=null,r.flags|=Q)}else{Zr(t);var s=void 0;if(8&t.mode?(Fs(t),s=Bl(n,t,dc),Us(t,!1)):s=Bl(n,t,dc),Qr(),null!==s)return void(uc=s);wd(t),null===r||r.flags&Q||(null===r.firstEffect&&(r.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=t.firstEffect),r.lastEffect=t.lastEffect),t.flags>1&&(null!==r.lastEffect?r.lastEffect.nextEffect=t:r.firstEffect=t,r.lastEffect=t))}var l=t.sibling;if(null!==l)return void(uc=l);uc=t=r}while(null!==t);hc===tc&&(hc=ac)}function wd(e){if(e.tag!==E&&e.tag!==x||null===e.memoizedState||er(dc,Fn)||!(4&e.mode)){var t=0;if(8&e.mode){for(var n=e.actualDuration,r=e.selfBaseDuration,i=null===e.alternate||e.child!==e.alternate.child,o=e.child;null!==o;)t=nr(t,nr(o.lanes,o.childLanes)),i&&(n+=o.actualDuration),r+=o.treeBaseDuration,o=o.sibling;if(e.tag===p&&null!==e.memoizedState){var a=e.child;null!==a&&(r-=a.treeBaseDuration)}e.actualDuration=n,e.treeBaseDuration=r}else for(var s=e.child;null!==s;)t=nr(t,nr(s.lanes,s.childLanes)),s=s.sibling;e.childLanes=t}}function xd(e){var t=Dr();return Ir(Sr,Ed.bind(null,e,t)),null}function Ed(e,t){do{Td()}while(null!==_c);if(ei.flushLegacyContextWarning(),ei.flushPendingUnsafeLifecycleWarnings(),(sc&(Zu|Ju))!==Ku)throw Error("Should not already be working.");var n=e.finishedWork,r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null;var i,o=nr(n.lanes,n.childLanes);if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t;for(var r=e.entanglements,i=e.eventTimes,o=e.expirationTimes,a=n;a>0;){var s=Jn(a),l=1<<s;r[s]=0,i[s]=Bn,o[s]=Bn,a&=~l}}(e,o),null!==Ic&&!function(e){return!!(24&e)}(o)&&Ic.has(e)&&Ic.delete(e),e===lc&&(lc=null,uc=null,cc=0),n.flags>1?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=sc;sc|=Ju;var s=fd(e);Yu.current=null,Yc=ce(e.containerInfo),qc=!1,Tc=i;do{if(ru(null,kd,null),iu()){if(null===Tc)throw Error("Should be working on an effect.");var l=ou();Dd(Tc,l),Tc=Tc.nextEffect}}while(null!==Tc);Yc=null,js(),Tc=i;do{if(ru(null,Sd,null,e,t),iu()){if(null===Tc)throw Error("Should be working on an effect.");var u=ou();Dd(Tc,u),Tc=Tc.nextEffect}}while(null!==Tc);qc&&Oe(),de(e.containerInfo),e.current=n,Tc=i;do{if(ru(null,Md,null,e,r),iu()){if(null===Tc)throw Error("Should be working on an effect.");var c=ou();Dd(Tc,c),Tc=Tc.nextEffect}}while(null!==Tc);Tc=null,Nr(),hd(s),sc=a}else e.current=n,js();var d=Oc;if(Oc)Oc=!1,_c=e,Ac=r,Rc=t;else for(Tc=i;null!==Tc;){var f=Tc.nextEffect;Tc.nextEffect=null,8&Tc.flags&&sf(Tc),Tc=f}if(0!==(o=e.pendingLanes)){if(null!==Wc){var h=Wc;Wc=null;for(var p=0;p<h.length;p++)Xd(e,h[p],e.memoizedInteractions)}Qd(e,o)}else Pc=null;if(d||Jd(e,r),1===o?e===Fc?jc++:(jc=0,Fc=e):jc=0,Cn(n.stateNode,t),Re&&Wu.forEach((function(e){return e()})),ed(e,Ar()),Cc){Cc=!1;var g=Nc;throw Nc=null,g}return(sc&Qu)!==Ku||Fr(),null}function kd(){for(;null!==Tc;){var e=Tc.alternate;qc||null===Yc||(8&Tc.flags?ae(Tc,Yc)&&(qc=!0,Pe()):Tc.tag===p&&Pu(e,Tc)&&ae(Tc,Yc)&&(qc=!0,Pe()));var t=Tc.flags;t&Y&&(Zr(Tc),du(e,Tc),Qr()),t&q&&(Oc||(Oc=!0,zr(Tr,(function(){return Td(),null})))),Tc=Tc.nextEffect}}function Sd(e,t){for(;null!==Tc;){Zr(Tc);var n=Tc.flags;if(16&n&&Ou(Tc),n&$){var r=Tc.alternate;null!==r&&vu(r)}switch(1038&n){case 2:xu(Tc),Tc.flags&=-3;break;case 6:xu(Tc),Tc.flags&=-3,Tu(Tc.alternate,Tc);break;case X:Tc.flags&=-1025;break;case 1028:Tc.flags&=-1025,Tu(Tc.alternate,Tc);break;case 4:Tu(Tc.alternate,Tc);break;case 8:Mu(e,Tc)}Qr(),Tc=Tc.nextEffect}}function Md(e,t){for(;null!==Tc;){Zr(Tc);var n=Tc.flags;36&n&&hu(e,Tc.alternate,Tc),n&$&&gu(Tc),Qr(),Tc=Tc.nextEffect}}function Td(){if(90!==Rc){var e=Rc>Tr?Tr:Rc;return Rc=90,Ir(e,Od)}return!1}function Cd(e,t){Dc.push(t,e),Oc||(Oc=!0,zr(Tr,(function(){return Td(),null})))}function Nd(e,t){Lc.push(t,e),e.flags|=K;var n=e.alternate;null!==n&&(n.flags|=K),Oc||(Oc=!0,zr(Tr,(function(){return Td(),null})))}function Pd(e){var t=e.create;e.destroy=t()}function Od(){if(null===_c)return!1;var e=_c,t=Ac;if(_c=null,Ac=0,(sc&(Zu|Ju))!==Ku)throw Error("Cannot flush passive effects while already rendering.");$c=!0;var n=sc;sc|=Ju;var r=fd(e),i=Lc;Lc=[];for(var o=0;o<i.length;o+=2){var a=i[o],s=i[o+1],l=a.destroy;a.destroy=void 0,s.flags&=-8193;var u=s.alternate;if(null!==u&&(u.flags&=-8193),"function"==typeof l){if(Zr(s),ru(null,l,null),iu()){if(null===s)throw Error("Should be working on an effect.");Dd(s,ou())}Qr()}}var c=Dc;Dc=[];for(var d=0;d<c.length;d+=2){var f=c[d],h=c[d+1];if(Zr(h),ru(null,Pd,null,f),iu()){if(null===h)throw Error("Should be working on an effect.");Dd(h,ou())}Qr()}for(var p=e.current.firstEffect;null!==p;){var g=p.nextEffect;p.nextEffect=null,8&p.flags&&sf(p),p=g}return hd(r),Jd(e,t),$c=!1,sc=n,Fr(),Uc=null===_c?0:Uc+1,!0}function _d(e){return null!==Pc&&Pc.has(e)}var Rd=function(e){Cc||(Cc=!0,Nc=e)};function Ad(e,t,n){Li(e,$l(e,Vl(n,t),1));var r=Kc(),i=Jc(e,1);null!==i&&(or(i,1,r),ed(i,r),Qd(i,1))}function Dd(e,t){if(3!==e.tag)for(var n=e.return;null!==n;){if(3===n.tag)return void Ad(n,e,t);if(1===n.tag){var r=n.type,i=n.stateNode;if("function"==typeof r.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&!_d(i)){var o=Vl(t,e);Li(n,Yl(n,o,1));var a=Kc(),s=Jc(n,1);if(null!==s)or(s,1,a),ed(s,a),Qd(s,1);else if("function"==typeof i.componentDidCatch&&!_d(i))try{i.componentDidCatch(t,o)}catch(e){}return}}n=n.return}else Ad(e,e,t)}function Ld(e,t,n){var r=e.pingCache;null!==r&&r.delete(t);var i=Kc();ar(e,n),lc===e&&tr(cc,n)&&(hc===oc||hc===ic&&Xn(cc)&&Ar()-wc<xc?ld(e,0):yc=nr(yc,n)),ed(e,i),Qd(e,n)}function Id(e,t){var n;null!==(n=e.stateNode)&&n.delete(t),function(e,t){0===t&&(t=Qc(e));var n=Kc(),r=Jc(e,t);null!==r&&(or(r,t,n),ed(r,n),Qd(r,t))}(e,0)}var zd=null;function jd(e){if((sc&Zu)===Ku&&6&e.mode){var t=e.tag;if(2===t||3===t||1===t||0===t||t===f||t===g||t===v||t===w){var n=H(e.type)||"ReactComponent";if(null!==zd){if(zd.has(n))return;zd.add(n)}else zd=new Set([n]);var r=qr;try{Zr(e),u("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{r?Zr(e):Qr()}}}}var Fd,Bd=null;Fd=function(e,t,n){var r=zf(null,t);try{return Ll(e,t,n)}catch(i){if(null!==i&&"object"==typeof i&&"function"==typeof i.then)throw i;if(bi(),Aa(),Wl(t),zf(t,r),8&t.mode&&Fs(t),ru(null,Ll,null,e,t,n),iu())throw ou();throw i}};var Ud,Wd=!1;Ud=new Set;var Vd={current:!1};function Hd(e){if(!0===Ee&&!0===qu.current&&!0!==Vd.current){var t=qr;try{Zr(e),u("It looks like you're using the wrong act() around your test interactions.\nBe sure to use the matching version of act() corresponding to your renderer:\n\n// for react-dom:\nimport {act} from 'react-dom/test-utils';\n// ...\nact(() => ...);\n\n// for react-test-renderer:\nimport TestRenderer from react-test-renderer';\nconst {act} = TestRenderer;\n// ...\nact(() => ...);")}finally{t?Zr(e):Qr()}}}function Gd(e){!0===Ee&&1&e.mode&&!1===qu.current&&!1===Vd.current&&u("An update to %s ran an effect, but was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act",H(e.type))}var $d=function(e){if(!0===Ee&&sc===Ku&&!1===qu.current&&!1===Vd.current){var t=qr;try{Zr(e),u("An update to %s inside a test was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act",H(e.type))}finally{t?Zr(e):Qr()}}},Yd=!1;function qd(e,t){return 1e3*t+e.interactionThreadID}function Kd(e){null===Wc?Wc=[e]:Wc.push(e)}function Xd(e,t,n){if(n.size>0){var r=e.pendingInteractionMap,i=r.get(t);null!=i?n.forEach((function(e){i.has(e)||e.__count++,i.add(e)})):(r.set(t,new Set(n)),n.forEach((function(e){e.__count++})));var o=a.__subscriberRef.current;if(null!==o){var s=qd(e,t);o.onWorkScheduled(n,s)}}}function Qd(e,t){Xd(e,t,a.__interactionsRef.current)}function Zd(e,t){var n=new Set;if(e.pendingInteractionMap.forEach((function(e,r){er(t,r)&&e.forEach((function(e){return n.add(e)}))})),e.memoizedInteractions=n,n.size>0){var r=a.__subscriberRef.current;if(null!==r){var i=qd(e,t);try{r.onWorkStarted(n,i)}catch(e){zr(Sr,(function(){throw e}))}}}}function Jd(e,t){var n,r=e.pendingLanes;try{if(null!==(n=a.__subscriberRef.current)&&e.memoizedInteractions.size>0){var i=qd(e,t);n.onWorkStopped(e.memoizedInteractions,i)}}catch(e){zr(Sr,(function(){throw e}))}finally{var o=e.pendingInteractionMap;o.forEach((function(e,t){er(r,t)||(o.delete(t),e.forEach((function(e){if(e.__count--,null!==n&&0===e.__count)try{n.onInteractionScheduledWorkCompleted(e)}catch(e){zr(Sr,(function(){throw e}))}})))}))}}function ef(){return af>0}var tf=o.unstable_flushAllWithoutAsserting,nf="function"==typeof tf;function rf(){if(void 0!==tf)try{return tf()}finally{}else try{for(var e=!1;Td();)e=!0;return e}finally{}}function of(t){try{rf(),function(t){if(null===Hu)try{var n=("require"+Math.random()).slice(0,7),r=e&&e[n];Hu=r.call(e,"timers").setImmediate}catch(e){Hu=function(e){!1===Vu&&(Vu=!0,"undefined"==typeof MessageChannel&&u("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}Hu(t)}((function(){rf()?of(t):t()}))}catch(e){t(e)}}var af=0;function sf(e){e.sibling=null,e.stateNode=null}var lf=null,uf=null,cf=function(e){lf=e};function df(e){if(null===lf)return e;var t=lf(e);return void 0===t?e:t.current}function ff(e){return df(e)}function hf(e){if(null===lf)return e;var t=lf(e);if(void 0===t){if(null!=e&&"function"==typeof e.render){var n=df(e.render);if(e.render!==n){var r={$$typeof:_,render:n};return void 0!==e.displayName&&(r.displayName=e.displayName),r}}return e}return t.current}function pf(e,t){if(null===lf)return!1;var n=e.elementType,r=t.type,i=!1,o="object"==typeof r&&null!==r?r.$$typeof:null;switch(e.tag){case 1:"function"==typeof r&&(i=!0);break;case 0:("function"==typeof r||o===L)&&(i=!0);break;case f:(o===_||o===L)&&(i=!0);break;case g:case v:(o===D||o===L)&&(i=!0);break;default:return!1}if(i){var a=lf(n);if(void 0!==a&&a===lf(r))return!0}return!1}function gf(e){null!==lf&&"function"==typeof WeakSet&&(null===uf&&(uf=new WeakSet),uf.add(e))}var vf=function(e,t){if(null!==lf){var n=t.staleFamilies,r=t.updatedFamilies;Td(),od((function(){yf(e.current,r,n)}))}},mf=function(e,t){e.context===sn&&(Td(),od((function(){Bf(t,e,null,null)})))};function yf(e,t,n){var r=e.alternate,i=e.child,o=e.sibling,a=e.tag,s=e.type,l=null;switch(a){case 0:case v:case 1:l=s;break;case f:l=s.render}if(null===lf)throw new Error("Expected resolveFamily to be set during hot reload.");var u=!1,c=!1;if(null!==l){var d=lf(l);void 0!==d&&(n.has(d)?c=!0:t.has(d)&&(1===a?c=!0:u=!0))}null!==uf&&(uf.has(e)||null!==r&&uf.has(r))&&(c=!0),c&&(e._debugNeedsRemount=!0),(c||u)&&Zc(e,1,Bn),null===i||c||yf(i,t,n),null!==o&&yf(o,t,n)}var bf,wf=function(e,t){var n=new Set,r=new Set(t.map((function(e){return e.current})));return xf(e.current,r,n),n};function xf(e,t,n){var r=e.child,i=e.sibling,o=e.tag,a=e.type,s=null;switch(o){case 0:case v:case 1:s=a;break;case f:s=a.render}var l=!1;null!==s&&t.has(s)&&(l=!0),l?function(e,t){var n=function(e,t){for(var n=e,r=!1;;){if(5===n.tag)r=!0,t.add(n.stateNode);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)return r;for(;null===n.sibling;){if(null===n.return||n.return===e)return r;n=n.return}n.sibling.return=n.return,n=n.sibling}return!1}(e,t);if(!n)for(var r=e;;){switch(r.tag){case 5:return void t.add(r.stateNode);case 4:case 3:return void t.add(r.stateNode.containerInfo)}if(null===r.return)throw new Error("Expected to reach root first.");r=r.return}}(e,n):null!==r&&xf(r,t,n),null!==i&&xf(i,t,n)}bf=!1;try{var Ef=Object.preventExtensions({});new Map([[Ef,null]]),new Set([Ef])}catch(e){bf=!0}var kf=1;function Sf(e,t,n,r){this.tag=e,this.key=n,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=r,this.flags=0,this.nextEffect=null,this.firstEffect=null,this.lastEffect=null,this.lanes=0,this.childLanes=0,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugID=kf++,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,bf||"function"!=typeof Object.preventExtensions||Object.preventExtensions(this)}var Mf,Tf,Cf=function(e,t,n,r){return new Sf(e,t,n,r)};function Nf(e){var t=e.prototype;return!(!t||!t.isReactComponent)}function Pf(e,t){var n=e.alternate;null===n?((n=Cf(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n._debugID=e._debugID,n._debugSource=e._debugSource,n._debugOwner=e._debugOwner,n._debugHookTypes=e._debugHookTypes,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null,n.actualDuration=0,n.actualStartTime=-1),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue;var r=e.dependencies;switch(n.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.selfBaseDuration=e.selfBaseDuration,n.treeBaseDuration=e.treeBaseDuration,n._debugNeedsRemount=e._debugNeedsRemount,n.tag){case 2:case 0:case v:n.type=df(e.type);break;case 1:n.type=ff(e.type);break;case f:n.type=hf(e.type)}return n}function Of(e,t){e.flags&=2,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null;var n=e.alternate;if(null===n)e.childLanes=0,e.lanes=t,e.child=null,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null,e.selfBaseDuration=0,e.treeBaseDuration=0;else{e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type;var r=n.dependencies;e.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},e.selfBaseDuration=n.selfBaseDuration,e.treeBaseDuration=n.treeBaseDuration}return e}function _f(e,t,n,r,i,o){var a=2,s=e;if("function"==typeof e)Nf(e)?(a=1,s=ff(s)):s=df(s);else if("string"==typeof e)a=5;else e:switch(e){case T:return Af(n.children,i,o,t);case z:a=8,i|=16;break;case C:a=8,i|=1;break;case N:return function(e,t,n,r){"string"!=typeof e.id&&u('Profiler must specify an "id" as a prop');var i=Cf(h,e,r,8|t);return i.elementType=N,i.type=N,i.lanes=n,i.stateNode={effectDuration:0,passiveEffectDuration:0},i}(n,i,o,t);case R:return function(e,t,n,r){var i=Cf(p,e,r,t);return i.type=R,i.elementType=R,i.lanes=n,i}(n,i,o,t);case A:return function(e,t,n,r){var i=Cf(y,e,r,t);return i.type=A,i.elementType=A,i.lanes=n,i}(n,i,o,t);case j:return Df(n,i,o,t);case F:return function(e,t,n,r){var i=Cf(E,e,r,t);return i.type=F,i.elementType=F,i.lanes=n,i}(n,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case P:a=d;break e;case O:a=9;break e;case _:a=f,s=hf(s);break e;case D:a=g;break e;case L:a=16,s=null;break e;case I:a=w;break e}var l="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(l+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var c=r?H(r.type):null;throw c&&(l+="\n\nCheck the render method of `"+c+"`."),Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+"."+l)}var v=Cf(a,n,t,i);return v.elementType=e,v.type=s,v.lanes=o,v._debugOwner=r,v}function Rf(e,t,n){var r;r=e._owner;var i=_f(e.type,e.key,e.props,r,t,n);return i._debugSource=e._source,i._debugOwner=e._owner,i}function Af(e,t,n,r){var i=Cf(7,e,r,t);return i.lanes=n,i}function Df(e,t,n,r){var i=Cf(x,e,r,t);return i.type=j,i.elementType=j,i.lanes=n,i}function Lf(e,t,n){var r=Cf(6,e,null,t);return r.lanes=n,r}function If(e,t,n){var r=null!==e.children?e.children:[],i=Cf(4,r,e.key,t);return i.lanes=n,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function zf(e,t){return null===e&&(e=Cf(2,null,null,0)),e.tag=t.tag,e.key=t.key,e.elementType=t.elementType,e.type=t.type,e.stateNode=t.stateNode,e.return=t.return,e.child=t.child,e.sibling=t.sibling,e.index=t.index,e.ref=t.ref,e.pendingProps=t.pendingProps,e.memoizedProps=t.memoizedProps,e.updateQueue=t.updateQueue,e.memoizedState=t.memoizedState,e.dependencies=t.dependencies,e.mode=t.mode,e.flags=t.flags,e.nextEffect=t.nextEffect,e.firstEffect=t.firstEffect,e.lastEffect=t.lastEffect,e.lanes=t.lanes,e.childLanes=t.childLanes,e.alternate=t.alternate,e.actualDuration=t.actualDuration,e.actualStartTime=t.actualStartTime,e.selfBaseDuration=t.selfBaseDuration,e.treeBaseDuration=t.treeBaseDuration,e._debugID=t._debugID,e._debugSource=t._debugSource,e._debugOwner=t._debugOwner,e._debugNeedsRemount=t._debugNeedsRemount,e._debugHookTypes=t._debugHookTypes,e}function jf(e,t,n){switch(this.tag=t,this.containerInfo=e,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=we,this.context=null,this.pendingContext=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ir(0),this.expirationTimes=ir(Bn),this.pendingLanes=0,this.suspendedLanes=0,this.pingedLanes=0,this.expiredLanes=0,this.mutableReadLanes=0,this.finishedLanes=0,this.entangledLanes=0,this.entanglements=ir(0),Me&&(this.mutableSourceEagerHydrationData=null),this.interactionThreadID=a.unstable_getThreadID(),this.memoizedInteractions=new Set,this.pendingInteractionMap=new Map,t){case 1:this._debugRootType="createBlockingRoot()";break;case 2:this._debugRootType="createRoot()";break;case 0:this._debugRootType="createLegacyRoot()"}}function Ff(e,t,n,r){var i=new jf(e,t,n),o=function(e){var t;return t=2===e?7:1===e?3:0,Tn&&(t|=8),Cf(3,null,null,t)}(t);return i.current=o,o.stateNode=i,Ri(o),i}function Bf(e,t,n,r){!function(e,t){if(Sn&&"function"==typeof Sn.onScheduleFiberRoot)try{Sn.onScheduleFiberRoot(kn,e,t)}catch(e){Mn||(Mn=!0,u("React instrumentation encountered an error: %s",e))}}(t,e);var i,a=t.current,s=Kc();"undefined"!=typeof jest&&(i=a,!1===Yd&&void 0===o.unstable_flushAllWithoutAsserting&&(2&i.mode||4&i.mode)&&(Yd=!0,u("In Concurrent or Sync modes, the \"scheduler\" module needs to be mocked to guarantee consistent behaviour across tests and browsers. For example, with jest: \njest.mock('scheduler', () => require('scheduler/unstable_mock'));\n\nFor more info, visit https://reactjs.org/link/mock-scheduler")),Hd(a));var l=Xc(a),c=function(e){if(!e)return sn;var t=k(e),n=En(t);if(1===t.tag){var r=t.type;if(gn(r))return bn(t,r,n)}return n}(n);null===t.context?t.context=c:t.pendingContext=c,Kr&&null!==qr&&!Mf&&(Mf=!0,u("Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.",H(qr.type)||"Unknown"));var d=Di(s,l);return d.payload={element:e},null!==(r=void 0===r?null:r)&&("function"!=typeof r&&u("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",r),d.callback=r),Li(a,d),Zc(a,l,s),l}function Uf(e,t){var n=e.memoizedState;null!==n&&null!==n.dehydrated&&(n.retryLane=function(e,t){return 0!==e&&e<t?e:t}(n.retryLane,t))}function Wf(e,t){Uf(e,t);var n=e.alternate;n&&Uf(n,t)}Mf=!1,Tf={};var Vf=function(e){return!1};function Hf(e){return Vf(e)}var Gf,$f,Yf,qf,Kf,Xf,Qf,Zf,Jf=function(e,t,n){var r=t[n],o=Array.isArray(e)?e.slice():i({},e);return n+1===t.length?(Array.isArray(o)?o.splice(r,1):delete o[r],o):(o[r]=Jf(e[r],t,n+1),o)},eh=function(e,t){return Jf(e,t,0)},th=function(e,t,n,r){var o=t[r],a=Array.isArray(e)?e.slice():i({},e);return r+1===t.length?(a[n[r]]=a[o],Array.isArray(a)?a.splice(o,1):delete a[o]):a[o]=th(e[o],t,n,r+1),a},nh=function(e,t,n){if(t.length===n.length){for(var r=0;r<n.length-1;r++)if(t[r]!==n[r])return void l("copyWithRename() expects paths to be the same except for the deepest key");return th(e,t,n,0)}l("copyWithRename() expects paths of the same length")},rh=function(e,t,n,r){if(n>=t.length)return r;var o=t[n],a=Array.isArray(e)?e.slice():i({},e);return a[o]=rh(e[o],t,n+1,r),a},ih=function(e,t,n){return rh(e,t,0,n)},oh=function(e,t){for(var n=e.memoizedState;null!==n&&t>0;)n=n.next,t--;return n};function ah(e){var t=oe(e);return null===t?null:t.stateNode}function sh(e){return null}function lh(){return qr}return Gf=function(e,t,n,r){var o=oh(e,t);if(null!==o){var a=ih(o.memoizedState,n,r);o.memoizedState=a,o.baseState=a,e.memoizedProps=i({},e.memoizedProps),Zc(e,1,Bn)}},$f=function(e,t,n){var r=oh(e,t);if(null!==r){var o=eh(r.memoizedState,n);r.memoizedState=o,r.baseState=o,e.memoizedProps=i({},e.memoizedProps),Zc(e,1,Bn)}},Yf=function(e,t,n,r){var o=oh(e,t);if(null!==o){var a=nh(o.memoizedState,n,r);o.memoizedState=a,o.baseState=a,e.memoizedProps=i({},e.memoizedProps),Zc(e,1,Bn)}},qf=function(e,t,n){e.pendingProps=ih(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps),Zc(e,1,Bn)},Kf=function(e,t){e.pendingProps=eh(e.memoizedProps,t),e.alternate&&(e.alternate.pendingProps=e.pendingProps),Zc(e,1,Bn)},Xf=function(e,t,n){e.pendingProps=nh(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps),Zc(e,1,Bn)},Qf=function(e){Zc(e,1,Bn)},Zf=function(e){Vf=e},n.IsThisRendererActing=Vd,n.act=function(e){var t=af;af++;var n,r=qu.current,i=Vd.current;function o(){af--,qu.current=r,Vd.current=i,af>t&&u("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. ")}qu.current=!0,Vd.current=!0;try{n=id(e)}catch(e){throw o(),e}if(null!==n&&"object"==typeof n&&"function"==typeof n.then){var a=!1;return"undefined"!=typeof Promise&&Promise.resolve().then((function(){})).then((function(){!1===a&&u("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);")})),{then:function(e,t){a=!0,n.then((function(){if(af>1||!0===nf&&!0===r)return o(),void e();of((function(n){o(),n?t(n):e()}))}),(function(e){o(),t(e)}))}}}void 0!==n&&u("The callback passed to act(...) function must return undefined, or a Promise. You returned %s",n);try{1!==af||!1!==nf&&!1!==r||rf(),o()}catch(e){throw o(),e}return{then:function(e){u("Do not await the result of calling act(...) with sync logic, it is not a Promise."),e()}}},n.attemptContinuousHydration=function(e){if(e.tag===p){var t=Kc(),n=Ln;Zc(e,n,t),Wf(e,n)}},n.attemptHydrationAtCurrentPriority=function(e){if(e.tag===p){var t=Kc(),n=Xc(e);Zc(e,n,t),Wf(e,n)}},n.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var n=function(e){return Gn(e.pendingLanes)}(t);!function(e,t){!function(e,t){e.expiredLanes|=t&e.pendingLanes}(e,t),ed(e,Ar()),(sc&(Zu|Ju))===Ku&&(Sc(),Fr())}(t,n)}break;case p:var r=Kc();od((function(){return Zc(e,1,r)})),Wf(e,4)}},n.attemptUserBlockingHydration=function(e){e.tag===p&&(Zc(e,4,Kc()),Wf(e,4))},n.batchedEventUpdates=function(e,t){var n=sc;sc|=2;try{return e(t)}finally{(sc=n)===Ku&&(Sc(),Fr())}},n.batchedUpdates=id,n.createComponentSelector=function(e){return{$$typeof:_u,value:e}},n.createContainer=function(e,t,n,r){return Ff(e,t,n)},n.createHasPsuedoClassSelector=function(e){return{$$typeof:Ru,value:e}},n.createPortal=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:M,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},n.createRoleSelector=function(e){return{$$typeof:Au,value:e}},n.createTestNameSelector=function(e){return{$$typeof:Du,value:e}},n.createTextSelector=function(e){return{$$typeof:Lu,value:e}},n.deferredUpdates=function(e){return Ir(Tr,e)},n.discreteUpdates=function(e,t,n,r,i){var o=sc;sc|=Xu;try{return Ir(Mr,e.bind(null,t,n,r,i))}finally{(sc=o)===Ku&&(Sc(),Fr())}},n.findAllNodes=Uu,n.findBoundingRects=function(e,t){if(!Re)throw Error("Test selector API is not supported by this renderer.");for(var n=Uu(e,t),r=[],i=0;i<n.length;i++)r.push(De(n[i]));for(var o=r.length-1;o>0;o--)for(var a=r[o],s=a.x,l=s+a.width,u=a.y,c=u+a.height,d=o-1;d>=0;d--)if(o!==d){var f=r[d],h=f.x,p=h+f.width,g=f.y,v=g+f.height;if(s>=h&&u>=g&&l<=p&&c<=v){r.splice(o,1);break}if(!(s!==h||a.width!==f.width||v<u||g>c)){g>u&&(f.height+=g-u,f.y=u),v<c&&(f.height=c-g),r.splice(o,1);break}if(!(u!==g||a.height!==f.height||p<s||h>l)){h>s&&(f.width+=h-s,f.x=s),p<l&&(f.width=l-h),r.splice(o,1);break}}return r},n.findHostInstance=function(e){var t=k(e);if(void 0===t)throw"function"==typeof e.render?Error("Unable to find node on an unmounted component."):Error("Argument appears to not be a ReactComponent. Keys: "+Object.keys(e));var n=oe(t);return null===n?null:n.stateNode},n.findHostInstanceWithNoPortals=function(e){var t=function(e){var t=ie(e);if(!t)return null;for(var n=t;;){if(5===n.tag||6===n.tag)return n;if(n.child&&4!==n.tag)n.child.return=n,n=n.child;else{if(n===t)return null;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}(e);return null===t?null:t.tag===b?t.stateNode.instance:t.stateNode},n.findHostInstanceWithWarning=function(e,t){var n=k(e);if(void 0===n)throw"function"==typeof e.render?Error("Unable to find node on an unmounted component."):Error("Argument appears to not be a ReactComponent. Keys: "+Object.keys(e));var r=oe(n);if(null===r)return null;if(1&r.mode){var i=H(n.type)||"Component";if(!Tf[i]){Tf[i]=!0;var o=qr;try{Zr(r),1&n.mode?u("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,i):u("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,i)}finally{o?Zr(o):Qr()}}}return r.stateNode},n.flushControlled=function(e){var t=sc;sc|=1;try{Ir(Sr,e)}finally{(sc=t)===Ku&&(Sc(),Fr())}},n.flushDiscreteUpdates=function(){(sc&(1|Zu|Ju))===Ku?(function(){if(null!==Ic){var e=Ic;Ic=null,e.forEach((function(e){!function(e){e.expiredLanes|=24&e.pendingLanes}(e),ed(e,Ar())}))}Fr()}(),Td()):(sc&Zu)!==Ku&&u("unstable_flushDiscreteUpdates: Cannot flush updates when React is already rendering.")},n.flushPassiveEffects=Td,n.flushSync=od,n.focusWithin=function(e,t){if(!Re)throw Error("Test selector API is not supported by this renderer.");for(var n=Bu(zu(e),t),r=Array.from(n),i=0;i<r.length;){var o=r[i++];if(!Ie(o)){if(5===o.tag){var a=o.stateNode;if(je(a))return!0}for(var s=o.child;null!==s;)r.push(s),s=s.sibling}}return!1},n.getCurrentUpdateLanePriority=Wn,n.getFindAllNodesFailureDescription=function(e,t){if(!Re)throw Error("Test selector API is not supported by this renderer.");for(var n=0,r=[],i=[zu(e),0],o=0;o<i.length;){var a=i[o++],s=i[o++],l=t[s];if((5!==a.tag||!Ie(a))&&(ju(a,l)&&(r.push(Fu(l)),++s>n&&(n=s)),s<t.length))for(var u=a.child;null!==u;)i.push(u,s),u=u.sibling}if(n<t.length){for(var c=[],d=n;d<t.length;d++)c.push(Fu(t[d]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+c.join(" > ")}return null},n.getPublicRootInstance=function(e){var t=e.current;return t.child?5===t.child.tag?se(t.child.stateNode):t.child.stateNode:null},n.injectIntoDevTools=function(e){var t=e.findFiberByHostInstance,n=s.ReactCurrentDispatcher;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled)return!0;if(!t.supportsFiber)return u("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{kn=t.inject(e),Sn=t}catch(e){u("React instrumentation encountered an error: %s.",e)}return!0}({bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:Gf,overrideHookStateDeletePath:$f,overrideHookStateRenamePath:Yf,overrideProps:qf,overridePropsDeletePath:Kf,overridePropsRenamePath:Xf,setSuspenseHandler:Zf,scheduleUpdate:Qf,currentDispatcherRef:n,findHostInstanceByFiber:ah,findFiberByHostInstance:t||sh,findHostInstancesForRefresh:wf,scheduleRefresh:vf,scheduleRoot:mf,setRefreshHandler:cf,getCurrentFiber:lh})},n.observeVisibleRects=function(e,t,n,r){if(!Re)throw Error("Test selector API is not supported by this renderer.");var i=Uu(e,t),o=Fe(i,n,r),a=o.disconnect,s=o.observe,l=o.unobserve,u=function(){var n=Uu(e,t);i.forEach((function(e){n.indexOf(e)<0&&l(e)})),n.forEach((function(e){i.indexOf(e)<0&&s(e)}))};return Wu.push(u),{disconnect:function(){var e=Wu.indexOf(u);e>=0&&Wu.splice(e,1),a()}}},n.registerMutableSourceForHydration=function(e,t){var n=(0,t._getVersion)(t._source);null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},n.runWithPriority=function(e,t){var n=Wn();try{return Vn(e),t()}finally{Vn(n)}},n.shouldSuspend=Hf,n.unbatchedUpdates=function(e,t){var n=sc;sc&=-2,sc|=Qu;try{return e(t)}finally{(sc=n)===Ku&&(Sc(),Fr())}},n.updateContainer=Bf,n})}(b$)),b$.exports);var C$=E(l$.exports),N$=["startHead","endHead"],P$=["startHead","endHead"],O$=function(e){function t(e){var n;return l(this,t),(n=m(this,t,[e])).startRef=s$.createRef(),n.endRef=s$.createRef(),n.bodyRef=s$.createRef(),n}return b(t,e),c(t,[{key:"getArrowHead",value:function(e,t){return gt(e)?this.getDefaultArrowHead():t?this.props.startHead:this.props.endHead}},{key:"setHeadTransform",value:function(){var e=this.props,t=e.startHead,n=e.endHead;t&&this.transformArrowHead(this.startRef.current,!0),n&&this.transformArrowHead(this.endRef.current,!1)}},{key:"componentDidMount",value:function(){this.setHeadTransform()}},{key:"componentDidUpdate",value:function(){this.setHeadTransform()}},{key:"render",value:function(){var e=this.props,t=e.startHead,n=e.endHead,r=Dr(e,N$);return s$.createElement(A$,null,s$.createElement(z$,ZG({},r,{ref:this.bodyRef})),t&&s$.createElement(A$,{ref:this.startRef},this.getArrowHead(t,!0)),n&&s$.createElement(A$,{ref:this.endRef},this.getArrowHead(n,!1)))}},{key:"getCenter",value:function(){return this.bodyRef.current.getPoint(.5)}},{key:"transformArrowHead",value:function(e,t){var n=w(this.getTangent(this.bodyRef.current,t),2),r=n[0],i=n[1],o=w(r,2),a=o[0],s=o[1],l=w(i,2),u=l[0],c=l[1],d=a-u,f=s-c,h=Math.atan2(f,d)+Math.PI,p=ge(u,c,0);e.setLocalPosition(p),e.setLocalEulerAngles(180*h/Math.PI)}},{key:"getTangent",value:function(e,t){return t?e.getStartTangent():e.getEndTangent()}},{key:"getDefaultArrowHead",value:function(){var e=this.props;e.startHead,e.endHead;var t=Dr(e,P$),n=Math.sin,r=Math.cos,i=Math.PI;return s$.createElement(z$,ZG({},t,{lineDash:void 0,fill:this.props.stroke,d:"M-".concat(16*r(i/6),",").concat(16*n(i/6)," L0,0 L-").concat(16*r(i/6),",-").concat(16*n(i/6)," Z")}))}}])}(a$.Component);var _$=zr.CIRCLE,R$=zr.ELLIPSE,A$=zr.GROUP,D$=zr.HTML,L$=zr.IMAGE,I$=zr.LINE,z$=zr.PATH,j$=zr.POLYGON,F$=zr.POLYLINE,B$=zr.RECT,U$=zr.TEXT,W$=!1,V$=function(e){return"on"===e.slice(0,2)},H$=function(e){return e.substring(2).toLowerCase()},G$=C$({getPublicInstance:function(e){return e},getRootHostContext:function(e){},getChildHostContext:function(e,t,n){},prepareForCommit:function(e){return null},resetAfterCommit:function(e){},preparePortalMount:function(e){},createInstance:function(e,t,n,r,i){var o=(n.document||n.ownerDocument).createElement(e,{style:t});return function(e,t){Object.keys(e).forEach((function(n){V$(n)&&t.addEventListener(H$(n),e[n])}))}(t,o),o},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r,i){return!1},prepareUpdate:function(e,t,n,r,i,o){return!0},shouldSetTextContent:function(e,t){return!1},createTextInstance:function(e,t,n,r){},scheduleTimeout:function(e,t){},cancelTimeout:function(e){},noTimeout:void 0,now:m$.unstable_now,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){e.appendChild(t)},commitTextUpdate:function(e,t,n){},commitMount:function(e,t,n,r){},commitUpdate:function(e,t,n,r,i,o){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!W$&&"zIndex"in t&&(console.warn('ReactG: You are using "zIndex" attribute for an element.\nreact-g may get confused with ordering. Just define correct order of elements in your render function of a component.\n'),W$=!0),Object.keys(n).forEach((function(r){n[r]!==t[r]&&(V$(r)?e.removeEventListener(H$(r)):e.removeAttribute(r))})),Object.keys(t).forEach((function(r){n[r]!==t[r]&&(V$(r)?"function"==typeof t[r]&&e.addEventListener(H$(r),t[r]):e.setAttribute(r,t[r]))}))}(e,i,r)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){e.removeChild(t)},resetTextContent:function(e){},hideInstance:function(e){},hideTextInstance:function(e){},unhideInstance:function(e,t){},unhideTextInstance:function(e,t){},clearContainer:function(e){e.removeChildren()},cloneInstance:function(e,t,n,r,i,o,a,s){return e},createContainerChildSet:function(e){},appendChildToContainerChildSet:function(e,t){},finalizeContainerChildren:function(e,t){},replaceContainerChildren:function(e,t){},canHydrateInstance:function(e,t,n){return e},canHydrateTextInstance:function(e,t){return null},getNextHydratableSibling:function(e){},getFirstHydratableChild:function(e){},hydrateInstance:function(e,t,n,r,i,o){},hydrateTextInstance:function(e,t,n){return!1},didNotMatchHydratedContainerTextInstance:function(e,t,n){},didNotMatchHydratedTextInstance:function(e,t,n,r,i){},didNotHydrateContainerInstance:function(e,t){},didNotHydrateInstance:function(e,t,n,r){},didNotFindHydratableContainerInstance:function(e,t,n){},didNotFindHydratableContainerTextInstance:function(e,t){},didNotFindHydratableInstance:function(e,t,n,r,i){},didNotFindHydratableTextInstance:function(e,t,n,r){}});G$.injectIntoDevTools({bundleType:1,version:s$.version,rendererPackageName:"react-g",rendererConfig:{getInspectorDataForViewTag:function(e){}}});var $$=new WeakMap,Y$=function(e,t,n){var r=$$.get(t)||G$.createContainer(t,1,!1,null);$$.set(t,r),G$.updateContainer(e,r,null,n)};class q$ extends Dp{constructor(e){super(Object.assign(Object.assign({},e),{style:Object.assign(Object.assign({},q$.defaultStyleProps),e.style)}))}drawKeyShape(e,t){const{component:n}=e,[r,i]=this.getSize();return this.upsert("key",jl,{width:r,height:i},t,{afterCreate:e=>{Y$(n,e)},afterUpdate:e=>{Y$(n,e)}})}}q$.defaultStyleProps={halo:!1,label:!1,icon:!1};var K$,X$={exports:{}},Q$={},Z$={exports:{}},J$={};var eY,tY,nY,rY={};
/**
   * @license React
   * scheduler.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */function iY(){return eY||(eY=1,function(e){"production"!==process.env.NODE_ENV&&function(){"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);function t(e,t){var n=e.length;e.push(t),function(e,t,n){var r=n;for(;r>0;){var o=r-1>>>1,a=e[o];if(!(i(a,t)>0))return;e[o]=t,e[r]=a,r=o}}(e,t,n)}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();return n!==t&&(e[0]=n,function(e,t,n){var r=n,o=e.length,a=o>>>1;for(;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(i(l,t)<0)u<o&&i(c,l)<0?(e[r]=c,e[u]=t,r=u):(e[r]=l,e[s]=t,r=s);else{if(!(u<o&&i(c,t)<0))return;e[r]=c,e[u]=t,r=u}}}(e,n,0)),t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,m="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))return;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(g=!1,b(e),!p)if(null!==n(l))p=!0,R(x);else{var t=n(u);null!==t&&A(w,t.startTime-e)}}function x(t,i){p=!1,g&&(g=!1,D()),h=!0;var o=f;try{return function(t,i){var o=i;b(o),d=n(l);for(;null!==d&&(!(d.expirationTime>o)||t&&!C());){var a=d.callback;if("function"==typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=o);o=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),b(o)}else r(l);d=n(l)}if(null!==d)return!0;var c=n(u);return null!==c&&A(w,c.startTime-o),!1}(t,i)}finally{d=null,f=o,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E=!1,k=null,S=-1,M=5,T=-1;function C(){return!(e.unstable_now()-T<M)}var N,P=function(){if(null!==k){var t=e.unstable_now();T=t;var n=!0;try{n=k(!0,t)}finally{n?N():(E=!1,k=null)}}else E=!1};if("function"==typeof y)N=function(){y(P)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,_=O.port2;O.port1.onmessage=P,N=function(){_.postMessage(null)}}else N=function(){v(P,0)};function R(e){k=e,E||(E=!0,N())}function A(t,n){S=v((function(){t(e.unstable_now())}),n)}function D(){m(S),S=-1}var L=function(){};e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,R(x))},e.unstable_forceFrameRate=function(e){e<0||e>125?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=e>0?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){var t;switch(f){case 1:case 2:case 3:t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=L,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,o){var a,s,d=e.unstable_now();if("object"==typeof o&&null!==o){var f=o.delay;a="number"==typeof f&&f>0?d+f:d}else a=d;switch(r){case 1:s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}var v=a+s,m={id:c++,callback:i,priorityLevel:r,startTime:a,expirationTime:v,sortIndex:-1};return a>d?(m.sortIndex=a,t(u,m),null===n(l)&&m===n(u)&&(g?D():g=!0,A(w,a-d))):(m.sortIndex=v,t(l,m),p||h||(p=!0,R(x))),m},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()}(rY)),rY}function oY(){return tY||(tY=1,"production"===process.env.NODE_ENV?Z$.exports=(K$||(K$=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<o&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<o&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,m="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(g=!1,b(e),!p)if(null!==n(l))p=!0,R(x);else{var t=n(u);null!==t&&A(w,t.startTime-e)}}function x(t,i){p=!1,g&&(g=!1,m(M),M=-1),h=!0;var o=f;try{for(b(i),d=n(l);null!==d&&(!(d.expirationTime>i)||t&&!N());){var a=d.callback;if("function"==typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),b(i)}else r(l);d=n(l)}if(null!==d)var c=!0;else{var v=n(u);null!==v&&A(w,v.startTime-i),c=!1}return c}finally{d=null,f=o,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,S=null,M=-1,T=5,C=-1;function N(){return!(e.unstable_now()-C<T)}function P(){if(null!==S){var t=e.unstable_now();C=t;var n=!0;try{n=S(!0,t)}finally{n?E():(k=!1,S=null)}}else k=!1}if("function"==typeof y)E=function(){y(P)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,_=O.port2;O.port1.onmessage=P,E=function(){_.postMessage(null)}}else E=function(){v(P,0)};function R(e){S=e,k||(k=!0,E())}function A(t,n){M=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,R(x))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(r.sortIndex=o,t(u,r),null===n(l)&&r===n(u)&&(g?(m(M),M=-1):g=!0,A(w,o-a))):(r.sortIndex=s,t(l,r),p||h||(p=!0,R(x))),r},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}(J$)),J$):Z$.exports=iY()),Z$.exports}
/**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */var aY,sY={};
/**
   * @license React
   * react-dom.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */"production"===process.env.NODE_ENV?(!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){if("production"!==process.env.NODE_ENV)throw new Error("^_^");try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),X$.exports=function(){if(nY)return Q$;nY=1;var e=a$,t=oY();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(e,t){a(e,t),a(e+"Capture",t)}function a(e,t){for(i[e]=t,e=0;e<t.length;e++)r.add(t[e])}var s=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},d={};function f(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){h[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];h[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){h[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){h[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){h[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){h[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){h[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){h[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){h[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var p=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function v(e,t,n,r){var i=h.hasOwnProperty(t)?h[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!l.call(d,e)||!l.call(c,e)&&(u.test(e)?d[e]=!0:(c[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(p,g);h[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(p,g);h[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(p,g);h[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){h[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),h.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){h[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var m=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),S=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),_=Symbol.iterator;function R(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=_&&e[_]||e["@@iterator"])?e:null}var A,D=Object.assign;function L(e){if(void 0===A)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var I=!1;function z(e,t){if(!e||I)return"";I=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{I=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function j(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return z(e.type,!1);case 11:return z(e.type.render,!1);case 1:return z(e.type,!0);default:return""}}function F(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case w:return"Fragment";case b:return"Portal";case E:return"Profiler";case x:return"StrictMode";case T:return"Suspense";case C:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:F(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return F(e(t))}catch(e){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function q(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function K(e,t){q(e,t);var n=U(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Q(e,t.type,n):t.hasOwnProperty("defaultValue")&&Q(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Q(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Z=Array.isArray;function J(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ee(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(n(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function te(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(n(92));if(Z(r)){if(1<r.length)throw Error(n(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:U(r)}}function ne(e,t){var n=U(t.value),r=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ae,se=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ae=ae||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ae.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function le(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ue={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ce=["Webkit","ms","Moz","O"];function de(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ue.hasOwnProperty(e)&&ue[e]?(""+t).trim():t+"px"}function fe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=de(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ue).forEach((function(e){ce.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ue[t]=ue[e]}))}));var he=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pe(e,t){if(t){if(he[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(n(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(n(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(n(62))}}function ge(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function me(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ye=null,be=null,we=null;function xe(e){if(e=gi(e)){if("function"!=typeof ye)throw Error(n(280));var t=e.stateNode;t&&(t=mi(t),ye(e.stateNode,e.type,t))}}function Ee(e){be?we?we.push(e):we=[e]:be=e}function ke(){if(be){var e=be,t=we;if(we=be=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Se(e,t){return e(t)}function Me(){}var Te=!1;function Ce(e,t,n){if(Te)return e(t,n);Te=!0;try{return Se(e,t,n)}finally{Te=!1,(null!==be||null!==we)&&(Me(),ke())}}function Ne(e,t){var r=e.stateNode;if(null===r)return null;var i=mi(r);if(null===i)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(n(231,t,typeof r));return r}var Pe=!1;if(s)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(e){Pe=!1}function _e(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Re=!1,Ae=null,De=!1,Le=null,Ie={onError:function(e){Re=!0,Ae=e}};function ze(e,t,n,r,i,o,a,s,l){Re=!1,Ae=null,_e.apply(Ie,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Fe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Be(e){if(je(e)!==e)throw Error(n(188))}function Ue(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(n(188));return t!==e?null:e}for(var r=e,i=t;;){var o=r.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(i=o.return)){r=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return Be(o),e;if(a===i)return Be(o),t;a=a.sibling}throw Error(n(188))}if(r.return!==i.return)r=o,i=a;else{for(var s=!1,l=o.child;l;){if(l===r){s=!0,r=o,i=a;break}if(l===i){s=!0,i=o,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,i=o;break}if(l===i){s=!0,i=a,r=o;break}l=l.sibling}if(!s)throw Error(n(189))}}if(r.alternate!==i)throw Error(n(190))}if(3!==r.tag)throw Error(n(188));return r.stateNode.current===r?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ve=t.unstable_scheduleCallback,He=t.unstable_cancelCallback,Ge=t.unstable_shouldYield,$e=t.unstable_requestPaint,Ye=t.unstable_now,qe=t.unstable_getCurrentPriorityLevel,Ke=t.unstable_ImmediatePriority,Xe=t.unstable_UserBlockingPriority,Qe=t.unstable_NormalPriority,Ze=t.unstable_LowPriority,Je=t.unstable_IdlePriority,et=null,tt=null,nt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(rt(e)/it|0)|0},rt=Math.log,it=Math.LN2,ot=64,at=4194304;function st(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=st(s):0!=(o&=a)&&(r=st(o))}else 0!=(a=n&~i)?r=st(a):0!==o&&(r=st(o));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&4194240&o))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-nt(t)),r|=e[n],t&=~i;return r}function ut(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ct(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function dt(){var e=ot;return!(4194240&(ot<<=1))&&(ot=64),e}function ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ht(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-nt(t)]=n}function pt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-nt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function vt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var mt,yt,bt,wt,xt,Et=!1,kt=[],St=null,Mt=null,Tt=null,Ct=new Map,Nt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _t(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Rt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=gi(t))&&yt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function At(e){var t=pi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Fe(n)))return e.blockedOn=t,void xt(e.priority,(function(){bt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=gi(n))&&yt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Lt(e,t,n){Dt(e)&&n.delete(t)}function It(){Et=!1,null!==St&&Dt(St)&&(St=null),null!==Mt&&Dt(Mt)&&(Mt=null),null!==Tt&&Dt(Tt)&&(Tt=null),Ct.forEach(Lt),Nt.forEach(Lt)}function zt(e,n){e.blockedOn===n&&(e.blockedOn=null,Et||(Et=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,It)))}function jt(e){function t(t){return zt(t,e)}if(0<kt.length){zt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==St&&zt(St,e),null!==Mt&&zt(Mt,e),null!==Tt&&zt(Tt,e),Ct.forEach(t),Nt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)At(n),null===n.blockedOn&&Pt.shift()}var Ft=m.ReactCurrentBatchConfig,Bt=!0;function Ut(e,t,n,r){var i=gt,o=Ft.transition;Ft.transition=null;try{gt=1,Vt(e,t,n,r)}finally{gt=i,Ft.transition=o}}function Wt(e,t,n,r){var i=gt,o=Ft.transition;Ft.transition=null;try{gt=4,Vt(e,t,n,r)}finally{gt=i,Ft.transition=o}}function Vt(e,t,n,r){if(Bt){var i=Gt(e,t,n,r);if(null===i)Br(e,t,r,Ht,n),_t(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return St=Rt(St,e,t,n,r,i),!0;case"dragenter":return Mt=Rt(Mt,e,t,n,r,i),!0;case"mouseover":return Tt=Rt(Tt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ct.set(o,Rt(Ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Rt(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(_t(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=gi(i);if(null!==o&&mt(o),null===(o=Gt(e,t,n,r))&&Br(e,t,r,Ht,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}}var Ht=null;function Gt(e,t,n,r){if(Ht=null,null!==(e=pi(e=me(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Fe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qe()){case Ke:return 1;case Xe:return 4;case Qe:case Ze:return 16;case Je:return 536870912;default:return 16}default:return 16}}var Yt=null,qt=null,Kt=null;function Xt(){if(Kt)return Kt;var e,t,n=qt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Zt(){return!0}function Jt(){return!1}function en(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Zt:Jt,this.isPropagationStopped=Jt,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zt)},persist:function(){},isPersistent:Zt}),t}var tn,nn,rn,on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},an=en(on),sn=D({},on,{view:0,detail:0}),ln=en(sn),un=D({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rn&&(rn&&"mousemove"===e.type?(tn=e.screenX-rn.screenX,nn=e.screenY-rn.screenY):nn=tn=0,rn=e),tn)},movementY:function(e){return"movementY"in e?e.movementY:nn}}),cn=en(un),dn=en(D({},un,{dataTransfer:0})),fn=en(D({},sn,{relatedTarget:0})),hn=en(D({},on,{animationName:0,elapsedTime:0,pseudoElement:0})),pn=D({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gn=en(pn),vn=en(D({},on,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function xn(){return wn}var En=D({},sn,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?yn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=en(En),Sn=en(D({},un,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=en(D({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Tn=en(D({},on,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=D({},un,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=en(Cn),Pn=[9,13,27,32],On=s&&"CompositionEvent"in window,_n=null;s&&"documentMode"in document&&(_n=document.documentMode);var Rn=s&&"TextEvent"in window&&!_n,An=s&&(!On||_n&&8<_n&&11>=_n),Dn=String.fromCharCode(32),Ln=!1;function In(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1,Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fn[e.type]:"textarea"===t}function Un(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new an("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Vn=null;function Hn(e){Dr(e,0)}function Gn(e){if(H(vi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(s){var qn;if(s){var Kn="oninput"in document;if(!Kn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Kn="function"==typeof Xn.oninput}qn=Kn}else qn=!1;Yn=qn&&(!document.documentMode||9<document.documentMode)}function Qn(){Wn&&(Wn.detachEvent("onpropertychange",Zn),Vn=Wn=null)}function Zn(e){if("value"===e.propertyName&&Gn(Vn)){var t=[];Un(t,Vn,e,me(e)),Ce(Hn,t)}}function Jn(e,t,n){"focusin"===e?(Qn(),Vn=n,(Wn=t).attachEvent("onpropertychange",Zn)):"focusout"===e&&Qn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Vn)}function tr(e,t){if("click"===e)return Gn(t)}function nr(e,t){if("input"===e||"change"===e)return Gn(t)}var rr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ir(e,t){if(rr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!l.call(t,i)||!rr(e[i],t[i]))return!1}return!0}function or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ar(e,t){var n,r=or(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=or(r)}}function sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function cr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sr(n.ownerDocument.documentElement,n)){if(null!==r&&ur(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ar(n,o);var a=ar(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=s&&"documentMode"in document&&11>=document.documentMode,fr=null,hr=null,pr=null,gr=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;gr||null==fr||fr!==G(r)||(r="selectionStart"in(r=fr)&&ur(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&ir(pr,r)||(pr=r,0<(r=Wr(hr,"onSelect")).length&&(t=new an("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}function mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yr={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionend:mr("Transition","TransitionEnd")},br={},wr={};function xr(e){if(br[e])return br[e];if(!yr[e])return e;var t,n=yr[e];for(t in n)if(n.hasOwnProperty(t)&&t in wr)return br[e]=n[t];return e}s&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);var Er=xr("animationend"),kr=xr("animationiteration"),Sr=xr("animationstart"),Mr=xr("transitionend"),Tr=new Map,Cr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Tr.set(e,t),o(t,[e])}for(var Pr=0;Pr<Cr.length;Pr++){var Or=Cr[Pr];Nr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Nr(Er,"onAnimationEnd"),Nr(kr,"onAnimationIteration"),Nr(Sr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Mr,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Ar(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,i,o,a,s,l,u){if(ze.apply(this,arguments),Re){if(!Re)throw Error(n(198));var c=Ae;Re=!1,Ae=null,De||(De=!0,Le=c)}}(i,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Ar(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Ar(i,s,u),o=l}}}if(De)throw e=Le,De=!1,Le=null,e}function Lr(e,t){var n=t[di];void 0===n&&(n=t[di]=new Set);var r=e+"__bubble";n.has(r)||(Fr(t,e,2,!1),n.add(r))}function Ir(e,t,n){var r=0;t&&(r|=4),Fr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[zr]){e[zr]=!0,r.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Ir(t,!1,e),Ir(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ir("selectionchange",!1,t))}}function Fr(e,t,n,r){switch($t(t)){case 1:var i=Ut;break;case 4:i=Wt;break;default:i=Vt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=pi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ce((function(){var r=o,i=me(n),a=[];e:{var s=Tr.get(e);if(void 0!==s){var l=an,u=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":u="focus",l=fn;break;case"focusout":u="blur",l=fn;break;case"beforeblur":case"afterblur":l=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Er:case kr:case Sr:l=hn;break;case Mr:l=Tn;break;case"scroll":l=ln;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Sn}var c=!!(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==f&&null!=(g=Ne(p,f))&&c.push(Ur(p,g,h))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ve||!(u=n.relatedTarget||n.fromElement)||!pi(u)&&!u[ci])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?pi(u):null)&&(u!==(d=je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=cn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Sn,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:vi(l),h=null==u?s:vi(u),(s=new c(g,p+"leave",l,n,i)).target=d,s.relatedTarget=h,g=null,pi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,g=c),d=g,l&&u)e:{for(f=u,p=0,h=c=l;h;h=Vr(h))p++;for(h=0,g=f;g;g=Vr(g))h++;for(;0<p-h;)c=Vr(c),p--;for(;0<h-p;)f=Vr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Vr(c),f=Vr(f)}c=null}else c=null;null!==l&&Hr(a,s,l,c,!1),null!==u&&null!==d&&Hr(a,d,u,c,!0)}if("select"===(l=(s=r?vi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=$n;else if(Bn(s))if(Yn)v=nr;else{v=er;var m=Jn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=tr);switch(v&&(v=v(e,r))?Un(a,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&Q(s,"number",s.value)),m=r?vi(r):window,e){case"focusin":(Bn(m)||"true"===m.contentEditable)&&(fr=m,hr=r,pr=null);break;case"focusout":pr=hr=fr=null;break;case"mousedown":gr=!0;break;case"contextmenu":case"mouseup":case"dragend":gr=!1,vr(a,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":vr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?In(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(An&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(y=Xt()):(qt="value"in(Yt=i)?Yt.value:Yt.textContent,jn=!0)),0<(m=Wr(r,b)).length&&(b=new vn(b,e,null,n,i),a.push({event:b,listeners:m}),(y||null!==(y=zn(n)))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Ln=!0,Dn);case"textInput":return(e=t.data)===Dn&&Ln?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!On&&In(e,t)?(e=Xt(),Kt=qt=Yt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Wr(r,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Dr(a,t)}))}function Ur(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Ur(e,o,i)),null!=(o=Ne(e,t))&&r.push(Ur(e,o,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ne(n,o))&&a.unshift(Ur(n,l,s)):i||null!=(l=Ne(n,o))&&a.push(Ur(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"==typeof e?e:""+e).replace(Gr,"\n").replace($r,"")}function qr(e,t,r){if(t=Yr(t),Yr(e)!==t&&r)throw Error(n(425))}function Kr(){}var Xr=null,Qr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Jr="function"==typeof setTimeout?setTimeout:void 0,ei="function"==typeof clearTimeout?clearTimeout:void 0,ti="function"==typeof Promise?Promise:void 0,ni="function"==typeof queueMicrotask?queueMicrotask:void 0!==ti?function(e){return ti.resolve(null).then(e).catch(ri)}:Jr;function ri(e){setTimeout((function(){throw e}))}function ii(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ai(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),li="__reactFiber$"+si,ui="__reactProps$"+si,ci="__reactContainer$"+si,di="__reactEvents$"+si,fi="__reactListeners$"+si,hi="__reactHandles$"+si;function pi(e){var t=e[li];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ci]||n[li]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ai(e);null!==e;){if(n=e[li])return n;e=ai(e)}return t}n=(e=n).parentNode}return null}function gi(e){return!(e=e[li]||e[ci])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(n(33))}function mi(e){return e[ui]||null}var yi=[],bi=-1;function wi(e){return{current:e}}function xi(e){0>bi||(e.current=yi[bi],yi[bi]=null,bi--)}function Ei(e,t){bi++,yi[bi]=e.current,e.current=t}var ki={},Si=wi(ki),Mi=wi(!1),Ti=ki;function Ci(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!=e.childContextTypes}function Pi(){xi(Mi),xi(Si)}function Oi(e,t,r){if(Si.current!==ki)throw Error(n(168));Ei(Si,t),Ei(Mi,r)}function _i(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return r;for(var o in i=i.getChildContext())if(!(o in t))throw Error(n(108,B(e)||"Unknown",o));return D({},r,i)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Ti=Si.current,Ei(Si,e),Ei(Mi,Mi.current),!0}function Ai(e,t,r){var i=e.stateNode;if(!i)throw Error(n(169));r?(e=_i(e,t,Ti),i.__reactInternalMemoizedMergedChildContext=e,xi(Mi),xi(Si),Ei(Si,e)):xi(Mi),Ei(Mi,r)}var Di=null,Li=!1,Ii=!1;function zi(e){null===Di?Di=[e]:Di.push(e)}function ji(){if(!Ii&&null!==Di){Ii=!0;var e=0,t=gt;try{var n=Di;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,Li=!1}catch(t){throw null!==Di&&(Di=Di.slice(e+1)),Ve(Ke,ji),t}finally{gt=t,Ii=!1}}return null}var Fi=[],Bi=0,Ui=null,Wi=0,Vi=[],Hi=0,Gi=null,$i=1,Yi="";function qi(e,t){Fi[Bi++]=Wi,Fi[Bi++]=Ui,Ui=e,Wi=t}function Ki(e,t,n){Vi[Hi++]=$i,Vi[Hi++]=Yi,Vi[Hi++]=Gi,Gi=e;var r=$i;e=Yi;var i=32-nt(r)-1;r&=~(1<<i),n+=1;var o=32-nt(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-nt(t)+i|n<<i|r,Yi=o+e}else $i=1<<o|n<<i|r,Yi=e}function Xi(e){null!==e.return&&(qi(e,1),Ki(e,1,0))}function Qi(e){for(;e===Ui;)Ui=Fi[--Bi],Fi[Bi]=null,Wi=Fi[--Bi],Fi[Bi]=null;for(;e===Gi;)Gi=Vi[--Hi],Vi[Hi]=null,Yi=Vi[--Hi],Vi[Hi]=null,$i=Vi[--Hi],Vi[Hi]=null}var Zi=null,Ji=null,eo=!1,to=null;function no(e,t){var n=Cu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ro(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Zi=e,Ji=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Zi=e,Ji=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Cu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Zi=e,Ji=null,!0);default:return!1}}function io(e){return!(!(1&e.mode)||128&e.flags)}function oo(e){if(eo){var t=Ji;if(t){var r=t;if(!ro(e,t)){if(io(e))throw Error(n(418));t=oi(r.nextSibling);var i=Zi;t&&ro(e,t)?no(i,r):(e.flags=-4097&e.flags|2,eo=!1,Zi=e)}}else{if(io(e))throw Error(n(418));e.flags=-4097&e.flags|2,eo=!1,Zi=e}}}function ao(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Zi=e}function so(e){if(e!==Zi)return!1;if(!eo)return ao(e),eo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ji)){if(io(e))throw lo(),Error(n(418));for(;t;)no(e,t),t=oi(t.nextSibling)}if(ao(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){Ji=oi(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}Ji=null}}else Ji=Zi?oi(e.stateNode.nextSibling):null;return!0}function lo(){for(var e=Ji;e;)e=oi(e.nextSibling)}function uo(){Ji=Zi=null,eo=!1}function co(e){null===to?to=[e]:to.push(e)}var fo=m.ReactCurrentBatchConfig;function ho(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(n(309));var i=r.stateNode}if(!i)throw Error(n(147,e));var o=i,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(n(284));if(!r._owner)throw Error(n(290,e))}return e}function po(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function go(e){return(0,e._init)(e._payload)}function vo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function r(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Au(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===w?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===P&&go(i)===t.type)?((r=o(t,n.props)).ref=ho(e,t,n),r.return=e,r):((r=Ou(n.type,n.key,n.props,null,e.mode,r)).ref=ho(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Du(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=_u(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Au(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case y:return(n=Ou(t.type,t.key,t.props,null,e.mode,n)).ref=ho(e,null,t),n.return=e,n;case b:return(t=Du(t,e.mode,n)).return=e,t;case P:return f(e,(0,t._init)(t._payload),n)}if(Z(t)||R(t))return(t=_u(t,e.mode,n,null)).return=e,t;po(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case y:return n.key===i?u(e,t,n,r):null;case b:return n.key===i?c(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(Z(n)||R(n))return null!==i?null:d(e,t,n,r,null);po(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case y:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(Z(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);po(t,r)}return null}function g(n,o,s,l){for(var u=null,c=null,d=o,g=o=0,v=null;null!==d&&g<s.length;g++){d.index>g?(v=d,d=null):v=d.sibling;var m=h(n,d,s[g],l);if(null===m){null===d&&(d=v);break}e&&d&&null===m.alternate&&t(n,d),o=a(m,o,g),null===c?u=m:c.sibling=m,c=m,d=v}if(g===s.length)return r(n,d),eo&&qi(n,g),u;if(null===d){for(;g<s.length;g++)null!==(d=f(n,s[g],l))&&(o=a(d,o,g),null===c?u=d:c.sibling=d,c=d);return eo&&qi(n,g),u}for(d=i(n,d);g<s.length;g++)null!==(v=p(d,n,g,s[g],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?g:v.key),o=a(v,o,g),null===c?u=v:c.sibling=v,c=v);return e&&d.forEach((function(e){return t(n,e)})),eo&&qi(n,g),u}function v(o,s,l,u){var c=R(l);if("function"!=typeof c)throw Error(n(150));if(null==(l=c.call(l)))throw Error(n(151));for(var d=c=null,g=s,v=s=0,m=null,y=l.next();null!==g&&!y.done;v++,y=l.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=h(o,g,y.value,u);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(o,g),s=a(b,s,v),null===d?c=b:d.sibling=b,d=b,g=m}if(y.done)return r(o,g),eo&&qi(o,v),c;if(null===g){for(;!y.done;v++,y=l.next())null!==(y=f(o,y.value,u))&&(s=a(y,s,v),null===d?c=y:d.sibling=y,d=y);return eo&&qi(o,v),c}for(g=i(o,g);!y.done;v++,y=l.next())null!==(y=p(g,o,v,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=a(y,s,v),null===d?c=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(o,e)})),eo&&qi(o,v),c}return function e(n,i,a,l){if("object"==typeof a&&null!==a&&a.type===w&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case y:e:{for(var u=a.key,c=i;null!==c;){if(c.key===u){if((u=a.type)===w){if(7===c.tag){r(n,c.sibling),(i=o(c,a.props.children)).return=n,n=i;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===P&&go(u)===c.type){r(n,c.sibling),(i=o(c,a.props)).ref=ho(n,c,a),i.return=n,n=i;break e}r(n,c);break}t(n,c),c=c.sibling}a.type===w?((i=_u(a.props.children,n.mode,l,a.key)).return=n,n=i):((l=Ou(a.type,a.key,a.props,null,n.mode,l)).ref=ho(n,i,a),l.return=n,n=l)}return s(n);case b:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){r(n,i.sibling),(i=o(i,a.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=Du(a,n.mode,l)).return=n,n=i}return s(n);case P:return e(n,i,(c=a._init)(a._payload),l)}if(Z(a))return g(n,i,a,l);if(R(a))return v(n,i,a,l);po(n,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==i&&6===i.tag?(r(n,i.sibling),(i=o(i,a)).return=n,n=i):(r(n,i),(i=Au(a,n.mode,l)).return=n,n=i),s(n)):r(n,i)}}var mo=vo(!0),yo=vo(!1),bo=wi(null),wo=null,xo=null,Eo=null;function ko(){Eo=xo=wo=null}function So(e){var t=bo.current;xi(bo),e._currentValue=t}function Mo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){wo=e,Eo=xo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(gs=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===xo){if(null===wo)throw Error(n(308));xo=e,wo.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var No=null;function Po(e){null===No?No=[e]:No.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Po(t)):(n.next=i.next,i.next=n),t.interleaved=n,_o(e,r)}function _o(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Io(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Sl){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_o(e,n)}return null===(i=r.interleaved)?(t.next=t,Po(r)):(t.next=i.next,i.next=t),r.interleaved=t,_o(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,pt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&(s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l)}if(null!==o){var d=i.baseState;for(a=0,c=u=l=null,s=o;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,h=n,g.tag){case 1:if("function"==typeof(p=g.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=g.payload)?p.call(h,d,f):p))break e;d=D({},d,f);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=d}}function Bo(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=r,"function"!=typeof o)throw Error(n(191,o));o.call(i)}}}var Uo={},Wo=wi(Uo),Vo=wi(Uo),Ho=wi(Uo);function Go(e){if(e===Uo)throw Error(n(174));return e}function $o(e,t){switch(Ei(Ho,t),Ei(Vo,e),Ei(Wo,Uo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Wo),Ei(Wo,t)}function Yo(){xi(Wo),xi(Vo),xi(Ho)}function qo(e){Go(Ho.current);var t=Go(Wo.current),n=oe(t,e.type);t!==n&&(Ei(Vo,e),Ei(Wo,n))}function Ko(e){Vo.current===e&&(xi(Wo),xi(Vo))}var Xo=wi(0);function Qo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zo=[];function Jo(){for(var e=0;e<Zo.length;e++)Zo[e]._workInProgressVersionPrimary=null;Zo.length=0}var ea=m.ReactCurrentDispatcher,ta=m.ReactCurrentBatchConfig,na=0,ra=null,ia=null,oa=null,aa=!1,sa=!1,la=0,ua=0;function ca(){throw Error(n(321))}function da(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function fa(e,t,r,i,o,a){if(na=a,ra=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ea.current=null===e||null===e.memoizedState?Ka:Xa,e=r(i,o),sa){a=0;do{if(sa=!1,la=0,25<=a)throw Error(n(301));a+=1,oa=ia=null,t.updateQueue=null,ea.current=Qa,e=r(i,o)}while(sa)}if(ea.current=qa,t=null!==ia&&null!==ia.next,na=0,oa=ia=ra=null,aa=!1,t)throw Error(n(300));return e}function ha(){var e=0!==la;return la=0,e}function pa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oa?ra.memoizedState=oa=e:oa=oa.next=e,oa}function ga(){if(null===ia){var e=ra.alternate;e=null!==e?e.memoizedState:null}else e=ia.next;var t=null===oa?ra.memoizedState:oa.next;if(null!==t)oa=t,ia=e;else{if(null===e)throw Error(n(310));e={memoizedState:(ia=e).memoizedState,baseState:ia.baseState,baseQueue:ia.baseQueue,queue:ia.queue,next:null},null===oa?ra.memoizedState=oa=e:oa=oa.next=e}return oa}function va(e,t){return"function"==typeof t?t(e):t}function ma(e){var t=ga(),r=t.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=e;var i=ia,o=i.baseQueue,a=r.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}i.baseQueue=o=a,r.pending=null}if(null!==o){a=o.next,i=i.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((na&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=i):u=u.next=f,ra.lanes|=d,Rl|=d}c=c.next}while(null!==c&&c!==a);null===u?s=i:u.next=l,rr(i,t.memoizedState)||(gs=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=u,r.lastRenderedState=i}if(null!==(e=r.interleaved)){o=e;do{a=o.lane,ra.lanes|=a,Rl|=a,o=o.next}while(o!==e)}else null===o&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ya(e){var t=ga(),r=t.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=e;var i=r.dispatch,o=r.pending,a=t.memoizedState;if(null!==o){r.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);rr(a,t.memoizedState)||(gs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,i]}function ba(){}function wa(e,t){var r=ra,i=ga(),o=t(),a=!rr(i.memoizedState,o);if(a&&(i.memoizedState=o,gs=!0),i=i.queue,Ra(ka.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==oa&&1&oa.memoizedState.tag){if(r.flags|=2048,Ca(9,Ea.bind(null,r,i,o,t),void 0,null),null===Ml)throw Error(n(349));30&na||xa(r,t,o)}return o}function xa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ra.updateQueue)?(t={lastEffect:null,stores:null},ra.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,Sa(t)&&Ma(e)}function ka(e,t,n){return n((function(){Sa(t)&&Ma(e)}))}function Sa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch(e){return!0}}function Ma(e){var t=_o(e,1);null!==t&&Zl(t,e,1,-1)}function Ta(e){var t=pa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t.queue=e,e=e.dispatch=Ha.bind(null,ra,e),[t.memoizedState,e]}function Ca(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ra.updateQueue)?(t={lastEffect:null,stores:null},ra.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Na(){return ga().memoizedState}function Pa(e,t,n,r){var i=pa();ra.flags|=e,i.memoizedState=Ca(1|t,n,void 0,void 0===r?null:r)}function Oa(e,t,n,r){var i=ga();r=void 0===r?null:r;var o=void 0;if(null!==ia){var a=ia.memoizedState;if(o=a.destroy,null!==r&&da(r,a.deps))return void(i.memoizedState=Ca(t,n,o,r))}ra.flags|=e,i.memoizedState=Ca(1|t,n,o,r)}function _a(e,t){return Pa(8390656,8,e,t)}function Ra(e,t){return Oa(2048,8,e,t)}function Aa(e,t){return Oa(4,2,e,t)}function Da(e,t){return Oa(4,4,e,t)}function La(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ia(e,t,n){return n=null!=n?n.concat([e]):null,Oa(4,4,La.bind(null,t,e),n)}function za(){}function ja(e,t){var n=ga();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&da(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Fa(e,t){var n=ga();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&da(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ba(e,t,n){return 21&na?(rr(n,t)||(n=dt(),ra.lanes|=n,Rl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gs=!0),e.memoizedState=n)}function Ua(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ta.transition;ta.transition={};try{e(!1),t()}finally{gt=n,ta.transition=r}}function Wa(){return ga().memoizedState}function Va(e,t,n){var r=Ql(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ga(e)?$a(t,n):null!==(n=Oo(e,t,n,r))&&(Zl(n,e,r,Xl()),Ya(n,t,r))}function Ha(e,t,n){var r=Ql(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ga(e))$a(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,rr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Po(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Oo(e,t,i,r))&&(Zl(n,e,r,i=Xl()),Ya(n,t,r))}}function Ga(e){var t=e.alternate;return e===ra||null!==t&&t===ra}function $a(e,t){sa=aa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,pt(e,n)}}var qa={readContext:Co,useCallback:ca,useContext:ca,useEffect:ca,useImperativeHandle:ca,useInsertionEffect:ca,useLayoutEffect:ca,useMemo:ca,useReducer:ca,useRef:ca,useState:ca,useDebugValue:ca,useDeferredValue:ca,useTransition:ca,useMutableSource:ca,useSyncExternalStore:ca,useId:ca,unstable_isNewReconciler:!1},Ka={readContext:Co,useCallback:function(e,t){return pa().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:_a,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Pa(4194308,4,La.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=pa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Va.bind(null,ra,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},pa().memoizedState=e},useState:Ta,useDebugValue:za,useDeferredValue:function(e){return pa().memoizedState=e},useTransition:function(){var e=Ta(!1),t=e[0];return e=Ua.bind(null,e[1]),pa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=ra,o=pa();if(eo){if(void 0===r)throw Error(n(407));r=r()}else{if(r=t(),null===Ml)throw Error(n(349));30&na||xa(i,t,r)}o.memoizedState=r;var a={value:r,getSnapshot:t};return o.queue=a,_a(ka.bind(null,i,a,e),[e]),i.flags|=2048,Ca(9,Ea.bind(null,i,a,r,t),void 0,null),r},useId:function(){var e=pa(),t=Ml.identifierPrefix;if(eo){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-nt($i)-1)).toString(32)+n),0<(n=la++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ua++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xa={readContext:Co,useCallback:ja,useContext:Co,useEffect:Ra,useImperativeHandle:Ia,useInsertionEffect:Aa,useLayoutEffect:Da,useMemo:Fa,useReducer:ma,useRef:Na,useState:function(){return ma(va)},useDebugValue:za,useDeferredValue:function(e){return Ba(ga(),ia.memoizedState,e)},useTransition:function(){return[ma(va)[0],ga().memoizedState]},useMutableSource:ba,useSyncExternalStore:wa,useId:Wa,unstable_isNewReconciler:!1},Qa={readContext:Co,useCallback:ja,useContext:Co,useEffect:Ra,useImperativeHandle:Ia,useInsertionEffect:Aa,useLayoutEffect:Da,useMemo:Fa,useReducer:ya,useRef:Na,useState:function(){return ya(va)},useDebugValue:za,useDeferredValue:function(e){var t=ga();return null===ia?t.memoizedState=e:Ba(t,ia.memoizedState,e)},useTransition:function(){return[ya(va)[0],ga().memoizedState]},useMutableSource:ba,useSyncExternalStore:wa,useId:Wa,unstable_isNewReconciler:!1};function Za(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Ja(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var es={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xl(),i=Ql(e),o=Lo(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Io(e,o,i))&&(Zl(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xl(),i=Ql(e),o=Lo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Io(e,o,i))&&(Zl(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xl(),r=Ql(e),i=Lo(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Io(e,i,r))&&(Zl(t,e,r,n),zo(t,e,r))}};function ts(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&ir(n,r)&&ir(i,o))}function ns(e,t,n){var r=!1,i=ki,o=t.contextType;return"object"==typeof o&&null!==o?o=Co(o):(i=Ni(t)?Ti:Si.current,o=(r=null!=(r=t.contextTypes))?Ci(e,i):ki),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=es,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function rs(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&es.enqueueReplaceState(t,t.state,null)}function is(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ao(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Co(o):(o=Ni(t)?Ti:Si.current,i.context=Ci(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Ja(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&es.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function os(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function as(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ss(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var ls="function"==typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=Lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bl||(Bl=!0,Ul=r),ss(0,t)},n}function cs(e,t,n){(n=Lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ss(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!=typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ds(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ls;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xu.bind(null,e,t,n),t.then(e,e))}function fs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hs(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Lo(-1,1)).tag=2,Io(n,t,1))),n.lanes|=1),e)}var ps=m.ReactCurrentOwner,gs=!1;function vs(e,t,n,r){t.child=null===e?yo(t,null,n,r):mo(t,e.child,n,r)}function ms(e,t,n,r,i){n=n.render;var o=t.ref;return To(t,i),r=fa(e,t,n,r,o,i),n=ha(),null===e||gs?(eo&&n&&Xi(t),t.flags|=1,vs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function ys(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Nu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ou(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,bs(e,t,o,r,i))}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(a,r)&&e.ref===t.ref)return Bs(e,t,i)}return t.flags|=1,(e=Pu(o,r)).ref=t.ref,e.return=t,t.child=e}function bs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ir(o,r)&&e.ref===t.ref){if(gs=!1,t.pendingProps=r=o,!(e.lanes&i))return t.lanes=e.lanes,Bs(e,t,i);131072&e.flags&&(gs=!0)}}return Es(e,t,n,r,i)}function ws(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Pl,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ei(Pl,Nl),Nl|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Pl,Nl),Nl|=n;else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ei(Pl,Nl),Nl|=r;return vs(e,t,i,n),t.child}function xs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,i){var o=Ni(n)?Ti:Si.current;return o=Ci(t,o),To(t,i),n=fa(e,t,n,r,o,i),r=ha(),null===e||gs?(eo&&r&&Xi(t),t.flags|=1,vs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function ks(e,t,n,r,i){if(Ni(n)){var o=!0;Ri(t)}else o=!1;if(To(t,i),null===t.stateNode)Fs(e,t),ns(t,n,r),is(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?Co(u):Ci(t,u=Ni(n)?Ti:Si.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&rs(t,a,r,u),Ro=!1;var f=t.memoizedState;a.state=f,Fo(t,r,a,i),l=t.memoizedState,s!==r||f!==l||Mi.current||Ro?("function"==typeof c&&(Ja(t,n,c,r),l=t.memoizedState),(s=Ro||ts(t,n,s,r,f,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Do(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Za(t.type,s),a.props=u,d=t.pendingProps,f=a.context,l="object"==typeof(l=n.contextType)&&null!==l?Co(l):Ci(t,l=Ni(n)?Ti:Si.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||f!==l)&&rs(t,a,r,l),Ro=!1,f=t.memoizedState,a.state=f,Fo(t,r,a,i);var p=t.memoizedState;s!==d||f!==p||Mi.current||Ro?("function"==typeof h&&(Ja(t,n,h,r),p=t.memoizedState),(u=Ro||ts(t,n,u,r,f,p,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ss(e,t,n,r,o,i)}function Ss(e,t,n,r,i,o){xs(e,t);var a=!!(128&t.flags);if(!r&&!a)return i&&Ai(t,n,!1),Bs(e,t,o);r=t.stateNode,ps.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=mo(t,e.child,null,o),t.child=mo(t,null,s,o)):vs(e,t,s,o),t.memoizedState=r.state,i&&Ai(t,n,!0),t.child}function Ms(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),$o(e,t.containerInfo)}function Ts(e,t,n,r,i){return uo(),co(i),t.flags|=256,vs(e,t,n,r),t.child}var Cs,Ns,Ps,Os,_s={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function As(e,t,r){var i,o=t.pendingProps,a=Xo.current,s=!1,l=!!(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&!!(2&a)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ei(Xo,1&a),null===e)return oo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},1&o||null===s?s=Ru(l,o,0,null):(s.childLanes=0,s.pendingProps=l),e=_u(e,o,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(r),t.memoizedState=_s,e):Ds(t,l));if(null!==(a=e.memoizedState)&&null!==(i=a.dehydrated))return function(e,t,r,i,o,a,s){if(r)return 256&t.flags?(t.flags&=-257,Ls(e,t,s,i=as(Error(n(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,o=t.mode,i=Ru({mode:"visible",children:i.children},o,0,null),(a=_u(a,o,s,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,1&t.mode&&mo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=_s,a);if(!(1&t.mode))return Ls(e,t,s,null);if("$!"===o.data){if(i=o.nextSibling&&o.nextSibling.dataset)var l=i.dgst;return i=l,Ls(e,t,s,i=as(a=Error(n(419)),i,void 0))}if(l=!!(s&e.childLanes),gs||l){if(null!==(i=Ml)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=o&(i.suspendedLanes|s)?0:o)&&o!==a.retryLane&&(a.retryLane=o,_o(e,o),Zl(i,e,o,-1))}return du(),Ls(e,t,s,i=as(Error(n(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=ku.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,Ji=oi(o.nextSibling),Zi=t,eo=!0,to=null,null!==e&&(Vi[Hi++]=$i,Vi[Hi++]=Yi,Vi[Hi++]=Gi,$i=e.id,Yi=e.overflow,Gi=t),(t=Ds(t,i.children)).flags|=4096,t)}(e,t,l,o,i,a,r);if(s){s=o.fallback,l=t.mode,i=(a=e.child).sibling;var u={mode:"hidden",children:o.children};return 1&l||t.child===a?(o=Pu(a,u)).subtreeFlags=14680064&a.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=u,t.deletions=null),null!==i?s=Pu(i,s):(s=_u(s,l,r,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=_s,o}return e=(s=e.child).sibling,o=Pu(s,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=r),o.return=t,o.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function Ds(e,t){return(t=Ru({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ls(e,t,n,r){return null!==r&&co(r),mo(t,e.child,null,n),(e=Ds(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Is(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Mo(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function js(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(vs(e,t,r.children,n),2&(r=Xo.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Is(e,n,t);else if(19===e.tag)Is(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(Xo,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Qo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Qo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Fs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,!(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(n(153));if(null!==t.child){for(r=Pu(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Pu(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Us(e,t){if(!eo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vs(e,t,r){var o=t.pendingProps;switch(Qi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ni(t.type)&&Pi(),Ws(t),null;case 3:return o=t.stateNode,Yo(),xi(Mi),xi(Si),Jo(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(so(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==to&&(nu(to),to=null))),Ns(e,t),Ws(t),null;case 5:Ko(t);var a=Go(Ho.current);if(r=t.type,null!==e&&null!=t.stateNode)Ps(e,t,r,o,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(null===t.stateNode)throw Error(n(166));return Ws(t),null}if(e=Go(Wo.current),so(t)){o=t.stateNode,r=t.type;var s=t.memoizedProps;switch(o[li]=t,o[ui]=s,e=!!(1&t.mode),r){case"dialog":Lr("cancel",o),Lr("close",o);break;case"iframe":case"object":case"embed":Lr("load",o);break;case"video":case"audio":for(a=0;a<_r.length;a++)Lr(_r[a],o);break;case"source":Lr("error",o);break;case"img":case"image":case"link":Lr("error",o),Lr("load",o);break;case"details":Lr("toggle",o);break;case"input":Y(o,s),Lr("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!s.multiple},Lr("invalid",o);break;case"textarea":te(o,s),Lr("invalid",o)}for(var l in pe(r,s),a=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"==typeof u?o.textContent!==u&&(!0!==s.suppressHydrationWarning&&qr(o.textContent,u,e),a=["children",u]):"number"==typeof u&&o.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&qr(o.textContent,u,e),a=["children",""+u]):i.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Lr("scroll",o)}switch(r){case"input":V(o),X(o,s,!0);break;case"textarea":V(o),re(o);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(o.onclick=Kr)}o=a,t.updateQueue=o,null!==o&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof o.is?e=l.createElement(r,{is:o.is}):(e=l.createElement(r),"select"===r&&(l=e,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):e=l.createElementNS(e,r),e[li]=t,e[ui]=o,Cs(e,t,!1,!1),t.stateNode=e;e:{switch(l=ge(r,o),r){case"dialog":Lr("cancel",e),Lr("close",e),a=o;break;case"iframe":case"object":case"embed":Lr("load",e),a=o;break;case"video":case"audio":for(a=0;a<_r.length;a++)Lr(_r[a],e);a=o;break;case"source":Lr("error",e),a=o;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),a=o;break;case"details":Lr("toggle",e),a=o;break;case"input":Y(e,o),a=$(e,o),Lr("invalid",e);break;case"option":default:a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=D({},o,{value:void 0}),Lr("invalid",e);break;case"textarea":te(e,o),a=ee(e,o),Lr("invalid",e)}for(s in pe(r,a),u=a)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?fe(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&se(e,c):"children"===s?"string"==typeof c?("textarea"!==r||""!==c)&&le(e,c):"number"==typeof c&&le(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Lr("scroll",e):null!=c&&v(e,s,c,l))}switch(r){case"input":V(e),X(e,o,!1);break;case"textarea":V(e),re(e);break;case"option":null!=o.value&&e.setAttribute("value",""+U(o.value));break;case"select":e.multiple=!!o.multiple,null!=(s=o.value)?J(e,!!o.multiple,s,!1):null!=o.defaultValue&&J(e,!!o.multiple,o.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Kr)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(n(166));if(r=Go(Ho.current),Go(Wo.current),so(t)){if(o=t.stateNode,r=t.memoizedProps,o[li]=t,(s=o.nodeValue!==r)&&null!==(e=Zi))switch(e.tag){case 3:qr(o.nodeValue,r,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&qr(o.nodeValue,r,!!(1&e.mode))}s&&(t.flags|=4)}else(o=(9===r.nodeType?r:r.ownerDocument).createTextNode(o))[li]=t,t.stateNode=o}return Ws(t),null;case 13:if(xi(Xo),o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(eo&&null!==Ji&&1&t.mode&&!(128&t.flags))lo(),uo(),t.flags|=98560,s=!1;else if(s=so(t),null!==o&&null!==o.dehydrated){if(null===e){if(!s)throw Error(n(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(n(317));s[li]=t}else uo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),s=!1}else null!==to&&(nu(to),to=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=r,t):((o=null!==o)!=(null!==e&&null!==e.memoizedState)&&o&&(t.child.flags|=8192,1&t.mode&&(null===e||1&Xo.current?0===Ol&&(Ol=3):du())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Yo(),Ns(e,t),null===e&&jr(t.stateNode.containerInfo),Ws(t),null;case 10:return So(t.type._context),Ws(t),null;case 19:if(xi(Xo),null===(s=t.memoizedState))return Ws(t),null;if(o=!!(128&t.flags),null===(l=s.rendering))if(o)Us(s,!1);else{if(0!==Ol||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=Qo(e))){for(t.flags|=128,Us(s,!1),null!==(o=l.updateQueue)&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;null!==r;)e=o,(s=r).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ei(Xo,1&Xo.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>jl&&(t.flags|=128,o=!0,Us(s,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=Qo(l))){if(t.flags|=128,o=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Us(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!eo)return Ws(t),null}else 2*Ye()-s.renderingStartTime>jl&&1073741824!==r&&(t.flags|=128,o=!0,Us(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=s.last)?r.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,r=Xo.current,Ei(Xo,o?1&r|2:1&r),t):(Ws(t),null);case 22:case 23:return su(),o=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==o&&(t.flags|=8192),o&&1&t.mode?!!(1073741824&Nl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(n(156,t.tag))}function Hs(e,t){switch(Qi(t),t.tag){case 1:return Ni(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yo(),xi(Mi),xi(Si),Jo(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ko(t),null;case 13:if(xi(Xo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(n(340));uo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(Xo),null;case 4:return Yo(),null;case 10:return So(t.type._context),null;case 22:case 23:return su(),null;default:return null}}Cs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ns=function(){},Ps=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Go(Wo.current);var a,s=null;switch(n){case"input":o=$(e,o),r=$(e,r),s=[];break;case"select":o=D({},o,{value:void 0}),r=D({},r,{value:void 0}),s=[];break;case"textarea":o=ee(e,o),r=ee(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Kr)}for(c in pe(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var l=o[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(i.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=o?o[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(i.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Lr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gs=!1,$s=!1,Ys="function"==typeof WeakSet?WeakSet:Set,qs=null;function Ks(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){wu(e,t,n)}else n.current=null}function Xs(e,t,n){try{n()}catch(n){wu(e,t,n)}}var Qs=!1;function Zs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Xs(t,n,o)}i=i.next}while(i!==r)}}function Js(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function el(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function tl(e){var t=e.alternate;null!==t&&(e.alternate=null,tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[li],delete t[ui],delete t[di],delete t[fi],delete t[hi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nl(e){return 5===e.tag||3===e.tag||4===e.tag}function rl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||nl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function il(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Kr));else if(4!==r&&null!==(e=e.child))for(il(e,t,n),e=e.sibling;null!==e;)il(e,t,n),e=e.sibling}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}var al=null,sl=!1;function ll(e,t,n){for(n=n.child;null!==n;)ul(e,t,n),n=n.sibling}function ul(e,t,n){if(tt&&"function"==typeof tt.onCommitFiberUnmount)try{tt.onCommitFiberUnmount(et,n)}catch(e){}switch(n.tag){case 5:$s||Ks(n,t);case 6:var r=al,i=sl;al=null,ll(e,t,n),sl=i,null!==(al=r)&&(sl?(e=al,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):al.removeChild(n.stateNode));break;case 18:null!==al&&(sl?(e=al,n=n.stateNode,8===e.nodeType?ii(e.parentNode,n):1===e.nodeType&&ii(e,n),jt(e)):ii(al,n.stateNode));break;case 4:r=al,i=sl,al=n.stateNode.containerInfo,sl=!0,ll(e,t,n),al=r,sl=i;break;case 0:case 11:case 14:case 15:if(!$s&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(2&o||4&o)&&Xs(n,t,a),i=i.next}while(i!==r)}ll(e,t,n);break;case 1:if(!$s&&(Ks(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){wu(n,t,e)}ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,ll(e,t,n),$s=r):ll(e,t,n);break;default:ll(e,t,n)}}function cl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Su.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function dl(e,t){var r=t.deletions;if(null!==r)for(var i=0;i<r.length;i++){var o=r[i];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:al=l.stateNode,sl=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,sl=!0;break e}l=l.return}if(null===al)throw Error(n(160));ul(a,s,o),al=null,sl=!1;var u=o.alternate;null!==u&&(u.return=null),o.return=null}catch(e){wu(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dl(t,e),hl(e),4&i){try{Zs(3,e,e.return),Js(3,e)}catch(t){wu(e,e.return,t)}try{Zs(5,e,e.return)}catch(t){wu(e,e.return,t)}}break;case 1:dl(t,e),hl(e),512&i&&null!==r&&Ks(r,r.return);break;case 5:if(dl(t,e),hl(e),512&i&&null!==r&&Ks(r,r.return),32&e.flags){var o=e.stateNode;try{le(o,"")}catch(t){wu(e,e.return,t)}}if(4&i&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==r?r.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&q(o,a),ge(l,s);var c=ge(l,a);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?fe(o,f):"dangerouslySetInnerHTML"===d?se(o,f):"children"===d?le(o,f):v(o,d,f,c)}switch(l){case"input":K(o,a);break;case"textarea":ne(o,a);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?J(o,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?J(o,!!a.multiple,a.defaultValue,!0):J(o,!!a.multiple,a.multiple?[]:"",!1))}o[ui]=a}catch(t){wu(e,e.return,t)}}break;case 6:if(dl(t,e),hl(e),4&i){if(null===e.stateNode)throw Error(n(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(t){wu(e,e.return,t)}}break;case 3:if(dl(t,e),hl(e),4&i&&null!==r&&r.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(t){wu(e,e.return,t)}break;case 4:default:dl(t,e),hl(e);break;case 13:dl(t,e),hl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(zl=Ye())),4&i&&cl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?($s=(c=$s)||d,dl(t,e),$s=c):dl(t,e),hl(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(qs=e,d=e.child;null!==d;){for(f=qs=d;null!==qs;){switch(p=(h=qs).child,h.tag){case 0:case 11:case 14:case 15:Zs(4,h,h.return);break;case 1:Ks(h,h.return);var g=h.stateNode;if("function"==typeof g.componentWillUnmount){i=h,r=h.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){wu(i,r,e)}}break;case 5:Ks(h,h.return);break;case 22:if(null!==h.memoizedState){ml(f);continue}}null!==p?(p.return=h,qs=p):ml(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,c?"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=f.stateNode,s=null!=(u=f.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=de("display",s))}catch(t){wu(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(t){wu(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:dl(t,e),hl(e),4&i&&cl(e);case 21:}}function hl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(nl(r)){var i=r;break e}r=r.return}throw Error(n(160))}switch(i.tag){case 5:var o=i.stateNode;32&i.flags&&(le(o,""),i.flags&=-33),ol(e,rl(e),o);break;case 3:case 4:var a=i.stateNode.containerInfo;il(e,rl(e),a);break;default:throw Error(n(161))}}catch(t){wu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function pl(e,t,n){qs=e,gl(e)}function gl(e,t,n){for(var r=!!(1&e.mode);null!==qs;){var i=qs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Gs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||$s;s=Gs;var u=$s;if(Gs=a,($s=l)&&!u)for(qs=i;null!==qs;)l=(a=qs).child,22===a.tag&&null!==a.memoizedState?yl(i):null!==l?(l.return=a,qs=l):yl(i);for(;null!==o;)qs=o,gl(o),o=o.sibling;qs=i,Gs=s,$s=u}vl(e)}else 8772&i.subtreeFlags&&null!==o?(o.return=i,qs=o):vl(e)}}function vl(e){for(;null!==qs;){var t=qs;if(8772&t.flags){var r=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:$s||Js(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!$s)if(null===r)i.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Za(t.type,r.memoizedProps);i.componentDidUpdate(o,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bo(t,a,i);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Bo(t,s,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&jt(f)}}}break;default:throw Error(n(163))}$s||512&t.flags&&el(t)}catch(e){wu(t,t.return,e)}}if(t===e){qs=null;break}if(null!==(r=t.sibling)){r.return=t.return,qs=r;break}qs=t.return}}function ml(e){for(;null!==qs;){var t=qs;if(t===e){qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,qs=n;break}qs=t.return}}function yl(e){for(;null!==qs;){var t=qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Js(4,t)}catch(e){wu(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){wu(t,i,e)}}var o=t.return;try{el(t)}catch(e){wu(t,o,e)}break;case 5:var a=t.return;try{el(t)}catch(e){wu(t,a,e)}}}catch(e){wu(t,t.return,e)}if(t===e){qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,qs=s;break}qs=t.return}}var bl,wl=Math.ceil,xl=m.ReactCurrentDispatcher,El=m.ReactCurrentOwner,kl=m.ReactCurrentBatchConfig,Sl=0,Ml=null,Tl=null,Cl=0,Nl=0,Pl=wi(0),Ol=0,_l=null,Rl=0,Al=0,Dl=0,Ll=null,Il=null,zl=0,jl=1/0,Fl=null,Bl=!1,Ul=null,Wl=null,Vl=!1,Hl=null,Gl=0,$l=0,Yl=null,ql=-1,Kl=0;function Xl(){return 6&Sl?Ye():-1!==ql?ql:ql=Ye()}function Ql(e){return 1&e.mode?2&Sl&&0!==Cl?Cl&-Cl:null!==fo.transition?(0===Kl&&(Kl=dt()),Kl):0!==(e=gt)?e:e=void 0===(e=window.event)?16:$t(e.type):1}function Zl(e,t,r,i){if(50<$l)throw $l=0,Yl=null,Error(n(185));ht(e,r,i),2&Sl&&e===Ml||(e===Ml&&(!(2&Sl)&&(Al|=r),4===Ol&&ru(e,Cl)),Jl(e,i),1===r&&0===Sl&&!(1&t.mode)&&(jl=Ye()+500,Li&&ji()))}function Jl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-nt(o),s=1<<a,l=i[a];-1===l?s&n&&!(s&r)||(i[a]=ut(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=lt(e,e===Ml?Cl:0);if(0===r)null!==n&&He(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&He(n),1===t)0===e.tag?function(e){Li=!0,zi(e)}(iu.bind(null,e)):zi(iu.bind(null,e)),ni((function(){!(6&Sl)&&ji()})),n=null;else{switch(vt(r)){case 1:n=Ke;break;case 4:n=Xe;break;case 16:default:n=Qe;break;case 536870912:n=Je}n=Mu(n,eu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function eu(e,t){if(ql=-1,Kl=0,6&Sl)throw Error(n(327));var r=e.callbackNode;if(yu()&&e.callbackNode!==r)return null;var i=lt(e,e===Ml?Cl:0);if(0===i)return null;if(30&i||i&e.expiredLanes||t)t=fu(e,i);else{t=i;var o=Sl;Sl|=2;var a=cu();for(Ml===e&&Cl===t||(Fl=null,jl=Ye()+500,lu(e,t));;)try{pu();break}catch(t){uu(e,t)}ko(),xl.current=a,Sl=o,null!==Tl?t=0:(Ml=null,Cl=0,t=Ol)}if(0!==t){if(2===t&&0!==(o=ct(e))&&(i=o,t=tu(e,o)),1===t)throw r=_l,lu(e,0),ru(e,i),Jl(e,Ye()),r;if(6===t)ru(e,i);else{if(o=e.current.alternate,!(30&i||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!rr(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=fu(e,i),2===t&&(a=ct(e),0!==a&&(i=a,t=tu(e,a))),1!==t)))throw r=_l,lu(e,0),ru(e,i),Jl(e,Ye()),r;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(n(345));case 2:case 5:mu(e,Il,Fl);break;case 3:if(ru(e,i),(130023424&i)===i&&10<(t=zl+500-Ye())){if(0!==lt(e,0))break;if(((o=e.suspendedLanes)&i)!==i){Xl(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Jr(mu.bind(null,e,Il,Fl),t);break}mu(e,Il,Fl);break;case 4:if(ru(e,i),(4194240&i)===i)break;for(t=e.eventTimes,o=-1;0<i;){var s=31-nt(i);a=1<<s,(s=t[s])>o&&(o=s),i&=~a}if(i=o,10<(i=(120>(i=Ye()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*wl(i/1960))-i)){e.timeoutHandle=Jr(mu.bind(null,e,Il,Fl),i);break}mu(e,Il,Fl);break;default:throw Error(n(329))}}}return Jl(e,Ye()),e.callbackNode===r?eu.bind(null,e):null}function tu(e,t){var n=Ll;return e.current.memoizedState.isDehydrated&&(lu(e,t).flags|=256),2!==(e=fu(e,t))&&(t=Il,Il=n,null!==t&&nu(t)),e}function nu(e){null===Il?Il=e:Il.push.apply(Il,e)}function ru(e,t){for(t&=~Dl,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nt(t),r=1<<n;e[n]=-1,t&=~r}}function iu(e){if(6&Sl)throw Error(n(327));yu();var t=lt(e,0);if(!(1&t))return Jl(e,Ye()),null;var r=fu(e,t);if(0!==e.tag&&2===r){var i=ct(e);0!==i&&(t=i,r=tu(e,i))}if(1===r)throw r=_l,lu(e,0),ru(e,t),Jl(e,Ye()),r;if(6===r)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mu(e,Il,Fl),Jl(e,Ye()),null}function ou(e,t){var n=Sl;Sl|=1;try{return e(t)}finally{0===(Sl=n)&&(jl=Ye()+500,Li&&ji())}}function au(e){null!==Hl&&0===Hl.tag&&!(6&Sl)&&yu();var t=Sl;Sl|=1;var n=kl.transition,r=gt;try{if(kl.transition=null,gt=1,e)return e()}finally{gt=r,kl.transition=n,!(6&(Sl=t))&&ji()}}function su(){Nl=Pl.current,xi(Pl)}function lu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ei(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(Qi(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Pi();break;case 3:Yo(),xi(Mi),xi(Si),Jo();break;case 5:Ko(r);break;case 4:Yo();break;case 13:case 19:xi(Xo);break;case 10:So(r.type._context);break;case 22:case 23:su()}n=n.return}if(Ml=e,Tl=e=Pu(e.current,null),Cl=Nl=t,Ol=0,_l=null,Dl=Al=Rl=0,Il=Ll=null,null!==No){for(t=0;t<No.length;t++)if(null!==(r=(n=No[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}No=null}return e}function uu(e,t){for(;;){var r=Tl;try{if(ko(),ea.current=qa,aa){for(var i=ra.memoizedState;null!==i;){var o=i.queue;null!==o&&(o.pending=null),i=i.next}aa=!1}if(na=0,oa=ia=ra=null,sa=!1,la=0,El.current=null,null===r||null===r.return){Ol=1,_l=t,Tl=null;break}e:{var a=e,s=r.return,l=r,u=t;if(t=Cl,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=fs(s);if(null!==p){p.flags&=-257,hs(p,s,l,0,t),1&p.mode&&ds(a,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var v=new Set;v.add(u),t.updateQueue=v}else g.add(u);break e}if(!(1&t)){ds(a,c,t),du();break e}u=Error(n(426))}else if(eo&&1&l.mode){var m=fs(s);if(null!==m){!(65536&m.flags)&&(m.flags|=256),hs(m,s,l,0,t),co(os(u,l));break e}}a=u=os(u,l),4!==Ol&&(Ol=2),null===Ll?Ll=[a]:Ll.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,jo(a,us(0,u,t));break e;case 1:l=u;var y=a.type,b=a.stateNode;if(!(128&a.flags||"function"!=typeof y.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Wl&&Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,jo(a,cs(a,l,t));break e}}a=a.return}while(null!==a)}vu(r)}catch(e){t=e,Tl===r&&null!==r&&(Tl=r=r.return);continue}break}}function cu(){var e=xl.current;return xl.current=qa,null===e?qa:e}function du(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Ml||!(268435455&Rl)&&!(268435455&Al)||ru(Ml,Cl)}function fu(e,t){var r=Sl;Sl|=2;var i=cu();for(Ml===e&&Cl===t||(Fl=null,lu(e,t));;)try{hu();break}catch(t){uu(e,t)}if(ko(),Sl=r,xl.current=i,null!==Tl)throw Error(n(261));return Ml=null,Cl=0,Ol}function hu(){for(;null!==Tl;)gu(Tl)}function pu(){for(;null!==Tl&&!Ge();)gu(Tl)}function gu(e){var t=bl(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?vu(e):Tl=t,El.current=null}function vu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Hs(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Ol=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Vs(n,t,Nl)))return void(Tl=n);if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ol&&(Ol=5)}function mu(e,t,r){var i=gt,o=kl.transition;try{kl.transition=null,gt=1,function(e,t,r,i){do{yu()}while(null!==Hl);if(6&Sl)throw Error(n(327));r=e.finishedWork;var o=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-nt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Ml&&(Tl=Ml=null,Cl=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||Vl||(Vl=!0,Mu(Qe,(function(){return yu(),null}))),a=!!(15990&r.flags),15990&r.subtreeFlags||a){a=kl.transition,kl.transition=null;var s=gt;gt=1;var l=Sl;Sl|=4,El.current=null,function(e,t){if(Xr=Bt,ur(e=lr())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(i&&0!==i.rangeCount){r=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{r.nodeType,a.nodeType}catch(e){r=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||0!==o&&3!==f.nodeType||(l=s+o),f!==a||0!==i&&3!==f.nodeType||(u=s+i),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===o&&(l=s),h===a&&++d===i&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}r=-1===l||-1===u?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qr={focusedElem:e,selectionRange:r},Bt=!1,qs=t;null!==qs;)if(e=(t=qs).child,1028&t.subtreeFlags&&null!==e)e.return=t,qs=e;else for(;null!==qs;){t=qs;try{var g=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var v=g.memoizedProps,m=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Za(t.type,v),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(n(163))}}catch(e){wu(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,qs=e;break}qs=t.return}g=Qs,Qs=!1}(e,r),fl(r,e),cr(Qr),Bt=!!Xr,Qr=Xr=null,e.current=r,pl(r),$e(),Sl=l,gt=s,kl.transition=a}else e.current=r;if(Vl&&(Vl=!1,Hl=e,Gl=o),0===(a=e.pendingLanes)&&(Wl=null),function(e){if(tt&&"function"==typeof tt.onCommitFiberRoot)try{tt.onCommitFiberRoot(et,e,void 0,!(128&~e.current.flags))}catch(e){}}(r.stateNode),Jl(e,Ye()),null!==t)for(i=e.onRecoverableError,r=0;r<t.length;r++)i((o=t[r]).value,{componentStack:o.stack,digest:o.digest});if(Bl)throw Bl=!1,e=Ul,Ul=null,e;!!(1&Gl)&&0!==e.tag&&yu(),1&(a=e.pendingLanes)?e===Yl?$l++:($l=0,Yl=e):$l=0,ji()}(e,t,r,i)}finally{kl.transition=o,gt=i}return null}function yu(){if(null!==Hl){var e=vt(Gl),t=kl.transition,r=gt;try{if(kl.transition=null,gt=16>e?16:e,null===Hl)var i=!1;else{if(e=Hl,Hl=null,Gl=0,6&Sl)throw Error(n(331));var o=Sl;for(Sl|=4,qs=e.current;null!==qs;){var a=qs,s=a.child;if(16&qs.flags){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(qs=c;null!==qs;){var d=qs;switch(d.tag){case 0:case 11:case 15:Zs(8,d,a)}var f=d.child;if(null!==f)f.return=d,qs=f;else for(;null!==qs;){var h=(d=qs).sibling,p=d.return;if(tl(d),d===c){qs=null;break}if(null!==h){h.return=p,qs=h;break}qs=p}}}var g=a.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}qs=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,qs=s;else e:for(;null!==qs;){if(2048&(a=qs).flags)switch(a.tag){case 0:case 11:case 15:Zs(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,qs=y;break e}qs=a.return}}var b=e.current;for(qs=b;null!==qs;){var w=(s=qs).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,qs=w;else e:for(s=b;null!==qs;){if(2048&(l=qs).flags)try{switch(l.tag){case 0:case 11:case 15:Js(9,l)}}catch(e){wu(l,l.return,e)}if(l===s){qs=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,qs=x;break e}qs=l.return}}if(Sl=o,ji(),tt&&"function"==typeof tt.onPostCommitFiberRoot)try{tt.onPostCommitFiberRoot(et,e)}catch(e){}i=!0}return i}finally{gt=r,kl.transition=t}}return!1}function bu(e,t,n){e=Io(e,t=us(0,t=os(n,t),1),1),t=Xl(),null!==e&&(ht(e,1,t),Jl(e,t))}function wu(e,t,n){if(3===e.tag)bu(e,e,n);else for(;null!==t;){if(3===t.tag){bu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Io(t,e=cs(t,e=os(n,e),1),1),e=Xl(),null!==t&&(ht(t,1,e),Jl(t,e));break}}t=t.return}}function xu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xl(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Cl&n)===n&&(4===Ol||3===Ol&&(130023424&Cl)===Cl&&500>Ye()-zl?lu(e,0):Dl|=n),Jl(e,t)}function Eu(e,t){0===t&&(1&e.mode?(t=at,!(130023424&(at<<=1))&&(at=4194304)):t=1);var n=Xl();null!==(e=_o(e,t))&&(ht(e,t,n),Jl(e,n))}function ku(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Su(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;null!==o&&(r=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(n(314))}null!==i&&i.delete(t),Eu(e,r)}function Mu(e,t){return Ve(e,t)}function Tu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cu(e,t,n,r){return new Tu(e,t,n,r)}function Nu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var n=e.alternate;return null===n?((n=Cu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ou(e,t,r,i,o,a){var s=2;if(i=e,"function"==typeof e)Nu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case w:return _u(r.children,o,a,t);case x:s=8,o|=8;break;case E:return(e=Cu(12,r,t,2|o)).elementType=E,e.lanes=a,e;case T:return(e=Cu(13,r,t,o)).elementType=T,e.lanes=a,e;case C:return(e=Cu(19,r,t,o)).elementType=C,e.lanes=a,e;case O:return Ru(r,o,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case S:s=9;break e;case M:s=11;break e;case N:s=14;break e;case P:s=16,i=null;break e}throw Error(n(130,null==e?e:typeof e,""))}return(t=Cu(s,r,t,o)).elementType=e,t.type=i,t.lanes=a,t}function _u(e,t,n,r){return(e=Cu(7,e,r,t)).lanes=n,e}function Ru(e,t,n,r){return(e=Cu(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Au(e,t,n){return(e=Cu(6,e,null,t)).lanes=n,e}function Du(e,t,n){return(t=Cu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Iu(e,t,n,r,i,o,a,s,l){return e=new Lu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Cu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(o),e}function zu(e){if(!e)return ki;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(n(171))}if(1===e.tag){var r=e.type;if(Ni(r))return _i(e,r,t)}return t}function ju(e,t,n,r,i,o,a,s,l){return(e=Iu(n,r,!0,e,0,o,0,s,l)).context=zu(null),n=e.current,(o=Lo(r=Xl(),i=Ql(n))).callback=null!=t?t:null,Io(n,o,i),e.current.lanes=i,ht(e,i,r),Jl(e,r),e}function Fu(e,t,n,r){var i=t.current,o=Xl(),a=Ql(i);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Lo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Io(i,t,a))&&(Zl(e,i,a,o),zo(e,i,a)),a}function Bu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Uu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Uu(e,t),(e=e.alternate)&&Uu(e,t)}bl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)gs=!0;else{if(!(e.lanes&r||128&t.flags))return gs=!1,function(e,t,n){switch(t.tag){case 3:Ms(t),uo();break;case 5:qo(t);break;case 1:Ni(t.type)&&Ri(t);break;case 4:$o(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(bo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(Xo,1&Xo.current),t.flags|=128,null):n&t.child.childLanes?As(e,t,n):(Ei(Xo,1&Xo.current),null!==(e=Bs(e,t,n))?e.sibling:null);Ei(Xo,1&Xo.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return js(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(Xo,Xo.current),r)break;return null;case 22:case 23:return t.lanes=0,ws(e,t,n)}return Bs(e,t,n)}(e,t,r);gs=!!(131072&e.flags)}else gs=!1,eo&&1048576&t.flags&&Ki(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Fs(e,t),e=t.pendingProps;var o=Ci(t,Si.current);To(t,r),o=fa(null,t,i,e,o,r);var a=ha();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(i)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ao(t),o.updater=es,t.stateNode=o,o._reactInternals=t,is(t,i,e,r),t=Ss(null,t,i,!0,a,r)):(t.tag=0,eo&&a&&Xi(t),vs(null,t,o,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Fs(e,t),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Nu(e)?1:0;if(null!=e){if((e=e.$$typeof)===M)return 11;if(e===N)return 14}return 2}(i),e=Za(i,e),o){case 0:t=Es(null,t,i,e,r);break e;case 1:t=ks(null,t,i,e,r);break e;case 11:t=ms(null,t,i,e,r);break e;case 14:t=ys(null,t,i,Za(i.type,e),r);break e}throw Error(n(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,Es(e,t,i,o=t.elementType===i?o:Za(i,o),r);case 1:return i=t.type,o=t.pendingProps,ks(e,t,i,o=t.elementType===i?o:Za(i,o),r);case 3:e:{if(Ms(t),null===e)throw Error(n(387));i=t.pendingProps,o=(a=t.memoizedState).element,Do(e,t),Fo(t,i,null,r);var s=t.memoizedState;if(i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ts(e,t,i,r,o=os(Error(n(423)),t));break e}if(i!==o){t=Ts(e,t,i,r,o=os(Error(n(424)),t));break e}for(Ji=oi(t.stateNode.containerInfo.firstChild),Zi=t,eo=!0,to=null,r=yo(t,null,i,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(uo(),i===o){t=Bs(e,t,r);break e}vs(e,t,i,r)}t=t.child}return t;case 5:return qo(t),null===e&&oo(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,Zr(i,o)?s=null:null!==a&&Zr(i,a)&&(t.flags|=32),xs(e,t),vs(e,t,s,r),t.child;case 6:return null===e&&oo(t),null;case 13:return As(e,t,r);case 4:return $o(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=mo(t,null,i,r):vs(e,t,i,r),t.child;case 11:return i=t.type,o=t.pendingProps,ms(e,t,i,o=t.elementType===i?o:Za(i,o),r);case 7:return vs(e,t,t.pendingProps,r),t.child;case 8:case 12:return vs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Ei(bo,i._currentValue),i._currentValue=s,null!==a)if(rr(a.value,s)){if(a.children===o.children&&!Mi.current){t=Bs(e,t,r);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===a.tag){(u=Lo(-1,r&-r)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=r,null!==(u=a.alternate)&&(u.lanes|=r),Mo(a.return,r,t),l.lanes|=r;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(n(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Mo(s,r,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}vs(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,To(t,r),i=i(o=Co(o)),t.flags|=1,vs(e,t,i,r),t.child;case 14:return o=Za(i=t.type,t.pendingProps),ys(e,t,i,o=Za(i.type,o),r);case 15:return bs(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Za(i,o),Fs(e,t),t.tag=1,Ni(i)?(e=!0,Ri(t)):e=!1,To(t,r),ns(t,i,o),is(t,i,o,r),Ss(null,t,i,!0,e,r);case 19:return js(e,t,r);case 22:return ws(e,t,r)}throw Error(n(156,t.tag))};var Vu="function"==typeof reportError?reportError:function(e){console.error(e)};function Hu(e){this._internalRoot=e}function Gu(e){this._internalRoot=e}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function qu(){}function Ku(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var e=Bu(a);s.call(e)}}Fu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Bu(a);o.call(e)}}var a=ju(t,r,e,0,null,!1,0,"",qu);return e._reactRootContainer=a,e[ci]=a.current,jr(8===e.nodeType?e.parentNode:e),au(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Bu(l);s.call(e)}}var l=Iu(e,0,!1,null,0,!1,0,"",qu);return e._reactRootContainer=l,e[ci]=l.current,jr(8===e.nodeType?e.parentNode:e),au((function(){Fu(t,l,n,r)})),l}(n,t,e,i,r);return Bu(a)}Gu.prototype.render=Hu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(n(409));Fu(e,t,null,null)},Gu.prototype.unmount=Hu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;au((function(){Fu(null,e,null,null)})),t[ci]=null}},Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&At(e)}},mt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=st(t.pendingLanes);0!==n&&(pt(t,1|n),Jl(t,Ye()),!(6&Sl)&&(jl=Ye()+500,ji()))}break;case 13:au((function(){var t=_o(e,1);if(null!==t){var n=Xl();Zl(t,e,1,n)}})),Wu(e,1)}},yt=function(e){if(13===e.tag){var t=_o(e,134217728);null!==t&&Zl(t,e,134217728,Xl()),Wu(e,134217728)}},bt=function(e){if(13===e.tag){var t=Ql(e),n=_o(e,t);null!==n&&Zl(n,e,t,Xl()),Wu(e,t)}},wt=function(){return gt},xt=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},ye=function(e,t,r){switch(t){case"input":if(K(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var o=mi(i);if(!o)throw Error(n(90));H(i),K(i,o)}}}break;case"textarea":ne(e,r);break;case"select":null!=(t=r.value)&&J(e,!!r.multiple,t,!1)}},Se=ou,Me=au;var Xu={usingClientEntryPoint:!1,Events:[gi,vi,mi,Ee,ke,ou]},Qu={findFiberByHostInstance:pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zu={bundleType:Qu.bundleType,version:Qu.version,rendererPackageName:Qu.rendererPackageName,rendererConfig:Qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:m.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ue(e))?null:e.stateNode},findFiberByHostInstance:Qu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{et=Ju.inject(Zu),tt=Ju}catch(e){}}return Q$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xu,Q$.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$u(t))throw Error(n(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,r)},Q$.createRoot=function(e,t){if(!$u(e))throw Error(n(299));var r=!1,i="",o=Vu;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Iu(e,1,!1,null,0,r,0,i,o),e[ci]=t.current,jr(8===e.nodeType?e.parentNode:e),new Hu(t)},Q$.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(n(188));throw e=Object.keys(e).join(","),Error(n(268,e))}return null===(e=Ue(t))?null:e.stateNode},Q$.flushSync=function(e){return au(e)},Q$.hydrate=function(e,t,r){if(!Yu(t))throw Error(n(200));return Ku(null,e,t,!0,r)},Q$.hydrateRoot=function(e,t,r){if(!$u(e))throw Error(n(405));var i=null!=r&&r.hydratedSources||null,o=!1,a="",s=Vu;if(null!=r&&(!0===r.unstable_strictMode&&(o=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=ju(t,null,e,1,null!=r?r:null,o,0,a,s),e[ci]=t.current,jr(e),i)for(e=0;e<i.length;e++)o=(o=(r=i[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Gu(t)},Q$.render=function(e,t,r){if(!Yu(t))throw Error(n(200));return Ku(null,e,t,!1,r)},Q$.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(n(40));return!!e._reactRootContainer&&(au((function(){Ku(null,null,e,!1,(function(){e._reactRootContainer=null,e[ci]=null}))})),!0)},Q$.unstable_batchedUpdates=ou,Q$.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Yu(r))throw Error(n(200));if(null==e||void 0===e._reactInternals)throw Error(n(38));return Ku(e,t,r,!1,i)},Q$.version="18.3.1-next-f1338f8080-20240426",Q$}()):X$.exports=(aY||(aY=1,"production"!==process.env.NODE_ENV&&function(){"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=a$,t=oY(),n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r=!1;function i(e){if(!r){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];a("warn",e,n)}}function o(e){if(!r){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];a("error",e,n)}}function a(e,t,r){var i=n.ReactDebugCurrentFrame.getStackAddendum();""!==i&&(t+="%s",r=r.concat([i]));var o=r.map((function(e){return String(e)}));o.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,o)}var s=10,l=11,u=12,c=13,d=14,f=15,h=17,p=18,g=19,v=21,m=22,y=23,b=!1,w=!1,x=new Set,E={},k={};function S(e,t){M(e,t),M(e+"Capture",t)}function M(e,t){E[e]&&o("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",e),E[e]=t;var n=e.toLowerCase();k[n]=e,"onDoubleClick"===e&&(k.ondblclick=e);for(var r=0;r<t.length;r++)x.add(t[r])}var T=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),C=Object.prototype.hasOwnProperty;function N(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}function P(e){try{return O(e),!1}catch(e){return!0}}function O(e){return""+e}function _(e,t){if(P(e))return o("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",t,N(e)),O(e)}function R(e){if(P(e))return o("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",N(e)),O(e)}var A=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",D=A+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",L=new RegExp("^["+A+"]["+D+"]*$"),I={},z={};function j(e){return!!C.call(z,e)||!C.call(I,e)&&(L.test(e)?(z[e]=!0,!0):(I[e]=!0,o("Invalid attribute name: `%s`",e),!1))}function F(e,t,n){return null!==t?0===t.type:!n&&e.length>2&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])}function B(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;var i=e.toLowerCase().slice(0,5);return"data-"!==i&&"aria-"!==i;default:return!1}}function U(e,t,n,r){if(null==t)return!0;if(B(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}return!1}function W(e){return H.hasOwnProperty(e)?H[e]:null}function V(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var H={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((function(e){H[e]=new V(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0],n=e[1];H[t]=new V(t,1,!1,n,null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){H[e]=new V(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){H[e]=new V(e,2,!1,e,null,!1,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((function(e){H[e]=new V(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){H[e]=new V(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){H[e]=new V(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){H[e]=new V(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){H[e]=new V(e,5,!1,e.toLowerCase(),null,!1,!1)}));var G=/[\-\:]([a-z])/g,$=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((function(e){var t=e.replace(G,$);H[t]=new V(t,1,!1,e,null,!1,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((function(e){var t=e.replace(G,$);H[t]=new V(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(G,$);H[t]=new V(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){H[e]=new V(e,1,!1,e.toLowerCase(),null,!1,!1)})),H.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){H[e]=new V(e,1,!1,e.toLowerCase(),null,!0,!0)}));var Y=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,q=!1;function K(e){!q&&Y.test(e)&&(q=!0,o("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(e)))}function X(e,t,n,r){if(r.mustUseProperty)return e[r.propertyName];_(n,t),r.sanitizeURL&&K(""+n);var i=r.attributeName,o=null;if(4===r.type){if(e.hasAttribute(i)){var a=e.getAttribute(i);return""===a||(U(t,n,r,!1)?a:a===""+n?n:a)}}else if(e.hasAttribute(i)){if(U(t,n,r,!1))return e.getAttribute(i);if(3===r.type)return n;o=e.getAttribute(i)}return U(t,n,r,!1)?null===o?n:o:o===""+n?n:o}function Q(e,t,n,r){if(j(t)){if(!e.hasAttribute(t))return void 0===n?void 0:null;var i=e.getAttribute(t);return _(n,t),i===""+n?n:i}}function Z(e,t,n,r){var i=W(t);if(!F(t,i,r))if(U(t,n,i,r)&&(n=null),r||null===i){if(j(t)){var o=t;null===n?e.removeAttribute(o):(_(n,t),e.setAttribute(o,""+n))}}else if(i.mustUseProperty){var a=i.propertyName;if(null===n){var s=i.type;e[a]=3!==s&&""}else e[a]=n}else{var l=i.attributeName,u=i.attributeNamespace;if(null===n)e.removeAttribute(l);else{var c,d=i.type;3===d||4===d&&!0===n?c="":(_(n,l),c=""+n,i.sanitizeURL&&K(c.toString())),u?e.setAttributeNS(u,l,c):e.setAttribute(l,c)}}}var J=Symbol.for("react.element"),ee=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),oe=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),de=(Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode"),Symbol.for("react.offscreen")),fe=(Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker"),Symbol.iterator);function he(e){if(null===e||"object"!=typeof e)return null;var t=fe&&e[fe]||e["@@iterator"];return"function"==typeof t?t:null}var pe,ge,ve,me,ye,be,we,xe=Object.assign,Ee=0;function ke(){}ke.__reactDisabledLog=!0;var Se,Me=n.ReactCurrentDispatcher;function Te(e,t,n){if(void 0===Se)try{throw Error()}catch(e){var r=e.stack.trim().match(/\n( *(at )?)/);Se=r&&r[1]||""}return"\n"+Se+e}var Ce,Ne=!1,Pe="function"==typeof WeakMap?WeakMap:Map;function Oe(e,t){if(!e||Ne)return"";var n,r=Ce.get(e);if(void 0!==r)return r;Ne=!0;var i,a=Error.prepareStackTrace;Error.prepareStackTrace=void 0,i=Me.current,Me.current=null,function(){if(0===Ee){pe=console.log,ge=console.info,ve=console.warn,me=console.error,ye=console.group,be=console.groupCollapsed,we=console.groupEnd;var e={configurable:!0,enumerable:!0,value:ke,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}Ee++}();try{if(t){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(s,[])}catch(e){n=e}Reflect.construct(e,[],s)}else{try{s.call()}catch(e){n=e}e.call(s.prototype)}}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var l=t.stack.split("\n"),u=n.stack.split("\n"),c=l.length-1,d=u.length-1;c>=1&&d>=0&&l[c]!==u[d];)d--;for(;c>=1&&d>=0;c--,d--)if(l[c]!==u[d]){if(1!==c||1!==d)do{if(c--,--d<0||l[c]!==u[d]){var f="\n"+l[c].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),"function"==typeof e&&Ce.set(e,f),f}}while(c>=1&&d>=0);break}}}finally{Ne=!1,Me.current=i,function(){if(0==--Ee){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:xe({},e,{value:pe}),info:xe({},e,{value:ge}),warn:xe({},e,{value:ve}),error:xe({},e,{value:me}),group:xe({},e,{value:ye}),groupCollapsed:xe({},e,{value:be}),groupEnd:xe({},e,{value:we})})}Ee<0&&o("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=a}var h=e?e.displayName||e.name:"",p=h?Te(h):"";return"function"==typeof e&&Ce.set(e,p),p}function _e(e,t,n){return Oe(e,!1)}function Re(e,t,n){if(null==e)return"";if("function"==typeof e)return Oe(e,function(e){var t=e.prototype;return!(!t||!t.isReactComponent)}(e));if("string"==typeof e)return Te(e);switch(e){case se:return Te("Suspense");case le:return Te("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case ae:return _e(e.render);case ue:return Re(e.type,t,n);case ce:var r=e,i=r._payload,o=r._init;try{return Re(o(i),t,n)}catch(e){}}return""}function Ae(e){switch(e._debugOwner&&e._debugOwner.type,e._debugSource,e.tag){case 5:return Te(e.type);case 16:return Te("Lazy");case c:return Te("Suspense");case g:return Te("SuspenseList");case 0:case 2:case f:return _e(e.type);case l:return _e(e.type.render);case 1:return Oe(e.type,!0);default:return""}}function De(e){try{var t="",n=e;do{t+=Ae(n),n=n.return}while(n);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function Le(e){return e.displayName||"Context"}function Ie(e){if(null==e)return null;if("number"==typeof e.tag&&o("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case te:return"Fragment";case ee:return"Portal";case re:return"Profiler";case ne:return"StrictMode";case se:return"Suspense";case le:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case oe:return Le(e)+".Consumer";case ie:return Le(e._context)+".Provider";case ae:return function(e,t,n){var r=e.displayName;if(r)return r;var i=t.displayName||t.name||"";return""!==i?n+"("+i+")":n}(e,e.render,"ForwardRef");case ue:var t=e.displayName||null;return null!==t?t:Ie(e.type)||"Memo";case ce:var n=e,r=n._payload,i=n._init;try{return Ie(i(r))}catch(e){return null}}return null}function ze(e){return e.displayName||"Context"}function je(e){var t,n,r,i,o=e.tag,a=e.type;switch(o){case 24:return"Cache";case 9:return ze(a)+".Consumer";case s:return ze(a._context)+".Provider";case 18:return"DehydratedFragment";case l:return t=a,r="ForwardRef",i=(n=a.render).displayName||n.name||"",t.displayName||(""!==i?r+"("+i+")":r);case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(a);case 8:return a===ne?"StrictMode":"Mode";case m:return"Offscreen";case u:return"Profiler";case v:return"Scope";case c:return"Suspense";case g:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case h:case 2:case d:case f:if("function"==typeof a)return a.displayName||a.name||null;if("string"==typeof a)return a}return null}Ce=new Pe;var Fe=n.ReactDebugCurrentFrame,Be=null,Ue=!1;function We(){if(null===Be)return null;var e=Be._debugOwner;return null!=e?je(e):null}function Ve(){return null===Be?"":De(Be)}function He(){Fe.getCurrentStack=null,Be=null,Ue=!1}function Ge(e){Fe.getCurrentStack=null===e?null:Ve,Be=e,Ue=!1}function $e(e){Ue=e}function Ye(e){return""+e}function qe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return R(e),e;default:return""}}var Ke={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Xe(e,t){Ke[t.type]||t.onChange||t.onInput||t.readOnly||t.disabled||null==t.value||o("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),t.onChange||t.readOnly||t.disabled||null==t.checked||o("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function Qe(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ze(e){return e._valueTracker}function Je(e){Ze(e)||(e._valueTracker=function(e){var t=Qe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);R(e[t]);var r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){R(e),r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable});var a={getValue:function(){return r},setValue:function(e){R(e),r=""+e},stopTracking:function(){!function(e){e._valueTracker=null}(e),delete e[t]}};return a}}(e))}function et(e){if(!e)return!1;var t=Ze(e);if(!t)return!0;var n=t.getValue(),r=function(e){var t="";return e?t=Qe(e)?e.checked?"true":"false":e.value:t}(e);return r!==n&&(t.setValue(r),!0)}function tt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var nt=!1,rt=!1,it=!1,ot=!1;function at(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function st(e,t){var n=e,r=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:n._wrapperState.initialChecked})}function lt(e,t){Xe(0,t),void 0===t.checked||void 0===t.defaultChecked||rt||(o("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",We()||"A component",t.type),rt=!0),void 0===t.value||void 0===t.defaultValue||nt||(o("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",We()||"A component",t.type),nt=!0);var n=e,r=null==t.defaultValue?"":t.defaultValue;n._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:qe(null!=t.value?t.value:r),controlled:at(t)}}function ut(e,t){var n=e,r=t.checked;null!=r&&Z(n,"checked",r,!1)}function ct(e,t){var n=e,r=at(t);n._wrapperState.controlled||!r||ot||(o("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),ot=!0),!n._wrapperState.controlled||r||it||(o("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),it=!0),ut(e,t);var i=qe(t.value),a=t.type;if(null!=i)"number"===a?(0===i&&""===n.value||n.value!=i)&&(n.value=Ye(i)):n.value!==Ye(i)&&(n.value=Ye(i));else if("submit"===a||"reset"===a)return void n.removeAttribute("value");t.hasOwnProperty("value")?ht(n,t.type,i):t.hasOwnProperty("defaultValue")&&ht(n,t.type,qe(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(n.defaultChecked=!!t.defaultChecked)}function dt(e,t,n){var r=e;if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;var o=Ye(r._wrapperState.initialValue);n||o!==r.value&&(r.value=o),r.defaultValue=o}var a=r.name;""!==a&&(r.name=""),r.defaultChecked=!r.defaultChecked,r.defaultChecked=!!r._wrapperState.initialChecked,""!==a&&(r.name=a)}function ft(e,t){var n=e;ct(n,t),function(e,t){var n=t.name;if("radio"===t.type&&null!=n){for(var r=e;r.parentNode;)r=r.parentNode;_(n,"name");for(var i=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),o=0;o<i.length;o++){var a=i[o];if(a!==e&&a.form===e.form){var s=Uu(a);if(!s)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");et(a),ct(a,s)}}}}(n,t)}function ht(e,t,n){"number"===t&&tt(e.ownerDocument)===e||(null==n?e.defaultValue=Ye(e._wrapperState.initialValue):e.defaultValue!==Ye(n)&&(e.defaultValue=Ye(n)))}var pt=!1,gt=!1,vt=!1;function mt(t,n){null==n.value&&("object"==typeof n.children&&null!==n.children?e.Children.forEach(n.children,(function(e){null!=e&&"string"!=typeof e&&"number"!=typeof e&&(gt||(gt=!0,o("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))})):null!=n.dangerouslySetInnerHTML&&(vt||(vt=!0,o("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),null==n.selected||pt||(o("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),pt=!0)}var yt,bt=Array.isArray;function wt(e){return bt(e)}function xt(){var e=We();return e?"\n\nCheck the render method of `"+e+"`.":""}yt=!1;var Et=["value","defaultValue"];function kt(e,t,n,r){var i=e.options;if(t){for(var o=n,a={},s=0;s<o.length;s++)a["$"+o[s]]=!0;for(var l=0;l<i.length;l++){var u=a.hasOwnProperty("$"+i[l].value);i[l].selected!==u&&(i[l].selected=u),u&&r&&(i[l].defaultSelected=!0)}}else{for(var c=Ye(qe(n)),d=null,f=0;f<i.length;f++){if(i[f].value===c)return i[f].selected=!0,void(r&&(i[f].defaultSelected=!0));null!==d||i[f].disabled||(d=i[f])}null!==d&&(d.selected=!0)}}function St(e,t){return xe({},t,{value:void 0})}function Mt(e,t){var n=e;!function(e){Xe(0,e);for(var t=0;t<Et.length;t++){var n=Et[t];if(null!=e[n]){var r=wt(e[n]);e.multiple&&!r?o("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",n,xt()):!e.multiple&&r&&o("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",n,xt())}}}(t),n._wrapperState={wasMultiple:!!t.multiple},void 0===t.value||void 0===t.defaultValue||yt||(o("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),yt=!0)}var Tt=!1;function Ct(e,t){var n=e;if(null!=t.dangerouslySetInnerHTML)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");return xe({},t,{value:void 0,defaultValue:void 0,children:Ye(n._wrapperState.initialValue)})}function Nt(e,t){var n=e;Xe(0,t),void 0===t.value||void 0===t.defaultValue||Tt||(o("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",We()||"A component"),Tt=!0);var r=t.value;if(null==r){var i=t.children,a=t.defaultValue;if(null!=i){if(o("Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=a)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(wt(i)){if(i.length>1)throw new Error("<textarea> can only have at most one child.");i=i[0]}a=i}null==a&&(a=""),r=a}n._wrapperState={initialValue:qe(r)}}function Pt(e,t){var n=e,r=qe(t.value),i=qe(t.defaultValue);if(null!=r){var o=Ye(r);o!==n.value&&(n.value=o),null==t.defaultValue&&n.defaultValue!==o&&(n.defaultValue=o)}null!=i&&(n.defaultValue=Ye(i))}function Ot(e,t){var n=e,r=n.textContent;r===n._wrapperState.initialValue&&""!==r&&null!==r&&(n.value=r)}var _t="http://www.w3.org/1999/xhtml",Rt="http://www.w3.org/2000/svg";function At(e){switch(e){case"svg":return Rt;case"math":return"http://www.w3.org/1998/Math/MathML";default:return _t}}function Dt(e,t){return null==e||e===_t?At(t):e===Rt&&"foreignObject"===t?_t:e}var Lt,It,zt=(It=function(e,t){if(e.namespaceURI!==Rt||"innerHTML"in e)e.innerHTML=t;else{(Lt=Lt||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>";for(var n=Lt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return It(e,t,n,r)}))}:It),jt=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t},Ft={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},Bt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ut=["Webkit","ms","Moz","O"];function Wt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Bt.hasOwnProperty(e)&&Bt[e]?(function(e,t){P(e)&&(o("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",t,N(e)),O(e))}(t,e),(""+t).trim()):t+"px"}Object.keys(Bt).forEach((function(e){Ut.forEach((function(t){Bt[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=Bt[e]}))}));var Vt=/([A-Z])/g,Ht=/^ms-/;function Gt(e){return e.replace(Vt,"-$1").toLowerCase().replace(Ht,"-ms-")}var $t,Yt=/^(?:webkit|moz|o)[A-Z]/,qt=/^-ms-/,Kt=/-(.)/g,Xt=/;\s*$/,Qt={},Zt={},Jt=!1,en=!1,tn=function(e){Qt.hasOwnProperty(e)&&Qt[e]||(Qt[e]=!0,o("Unsupported style property %s. Did you mean %s?",e,e.replace(qt,"ms-").replace(Kt,(function(e,t){return t.toUpperCase()}))))};$t=function(e,t){e.indexOf("-")>-1?tn(e):Yt.test(e)?function(e){Qt.hasOwnProperty(e)&&Qt[e]||(Qt[e]=!0,o("Unsupported vendor-prefixed style property %s. Did you mean %s?",e,e.charAt(0).toUpperCase()+e.slice(1)))}(e):Xt.test(t)&&function(e,t){Zt.hasOwnProperty(t)&&Zt[t]||(Zt[t]=!0,o('Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',e,t.replace(Xt,"")))}(e,t),"number"==typeof t&&(isNaN(t)?function(e){Jt||(Jt=!0,o("`NaN` is an invalid value for the `%s` css style property.",e))}(e):isFinite(t)||function(e){en||(en=!0,o("`Infinity` is an invalid value for the `%s` css style property.",e))}(e))};var nn=$t;function rn(e){var t="",n="";for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(null!=i){var o=0===r.indexOf("--");t+=n+(o?r:Gt(r))+":",t+=Wt(r,i,o),n=";"}}return t||null}function on(e,t){var n=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=0===r.indexOf("--");i||nn(r,t[r]);var o=Wt(r,t[r],i);"float"===r&&(r="cssFloat"),i?n.setProperty(r,o):n[r]=o}}function an(e){var t={};for(var n in e)for(var r=Ft[n]||[n],i=0;i<r.length;i++)t[r[i]]=n;return t}var sn=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ln(e,t){if(t){if(sn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw new Error(e+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!t.suppressContentEditableWarning&&t.contentEditable&&null!=t.children&&o("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),null!=t.style&&"object"!=typeof t.style)throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function un(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cn={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},dn={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},fn={},hn=new RegExp("^(aria)-["+D+"]*$"),pn=new RegExp("^(aria)[A-Z]["+D+"]*$");function gn(e,t){if(C.call(fn,t)&&fn[t])return!0;if(pn.test(t)){var n="aria-"+t.slice(4).toLowerCase(),r=dn.hasOwnProperty(n)?n:null;if(null==r)return o("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",t),fn[t]=!0,!0;if(t!==r)return o("Invalid ARIA attribute `%s`. Did you mean `%s`?",t,r),fn[t]=!0,!0}if(hn.test(t)){var i=t.toLowerCase(),a=dn.hasOwnProperty(i)?i:null;if(null==a)return fn[t]=!0,!1;if(t!==a)return o("Unknown ARIA attribute `%s`. Did you mean `%s`?",t,a),fn[t]=!0,!0}return!0}function vn(e,t){un(e,t)||function(e,t){var n=[];for(var r in t)gn(0,r)||n.push(r);var i=n.map((function(e){return"`"+e+"`"})).join(", ");1===n.length?o("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",i,e):n.length>1&&o("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",i,e)}(e,t)}var mn,yn=!1,bn={},wn=/^on./,xn=/^on[^A-Z]/,En=new RegExp("^(aria)-["+D+"]*$"),kn=new RegExp("^(aria)[A-Z]["+D+"]*$");function Sn(e,t,n){un(e,t)||function(e,t,n){var r=[];for(var i in t)mn(0,i,t[i],n)||r.push(i);var a=r.map((function(e){return"`"+e+"`"})).join(", ");1===r.length?o("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",a,e):r.length>1&&o("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",a,e)}(e,t,n)}mn=function(e,t,n,r){if(C.call(bn,t)&&bn[t])return!0;var i=t.toLowerCase();if("onfocusin"===i||"onfocusout"===i)return o("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),bn[t]=!0,!0;if(null!=r){var a=r.registrationNameDependencies,s=r.possibleRegistrationNames;if(a.hasOwnProperty(t))return!0;var l=s.hasOwnProperty(i)?s[i]:null;if(null!=l)return o("Invalid event handler property `%s`. Did you mean `%s`?",t,l),bn[t]=!0,!0;if(wn.test(t))return o("Unknown event handler property `%s`. It will be ignored.",t),bn[t]=!0,!0}else if(wn.test(t))return xn.test(t)&&o("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",t),bn[t]=!0,!0;if(En.test(t)||kn.test(t))return!0;if("innerhtml"===i)return o("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),bn[t]=!0,!0;if("aria"===i)return o("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),bn[t]=!0,!0;if("is"===i&&null!=n&&"string"!=typeof n)return o("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof n),bn[t]=!0,!0;if("number"==typeof n&&isNaN(n))return o("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",t),bn[t]=!0,!0;var u=W(t),c=null!==u&&0===u.type;if(cn.hasOwnProperty(i)){var d=cn[i];if(d!==t)return o("Invalid DOM property `%s`. Did you mean `%s`?",t,d),bn[t]=!0,!0}else if(!c&&t!==i)return o("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",t,i),bn[t]=!0,!0;return"boolean"==typeof n&&B(t,n,u,!1)?(n?o('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',n,t,t,n,t):o('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',n,t,t,n,t,t,t),bn[t]=!0,!0):!!c||(B(t,n,u,!1)?(bn[t]=!0,!1):("false"!==n&&"true"!==n||null===u||3!==u.type||(o("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",n,t,"false"===n?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',t,n),bn[t]=!0),!0))};var Mn=null;function Tn(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Cn=null,Nn=null,Pn=null;function On(e){var t=Fu(e);if(t){if("function"!=typeof Cn)throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var n=t.stateNode;if(n){var r=Uu(n);Cn(t.stateNode,t.type,r)}}}function _n(e){Nn?Pn?Pn.push(e):Pn=[e]:Nn=e}function Rn(){if(Nn){var e=Nn,t=Pn;if(Nn=null,Pn=null,On(e),t)for(var n=0;n<t.length;n++)On(t[n])}}var An=function(e,t){return e(t)},Dn=function(){},Ln=!1;function In(){(null!==Nn||null!==Pn)&&(Dn(),Rn())}function zn(e,t,n){if(Ln)return e(t,n);Ln=!0;try{return An(e,t,n)}finally{Ln=!1,In()}}function jn(e,t){var n=e.stateNode;if(null===n)return null;var r=Uu(n);if(null===r)return null;var i=r[t];if(function(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!(!n.disabled||(r=t,"button"!==r&&"input"!==r&&"select"!==r&&"textarea"!==r));default:return!1}var r}(t,e.type,r))return null;if(i&&"function"!=typeof i)throw new Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof i+"` type.");return i}var Fn=!1;if(T)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch(e){Fn=!1}function Un(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Wn=Un;if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var Vn=document.createElement("react");Wn=function(e,t,n,r,i,o,a,s,l){if("undefined"==typeof document||null===document)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var u=document.createEvent("Event"),c=!1,d=!0,f=window.event,h=Object.getOwnPropertyDescriptor(window,"event");function p(){Vn.removeEventListener(x,m,!1),void 0!==window.event&&window.hasOwnProperty("event")&&(window.event=f)}var g,v=Array.prototype.slice.call(arguments,3);function m(){c=!0,p(),t.apply(n,v),d=!1}var y=!1,b=!1;function w(e){if(g=e.error,y=!0,null===g&&0===e.colno&&0===e.lineno&&(b=!0),e.defaultPrevented&&null!=g&&"object"==typeof g)try{g._suppressLogging=!0}catch(e){}}var x="react-"+(e||"invokeguardedcallback");if(window.addEventListener("error",w),Vn.addEventListener(x,m,!1),u.initEvent(x,!1,!1),Vn.dispatchEvent(u),h&&Object.defineProperty(window,"event",h),c&&d&&(y?b&&(g=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):g=new Error("An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the \"Pause on exceptions\" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue."),this.onError(g)),window.removeEventListener("error",w),!c)return p(),Un.apply(this,arguments)}}var Hn=Wn,Gn=!1,$n=null,Yn=!1,qn=null,Kn={onError:function(e){Gn=!0,$n=e}};function Xn(e,t,n,r,i,o,a,s,l){Gn=!1,$n=null,Hn.apply(Kn,arguments)}function Qn(){if(Gn){var e=$n;return Gn=!1,$n=null,e}throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function Zn(e){return e._reactInternals}var Jn=16,er=128,tr=256,nr=512,rr=1024,ir=2048,or=4096,ar=8192,sr=16384,lr=32768,ur=65536,cr=131072,dr=1048576,fr=2097152,hr=4194304,pr=16777216,gr=33554432,vr=1028,mr=12854,yr=8772,br=2064,wr=14680064,xr=n.ReactCurrentOwner;function Er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{var r=t;do{4098&(t=r).flags&&(n=t.return),r=t.return}while(r)}return 3===t.tag?n:null}function kr(e){if(e.tag===c){var t=e.memoizedState;if(null===t){var n=e.alternate;null!==n&&(t=n.memoizedState)}if(null!==t)return t.dehydrated}return null}function Sr(e){return 3===e.tag?e.stateNode.containerInfo:null}function Mr(e){if(Er(e)!==e)throw new Error("Unable to find node on an unmounted component.")}function Tr(e){var t=e.alternate;if(!t){var n=Er(e);if(null===n)throw new Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var r=e,i=t;;){var o=r.return;if(null===o)break;var a=o.alternate;if(null===a){var s=o.return;if(null!==s){r=i=s;continue}break}if(o.child===a.child){for(var l=o.child;l;){if(l===r)return Mr(o),e;if(l===i)return Mr(o),t;l=l.sibling}throw new Error("Unable to find node on an unmounted component.")}if(r.return!==i.return)r=o,i=a;else{for(var u=!1,c=o.child;c;){if(c===r){u=!0,r=o,i=a;break}if(c===i){u=!0,i=o,r=a;break}c=c.sibling}if(!u){for(c=a.child;c;){if(c===r){u=!0,r=a,i=o;break}if(c===i){u=!0,i=a,r=o;break}c=c.sibling}if(!u)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(r.alternate!==i)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==r.tag)throw new Error("Unable to find node on an unmounted component.");return r.stateNode.current===r?e:t}function Cr(e){var t=Tr(e);return null!==t?Nr(t):null}function Nr(e){if(5===e.tag||6===e.tag)return e;for(var t=e.child;null!==t;){var n=Nr(t);if(null!==n)return n;t=t.sibling}return null}function Pr(e){var t=Tr(e);return null!==t?Or(t):null}function Or(e){if(5===e.tag||6===e.tag)return e;for(var t=e.child;null!==t;){if(4!==t.tag){var n=Or(t);if(null!==n)return n}t=t.sibling}return null}var _r=t.unstable_scheduleCallback,Rr=t.unstable_cancelCallback,Ar=t.unstable_shouldYield,Dr=t.unstable_requestPaint,Lr=t.unstable_now,Ir=t.unstable_getCurrentPriorityLevel,zr=t.unstable_ImmediatePriority,jr=t.unstable_UserBlockingPriority,Fr=t.unstable_NormalPriority,Br=t.unstable_LowPriority,Ur=t.unstable_IdlePriority,Wr=t.unstable_yieldValue,Vr=t.unstable_setDisableYieldValue,Hr=null,Gr=null,$r=null,Yr=!1,qr="undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__;function Kr(e){if("function"==typeof Wr&&(Vr(e),r=e),Gr&&"function"==typeof Gr.setStrictMode)try{Gr.setStrictMode(Hr,e)}catch(e){Yr||(Yr=!0,o("React instrumentation encountered an error: %s",e))}}function Xr(e){$r=e}function Qr(){for(var e=new Map,t=1,n=0;n<hi;n++){var r=Gi(t);e.set(t,r),t*=2}return e}function Zr(){null!==$r&&"function"==typeof $r.markCommitStopped&&$r.markCommitStopped()}function Jr(e){null!==$r&&"function"==typeof $r.markComponentRenderStarted&&$r.markComponentRenderStarted(e)}function ei(){null!==$r&&"function"==typeof $r.markComponentRenderStopped&&$r.markComponentRenderStopped()}function ti(e){null!==$r&&"function"==typeof $r.markComponentLayoutEffectMountStarted&&$r.markComponentLayoutEffectMountStarted(e)}function ni(e){null!==$r&&"function"==typeof $r.markComponentLayoutEffectUnmountStarted&&$r.markComponentLayoutEffectUnmountStarted(e)}function ri(){null!==$r&&"function"==typeof $r.markComponentLayoutEffectUnmountStopped&&$r.markComponentLayoutEffectUnmountStopped()}function ii(e,t,n){null!==$r&&"function"==typeof $r.markComponentErrored&&$r.markComponentErrored(e,t,n)}function oi(e,t,n){null!==$r&&"function"==typeof $r.markComponentSuspended&&$r.markComponentSuspended(e,t,n)}function ai(e){null!==$r&&"function"==typeof $r.markRenderStarted&&$r.markRenderStarted(e)}function si(){null!==$r&&"function"==typeof $r.markRenderStopped&&$r.markRenderStopped()}function li(e,t){null!==$r&&"function"==typeof $r.markStateUpdateScheduled&&$r.markStateUpdateScheduled(e,t)}var ui=16,ci=Math.clz32?Math.clz32:function(e){var t=e>>>0;return 0===t?32:31-(di(t)/fi|0)|0},di=Math.log,fi=Math.LN2,hi=31,pi=1,gi=2,vi=4,mi=8,yi=16,bi=32,wi=4194240,xi=1024,Ei=2048,ki=4096,Si=8192,Mi=16384,Ti=32768,Ci=65536,Ni=131072,Pi=262144,Oi=524288,_i=1048576,Ri=2097152,Ai=130023424,Di=4194304,Li=8388608,Ii=16777216,zi=33554432,ji=67108864,Fi=Di,Bi=134217728,Ui=268435455,Wi=268435456,Vi=536870912,Hi=1073741824;function Gi(e){return e&pi?"Sync":e&gi?"InputContinuousHydration":e&vi?"InputContinuous":e&mi?"DefaultHydration":e&yi?"Default":e&bi?"TransitionHydration":e&wi?"Transition":e&Ai?"Retry":e&Bi?"SelectiveHydration":e&Wi?"IdleHydration":e&Vi?"Idle":e&Hi?"Offscreen":void 0}var $i=-1,Yi=64,qi=Di;function Ki(e){switch(io(e)){case pi:return pi;case gi:return gi;case vi:return vi;case mi:return mi;case yi:return yi;case bi:return bi;case 64:case 128:case 256:case 512:case xi:case Ei:case ki:case Si:case Mi:case Ti:case Ci:case Ni:case Pi:case Oi:case _i:case Ri:return e&wi;case Di:case Li:case Ii:case zi:case ji:return e&Ai;case Bi:return Bi;case Wi:return Wi;case Vi:return Vi;case Hi:return Hi;default:return o("Should have found matching lanes. This is a bug in React."),e}}function Xi(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&Ui;if(0!==a){var s=a&~i;if(0!==s)r=Ki(s);else{var l=a&o;0!==l&&(r=Ki(l))}}else{var u=n&~i;0!==u?r=Ki(u):0!==o&&(r=Ki(o))}if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)){var c=io(r),d=io(t);if(c>=d||c===yi&&d&wi)return t}r&vi&&(r|=n&yi);var f=e.entangledLanes;if(0!==f)for(var h=e.entanglements,p=r&f;p>0;){var g=ao(p),v=1<<g;r|=h[g],p&=~v}return r}function Qi(e,t){switch(e){case pi:case gi:case vi:return t+250;case mi:case yi:case bi:case 64:case 128:case 256:case 512:case xi:case Ei:case ki:case Si:case Mi:case Ti:case Ci:case Ni:case Pi:case Oi:case _i:case Ri:return t+5e3;case Di:case Li:case Ii:case zi:case ji:case Bi:case Wi:case Vi:case Hi:return $i;default:return o("Should have found matching lanes. This is a bug in React."),$i}}function Zi(e){var t=e.pendingLanes&~Hi;return 0!==t?t:t&Hi?Hi:0}function Ji(e){return!!(e&Ui)}function eo(e){return(e&Ai)===e}function to(e,t){return!!(t&(gi|vi|mi|yi))}function no(e){return!!(e&wi)}function ro(){var e=Yi;return(Yi<<=1)&wi||(Yi=64),e}function io(e){return e&-e}function oo(e){return io(e)}function ao(e){return 31-ci(e)}function so(e){return ao(e)}function lo(e,t){return!!(e&t)}function uo(e,t){return(e&t)===t}function co(e,t){return e|t}function fo(e,t){return e&~t}function ho(e,t){return e&t}function po(e){for(var t=[],n=0;n<hi;n++)t.push(e);return t}function go(e,t,n){e.pendingLanes|=t,t!==Vi&&(e.suspendedLanes=0,e.pingedLanes=0),e.eventTimes[so(t)]=n}function vo(e,t,n){e.pingedLanes|=e.suspendedLanes&t}function mo(e,t){for(var n=e.entangledLanes|=t,r=e.entanglements,i=n;i;){var o=ao(i),a=1<<o;a&t|r[o]&t&&(r[o]|=t),i&=~a}}function yo(e,t,n){if(qr)for(var r=e.pendingUpdatersLaneMap;n>0;){var i=so(n),o=1<<i;r[i].add(t),n&=~o}}function bo(e,t){if(qr)for(var n=e.pendingUpdatersLaneMap,r=e.memoizedUpdaters;t>0;){var i=so(t),o=1<<i,a=n[i];a.size>0&&(a.forEach((function(e){var t=e.alternate;null!==t&&r.has(t)||r.add(e)})),a.clear()),t&=~o}}var wo,xo,Eo,ko,So,Mo=pi,To=vi,Co=yi,No=Vi,Po=0;function Oo(){return Po}function _o(e){Po=e}function Ro(e,t){return 0!==e&&e<t}function Ao(e){var t=io(e);return Ro(Mo,t)?Ro(To,t)?Ji(t)?Co:No:To:Mo}function Do(e){return e.current.memoizedState.isDehydrated}function Lo(e){wo(e)}var Io=!1,zo=[],jo=null,Fo=null,Bo=null,Uo=new Map,Wo=new Map,Vo=[],Ho=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function Go(e,t){switch(e){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":var n=t.pointerId;Uo.delete(n);break;case"gotpointercapture":case"lostpointercapture":var r=t.pointerId;Wo.delete(r)}}function $o(e,t,n,r,i,o){if(null===e||e.nativeEvent!==o){var a=function(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:i,targetContainers:[r]}}(t,n,r,i,o);if(null!==t){var s=Fu(t);null!==s&&xo(s)}return a}e.eventSystemFlags|=r;var l=e.targetContainers;return null!==i&&-1===l.indexOf(i)&&l.push(i),e}function Yo(e){var t=ju(e.target);if(null!==t){var n=Er(t);if(null!==n){var r=n.tag;if(r===c){var i=kr(n);if(null!==i)return e.blockedOn=i,void So(e.priority,(function(){Eo(n)}))}else if(3===r&&Do(n.stateNode))return void(e.blockedOn=Sr(n))}}e.blockedOn=null}function qo(e){if(null!==e.blockedOn)return!1;for(var t,n=e.targetContainers;n.length>0;){var r=n[0],i=aa(e.domEventName,e.eventSystemFlags,r,e.nativeEvent);if(null!==i){var a=Fu(i);return null!==a&&xo(a),e.blockedOn=i,!1}var s=e.nativeEvent,l=new s.constructor(s.type,s);t=l,null!==Mn&&o("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),Mn=t,s.target.dispatchEvent(l),null===Mn&&o("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),Mn=null,n.shift()}return!0}function Ko(e,t,n){qo(e)&&n.delete(t)}function Xo(){Io=!1,null!==jo&&qo(jo)&&(jo=null),null!==Fo&&qo(Fo)&&(Fo=null),null!==Bo&&qo(Bo)&&(Bo=null),Uo.forEach(Ko),Wo.forEach(Ko)}function Qo(e,n){e.blockedOn===n&&(e.blockedOn=null,Io||(Io=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Xo)))}function Zo(e){if(zo.length>0){Qo(zo[0],e);for(var t=1;t<zo.length;t++){var n=zo[t];n.blockedOn===e&&(n.blockedOn=null)}}null!==jo&&Qo(jo,e),null!==Fo&&Qo(Fo,e),null!==Bo&&Qo(Bo,e);var r=function(t){return Qo(t,e)};Uo.forEach(r),Wo.forEach(r);for(var i=0;i<Vo.length;i++){var o=Vo[i];o.blockedOn===e&&(o.blockedOn=null)}for(;Vo.length>0;){var a=Vo[0];if(null!==a.blockedOn)break;Yo(a),null===a.blockedOn&&Vo.shift()}}var Jo=n.ReactCurrentBatchConfig,ea=!0;function ta(e){ea=!!e}function na(e,t,n,r){var i=Oo(),o=Jo.transition;Jo.transition=null;try{_o(Mo),ia(e,t,n,r)}finally{_o(i),Jo.transition=o}}function ra(e,t,n,r){var i=Oo(),o=Jo.transition;Jo.transition=null;try{_o(To),ia(e,t,n,r)}finally{_o(i),Jo.transition=o}}function ia(e,t,n,r){ea&&function(e,t,n,r){var i=aa(e,t,n,r);if(null===i)return fl(e,t,r,oa,n),void Go(e,r);if(function(e,t,n,r,i){switch(t){case"focusin":return jo=$o(jo,e,t,n,r,i),!0;case"dragenter":return Fo=$o(Fo,e,t,n,r,i),!0;case"mouseover":return Bo=$o(Bo,e,t,n,r,i),!0;case"pointerover":var o=i,a=o.pointerId;return Uo.set(a,$o(Uo.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":var s=i,l=s.pointerId;return Wo.set(l,$o(Wo.get(l)||null,e,t,n,r,s)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Go(e,r),4&t&&(s=e,Ho.indexOf(s)>-1)){for(;null!==i;){var o=Fu(i);null!==o&&Lo(o);var a=aa(e,t,n,r);if(null===a&&fl(e,t,r,oa,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else{var s;fl(e,t,r,null,n)}}(e,t,n,r)}var oa=null;function aa(e,t,n,r){oa=null;var i=ju(Tn(r));if(null!==i){var o=Er(i);if(null===o)i=null;else{var a=o.tag;if(a===c){var s=kr(o);if(null!==s)return s;i=null}else if(3===a){if(Do(o.stateNode))return Sr(o);i=null}else o!==i&&(i=null)}}return oa=i,null}function sa(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return Mo;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return To;case"message":switch(Ir()){case zr:return Mo;case jr:return To;case Fr:case Br:return Co;case Ur:return No;default:return Co}default:return Co}}var la=null,ua=null,ca=null;function da(){if(ca)return ca;var e,t,n=ua,r=n.length,i=fa(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);var s=t>1?1-t:void 0;return ca=i.slice(e,s)}function fa(){return"value"in la?la.value:la.textContent}function ha(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,10===t&&(t=13),t>=32||13===t?t:0}function pa(){return!0}function ga(){return!1}function va(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)if(e.hasOwnProperty(a)){var s=e[a];this[a]=s?s(i):i[a]}var l=null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue;return this.isDefaultPrevented=l?pa:ga,this.isPropagationStopped=ga,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=pa)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=pa)},persist:function(){},isPersistent:pa}),t}var ma,ya,ba,wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=va(wa),Ea=xe({},wa,{view:0,detail:0}),ka=va(Ea),Sa=xe({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(function(e){e!==ba&&(ba&&"mousemove"===e.type?(ma=e.screenX-ba.screenX,ya=e.screenY-ba.screenY):(ma=0,ya=0),ba=e)}(e),ma)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),Ma=va(Sa),Ta=va(xe({},Sa,{dataTransfer:0})),Ca=va(xe({},Ea,{relatedTarget:0})),Na=va(xe({},wa,{animationName:0,elapsedTime:0,pseudoElement:0})),Pa=va(xe({},wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Oa=va(xe({},wa,{data:0})),_a=Oa,Ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Aa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Da={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function La(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var n=Da[e];return!!n&&!!t[n]}function Ia(e){return La}var za=va(xe({},Ea,{key:function(e){if(e.key){var t=Ra[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=ha(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?Aa[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(e){return"keypress"===e.type?ha(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ha(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),ja=va(xe({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fa=va(xe({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia})),Ba=va(xe({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ua=va(xe({},Sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Wa=[9,13,27,32],Va=229,Ha=T&&"CompositionEvent"in window,Ga=null;T&&"documentMode"in document&&(Ga=document.documentMode);var $a=T&&"TextEvent"in window&&!Ga,Ya=T&&(!Ha||Ga&&Ga>8&&Ga<=11),qa=32,Ka=String.fromCharCode(qa),Xa=!1;function Qa(e,t){switch(e){case"keyup":return-1!==Wa.indexOf(t.keyCode);case"keydown":return t.keyCode!==Va;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Za(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function Ja(e){return"ko"===e.locale}var es=!1;function ts(e,t,n,r,i){var o,a;if(Ha?o=function(e){switch(e){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}(t):es?Qa(t,r)&&(o="onCompositionEnd"):function(e,t){return"keydown"===e&&t.keyCode===Va}(t,r)&&(o="onCompositionStart"),!o)return null;Ya&&!Ja(r)&&(es||"onCompositionStart"!==o?"onCompositionEnd"===o&&es&&(a=da()):es=function(e){return la=e,ua=fa(),!0}(i));var s=pl(n,o);if(s.length>0){var l=new Oa(o,t,null,r,i);if(e.push({event:l,listeners:s}),a)l.data=a;else{var u=Za(r);null!==u&&(l.data=u)}}}function ns(e,t){if(es){if("compositionend"===e||!Ha&&Qa(e,t)){var n=da();return la=null,ua=null,ca=null,es=!1,n}return null}switch(e){case"paste":default:return null;case"keypress":if(!function(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}(t)){if(t.char&&t.char.length>1)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ya&&!Ja(t)?null:t.data}}function rs(e,t,n,r,i){var o;if(!(o=$a?function(e,t){switch(e){case"compositionend":return Za(t);case"keypress":return t.which!==qa?null:(Xa=!0,Ka);case"textInput":var n=t.data;return n===Ka&&Xa?null:n;default:return null}}(t,r):ns(t,r)))return null;var a=pl(n,"onBeforeInput");if(a.length>0){var s=new _a("onBeforeInput","beforeinput",null,r,i);e.push({event:s,listeners:a}),s.data=o}}var is={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function os(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!is[e.type]:"textarea"===t}
/**
  	 * Checks if an event is supported in the current execution environment.
  	 *
  	 * NOTE: This will not work correctly for non-generic events such as `change`,
  	 * `reset`, `load`, `error`, and `select`.
  	 *
  	 * Borrows from Modernizr.
  	 *
  	 * @param {string} eventNameSuffix Event name, e.g. "click".
  	 * @return {boolean} True if the event is supported.
  	 * @internal
  	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
  	 */function as(e,t,n,r){_n(r);var i=pl(t,"onChange");if(i.length>0){var o=new xa("onChange","change",null,n,r);e.push({event:o,listeners:i})}}var ss=null,ls=null;function us(e){ol(e,0)}function cs(e){if(et(Bu(e)))return e}function ds(e,t){if("change"===e)return t}var fs=!1;function hs(){ss&&(ss.detachEvent("onpropertychange",ps),ss=null,ls=null)}function ps(e){"value"===e.propertyName&&cs(ls)&&function(e){var t=[];as(t,ls,e,Tn(e)),zn(us,t)}(e)}function gs(e,t,n){"focusin"===e?(hs(),function(e,t){ls=t,(ss=e).attachEvent("onpropertychange",ps)}(t,n)):"focusout"===e&&hs()}function vs(e,t){if("selectionchange"===e||"keyup"===e||"keydown"===e)return cs(ls)}function ms(e,t){if("click"===e)return cs(t)}function ys(e,t){if("input"===e||"change"===e)return cs(t)}function bs(e,t,n,r,i,o,a){var s,l,u,c,d,f,h=n?Bu(n):window;if("select"===(c=(u=h).nodeName&&u.nodeName.toLowerCase())||"input"===c&&"file"===u.type?s=ds:os(h)?fs?s=ys:(s=vs,l=gs):function(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}(h)&&(s=ms),s){var p=s(t,n);if(p)return void as(e,p,r,i)}l&&l(t,h,n),"focusout"===t&&(f=(d=h)._wrapperState)&&f.controlled&&"number"===d.type&&ht(d,"number",d.value)}function ws(e,t,n,r,i,o,a){var s="mouseover"===t||"pointerover"===t,l="mouseout"===t||"pointerout"===t;if(s&&r!==Mn){var u=r.relatedTarget||r.fromElement;if(u&&(ju(u)||zu(u)))return}if(l||s){var c,d,f;if(i.window===i)c=i;else{var h=i.ownerDocument;c=h?h.defaultView||h.parentWindow:window}if(l){var p=r.relatedTarget||r.toElement;d=n,null!==(f=p?ju(p):null)&&(f!==Er(f)||5!==f.tag&&6!==f.tag)&&(f=null)}else d=null,f=n;if(d!==f){var g=Ma,v="onMouseLeave",m="onMouseEnter",y="mouse";"pointerout"!==t&&"pointerover"!==t||(g=ja,v="onPointerLeave",m="onPointerEnter",y="pointer");var b=null==d?c:Bu(d),w=null==f?c:Bu(f),x=new g(v,y+"leave",d,r,i);x.target=b,x.relatedTarget=w;var E=null;if(ju(i)===n){var k=new g(m,y+"enter",f,r,i);k.target=w,k.relatedTarget=b,E=k}!function(e,t,n,r,i){var o=r&&i?function(e,t){for(var n=e,r=t,i=0,o=n;o;o=gl(o))i++;for(var a=0,s=r;s;s=gl(s))a++;for(;i-a>0;)n=gl(n),i--;for(;a-i>0;)r=gl(r),a--;for(var l=i;l--;){if(n===r||null!==r&&n===r.alternate)return n;n=gl(n),r=gl(r)}return null}(r,i):null;null!==r&&vl(e,t,r,o,!1),null!==i&&null!==n&&vl(e,n,i,o,!0)}(e,x,E,d,f)}}}T&&(fs=function(){if(!T)return!1;var e="oninput",t=e in document;if(!t){var n=document.createElement("div");n.setAttribute(e,"return;"),t="function"==typeof n[e]}return t}()&&(!document.documentMode||document.documentMode>9));var xs="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Es(e,t){if(xs(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!C.call(t,o)||!xs(e[o],t[o]))return!1}return!0}function ks(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ss(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function Ms(e,t){for(var n=ks(e),r=0,i=0;n;){if(3===n.nodeType){if(i=r+n.textContent.length,r<=t&&i>=t)return{node:n,offset:t-r};r=i}n=ks(Ss(n))}}function Ts(e){var t=e.ownerDocument,n=t&&t.defaultView||window,r=n.getSelection&&n.getSelection();if(!r||0===r.rangeCount)return null;var i=r.anchorNode,o=r.anchorOffset,a=r.focusNode,s=r.focusOffset;try{i.nodeType,a.nodeType}catch(e){return null}return function(e,t,n,r,i){var o=0,a=-1,s=-1,l=0,u=0,c=e,d=null;e:for(;;){for(var f=null;c!==t||0!==n&&3!==c.nodeType||(a=o+n),c!==r||0!==i&&3!==c.nodeType||(s=o+i),3===c.nodeType&&(o+=c.nodeValue.length),null!==(f=c.firstChild);)d=c,c=f;for(;;){if(c===e)break e;if(d===t&&++l===n&&(a=o),d===r&&++u===i&&(s=o),null!==(f=c.nextSibling))break;d=(c=d).parentNode}c=f}return-1===a||-1===s?null:{start:a,end:s}}(e,i,o,a,s)}function Cs(e){return e&&3===e.nodeType}function Ns(e,t){return!(!e||!t)&&(e===t||!Cs(e)&&(Cs(t)?Ns(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Ps(e){return e&&e.ownerDocument&&Ns(e.ownerDocument.documentElement,e)}function Os(e){try{return"string"==typeof e.contentWindow.location.href}catch(e){return!1}}function _s(){for(var e=window,t=tt();t instanceof e.HTMLIFrameElement;){if(!Os(t))return t;t=tt((e=t.contentWindow).document)}return t}function Rs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function As(e){var t,n,r,i,o=_s(),a=e.focusedElem,s=e.selectionRange;if(o!==a&&Ps(a)){null!==s&&Rs(a)&&(t=a,r=(n=s).start,void 0===(i=n.end)&&(i=r),"selectionStart"in t?(t.selectionStart=r,t.selectionEnd=Math.min(i,t.value.length)):function(e,t){var n=e.ownerDocument||document,r=n&&n.defaultView||window;if(r.getSelection){var i=r.getSelection(),o=e.textContent.length,a=Math.min(t.start,o),s=void 0===t.end?a:Math.min(t.end,o);if(!i.extend&&a>s){var l=s;s=a,a=l}var u=Ms(e,a),c=Ms(e,s);if(u&&c){if(1===i.rangeCount&&i.anchorNode===u.node&&i.anchorOffset===u.offset&&i.focusNode===c.node&&i.focusOffset===c.offset)return;var d=n.createRange();d.setStart(u.node,u.offset),i.removeAllRanges(),a>s?(i.addRange(d),i.extend(c.node,c.offset)):(d.setEnd(c.node,c.offset),i.addRange(d))}}}(t,n));for(var l=[],u=a;u=u.parentNode;)1===u.nodeType&&l.push({element:u,left:u.scrollLeft,top:u.scrollTop});"function"==typeof a.focus&&a.focus();for(var c=0;c<l.length;c++){var d=l[c];d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}}function Ds(e){return("selectionStart"in e?{start:e.selectionStart,end:e.selectionEnd}:Ts(e))||{start:0,end:0}}var Ls=T&&"documentMode"in document&&document.documentMode<=11,Is=null,zs=null,js=null,Fs=!1;function Bs(e,t,n){var r,i=(r=n).window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!Fs&&null!=Is&&Is===tt(i)){var o=function(e){if("selectionStart"in e&&Rs(e))return{start:e.selectionStart,end:e.selectionEnd};var t=(e.ownerDocument&&e.ownerDocument.defaultView||window).getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}(Is);if(!js||!Es(js,o)){js=o;var a=pl(zs,"onSelect");if(a.length>0){var s=new xa("onSelect","select",null,t,n);e.push({event:s,listeners:a}),s.target=Is}}}}function Us(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ws={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionend:Us("Transition","TransitionEnd")},Vs={},Hs={};function Gs(e){if(Vs[e])return Vs[e];if(!Ws[e])return e;var t=Ws[e];for(var n in t)if(t.hasOwnProperty(n)&&n in Hs)return Vs[e]=t[n];return e}T&&(Hs=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);var $s=Gs("animationend"),Ys=Gs("animationiteration"),qs=Gs("animationstart"),Ks=Gs("transitionend"),Xs=new Map,Qs=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function Zs(e,t){Xs.set(e,t),S(t,[e])}function Js(e,t,n,r,i,o,a){var s=Xs.get(t);if(void 0!==s){var l=xa,u=t;switch(t){case"keypress":if(0===ha(r))return;case"keydown":case"keyup":l=za;break;case"focusin":u="focus",l=Ca;break;case"focusout":u="blur",l=Ca;break;case"beforeblur":case"afterblur":l=Ca;break;case"click":if(2===r.button)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Ma;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Ta;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Fa;break;case $s:case Ys:case qs:l=Na;break;case Ks:l=Ba;break;case"scroll":l=ka;break;case"wheel":l=Ua;break;case"copy":case"cut":case"paste":l=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=ja}var c=!!(4&o),d=!c&&"scroll"===t,f=function(e,t,n,r,i){for(var o=r?null!==t?t+"Capture":null:t,a=[],s=e,l=null;null!==s;){var u=s,c=u.stateNode;if(5===u.tag&&null!==c&&(l=c,null!==o)){var d=jn(s,o);null!=d&&a.push(hl(s,d,l))}if(i)break;s=s.return}return a}(n,s,r.type,c,d);if(f.length>0){var h=new l(s,u,null,r,i);e.push({event:h,listeners:f})}}}function el(e,t,n,r,i,o,a){Js(e,t,n,r,i,o),!(7&o)&&(ws(e,t,n,r,i),bs(e,t,n,r,i),function(e,t,n,r,i){var o=n?Bu(n):window;switch(t){case"focusin":(os(o)||"true"===o.contentEditable)&&(Is=o,zs=n,js=null);break;case"focusout":Is=null,zs=null,js=null;break;case"mousedown":Fs=!0;break;case"contextmenu":case"mouseup":case"dragend":Fs=!1,Bs(e,r,i);break;case"selectionchange":if(Ls)break;case"keydown":case"keyup":Bs(e,r,i)}}(e,t,n,r,i),function(e,t,n,r,i){ts(e,t,n,r,i),rs(e,t,n,r,i)}(e,t,n,r,i))}!function(){for(var e=0;e<Qs.length;e++){var t=Qs[e];Zs(t.toLowerCase(),"on"+(t[0].toUpperCase()+t.slice(1)))}Zs($s,"onAnimationEnd"),Zs(Ys,"onAnimationIteration"),Zs(qs,"onAnimationStart"),Zs("dblclick","onDoubleClick"),Zs("focusin","onFocus"),Zs("focusout","onBlur"),Zs(Ks,"onTransitionEnd")}(),M("onMouseEnter",["mouseout","mouseover"]),M("onMouseLeave",["mouseout","mouseover"]),M("onPointerEnter",["pointerout","pointerover"]),M("onPointerLeave",["pointerout","pointerover"]),S("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"]),S("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"]),S("onBeforeInput",["compositionend","keypress","textInput","paste"]),S("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),S("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),S("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"]);var tl=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],nl=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(tl));function rl(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,s,l){if(Xn.apply(this,arguments),Gn){var u=Qn();Yn||(Yn=!0,qn=u)}}(r,t,void 0,e),e.currentTarget=null}function il(e,t,n){var r;if(n)for(var i=t.length-1;i>=0;i--){var o=t[i],a=o.instance,s=o.currentTarget,l=o.listener;if(a!==r&&e.isPropagationStopped())return;rl(e,l,s),r=a}else for(var u=0;u<t.length;u++){var c=t[u],d=c.instance,f=c.currentTarget,h=c.listener;if(d!==r&&e.isPropagationStopped())return;rl(e,h,f),r=d}}function ol(e,t){for(var n=!!(4&t),r=0;r<e.length;r++){var i=e[r];il(i.event,i.listeners,n)}!function(){if(Yn){var e=qn;throw Yn=!1,qn=null,e}}()}function al(e,t){nl.has(e)||o('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',e);var n,r,i=(void 0===(r=(n=t)[_u])&&(r=n[_u]=new Set),r),a=function(e){return e+"__bubble"}(e);i.has(a)||(cl(t,e,2,!1),i.add(a))}function sl(e,t,n){nl.has(e)&&!t&&o('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',e);var r=0;t&&(r|=4),cl(n,e,r,t)}var ll="_reactListening"+Math.random().toString(36).slice(2);function ul(e){if(!e[ll]){e[ll]=!0,x.forEach((function(t){"selectionchange"!==t&&(nl.has(t)||sl(t,!1,e),sl(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null!==t&&(t[ll]||(t[ll]=!0,sl("selectionchange",!1,t)))}}function cl(e,t,n,r,i){var o=function(e,t,n){var r;switch(sa(t)){case Mo:r=na;break;case To:r=ra;break;default:r=ia}return r.bind(null,t,n,e)}(e,t,n),a=void 0;Fn&&("touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0)),r?void 0!==a?function(e,t,n,r){e.addEventListener(t,n,{capture:!0,passive:r})}(e,t,o,a):function(e,t,n){e.addEventListener(t,n,!0)}(e,t,o):void 0!==a?function(e,t,n,r){e.addEventListener(t,n,{passive:r})}(e,t,o,a):function(e,t,n){e.addEventListener(t,n,!1)}(e,t,o)}function dl(e,t){return e===t||8===e.nodeType&&e.parentNode===t}function fl(e,t,n,r,i){var o=r;if(!(1&t||2&t)){var a=i;if(null!==r){var s=r;e:for(;;){if(null===s)return;var l=s.tag;if(3===l||4===l){var u=s.stateNode.containerInfo;if(dl(u,a))break;if(4===l)for(var c=s.return;null!==c;){var d=c.tag;if((3===d||4===d)&&dl(c.stateNode.containerInfo,a))return;c=c.return}for(;null!==u;){var f=ju(u);if(null===f)return;var h=f.tag;if(5===h||6===h){s=o=f;continue e}u=u.parentNode}}s=s.return}}}zn((function(){return function(e,t,n,r){var i=[];el(i,e,r,n,Tn(n),t),ol(i,t)}(e,t,n,o)}))}function hl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pl(e,t){for(var n=t+"Capture",r=[],i=e;null!==i;){var o=i,a=o.stateNode;if(5===o.tag&&null!==a){var s=a,l=jn(i,n);null!=l&&r.unshift(hl(i,l,s));var u=jn(i,t);null!=u&&r.push(hl(i,u,s))}i=i.return}return r}function gl(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function vl(e,t,n,r,i){for(var o=t._reactName,a=[],s=n;null!==s&&s!==r;){var l=s,u=l.alternate,c=l.stateNode,d=l.tag;if(null!==u&&u===r)break;if(5===d&&null!==c){var f=c;if(i){var h=jn(s,o);null!=h&&a.unshift(hl(s,h,f))}else if(!i){var p=jn(s,o);null!=p&&a.push(hl(s,p,f))}}s=s.return}0!==a.length&&e.push({event:t,listeners:a})}var ml,yl,bl,wl,xl,El,kl,Sl=!1,Ml="dangerouslySetInnerHTML",Tl="suppressContentEditableWarning",Cl="suppressHydrationWarning",Nl="autoFocus",Pl="children",Ol="style",_l="__html";ml={dialog:!0,webview:!0},yl=function(e,t){vn(e,t),function(e,t){"input"!==e&&"textarea"!==e&&"select"!==e||null==t||null!==t.value||yn||(yn=!0,"select"===e&&t.multiple?o("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",e):o("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",e))}(e,t),Sn(e,t,{registrationNameDependencies:E,possibleRegistrationNames:k})},El=T&&!document.documentMode,bl=function(e,t,n){if(!Sl){var r=Dl(n),i=Dl(t);i!==r&&(Sl=!0,o("Prop `%s` did not match. Server: %s Client: %s",e,JSON.stringify(i),JSON.stringify(r)))}},wl=function(e){if(!Sl){Sl=!0;var t=[];e.forEach((function(e){t.push(e)})),o("Extra attributes from the server: %s",t)}},xl=function(e,t){!1===t?o("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",e,e,e):o("Expected `%s` listener to be a function, instead got a value of `%s` type.",e,typeof t)},kl=function(e,t){var n=e.namespaceURI===_t?e.ownerDocument.createElement(e.tagName):e.ownerDocument.createElementNS(e.namespaceURI,e.tagName);return n.innerHTML=t,n.innerHTML};var Rl=/\r\n?/g,Al=/\u0000|\uFFFD/g;function Dl(e){return P(t=e)&&(o("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",N(t)),O(t)),("string"==typeof e?e:""+e).replace(Rl,"\n").replace(Al,"");var t}function Ll(e,t,n,r){var i=Dl(t),a=Dl(e);if(a!==i&&(r&&(Sl||(Sl=!0,o('Text content did not match. Server: "%s" Client: "%s"',a,i))),n))throw new Error("Text content does not match server-rendered HTML.")}function Il(e){return 9===e.nodeType?e:e.ownerDocument}function zl(){}function jl(e){e.onclick=zl}function Fl(e,t,n,r){var i,o=un(t,n);switch(yl(t,n),t){case"dialog":al("cancel",e),al("close",e),i=n;break;case"iframe":case"object":case"embed":al("load",e),i=n;break;case"video":case"audio":for(var a=0;a<tl.length;a++)al(tl[a],e);i=n;break;case"source":al("error",e),i=n;break;case"img":case"image":case"link":al("error",e),al("load",e),i=n;break;case"details":al("toggle",e),i=n;break;case"input":lt(e,n),i=st(e,n),al("invalid",e);break;case"option":mt(0,n),i=n;break;case"select":Mt(e,n),i=St(0,n),al("invalid",e);break;case"textarea":Nt(e,n),i=Ct(e,n),al("invalid",e);break;default:i=n}switch(ln(t,i),function(e,t,n,r,i){for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];if(o===Ol)a&&Object.freeze(a),on(t,a);else if(o===Ml){var s=a?a[_l]:void 0;null!=s&&zt(t,s)}else o===Pl?"string"==typeof a?("textarea"!==e||""!==a)&&jt(t,a):"number"==typeof a&&jt(t,""+a):o===Tl||o===Cl||o===Nl||(E.hasOwnProperty(o)?null!=a&&("function"!=typeof a&&xl(o,a),"onScroll"===o&&al("scroll",t)):null!=a&&Z(t,o,a,i))}}(t,e,0,i,o),t){case"input":Je(e),dt(e,n,!1);break;case"textarea":Je(e),Ot(e);break;case"option":!function(e,t){null!=t.value&&e.setAttribute("value",Ye(qe(t.value)))}(e,n);break;case"select":!function(e,t){var n=e;n.multiple=!!t.multiple;var r=t.value;null!=r?kt(n,!!t.multiple,r,!1):null!=t.defaultValue&&kt(n,!!t.multiple,t.defaultValue,!0)}(e,n);break;default:"function"==typeof i.onClick&&jl(e)}}function Bl(e,t,n,r,i){yl(t,r);var a,s,l,u,c=null;switch(t){case"input":a=st(e,n),s=st(e,r),c=[];break;case"select":a=St(0,n),s=St(0,r),c=[];break;case"textarea":a=Ct(e,n),s=Ct(e,r),c=[];break;default:s=r,"function"!=typeof(a=n).onClick&&"function"==typeof s.onClick&&jl(e)}ln(t,s);var d=null;for(l in a)if(!s.hasOwnProperty(l)&&a.hasOwnProperty(l)&&null!=a[l])if(l===Ol){var f=a[l];for(u in f)f.hasOwnProperty(u)&&(d||(d={}),d[u]="")}else l===Ml||l===Pl||l===Tl||l===Cl||l===Nl||(E.hasOwnProperty(l)?c||(c=[]):(c=c||[]).push(l,null));for(l in s){var h=s[l],p=null!=a?a[l]:void 0;if(s.hasOwnProperty(l)&&h!==p&&(null!=h||null!=p))if(l===Ol)if(h&&Object.freeze(h),p){for(u in p)!p.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(d||(d={}),d[u]="");for(u in h)h.hasOwnProperty(u)&&p[u]!==h[u]&&(d||(d={}),d[u]=h[u])}else d||(c||(c=[]),c.push(l,d)),d=h;else if(l===Ml){var g=h?h[_l]:void 0,v=p?p[_l]:void 0;null!=g&&v!==g&&(c=c||[]).push(l,g)}else l===Pl?"string"!=typeof h&&"number"!=typeof h||(c=c||[]).push(l,""+h):l===Tl||l===Cl||(E.hasOwnProperty(l)?(null!=h&&("function"!=typeof h&&xl(l,h),"onScroll"===l&&al("scroll",e)),c||p===h||(c=[])):(c=c||[]).push(l,h))}return d&&(function(e,t){if(t){var n,r=an(e),i=an(t),a={};for(var s in r){var l=r[s],u=i[s];if(u&&l!==u){var c=l+","+u;if(a[c])continue;a[c]=!0,o("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",null==(n=e[l])||"boolean"==typeof n||""===n?"Removing":"Updating",l,u)}}}}(d,s[Ol]),(c=c||[]).push(Ol,d)),c}function Ul(e,t,n,r,i){switch("input"===n&&"radio"===i.type&&null!=i.name&&ut(e,i),un(n,r),function(e,t,n,r){for(var i=0;i<t.length;i+=2){var o=t[i],a=t[i+1];o===Ol?on(e,a):o===Ml?zt(e,a):o===Pl?jt(e,a):Z(e,o,a,r)}}(e,t,0,un(n,i)),n){case"input":ct(e,i);break;case"textarea":Pt(e,i);break;case"select":!function(e,t){var n=e,r=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!t.multiple;var i=t.value;null!=i?kt(n,!!t.multiple,i,!1):r!==!!t.multiple&&(null!=t.defaultValue?kt(n,!!t.multiple,t.defaultValue,!0):kt(n,!!t.multiple,t.multiple?[]:"",!1))}(e,i)}}function Wl(e,t){Sl||(Sl=!0,o("Did not expect server HTML to contain a <%s> in <%s>.",t.nodeName.toLowerCase(),e.nodeName.toLowerCase()))}function Vl(e,t){Sl||(Sl=!0,o('Did not expect server HTML to contain the text node "%s" in <%s>.',t.nodeValue,e.nodeName.toLowerCase()))}function Hl(e,t,n){Sl||(Sl=!0,o("Expected server HTML to contain a matching <%s> in <%s>.",t,e.nodeName.toLowerCase()))}function Gl(e,t){""!==t&&(Sl||(Sl=!0,o('Expected server HTML to contain a matching text node for "%s" in <%s>.',t,e.nodeName.toLowerCase())))}var $l,Yl,ql=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],Kl=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],Xl=Kl.concat(["button"]),Ql=["dd","dt","li","option","optgroup","p","rp","rt"],Zl={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Yl=function(e,t){var n=xe({},e||Zl),r={tag:t};return-1!==Kl.indexOf(t)&&(n.aTagInScope=null,n.buttonTagInScope=null,n.nobrTagInScope=null),-1!==Xl.indexOf(t)&&(n.pTagInButtonScope=null),-1!==ql.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(n.listItemTagAutoclosing=null,n.dlItemTagAutoclosing=null),n.current=r,"form"===t&&(n.formTag=r),"a"===t&&(n.aTagInScope=r),"button"===t&&(n.buttonTagInScope=r),"nobr"===t&&(n.nobrTagInScope=r),"p"===t&&(n.pTagInButtonScope=r),"li"===t&&(n.listItemTagAutoclosing=r),"dd"!==t&&"dt"!==t||(n.dlItemTagAutoclosing=r),n};var Jl={};$l=function(e,t,n){var r=(n=n||Zl).current,i=r&&r.tag;null!=t&&(null!=e&&o("validateDOMNesting: when childText is passed, childTag should be null"),e="#text");var a=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e||"frameset"===e;case"frameset":return"frame"===e;case"#document":return"html"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===Ql.indexOf(t);case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0}(e,i)?null:r,s=a?null:function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null}(e,n),l=a||s;if(l){var u=l.tag,c=!!a+"|"+e+"|"+u;if(!Jl[c]){Jl[c]=!0;var d=e,f="";if("#text"===e?/\S/.test(t)?d="Text nodes":(d="Whitespace text nodes",f=" Make sure you don't have any extra whitespace between tags on each line of your source code."):d="<"+e+">",a){var h="";"table"===u&&"tr"===e&&(h+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),o("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",d,u,f,h)}else o("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",d,u)}}};var eu="suppressHydrationWarning",tu="$",nu="/$",ru="$?",iu="$!",ou=null,au=null;function su(e){var t;return ou=ea,t=_s(),au={focusedElem:t,selectionRange:Rs(t)?Ds(t):null},ta(!1),null}function lu(e,t,n,r,i){var a=r;if($l(e,null,a.ancestorInfo),"string"==typeof t.children||"number"==typeof t.children){var s=""+t.children,l=Yl(a.ancestorInfo,e);$l(null,s,l)}var u=function(e,t,n,r){var i,a,s=Il(n),l=r;if(l===_t&&(l=At(e)),l===_t){if((i=un(e,t))||e===e.toLowerCase()||o("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",e),"script"===e){var u=s.createElement("div");u.innerHTML="<script><\/script>";var c=u.firstChild;a=u.removeChild(c)}else if("string"==typeof t.is)a=s.createElement(e,{is:t.is});else if(a=s.createElement(e),"select"===e){var d=a;t.multiple?d.multiple=!0:t.size&&(d.size=t.size)}}else a=s.createElementNS(l,e);return l===_t&&(i||"[object HTMLUnknownElement]"!==Object.prototype.toString.call(a)||C.call(ml,e)||(ml[e]=!0,o("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",e))),a}(e,t,n,a.namespace);return Du(i,u),Wu(u,t),u}function uu(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function cu(e,t,n,r){$l(null,e,n.ancestorInfo);var i=function(e,t){return Il(t).createTextNode(e)}(e,t);return Du(r,i),i}var du="function"==typeof setTimeout?setTimeout:void 0,fu="function"==typeof clearTimeout?clearTimeout:void 0,hu="function"==typeof Promise?Promise:void 0,pu="function"==typeof queueMicrotask?queueMicrotask:void 0!==hu?function(e){return hu.resolve(null).then(e).catch(gu)}:du;function gu(e){setTimeout((function(){throw e}))}function vu(e){jt(e,"")}function mu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType){var o=i.data;if(o===nu){if(0===r)return e.removeChild(i),void Zo(t);r--}else o!==tu&&o!==ru&&o!==iu||r++}n=i}while(n);Zo(t)}function yu(e){var t=e.style;"function"==typeof t.setProperty?t.setProperty("display","none","important"):t.display="none"}function bu(e,t){var n=t.style,r=null!=n&&n.hasOwnProperty("display")?n.display:null;e.style.display=Wt("display",r)}function wu(e,t){e.nodeValue=t}function xu(e){return e.data===ru}function Eu(e){return e.data===iu}function ku(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){var n=e.data;if(n===tu||n===iu||n===ru)break;if(n===nu)return null}}return e}function Su(e){return ku(e.nextSibling)}function Mu(e,t,n,r,i,o,a){return Du(o,e),Wu(e,n),function(e,t,n,r,i,o,a){var s,l;switch(s=un(t,n),yl(t,n),t){case"dialog":al("cancel",e),al("close",e);break;case"iframe":case"object":case"embed":al("load",e);break;case"video":case"audio":for(var u=0;u<tl.length;u++)al(tl[u],e);break;case"source":al("error",e);break;case"img":case"image":case"link":al("error",e),al("load",e);break;case"details":al("toggle",e);break;case"input":lt(e,n),al("invalid",e);break;case"option":mt(0,n);break;case"select":Mt(e,n),al("invalid",e);break;case"textarea":Nt(e,n),al("invalid",e)}ln(t,n),l=new Set;for(var c=e.attributes,d=0;d<c.length;d++)switch(c[d].name.toLowerCase()){case"value":case"checked":case"selected":break;default:l.add(c[d].name)}var f,h=null;for(var p in n)if(n.hasOwnProperty(p)){var g=n[p];if(p===Pl)"string"==typeof g?e.textContent!==g&&(!0!==n[Cl]&&Ll(e.textContent,g,o,a),h=[Pl,g]):"number"==typeof g&&e.textContent!==""+g&&(!0!==n[Cl]&&Ll(e.textContent,g,o,a),h=[Pl,""+g]);else if(E.hasOwnProperty(p))null!=g&&("function"!=typeof g&&xl(p,g),"onScroll"===p&&al("scroll",e));else if(a&&"boolean"==typeof s){var v=void 0,m=W(p);if(!0===n[Cl]);else if(p===Tl||p===Cl||"value"===p||"checked"===p||"selected"===p);else if(p===Ml){var y=e.innerHTML,b=g?g[_l]:void 0;if(null!=b){var w=kl(e,b);w!==y&&bl(p,y,w)}}else if(p===Ol){if(l.delete(p),El){var x=rn(g);x!==(v=e.getAttribute("style"))&&bl(p,v,x)}}else if(s)l.delete(p.toLowerCase()),g!==(v=Q(e,p,g))&&bl(p,v,g);else if(!F(p,m,s)&&!U(p,g,m,s)){var k=!1;if(null!==m)l.delete(m.attributeName),v=X(e,p,g,m);else{var S=r;if(S===_t&&(S=At(t)),S===_t)l.delete(p.toLowerCase());else{var M=(f=void 0,f=p.toLowerCase(),cn.hasOwnProperty(f)&&cn[f]||null);null!==M&&M!==p&&(k=!0,l.delete(M)),l.delete(p)}v=Q(e,p,g)}g===v||k||bl(p,v,g)}}}switch(a&&l.size>0&&!0!==n[Cl]&&wl(l),t){case"input":Je(e),dt(e,n,!0);break;case"textarea":Je(e),Ot(e);break;case"select":case"option":break;default:"function"==typeof n.onClick&&jl(e)}return h}(e,t,n,i.namespace,0,!!(1&o.mode),a)}function Tu(e){for(var t=e.previousSibling,n=0;t;){if(8===t.nodeType){var r=t.data;if(r===tu||r===iu||r===ru){if(0===n)return t;n--}else r===nu&&n++}t=t.previousSibling}return null}var Cu=Math.random().toString(36).slice(2),Nu="__reactFiber$"+Cu,Pu="__reactProps$"+Cu,Ou="__reactContainer$"+Cu,_u="__reactEvents$"+Cu,Ru="__reactListeners$"+Cu,Au="__reactHandles$"+Cu;function Du(e,t){t[Nu]=e}function Lu(e,t){t[Ou]=e}function Iu(e){e[Ou]=null}function zu(e){return!!e[Ou]}function ju(e){var t=e[Nu];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ou]||n[Nu]){var r=t.alternate;if(null!==t.child||null!==r&&null!==r.child)for(var i=Tu(e);null!==i;){var o=i[Nu];if(o)return o;i=Tu(i)}return t}n=(e=n).parentNode}return null}function Fu(e){var t=e[Nu]||e[Ou];return!t||5!==t.tag&&6!==t.tag&&t.tag!==c&&3!==t.tag?null:t}function Bu(e){if(5===e.tag||6===e.tag)return e.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function Uu(e){return e[Pu]||null}function Wu(e,t){e[Pu]=t}var Vu={},Hu=n.ReactDebugCurrentFrame;function Gu(e){if(e){var t=e._owner,n=Re(e.type,e._source,t?t.type:null);Hu.setExtraStackFrame(n)}else Hu.setExtraStackFrame(null)}function $u(e,t,n,r,i){var a=Function.call.bind(C);for(var s in e)if(a(e,s)){var l=void 0;try{if("function"!=typeof e[s]){var u=Error((r||"React class")+": "+n+" type `"+s+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[s]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw u.name="Invariant Violation",u}l=e[s](t,s,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){l=e}!l||l instanceof Error||(Gu(i),o("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,s,typeof l),Gu(null)),l instanceof Error&&!(l.message in Vu)&&(Vu[l.message]=!0,Gu(i),o("Failed %s type: %s",n,l.message),Gu(null))}}var Yu,qu=[];Yu=[];var Ku,Xu=-1;function Qu(e){return{current:e}}function Zu(e,t){Xu<0?o("Unexpected pop."):(t!==Yu[Xu]&&o("Unexpected Fiber popped."),e.current=qu[Xu],qu[Xu]=null,Yu[Xu]=null,Xu--)}function Ju(e,t,n){Xu++,qu[Xu]=e.current,Yu[Xu]=n,e.current=t}Ku={};var ec={};Object.freeze(ec);var tc=Qu(ec),nc=Qu(!1),rc=ec;function ic(e,t,n){return n&&lc(t)?rc:tc.current}function oc(e,t,n){var r=e.stateNode;r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=n}function ac(e,t){var n=e.type.contextTypes;if(!n)return ec;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={};for(var o in n)i[o]=t[o];return $u(n,i,"context",je(e)||"Unknown"),r&&oc(e,t,i),i}function sc(){return nc.current}function lc(e){return null!=e.childContextTypes}function uc(e){Zu(nc,e),Zu(tc,e)}function cc(e){Zu(nc,e),Zu(tc,e)}function dc(e,t,n){if(tc.current!==ec)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Ju(tc,t,e),Ju(nc,n,e)}function fc(e,t,n){var r=e.stateNode,i=t.childContextTypes;if("function"!=typeof r.getChildContext){var a=je(e)||"Unknown";return Ku[a]||(Ku[a]=!0,o("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",a,a)),n}var s=r.getChildContext();for(var l in s)if(!(l in i))throw new Error((je(e)||"Unknown")+'.getChildContext(): key "'+l+'" is not defined in childContextTypes.');return $u(i,s,"child context",je(e)||"Unknown"),xe({},n,s)}function hc(e){var t=e.stateNode,n=t&&t.__reactInternalMemoizedMergedChildContext||ec;return rc=tc.current,Ju(tc,n,e),Ju(nc,nc.current,e),!0}function pc(e,t,n){var r=e.stateNode;if(!r)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(n){var i=fc(e,t,rc);r.__reactInternalMemoizedMergedChildContext=i,Zu(nc,e),Zu(tc,e),Ju(tc,i,e),Ju(nc,n,e)}else Zu(nc,e),Ju(nc,n,e)}function gc(e){if(!function(e){return Er(e)===e}(e)||1!==e.tag)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var t=e;do{switch(t.tag){case 3:return t.stateNode.context;case 1:if(lc(t.type))return t.stateNode.__reactInternalMemoizedMergedChildContext}t=t.return}while(null!==t);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}var vc=null,mc=!1,yc=!1;function bc(e){null===vc?vc=[e]:vc.push(e)}function wc(){mc&&xc()}function xc(){if(!yc&&null!==vc){yc=!0;var e=0,t=Oo();try{var n=vc;for(_o(Mo);e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}vc=null,mc=!1}catch(t){throw null!==vc&&(vc=vc.slice(e+1)),_r(zr,xc),t}finally{_o(t),yc=!1}}return null}var Ec=[],kc=0,Sc=null,Mc=0,Tc=[],Cc=0,Nc=null,Pc=1,Oc="";function _c(){var e=Oc;return(Pc&~function(e){return 1<<Lc(e)-1}(Pc)).toString(32)+e}function Rc(e,t){zc(),Ec[kc++]=Mc,Ec[kc++]=Sc,Sc=e,Mc=t}function Ac(e,t,n){zc(),Tc[Cc++]=Pc,Tc[Cc++]=Oc,Tc[Cc++]=Nc,Nc=e;var r=Pc,i=Oc,o=Lc(r)-1,a=r&~(1<<o),s=n+1,l=Lc(t)+o;if(l>30){var u=o-o%5,c=(a&(1<<u)-1).toString(32),d=a>>u,f=o-u,h=Lc(t)+f;Pc=1<<h|s<<f|d,Oc=c+i}else Pc=1<<l|s<<o|a,Oc=i}function Dc(e){zc(),null!==e.return&&(Rc(e,1),Ac(e,1,0))}function Lc(e){return 32-ci(e)}function Ic(e){for(;e===Sc;)Sc=Ec[--kc],Ec[kc]=null,Mc=Ec[--kc],Ec[kc]=null;for(;e===Nc;)Nc=Tc[--Cc],Tc[Cc]=null,Oc=Tc[--Cc],Tc[Cc]=null,Pc=Tc[--Cc],Tc[Cc]=null}function zc(){ud()||o("Expected to be hydrating. This is a bug in React. Please file an issue.")}var jc=null,Fc=null,Bc=!1,Uc=!1,Wc=null;function Vc(){Bc&&o("We should not be hydrating here. This is a bug in React. Please file a bug.")}function Hc(){Uc=!0}function Gc(e){var t=e.stateNode.containerInfo;return Fc=ku(t.firstChild),jc=e,Bc=!0,Wc=null,Uc=!1,!0}function $c(e,t,n){return Fc=ku(t.nextSibling),jc=e,Bc=!0,Wc=null,Uc=!1,null!==n&&function(e,t){zc(),Tc[Cc++]=Pc,Tc[Cc++]=Oc,Tc[Cc++]=Nc,Pc=t.id,Oc=t.overflow,Nc=e}(e,n),!0}function Yc(e,t){switch(e.tag){case 3:!function(e,t){1===t.nodeType?Wl(e,t):8===t.nodeType||Vl(e,t)}(e.stateNode.containerInfo,t);break;case 5:var n=!!(1&e.mode);!function(e,t,n,r,i){(i||!0!==t[eu])&&(1===r.nodeType?Wl(n,r):8===r.nodeType||Vl(n,r))}(e.type,e.memoizedProps,e.stateNode,t,n);break;case c:var r=e.memoizedState;null!==r.dehydrated&&function(e,t){var n=e.parentNode;null!==n&&(1===t.nodeType?Wl(n,t):8===t.nodeType||Vl(n,t))}(r.dehydrated,t)}}function qc(e,t){Yc(e,t);var n,r=((n=Fb(5,null,null,0)).elementType="DELETED",n);r.stateNode=t,r.return=e;var i=e.deletions;null===i?(e.deletions=[r],e.flags|=Jn):i.push(r)}function Kc(e,t){if(!Uc)switch(e.tag){case 3:var n=e.stateNode.containerInfo;switch(t.tag){case 5:var r=t.type;t.pendingProps,function(e,t){Hl(e,t)}(n,r);break;case 6:!function(e,t){Gl(e,t)}(n,t.pendingProps)}break;case 5:e.type;var i=e.memoizedProps,o=e.stateNode;switch(t.tag){case 5:var a=t.type;t.pendingProps,function(e,t,n,r,i,o){(o||!0!==t[eu])&&Hl(n,r)}(0,i,o,a,0,!!(1&e.mode));break;case 6:!function(e,t,n,r,i){(i||!0!==t[eu])&&Gl(n,r)}(0,i,o,t.pendingProps,!!(1&e.mode))}break;case c:var s=e.memoizedState.dehydrated;if(null!==s)switch(t.tag){case 5:var l=t.type;t.pendingProps,function(e,t){var n=e.parentNode;null!==n&&Hl(n,t)}(s,l);break;case 6:!function(e,t){var n=e.parentNode;null!==n&&Gl(n,t)}(s,t.pendingProps)}break;default:return}}function Xc(e,t){t.flags=-4097&t.flags|2,Kc(e,t)}function Qc(e,t){switch(e.tag){case 5:var n=e.type;e.pendingProps;var r=function(e,t){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e}(t,n);return null!==r&&(e.stateNode=r,jc=e,Fc=ku(r.firstChild),!0);case 6:var i=function(e,t){return""===t||3!==e.nodeType?null:e}(t,e.pendingProps);return null!==i&&(e.stateNode=i,jc=e,Fc=null,!0);case c:var o=function(e){return 8!==e.nodeType?null:e}(t);if(null!==o){var a={dehydrated:o,treeContext:(zc(),null!==Nc?{id:Pc,overflow:Oc}:null),retryLane:Hi};e.memoizedState=a;var s=function(e){var t=Fb(p,null,null,0);return t.stateNode=e,t}(o);return s.return=e,e.child=s,jc=e,Fc=null,!0}return!1;default:return!1}}function Zc(e){return!(!(1&e.mode)||e.flags&er)}function Jc(e){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function ed(e){if(Bc){var t=Fc;if(!t)return Zc(e)&&(Kc(jc,e),Jc()),Xc(jc,e),Bc=!1,void(jc=e);var n=t;if(!Qc(e,t)){Zc(e)&&(Kc(jc,e),Jc()),t=Su(n);var r=jc;if(!t||!Qc(e,t))return Xc(jc,e),Bc=!1,void(jc=e);qc(r,n)}}}function td(e){var t=e.stateNode,n=e.memoizedProps,r=function(e,t,n){return Du(n,e),n.mode,function(e,t){return e.nodeValue!==t}(e,t)}(t,n,e);if(r){var i=jc;if(null!==i)switch(i.tag){case 3:i.stateNode.containerInfo,function(e,t,n,r){Ll(t.nodeValue,n,r,!0)}(0,t,n,!!(1&i.mode));break;case 5:i.type;var o=i.memoizedProps;i.stateNode,function(e,t,n,r,i,o){!0!==t[eu]&&Ll(r.nodeValue,i,o,!0)}(0,o,0,t,n,!!(1&i.mode))}}return r}function nd(e){var t=e.memoizedState,n=null!==t?t.dehydrated:null;if(!n)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");!function(e,t){Du(t,e)}(n,e)}function rd(e){var t=e.memoizedState,n=null!==t?t.dehydrated:null;if(!n)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return function(e){for(var t=e.nextSibling,n=0;t;){if(8===t.nodeType){var r=t.data;if(r===nu){if(0===n)return Su(t);n--}else r!==tu&&r!==iu&&r!==ru||n++}t=t.nextSibling}return null}(n)}function id(e){for(var t=e.return;null!==t&&5!==t.tag&&3!==t.tag&&t.tag!==c;)t=t.return;jc=t}function od(e){if(e!==jc)return!1;if(!Bc)return id(e),Bc=!0,!1;if(3!==e.tag&&(5!==e.tag||"head"!==(n=e.type)&&"body"!==n&&!uu(e.type,e.memoizedProps))){var t=Fc;if(t)if(Zc(e))ad(e),Jc();else for(;t;)qc(e,t),t=Su(t)}var n;return id(e),Fc=e.tag===c?rd(e):jc?Su(e.stateNode):null,!0}function ad(e){for(var t=Fc;t;)Yc(e,t),t=Su(t)}function sd(){jc=null,Fc=null,Bc=!1,Uc=!1}function ld(){null!==Wc&&(Ly(Wc),Wc=null)}function ud(){return Bc}function cd(e){null===Wc?Wc=[e]:Wc.push(e)}var dd=n.ReactCurrentBatchConfig,fd={recordUnsafeLifecycleWarnings:function(e,t){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(e,t){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},hd=function(e){var t=[];return e.forEach((function(e){t.push(e)})),t.sort().join(", ")},pd=[],gd=[],vd=[],md=[],yd=[],bd=[],wd=new Set;fd.recordUnsafeLifecycleWarnings=function(e,t){wd.has(e.type)||("function"==typeof t.componentWillMount&&!0!==t.componentWillMount.__suppressDeprecationWarning&&pd.push(e),8&e.mode&&"function"==typeof t.UNSAFE_componentWillMount&&gd.push(e),"function"==typeof t.componentWillReceiveProps&&!0!==t.componentWillReceiveProps.__suppressDeprecationWarning&&vd.push(e),8&e.mode&&"function"==typeof t.UNSAFE_componentWillReceiveProps&&md.push(e),"function"==typeof t.componentWillUpdate&&!0!==t.componentWillUpdate.__suppressDeprecationWarning&&yd.push(e),8&e.mode&&"function"==typeof t.UNSAFE_componentWillUpdate&&bd.push(e))},fd.flushPendingUnsafeLifecycleWarnings=function(){var e=new Set;pd.length>0&&(pd.forEach((function(t){e.add(je(t)||"Component"),wd.add(t.type)})),pd=[]);var t=new Set;gd.length>0&&(gd.forEach((function(e){t.add(je(e)||"Component"),wd.add(e.type)})),gd=[]);var n=new Set;vd.length>0&&(vd.forEach((function(e){n.add(je(e)||"Component"),wd.add(e.type)})),vd=[]);var r=new Set;md.length>0&&(md.forEach((function(e){r.add(je(e)||"Component"),wd.add(e.type)})),md=[]);var a=new Set;yd.length>0&&(yd.forEach((function(e){a.add(je(e)||"Component"),wd.add(e.type)})),yd=[]);var s=new Set;bd.length>0&&(bd.forEach((function(e){s.add(je(e)||"Component"),wd.add(e.type)})),bd=[]),t.size>0&&o("Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n\nPlease update the following components: %s",hd(t)),r.size>0&&o("Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n\nPlease update the following components: %s",hd(r)),s.size>0&&o("Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n\nPlease update the following components: %s",hd(s)),e.size>0&&i("componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",hd(e)),n.size>0&&i("componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",hd(n)),a.size>0&&i("componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",hd(a))};var xd,Ed,kd,Sd,Md,Td,Cd=new Map,Nd=new Set;function Pd(e,t,n){var r,i,a,s=n.ref;if(null!==s&&"function"!=typeof s&&"object"!=typeof s){if(e.mode,!(n._owner&&n._self&&n._owner.stateNode!==n._self||n._owner&&1!==n._owner.tag)&&("function"!=typeof n.type||(r=n.type).prototype&&r.prototype.isReactComponent)&&n._owner){var l=je(e)||"Component";kd[l]||(o('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',l,s),kd[l]=!0)}if(n._owner){var u,c=n._owner;if(c){var d=c;if(1!==d.tag)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");u=d.stateNode}if(!u)throw new Error("Missing owner for string ref "+s+". This error is likely caused by a bug in React. Please file an issue.");var f=u;a="ref",P(i=s)&&(o("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",a,N(i)),O(i));var h=""+s;if(null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===h)return t.ref;var p=function(e){var t=f.refs;null===e?delete t[h]:t[h]=e};return p._stringRef=h,p}if("string"!=typeof s)throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!n._owner)throw new Error("Element ref was specified as a string ("+s+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.")}return s}function Od(e,t){var n=Object.prototype.toString.call(t);throw new Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}function _d(e){var t=je(e)||"Component";Md[t]||(Md[t]=!0,o("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it."))}function Rd(e){var t=e._payload;return(0,e._init)(t)}function Ad(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=Jn):r.push(n)}}function n(n,r){if(!e)return null;for(var i=r;null!==i;)t(n,i),i=i.sibling;return null}function r(e,t){for(var n=new Map,r=t;null!==r;)null!==r.key?n.set(r.key,r):n.set(r.index,r),r=r.sibling;return n}function i(e,t){var n=Ub(e,t);return n.index=0,n.sibling=null,n}function a(t,n,r){if(t.index=r,!e)return t.flags|=dr,n;var i=t.alternate;if(null!==i){var o=i.index;return o<n?(t.flags|=2,n):o}return t.flags|=2,n}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){if(null===t||6!==t.tag){var o=Yb(n,e.mode,r);return o.return=e,o}var a=i(t,n);return a.return=e,a}function u(e,t,n,r){var o=n.type;if(o===te)return d(e,t,n.props.children,r,n.key);if(null!==t&&(t.elementType===o||Pb(t,n)||"object"==typeof o&&null!==o&&o.$$typeof===ce&&Rd(o)===t.type)){var a=i(t,n.props);return a.ref=Pd(e,t,n),a.return=e,a._debugSource=n._source,a._debugOwner=n._owner,a}var s=Hb(n,e.mode,r);return s.ref=Pd(e,t,n),s.return=e,s}function c(e,t,n,r){if(null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation){var o=qb(n,e.mode,r);return o.return=e,o}var a=i(t,n.children||[]);return a.return=e,a}function d(e,t,n,r,o){if(null===t||7!==t.tag){var a=Gb(n,e.mode,r,o);return a.return=e,a}var s=i(t,n);return s.return=e,s}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t){var r=Yb(""+t,e.mode,n);return r.return=e,r}if("object"==typeof t&&null!==t){switch(t.$$typeof){case J:var i=Hb(t,e.mode,n);return i.ref=Pd(e,null,t),i.return=e,i;case ee:var o=qb(t,e.mode,n);return o.return=e,o;case ce:var a=t._payload;return f(e,(0,t._init)(a),n)}if(wt(t)||he(t)){var s=Gb(t,e.mode,n,null);return s.return=e,s}Od(0,t)}return"function"==typeof t&&_d(e),null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case J:return n.key===i?u(e,t,n,r):null;case ee:return n.key===i?c(e,t,n,r):null;case ce:var o=n._payload;return h(e,t,(0,n._init)(o),r)}if(wt(n)||he(n))return null!==i?null:d(e,t,n,r,null);Od(0,n)}return"function"==typeof n&&_d(e),null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case J:return u(t,e.get(null===r.key?n:r.key)||null,r,i);case ee:return c(t,e.get(null===r.key?n:r.key)||null,r,i);case ce:var o=r._payload;return p(e,t,n,(0,r._init)(o),i)}if(wt(r)||he(r))return d(t,e.get(n)||null,r,i,null);Od(0,r)}return"function"==typeof r&&_d(t),null}function g(e,t,n){if("object"!=typeof e||null===e)return t;switch(e.$$typeof){case J:case ee:Td(e,n);var r=e.key;if("string"!=typeof r)break;if(null===t){(t=new Set).add(r);break}if(!t.has(r)){t.add(r);break}o("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",r);break;case ce:var i=e._payload;g((0,e._init)(i),t,n)}return t}return function l(u,c,d,v){if("object"==typeof d&&null!==d&&d.type===te&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case J:return s(function(e,r,o,a){for(var s=o.key,l=r;null!==l;){if(l.key===s){var u=o.type;if(u===te){if(7===l.tag){n(e,l.sibling);var c=i(l,o.props.children);return c.return=e,c._debugSource=o._source,c._debugOwner=o._owner,c}}else if(l.elementType===u||Pb(l,o)||"object"==typeof u&&null!==u&&u.$$typeof===ce&&Rd(u)===l.type){n(e,l.sibling);var d=i(l,o.props);return d.ref=Pd(e,l,o),d.return=e,d._debugSource=o._source,d._debugOwner=o._owner,d}n(e,l);break}t(e,l),l=l.sibling}if(o.type===te){var f=Gb(o.props.children,e.mode,a,o.key);return f.return=e,f}var h=Hb(o,e.mode,a);return h.ref=Pd(e,r,o),h.return=e,h}(u,c,d,v));case ee:return s(function(e,r,o,a){for(var s=o.key,l=r;null!==l;){if(l.key===s){if(4===l.tag&&l.stateNode.containerInfo===o.containerInfo&&l.stateNode.implementation===o.implementation){n(e,l.sibling);var u=i(l,o.children||[]);return u.return=e,u}n(e,l);break}t(e,l),l=l.sibling}var c=qb(o,e.mode,a);return c.return=e,c}(u,c,d,v));case ce:var m=d._payload;return l(u,c,(0,d._init)(m),v)}if(wt(d))return function(i,o,s,l){for(var u=null,c=0;c<s.length;c++)u=g(s[c],u,i);for(var d=null,v=null,m=o,y=0,b=0,w=null;null!==m&&b<s.length;b++){m.index>b?(w=m,m=null):w=m.sibling;var x=h(i,m,s[b],l);if(null===x){null===m&&(m=w);break}e&&m&&null===x.alternate&&t(i,m),y=a(x,y,b),null===v?d=x:v.sibling=x,v=x,m=w}if(b===s.length)return n(i,m),ud()&&Rc(i,b),d;if(null===m){for(;b<s.length;b++){var E=f(i,s[b],l);null!==E&&(y=a(E,y,b),null===v?d=E:v.sibling=E,v=E)}return ud()&&Rc(i,b),d}for(var k=r(0,m);b<s.length;b++){var S=p(k,i,b,s[b],l);null!==S&&(e&&null!==S.alternate&&k.delete(null===S.key?b:S.key),y=a(S,y,b),null===v?d=S:v.sibling=S,v=S)}return e&&k.forEach((function(e){return t(i,e)})),ud()&&Rc(i,b),d}(u,c,d,v);if(he(d))return function(i,s,l,u){var c=he(l);if("function"!=typeof c)throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");"function"==typeof Symbol&&"Generator"===l[Symbol.toStringTag]&&(Ed||o("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),Ed=!0),l.entries===c&&(xd||o("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),xd=!0);var d=c.call(l);if(d)for(var v=null,m=d.next();!m.done;m=d.next())v=g(m.value,v,i);var y=c.call(l);if(null==y)throw new Error("An iterable object provided no iterator.");for(var b=null,w=null,x=s,E=0,k=0,S=null,M=y.next();null!==x&&!M.done;k++,M=y.next()){x.index>k?(S=x,x=null):S=x.sibling;var T=h(i,x,M.value,u);if(null===T){null===x&&(x=S);break}e&&x&&null===T.alternate&&t(i,x),E=a(T,E,k),null===w?b=T:w.sibling=T,w=T,x=S}if(M.done)return n(i,x),ud()&&Rc(i,k),b;if(null===x){for(;!M.done;k++,M=y.next()){var C=f(i,M.value,u);null!==C&&(E=a(C,E,k),null===w?b=C:w.sibling=C,w=C)}return ud()&&Rc(i,k),b}for(var N=r(0,x);!M.done;k++,M=y.next()){var P=p(N,i,k,M.value,u);null!==P&&(e&&null!==P.alternate&&N.delete(null===P.key?k:P.key),E=a(P,E,k),null===w?b=P:w.sibling=P,w=P)}return e&&N.forEach((function(e){return t(i,e)})),ud()&&Rc(i,k),b}(u,c,d,v);Od(0,d)}return"string"==typeof d&&""!==d||"number"==typeof d?s(function(e,t,r,o){if(null!==t&&6===t.tag){n(e,t.sibling);var a=i(t,r);return a.return=e,a}n(e,t);var s=Yb(r,e.mode,o);return s.return=e,s}(u,c,""+d,v)):("function"==typeof d&&_d(u),n(u,c))}}fd.recordLegacyContextWarning=function(e,t){var n=function(e){for(var t=null,n=e;null!==n;)8&n.mode&&(t=n),n=n.return;return t}(e);if(null!==n){if(!Nd.has(e.type)){var r=Cd.get(n);(null!=e.type.contextTypes||null!=e.type.childContextTypes||null!==t&&"function"==typeof t.getChildContext)&&(void 0===r&&(r=[],Cd.set(n,r)),r.push(e))}}else o("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.")},fd.flushLegacyContextWarning=function(){Cd.forEach((function(e,t){if(0!==e.length){var n=e[0],r=new Set;e.forEach((function(e){r.add(je(e)||"Component"),Nd.add(e.type)}));var i=hd(r);try{Ge(n),o("Legacy context API has been detected within a strict-mode tree.\n\nThe old API will be supported in all 16.x releases, but applications using it should migrate to the new version.\n\nPlease update the following components: %s\n\nLearn more about this warning here: https://reactjs.org/link/legacy-context",i)}finally{He()}}}))},fd.discardPendingWarnings=function(){pd=[],gd=[],vd=[],md=[],yd=[],bd=[],Cd=new Map},xd=!1,Ed=!1,kd={},Sd={},Md={},Td=function(e,t){if(null!==e&&"object"==typeof e&&e._store&&!e._store.validated&&null==e.key){if("object"!=typeof e._store)throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");e._store.validated=!0;var n=je(t)||"Component";Sd[n]||(Sd[n]=!0,o('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};var Dd=Ad(!0),Ld=Ad(!1);function Id(e,t){for(var n=e.child;null!==n;)Wb(n,t),n=n.sibling}var zd,jd=Qu(null);zd={};var Fd=null,Bd=null,Ud=null,Wd=!1;function Vd(){Fd=null,Bd=null,Ud=null,Wd=!1}function Hd(){Wd=!0}function Gd(){Wd=!1}function $d(e,t,n){Ju(jd,t._currentValue,e),t._currentValue=n,void 0!==t._currentRenderer&&null!==t._currentRenderer&&t._currentRenderer!==zd&&o("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),t._currentRenderer=zd}function Yd(e,t){var n=jd.current;Zu(jd,t),e._currentValue=n}function qd(e,t,n){for(var r=e;null!==r;){var i=r.alternate;if(uo(r.childLanes,t)?null===i||uo(i.childLanes,t)||(i.childLanes=co(i.childLanes,t)):(r.childLanes=co(r.childLanes,t),null!==i&&(i.childLanes=co(i.childLanes,t))),r===n)break;r=r.return}r!==n&&o("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function Kd(e,t,n){!function(e,t,n){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var i=void 0,o=r.dependencies;if(null!==o){i=r.child;for(var a=o.firstContext;null!==a;){if(a.context===t){if(1===r.tag){var l=oo(n),u=ff($i,l);u.tag=lf;var c=r.updateQueue;if(null===c);else{var d=c.shared,f=d.pending;null===f?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}r.lanes=co(r.lanes,n);var h=r.alternate;null!==h&&(h.lanes=co(h.lanes,n)),qd(r.return,n,e),o.lanes=co(o.lanes,n);break}a=a.next}}else if(r.tag===s)i=r.type===e.type?null:r.child;else if(r.tag===p){var g=r.return;if(null===g)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");g.lanes=co(g.lanes,n);var v=g.alternate;null!==v&&(v.lanes=co(v.lanes,n)),qd(g,n,e),i=r.sibling}else i=r.child;if(null!==i)i.return=r;else for(i=r;null!==i;){if(i===e){i=null;break}var m=i.sibling;if(null!==m){m.return=i.return,i=m;break}i=i.return}r=i}}(e,t,n)}function Xd(e,t){Fd=e,Bd=null,Ud=null;var n=e.dependencies;null!==n&&null!==n.firstContext&&(lo(n.lanes,t)&&av(),n.firstContext=null)}function Qd(e){Wd&&o("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var t=e._currentValue;if(Ud===e);else{var n={context:e,memoizedValue:t,next:null};if(null===Bd){if(null===Fd)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Bd=n,Fd.dependencies={lanes:0,firstContext:n}}else Bd=Bd.next=n}return t}var Zd=null;function Jd(e){null===Zd?Zd=[e]:Zd.push(e)}function ef(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Jd(t)):(n.next=i.next,i.next=n),t.interleaved=n,rf(e,r)}function tf(e,t){return rf(e,t)}var nf=rf;function rf(e,t){e.lanes=co(e.lanes,t);var n=e.alternate;null!==n&&(n.lanes=co(n.lanes,t)),null===n&&4098&e.flags&&pb(e);for(var r=e,i=e.return;null!==i;)i.childLanes=co(i.childLanes,t),null!==(n=i.alternate)?n.childLanes=co(n.childLanes,t):4098&i.flags&&pb(e),r=i,i=i.return;return 3===r.tag?r.stateNode:null}var of,af,sf=0,lf=2,uf=!1;function cf(e){var t={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null};e.updateQueue=t}function df(e,t){var n=t.updateQueue,r=e.updateQueue;if(n===r){var i={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects};t.updateQueue=i}}function ff(e,t){return{eventTime:e,lane:t,tag:sf,payload:null,callback:null,next:null}}function hf(e,t,n){var r=e.updateQueue;if(null===r)return null;var i=r.shared;if(af!==i||of||(o("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),of=!0),(Wm&Am)!==Rm){var a=i.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),i.pending=t,nf(e,n)}return function(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Jd(t)):(n.next=i.next,i.next=n),t.interleaved=n,rf(e,r)}(e,i,t,n)}function pf(e,t,n){var r=t.updateQueue;if(null!==r){var i=r.shared;if(no(n)){var o=i.lanes,a=co(o=ho(o,e.pendingLanes),n);i.lanes=a,mo(e,a)}}}function gf(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r){var i=r.updateQueue;if(n===i){var o=null,a=null,s=n.firstBaseUpdate;if(null!==s){var l=s;do{var u={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};null===a?o=a=u:(a.next=u,a=u),l=l.next}while(null!==l);null===a?o=a=t:(a.next=t,a=t)}else o=a=t;return n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}}var c=n.lastBaseUpdate;null===c?n.firstBaseUpdate=t:c.next=t,n.lastBaseUpdate=t}function vf(e,t,n,r,i,o){switch(n.tag){case 1:var a=n.payload;if("function"==typeof a){Hd();var s=a.call(o,r,i);if(8&e.mode){Kr(!0);try{a.call(o,r,i)}finally{Kr(!1)}}return Gd(),s}return a;case 3:e.flags=-65537&e.flags|er;case sf:var l,u=n.payload;if("function"==typeof u){if(Hd(),l=u.call(o,r,i),8&e.mode){Kr(!0);try{u.call(o,r,i)}finally{Kr(!1)}}Gd()}else l=u;return null==l?r:xe({},r,l);case lf:return uf=!0,r}return r}function mf(e,t,n,r){var i=e.updateQueue;uf=!1,af=i.shared;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;if(null!==c){var d=c.updateQueue,f=d.lastBaseUpdate;f!==a&&(null===f?d.firstBaseUpdate=u:f.next=u,d.lastBaseUpdate=l)}}if(null!==o){for(var h=i.baseState,p=0,g=null,v=null,m=null,y=o;;){var b=y.lane,w=y.eventTime;if(uo(r,b)){if(null!==m){var x={eventTime:w,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null};m=m.next=x}if(h=vf(e,0,y,h,t,n),null!==y.callback&&0!==y.lane){e.flags|=64;var E=i.effects;null===E?i.effects=[y]:E.push(y)}}else{var k={eventTime:w,lane:b,tag:y.tag,payload:y.payload,callback:y.callback,next:null};null===m?(v=m=k,g=h):m=m.next=k,p=co(p,b)}if(null===(y=y.next)){if(null===(s=i.shared.pending))break;var S=s,M=S.next;S.next=null,y=M,i.lastBaseUpdate=S,i.shared.pending=null}}null===m&&(g=h),i.baseState=g,i.firstBaseUpdate=v,i.lastBaseUpdate=m;var T=i.shared.interleaved;if(null!==T){var C=T;do{p=co(p,C.lane),C=C.next}while(C!==T)}else null===o&&(i.shared.lanes=0);Yy(p),e.lanes=p,e.memoizedState=h}af=null}function yf(e,t){if("function"!=typeof e)throw new Error("Invalid argument passed as callback. Expected a function. Instead received: "+e);e.call(t)}function bf(){uf=!1}function wf(){return uf}function xf(e,t,n){var r=t.effects;if(t.effects=null,null!==r)for(var i=0;i<r.length;i++){var o=r[i],a=o.callback;null!==a&&(o.callback=null,yf(a,n))}}of=!1,af=null;var Ef={},kf=Qu(Ef),Sf=Qu(Ef),Mf=Qu(Ef);function Tf(e){if(e===Ef)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function Cf(){return Tf(Mf.current)}function Nf(e,t){Ju(Mf,t,e),Ju(Sf,e,e),Ju(kf,Ef,e);var n=function(e){var t,n,r=e.nodeType;switch(r){case 9:case 11:t=9===r?"#document":"#fragment";var i=e.documentElement;n=i?i.namespaceURI:Dt(null,"");break;default:var o=8===r?e.parentNode:e;n=Dt(o.namespaceURI||null,t=o.tagName)}var a=t.toLowerCase();return{namespace:n,ancestorInfo:Yl(null,a)}}(t);Zu(kf,e),Ju(kf,n,e)}function Pf(e){Zu(kf,e),Zu(Sf,e),Zu(Mf,e)}function Of(){return Tf(kf.current)}function _f(e){Tf(Mf.current);var t,n,r,i=Tf(kf.current),o=(t=i,n=e.type,{namespace:Dt((r=t).namespace,n),ancestorInfo:Yl(r.ancestorInfo,n)});i!==o&&(Ju(Sf,e,e),Ju(kf,o,e))}function Rf(e){Sf.current===e&&(Zu(kf,e),Zu(Sf,e))}var Af=Qu(0);function Df(e,t){return!!(e&t)}function Lf(e){return 1&e}function If(e,t){return 1&e|t}function zf(e,t){Ju(Af,t,e)}function jf(e){Zu(Af,e)}function Ff(e,t){var n=e.memoizedState;return null!==n?null!==n.dehydrated:(e.memoizedProps,!0)}function Bf(e){for(var t=e;null!==t;){if(t.tag===c){var n=t.memoizedState;if(null!==n){var r=n.dehydrated;if(null===r||xu(r)||Eu(r))return t}}else if(t.tag===g&&void 0!==t.memoizedProps.revealOrder){if(t.flags&er)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)return null;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uf=[];function Wf(){for(var e=0;e<Uf.length;e++)Uf[e]._workInProgressVersionPrimary=null;Uf.length=0}function Vf(e,t){var n=(0,t._getVersion)(t._source);null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)}var Hf,Gf,$f=n.ReactCurrentDispatcher,Yf=n.ReactCurrentBatchConfig;Hf=new Set;var qf=0,Kf=null,Xf=null,Qf=null,Zf=!1,Jf=!1,eh=0,th=0,nh=null,rh=null,ih=-1,oh=!1;function ah(){var e=nh;null===rh?rh=[e]:rh.push(e)}function sh(){var e=nh;null!==rh&&(ih++,rh[ih]!==e&&function(e){var t=je(Kf);if(!Hf.has(t)&&(Hf.add(t),null!==rh)){for(var n="",r=30,i=0;i<=ih;i++){for(var a=rh[i],s=i===ih?e:a,l=i+1+". "+a;l.length<r;)l+=" ";n+=l+=s+"\n"}o("React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks\n\n   Previous render            Next render\n   ------------------------------------------------------\n%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n",t,n)}}(e))}function lh(e){null==e||wt(e)||o("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",nh,typeof e)}function uh(){throw new Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.")}function ch(e,t){if(oh)return!1;if(null===t)return o("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",nh),!1;e.length!==t.length&&o("The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\n\nPrevious: %s\nIncoming: %s",nh,"["+t.join(", ")+"]","["+e.join(", ")+"]");for(var n=0;n<t.length&&n<e.length;n++)if(!xs(e[n],t[n]))return!1;return!0}function dh(e,t,n,r,i,a){qf=a,Kf=t,rh=null!==e?e._debugHookTypes:null,ih=-1,oh=null!==e&&e.type!==t.type,t.memoizedState=null,t.updateQueue=null,t.lanes=0,null!==e&&null!==e.memoizedState?$f.current=mp:$f.current=null!==rh?vp:gp;var s=n(r,i);if(Jf){var l=0;do{if(Jf=!1,eh=0,l>=25)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");l+=1,oh=!1,Xf=null,Qf=null,t.updateQueue=null,ih=-1,$f.current=yp,s=n(r,i)}while(Jf)}$f.current=pp,t._debugHookTypes=rh;var u=null!==Xf&&null!==Xf.next;if(qf=0,Kf=null,Xf=null,Qf=null,nh=null,rh=null,ih=-1,null!==e&&(e.flags&wr)!=(t.flags&wr)&&1&e.mode&&o("Internal React error: Expected static flag was missing. Please notify the React team."),Zf=!1,u)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return s}function fh(){var e=0!==eh;return eh=0,e}function hh(e,t,n){t.updateQueue=e.updateQueue,t.mode&ui?t.flags&=-50333701:t.flags&=-2053,e.lanes=fo(e.lanes,n)}function ph(){if($f.current=pp,Zf){for(var e=Kf.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Zf=!1}qf=0,Kf=null,Xf=null,Qf=null,rh=null,ih=-1,nh=null,op=!1,Jf=!1,eh=0}function gh(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qf?Kf.memoizedState=Qf=e:Qf=Qf.next=e,Qf}function vh(){var e,t;if(null===Xf){var n=Kf.alternate;e=null!==n?n.memoizedState:null}else e=Xf.next;if(null!==(t=null===Qf?Kf.memoizedState:Qf.next))t=(Qf=t).next,Xf=e;else{if(null===e)throw new Error("Rendered more hooks than during the previous render.");var r={memoizedState:(Xf=e).memoizedState,baseState:Xf.baseState,baseQueue:Xf.baseQueue,queue:Xf.queue,next:null};null===Qf?Kf.memoizedState=Qf=r:Qf=Qf.next=r}return Qf}function mh(e,t){return"function"==typeof t?t(e):t}function yh(e,t,n){var r,i=gh();r=void 0!==n?n(t):t,i.memoizedState=i.baseState=r;var o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r};i.queue=o;var a=o.dispatch=lp.bind(null,Kf,o);return[i.memoizedState,a]}function bh(e,t,n){var r=vh(),i=r.queue;if(null===i)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");i.lastRenderedReducer=e;var a=Xf,s=a.baseQueue,l=i.pending;if(null!==l){if(null!==s){var u=s.next,c=l.next;s.next=c,l.next=u}a.baseQueue!==s&&o("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),a.baseQueue=s=l,i.pending=null}if(null!==s){var d=s.next,f=a.baseState,h=null,p=null,g=null,v=d;do{var m=v.lane;if(uo(qf,m)){if(null!==g){var y={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};g=g.next=y}f=v.hasEagerState?v.eagerState:e(f,v.action)}else{var b={lane:m,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};null===g?(p=g=b,h=f):g=g.next=b,Kf.lanes=co(Kf.lanes,m),Yy(m)}v=v.next}while(null!==v&&v!==d);null===g?h=f:g.next=p,xs(f,r.memoizedState)||av(),r.memoizedState=f,r.baseState=h,r.baseQueue=g,i.lastRenderedState=f}var w=i.interleaved;if(null!==w){var x=w;do{var E=x.lane;Kf.lanes=co(Kf.lanes,E),Yy(E),x=x.next}while(x!==w)}else null===s&&(i.lanes=0);var k=i.dispatch;return[r.memoizedState,k]}function wh(e,t,n){var r=vh(),i=r.queue;if(null===i)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");i.lastRenderedReducer=e;var o=i.dispatch,a=i.pending,s=r.memoizedState;if(null!==a){i.pending=null;var l=a.next,u=l;do{s=e(s,u.action),u=u.next}while(u!==l);xs(s,r.memoizedState)||av(),r.memoizedState=s,null===r.baseQueue&&(r.baseState=s),i.lastRenderedState=s}return[s,o]}function xh(e,t,n){var r,i=Kf,a=gh();if(ud()){if(void 0===n)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");r=n(),Gf||r!==n()&&(o("The result of getServerSnapshot should be cached to avoid an infinite loop"),Gf=!0)}else{if(r=t(),!Gf){var s=t();xs(r,s)||(o("The result of getSnapshot should be cached to avoid an infinite loop"),Gf=!0)}if(null===Cy())throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");to(0,qf)||kh(i,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Ih(Mh.bind(null,i,l,e),[e]),i.flags|=ir,_h(9,Sh.bind(null,i,l,r,t),void 0,null),r}function Eh(e,t,n){var r=Kf,i=vh(),a=t();if(!Gf){var s=t();xs(a,s)||(o("The result of getSnapshot should be cached to avoid an infinite loop"),Gf=!0)}var l=i.memoizedState,u=!xs(l,a);u&&(i.memoizedState=a,av());var c=i.queue;if(zh(Mh.bind(null,r,c,e),[e]),c.getSnapshot!==t||u||null!==Qf&&1&Qf.memoizedState.tag){if(r.flags|=ir,_h(9,Sh.bind(null,r,c,a,t),void 0,null),null===Cy())throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");to(0,qf)||kh(r,t,a)}return a}function kh(e,t,n){e.flags|=sr;var r={getSnapshot:t,value:n},i=Kf.updateQueue;if(null===i)i={lastEffect:null,stores:null},Kf.updateQueue=i,i.stores=[r];else{var o=i.stores;null===o?i.stores=[r]:o.push(r)}}function Sh(e,t,n,r){t.value=n,t.getSnapshot=r,Th(t)&&Ch(e)}function Mh(e,t,n){return n((function(){Th(t)&&Ch(e)}))}function Th(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!xs(n,r)}catch(e){return!0}}function Ch(e){var t=tf(e,pi);null!==t&&_y(t,e,pi,$i)}function Nh(e){var t=gh();"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e;var n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mh,lastRenderedState:e};t.queue=n;var r=n.dispatch=up.bind(null,Kf,n);return[t.memoizedState,r]}function Ph(e){return bh(mh)}function Oh(e){return wh(mh)}function _h(e,t,n,r){var i={tag:e,create:t,destroy:n,deps:r,next:null},o=Kf.updateQueue;if(null===o)o={lastEffect:null,stores:null},Kf.updateQueue=o,o.lastEffect=i.next=i;else{var a=o.lastEffect;if(null===a)o.lastEffect=i.next=i;else{var s=a.next;a.next=i,i.next=s,o.lastEffect=i}}return i}function Rh(e){var t={current:e};return gh().memoizedState=t,t}function Ah(e){return vh().memoizedState}function Dh(e,t,n,r){var i=gh(),o=void 0===r?null:r;Kf.flags|=e,i.memoizedState=_h(1|t,n,void 0,o)}function Lh(e,t,n,r){var i=vh(),o=void 0===r?null:r,a=void 0;if(null!==Xf){var s=Xf.memoizedState;if(a=s.destroy,null!==o&&ch(o,s.deps))return void(i.memoizedState=_h(t,n,a,o))}Kf.flags|=e,i.memoizedState=_h(1|t,n,a,o)}function Ih(e,t){return Kf.mode&ui?Dh(41945088,8,e,t):Dh(8390656,8,e,t)}function zh(e,t){return Lh(ir,8,e,t)}function jh(e,t){return Dh(4,2,e,t)}function Fh(e,t){return Lh(4,2,e,t)}function Bh(e,t){var n=4;return n|=hr,Kf.mode&ui&&(n|=pr),Dh(n,4,e,t)}function Uh(e,t){return Lh(4,4,e,t)}function Wh(e,t){if("function"==typeof t){var n=t,r=e();return n(r),function(){n(null)}}if(null!=t){var i=t;i.hasOwnProperty("current")||o("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(i).join(", ")+"}");var a=e();return i.current=a,function(){i.current=null}}}function Vh(e,t,n){"function"!=typeof t&&o("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var r=null!=n?n.concat([e]):null,i=4;return i|=hr,Kf.mode&ui&&(i|=pr),Dh(i,4,Wh.bind(null,t,e),r)}function Hh(e,t,n){"function"!=typeof t&&o("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var r=null!=n?n.concat([e]):null;return Lh(4,4,Wh.bind(null,t,e),r)}function Gh(e,t){}var $h=Gh;function Yh(e,t){var n=void 0===t?null:t;return gh().memoizedState=[e,n],e}function qh(e,t){var n=vh(),r=void 0===t?null:t,i=n.memoizedState;return null!==i&&null!==r&&ch(r,i[1])?i[0]:(n.memoizedState=[e,r],e)}function Kh(e,t){var n=gh(),r=void 0===t?null:t,i=e();return n.memoizedState=[i,r],i}function Xh(e,t){var n=vh(),r=void 0===t?null:t,i=n.memoizedState;if(null!==i&&null!==r&&ch(r,i[1]))return i[0];var o=e();return n.memoizedState=[o,r],o}function Qh(e){return gh().memoizedState=e,e}function Zh(e){return ep(vh(),Xf.memoizedState,e)}function Jh(e){var t=vh();return null===Xf?(t.memoizedState=e,e):ep(t,Xf.memoizedState,e)}function ep(e,t,n){if(qf&(pi|vi|yi)){if(!xs(n,t)){var r=ro();Kf.lanes=co(Kf.lanes,r),Yy(r),e.baseState=!0}return t}return e.baseState&&(e.baseState=!1,av()),e.memoizedState=n,n}function tp(e,t,n){var r=Oo();_o(function(e,t){return 0!==e&&e<t?e:t}(r,To)),e(!0);var o=Yf.transition;Yf.transition={};var a=Yf.transition;Yf.transition._updatedFibers=new Set;try{e(!1),t()}finally{_o(r),Yf.transition=o,null===o&&a._updatedFibers&&(a._updatedFibers.size>10&&i("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),a._updatedFibers.clear())}}function np(){var e=Nh(!1),t=e[0],n=e[1],r=tp.bind(null,n);return gh().memoizedState=r,[t,r]}function rp(){return[Ph()[0],vh().memoizedState]}function ip(){return[Oh()[0],vh().memoizedState]}var op=!1;function ap(){var e,t=gh(),n=Cy().identifierPrefix;if(ud()){e=":"+n+"R"+_c();var r=eh++;r>0&&(e+="H"+r.toString(32)),e+=":"}else e=":"+n+"r"+(th++).toString(32)+":";return t.memoizedState=e,e}function sp(){return vh().memoizedState}function lp(e,t,n){"function"==typeof arguments[3]&&o("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var r=Py(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cp(e))dp(t,i);else{var a=ef(e,t,i,r);null!==a&&(_y(a,e,r,Ny()),fp(a,t,r))}hp(e,r)}function up(e,t,n){"function"==typeof arguments[3]&&o("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var r=Py(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cp(e))dp(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)){var s=t.lastRenderedReducer;if(null!==s){var l;l=$f.current,$f.current=wp;try{var u=t.lastRenderedState,c=s(u,n);if(i.hasEagerState=!0,i.eagerState=c,xs(c,u))return void function(e,t,n){var r=t.interleaved;null===r?(n.next=n,Jd(t)):(n.next=r.next,r.next=n),t.interleaved=n}(0,t,i)}catch(e){}finally{$f.current=l}}}var d=ef(e,t,i,r);null!==d&&(_y(d,e,r,Ny()),fp(d,t,r))}hp(e,r)}function cp(e){var t=e.alternate;return e===Kf||null!==t&&t===Kf}function dp(e,t){Jf=Zf=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fp(e,t,n){if(no(n)){var r=t.lanes,i=co(r=ho(r,e.pendingLanes),n);t.lanes=i,mo(e,i)}}function hp(e,t,n){li(e,t)}var pp={readContext:Qd,useCallback:uh,useContext:uh,useEffect:uh,useImperativeHandle:uh,useInsertionEffect:uh,useLayoutEffect:uh,useMemo:uh,useReducer:uh,useRef:uh,useState:uh,useDebugValue:uh,useDeferredValue:uh,useTransition:uh,useMutableSource:uh,useSyncExternalStore:uh,useId:uh,unstable_isNewReconciler:b},gp=null,vp=null,mp=null,yp=null,bp=null,wp=null,xp=null,Ep=function(){o("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},kp=function(){o("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};gp={readContext:function(e){return Qd(e)},useCallback:function(e,t){return nh="useCallback",ah(),lh(t),Yh(e,t)},useContext:function(e){return nh="useContext",ah(),Qd(e)},useEffect:function(e,t){return nh="useEffect",ah(),lh(t),Ih(e,t)},useImperativeHandle:function(e,t,n){return nh="useImperativeHandle",ah(),lh(n),Vh(e,t,n)},useInsertionEffect:function(e,t){return nh="useInsertionEffect",ah(),lh(t),jh(e,t)},useLayoutEffect:function(e,t){return nh="useLayoutEffect",ah(),lh(t),Bh(e,t)},useMemo:function(e,t){nh="useMemo",ah(),lh(t);var n=$f.current;$f.current=bp;try{return Kh(e,t)}finally{$f.current=n}},useReducer:function(e,t,n){nh="useReducer",ah();var r=$f.current;$f.current=bp;try{return yh(e,t,n)}finally{$f.current=r}},useRef:function(e){return nh="useRef",ah(),Rh(e)},useState:function(e){nh="useState",ah();var t=$f.current;$f.current=bp;try{return Nh(e)}finally{$f.current=t}},useDebugValue:function(e,t){nh="useDebugValue",ah()},useDeferredValue:function(e){return nh="useDeferredValue",ah(),Qh(e)},useTransition:function(){return nh="useTransition",ah(),np()},useMutableSource:function(e,t,n){nh="useMutableSource",ah()},useSyncExternalStore:function(e,t,n){return nh="useSyncExternalStore",ah(),xh(e,t,n)},useId:function(){return nh="useId",ah(),ap()},unstable_isNewReconciler:b},vp={readContext:function(e){return Qd(e)},useCallback:function(e,t){return nh="useCallback",sh(),Yh(e,t)},useContext:function(e){return nh="useContext",sh(),Qd(e)},useEffect:function(e,t){return nh="useEffect",sh(),Ih(e,t)},useImperativeHandle:function(e,t,n){return nh="useImperativeHandle",sh(),Vh(e,t,n)},useInsertionEffect:function(e,t){return nh="useInsertionEffect",sh(),jh(e,t)},useLayoutEffect:function(e,t){return nh="useLayoutEffect",sh(),Bh(e,t)},useMemo:function(e,t){nh="useMemo",sh();var n=$f.current;$f.current=bp;try{return Kh(e,t)}finally{$f.current=n}},useReducer:function(e,t,n){nh="useReducer",sh();var r=$f.current;$f.current=bp;try{return yh(e,t,n)}finally{$f.current=r}},useRef:function(e){return nh="useRef",sh(),Rh(e)},useState:function(e){nh="useState",sh();var t=$f.current;$f.current=bp;try{return Nh(e)}finally{$f.current=t}},useDebugValue:function(e,t){nh="useDebugValue",sh()},useDeferredValue:function(e){return nh="useDeferredValue",sh(),Qh(e)},useTransition:function(){return nh="useTransition",sh(),np()},useMutableSource:function(e,t,n){nh="useMutableSource",sh()},useSyncExternalStore:function(e,t,n){return nh="useSyncExternalStore",sh(),xh(e,t,n)},useId:function(){return nh="useId",sh(),ap()},unstable_isNewReconciler:b},mp={readContext:function(e){return Qd(e)},useCallback:function(e,t){return nh="useCallback",sh(),qh(e,t)},useContext:function(e){return nh="useContext",sh(),Qd(e)},useEffect:function(e,t){return nh="useEffect",sh(),zh(e,t)},useImperativeHandle:function(e,t,n){return nh="useImperativeHandle",sh(),Hh(e,t,n)},useInsertionEffect:function(e,t){return nh="useInsertionEffect",sh(),Fh(e,t)},useLayoutEffect:function(e,t){return nh="useLayoutEffect",sh(),Uh(e,t)},useMemo:function(e,t){nh="useMemo",sh();var n=$f.current;$f.current=wp;try{return Xh(e,t)}finally{$f.current=n}},useReducer:function(e,t,n){nh="useReducer",sh();var r=$f.current;$f.current=wp;try{return bh(e)}finally{$f.current=r}},useRef:function(e){return nh="useRef",sh(),Ah()},useState:function(e){nh="useState",sh();var t=$f.current;$f.current=wp;try{return Ph()}finally{$f.current=t}},useDebugValue:function(e,t){return nh="useDebugValue",sh(),$h()},useDeferredValue:function(e){return nh="useDeferredValue",sh(),Zh(e)},useTransition:function(){return nh="useTransition",sh(),rp()},useMutableSource:function(e,t,n){nh="useMutableSource",sh()},useSyncExternalStore:function(e,t,n){return nh="useSyncExternalStore",sh(),Eh(e,t)},useId:function(){return nh="useId",sh(),sp()},unstable_isNewReconciler:b},yp={readContext:function(e){return Qd(e)},useCallback:function(e,t){return nh="useCallback",sh(),qh(e,t)},useContext:function(e){return nh="useContext",sh(),Qd(e)},useEffect:function(e,t){return nh="useEffect",sh(),zh(e,t)},useImperativeHandle:function(e,t,n){return nh="useImperativeHandle",sh(),Hh(e,t,n)},useInsertionEffect:function(e,t){return nh="useInsertionEffect",sh(),Fh(e,t)},useLayoutEffect:function(e,t){return nh="useLayoutEffect",sh(),Uh(e,t)},useMemo:function(e,t){nh="useMemo",sh();var n=$f.current;$f.current=xp;try{return Xh(e,t)}finally{$f.current=n}},useReducer:function(e,t,n){nh="useReducer",sh();var r=$f.current;$f.current=xp;try{return wh(e)}finally{$f.current=r}},useRef:function(e){return nh="useRef",sh(),Ah()},useState:function(e){nh="useState",sh();var t=$f.current;$f.current=xp;try{return Oh()}finally{$f.current=t}},useDebugValue:function(e,t){return nh="useDebugValue",sh(),$h()},useDeferredValue:function(e){return nh="useDeferredValue",sh(),Jh(e)},useTransition:function(){return nh="useTransition",sh(),ip()},useMutableSource:function(e,t,n){nh="useMutableSource",sh()},useSyncExternalStore:function(e,t,n){return nh="useSyncExternalStore",sh(),Eh(e,t)},useId:function(){return nh="useId",sh(),sp()},unstable_isNewReconciler:b},bp={readContext:function(e){return Ep(),Qd(e)},useCallback:function(e,t){return nh="useCallback",kp(),ah(),Yh(e,t)},useContext:function(e){return nh="useContext",kp(),ah(),Qd(e)},useEffect:function(e,t){return nh="useEffect",kp(),ah(),Ih(e,t)},useImperativeHandle:function(e,t,n){return nh="useImperativeHandle",kp(),ah(),Vh(e,t,n)},useInsertionEffect:function(e,t){return nh="useInsertionEffect",kp(),ah(),jh(e,t)},useLayoutEffect:function(e,t){return nh="useLayoutEffect",kp(),ah(),Bh(e,t)},useMemo:function(e,t){nh="useMemo",kp(),ah();var n=$f.current;$f.current=bp;try{return Kh(e,t)}finally{$f.current=n}},useReducer:function(e,t,n){nh="useReducer",kp(),ah();var r=$f.current;$f.current=bp;try{return yh(e,t,n)}finally{$f.current=r}},useRef:function(e){return nh="useRef",kp(),ah(),Rh(e)},useState:function(e){nh="useState",kp(),ah();var t=$f.current;$f.current=bp;try{return Nh(e)}finally{$f.current=t}},useDebugValue:function(e,t){nh="useDebugValue",kp(),ah()},useDeferredValue:function(e){return nh="useDeferredValue",kp(),ah(),Qh(e)},useTransition:function(){return nh="useTransition",kp(),ah(),np()},useMutableSource:function(e,t,n){nh="useMutableSource",kp(),ah()},useSyncExternalStore:function(e,t,n){return nh="useSyncExternalStore",kp(),ah(),xh(e,t,n)},useId:function(){return nh="useId",kp(),ah(),ap()},unstable_isNewReconciler:b},wp={readContext:function(e){return Ep(),Qd(e)},useCallback:function(e,t){return nh="useCallback",kp(),sh(),qh(e,t)},useContext:function(e){return nh="useContext",kp(),sh(),Qd(e)},useEffect:function(e,t){return nh="useEffect",kp(),sh(),zh(e,t)},useImperativeHandle:function(e,t,n){return nh="useImperativeHandle",kp(),sh(),Hh(e,t,n)},useInsertionEffect:function(e,t){return nh="useInsertionEffect",kp(),sh(),Fh(e,t)},useLayoutEffect:function(e,t){return nh="useLayoutEffect",kp(),sh(),Uh(e,t)},useMemo:function(e,t){nh="useMemo",kp(),sh();var n=$f.current;$f.current=wp;try{return Xh(e,t)}finally{$f.current=n}},useReducer:function(e,t,n){nh="useReducer",kp(),sh();var r=$f.current;$f.current=wp;try{return bh(e)}finally{$f.current=r}},useRef:function(e){return nh="useRef",kp(),sh(),Ah()},useState:function(e){nh="useState",kp(),sh();var t=$f.current;$f.current=wp;try{return Ph()}finally{$f.current=t}},useDebugValue:function(e,t){return nh="useDebugValue",kp(),sh(),$h()},useDeferredValue:function(e){return nh="useDeferredValue",kp(),sh(),Zh(e)},useTransition:function(){return nh="useTransition",kp(),sh(),rp()},useMutableSource:function(e,t,n){nh="useMutableSource",kp(),sh()},useSyncExternalStore:function(e,t,n){return nh="useSyncExternalStore",kp(),sh(),Eh(e,t)},useId:function(){return nh="useId",kp(),sh(),sp()},unstable_isNewReconciler:b},xp={readContext:function(e){return Ep(),Qd(e)},useCallback:function(e,t){return nh="useCallback",kp(),sh(),qh(e,t)},useContext:function(e){return nh="useContext",kp(),sh(),Qd(e)},useEffect:function(e,t){return nh="useEffect",kp(),sh(),zh(e,t)},useImperativeHandle:function(e,t,n){return nh="useImperativeHandle",kp(),sh(),Hh(e,t,n)},useInsertionEffect:function(e,t){return nh="useInsertionEffect",kp(),sh(),Fh(e,t)},useLayoutEffect:function(e,t){return nh="useLayoutEffect",kp(),sh(),Uh(e,t)},useMemo:function(e,t){nh="useMemo",kp(),sh();var n=$f.current;$f.current=wp;try{return Xh(e,t)}finally{$f.current=n}},useReducer:function(e,t,n){nh="useReducer",kp(),sh();var r=$f.current;$f.current=wp;try{return wh(e)}finally{$f.current=r}},useRef:function(e){return nh="useRef",kp(),sh(),Ah()},useState:function(e){nh="useState",kp(),sh();var t=$f.current;$f.current=wp;try{return Oh()}finally{$f.current=t}},useDebugValue:function(e,t){return nh="useDebugValue",kp(),sh(),$h()},useDeferredValue:function(e){return nh="useDeferredValue",kp(),sh(),Jh(e)},useTransition:function(){return nh="useTransition",kp(),sh(),ip()},useMutableSource:function(e,t,n){nh="useMutableSource",kp(),sh()},useSyncExternalStore:function(e,t,n){return nh="useSyncExternalStore",kp(),sh(),Eh(e,t)},useId:function(){return nh="useId",kp(),sh(),sp()},unstable_isNewReconciler:b};var Sp=t.unstable_now,Mp=0,Tp=-1,Cp=-1,Np=-1,Pp=!1,Op=!1;function _p(){return Pp}function Rp(){return Mp}function Ap(){Mp=Sp()}function Dp(e){Cp=Sp(),e.actualStartTime<0&&(e.actualStartTime=Sp())}function Lp(e){Cp=-1}function Ip(e,t){if(Cp>=0){var n=Sp()-Cp;e.actualDuration+=n,t&&(e.selfBaseDuration=n),Cp=-1}}function zp(e){if(Tp>=0){var t=Sp()-Tp;Tp=-1;for(var n=e.return;null!==n;){switch(n.tag){case 3:case u:return void(n.stateNode.effectDuration+=t)}n=n.return}}}function jp(e){if(Np>=0){var t=Sp()-Np;Np=-1;for(var n=e.return;null!==n;){switch(n.tag){case 3:var r=n.stateNode;return void(null!==r&&(r.passiveEffectDuration+=t));case u:var i=n.stateNode;return void(null!==i&&(i.passiveEffectDuration+=t))}n=n.return}}}function Fp(){Tp=Sp()}function Bp(){Np=Sp()}function Up(e){for(var t=e.child;t;)e.actualDuration+=t.actualDuration,t=t.sibling}function Wp(e,t){if(e&&e.defaultProps){var n=xe({},t),r=e.defaultProps;for(var i in r)void 0===n[i]&&(n[i]=r[i]);return n}return t}var Vp,Hp,Gp,$p,Yp,qp,Kp,Xp,Qp,Zp,Jp,eg={};Vp=new Set,Hp=new Set,Gp=new Set,$p=new Set,Xp=new Set,Yp=new Set,Qp=new Set,Zp=new Set,Jp=new Set;var tg=new Set;function ng(e,t,n,r){var i=e.memoizedState,o=n(r,i);if(8&e.mode){Kr(!0);try{o=n(r,i)}finally{Kr(!1)}}qp(t,o);var a=null==o?i:xe({},i,o);e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}Kp=function(e,t){if(null!==e&&"function"!=typeof e){var n=t+"_"+e;tg.has(n)||(tg.add(n),o("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e))}},qp=function(e,t){if(void 0===t){var n=Ie(e)||"Component";Yp.has(n)||(Yp.add(n),o("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",n))}},Object.defineProperty(eg,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(eg);var rg={isMounted:function(e){var t=xr.current;if(null!==t&&1===t.tag){var n=t,r=n.stateNode;r._warnedAboutRefsInRender||o("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",je(n)||"A component"),r._warnedAboutRefsInRender=!0}var i=Zn(e);return!!i&&Er(i)===i},enqueueSetState:function(e,t,n){var r=Zn(e),i=Ny(),o=Py(r),a=ff(i,o);a.payload=t,null!=n&&(Kp(n,"setState"),a.callback=n);var s=hf(r,a,o);null!==s&&(_y(s,r,o,i),pf(s,r,o)),li(r,o)},enqueueReplaceState:function(e,t,n){var r=Zn(e),i=Ny(),o=Py(r),a=ff(i,o);a.tag=1,a.payload=t,null!=n&&(Kp(n,"replaceState"),a.callback=n);var s=hf(r,a,o);null!==s&&(_y(s,r,o,i),pf(s,r,o)),li(r,o)},enqueueForceUpdate:function(e,t){var n=Zn(e),r=Ny(),i=Py(n),o=ff(r,i);o.tag=lf,null!=t&&(Kp(t,"forceUpdate"),o.callback=t);var a=hf(n,o,i);null!==a&&(_y(a,n,i,r),pf(a,n,i)),function(e,t){null!==$r&&"function"==typeof $r.markForceUpdateScheduled&&$r.markForceUpdateScheduled(e,t)}(n,i)}};function ig(e,t,n,r,i,a,s){var l=e.stateNode;if("function"==typeof l.shouldComponentUpdate){var u=l.shouldComponentUpdate(r,a,s);if(8&e.mode){Kr(!0);try{u=l.shouldComponentUpdate(r,a,s)}finally{Kr(!1)}}return void 0===u&&o("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",Ie(t)||"Component"),u}return!(t.prototype&&t.prototype.isPureReactComponent&&Es(n,r)&&Es(i,a))}function og(e,t){var n;t.updater=rg,e.stateNode=t,n=e,t._reactInternals=n,t._reactInternalInstance=eg}function ag(e,t,n){var r=!1,i=ec,a=ec,s=t.contextType;if("contextType"in t&&null!==s&&(void 0===s||s.$$typeof!==oe||void 0!==s._context)&&!Zp.has(t)){Zp.add(t);var l="";l=void 0===s?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":"object"!=typeof s?" However, it is set to a "+typeof s+".":s.$$typeof===ie?" Did you accidentally pass the Context.Provider instead?":void 0!==s._context?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(s).join(", ")+"}.",o("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",Ie(t)||"Component",l)}"object"==typeof s&&null!==s?a=Qd(s):(i=ic(0,t,!0),a=(r=null!=t.contextTypes)?ac(e,i):ec);var u=new t(n,a);if(8&e.mode){Kr(!0);try{u=new t(n,a)}finally{Kr(!1)}}var c=e.memoizedState=null!==u.state&&void 0!==u.state?u.state:null;if(og(e,u),"function"==typeof t.getDerivedStateFromProps&&null===c){var d=Ie(t)||"Component";Hp.has(d)||(Hp.add(d),o("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",d,null===u.state?"null":"undefined",d))}if("function"==typeof t.getDerivedStateFromProps||"function"==typeof u.getSnapshotBeforeUpdate){var f=null,h=null,p=null;if("function"==typeof u.componentWillMount&&!0!==u.componentWillMount.__suppressDeprecationWarning?f="componentWillMount":"function"==typeof u.UNSAFE_componentWillMount&&(f="UNSAFE_componentWillMount"),"function"==typeof u.componentWillReceiveProps&&!0!==u.componentWillReceiveProps.__suppressDeprecationWarning?h="componentWillReceiveProps":"function"==typeof u.UNSAFE_componentWillReceiveProps&&(h="UNSAFE_componentWillReceiveProps"),"function"==typeof u.componentWillUpdate&&!0!==u.componentWillUpdate.__suppressDeprecationWarning?p="componentWillUpdate":"function"==typeof u.UNSAFE_componentWillUpdate&&(p="UNSAFE_componentWillUpdate"),null!==f||null!==h||null!==p){var g=Ie(t)||"Component",v="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";$p.has(g)||($p.add(g),o("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://reactjs.org/link/unsafe-component-lifecycles",g,v,null!==f?"\n  "+f:"",null!==h?"\n  "+h:"",null!==p?"\n  "+p:""))}}return r&&oc(e,i,a),u}function sg(e,t,n,r){var i=t.state;if("function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==i){var a=je(e)||"Component";Vp.has(a)||(Vp.add(a),o("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",a)),rg.enqueueReplaceState(t,t.state,null)}}function lg(e,t,n,r){!function(e,t,n){var r=e.stateNode,i=Ie(t)||"Component";r.render||(t.prototype&&"function"==typeof t.prototype.render?o("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",i):o("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",i)),!r.getInitialState||r.getInitialState.isReactClassApproved||r.state||o("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",i),r.getDefaultProps&&!r.getDefaultProps.isReactClassApproved&&o("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",i),r.propTypes&&o("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",i),r.contextType&&o("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",i),!t.childContextTypes||Jp.has(t)||8&e.mode||(Jp.add(t),o("%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead\n\n.Learn more about this warning here: https://reactjs.org/link/legacy-context",i)),!t.contextTypes||Jp.has(t)||8&e.mode||(Jp.add(t),o("%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.\n\nLearn more about this warning here: https://reactjs.org/link/legacy-context",i)),r.contextTypes&&o("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",i),t.contextType&&t.contextTypes&&!Qp.has(t)&&(Qp.add(t),o("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",i)),"function"==typeof r.componentShouldUpdate&&o("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",i),t.prototype&&t.prototype.isPureReactComponent&&void 0!==r.shouldComponentUpdate&&o("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",Ie(t)||"A pure component"),"function"==typeof r.componentDidUnmount&&o("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",i),"function"==typeof r.componentDidReceiveProps&&o("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",i),"function"==typeof r.componentWillRecieveProps&&o("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",i),"function"==typeof r.UNSAFE_componentWillRecieveProps&&o("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",i);var a=r.props!==n;void 0!==r.props&&a&&o("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",i,i),r.defaultProps&&o("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",i,i),"function"!=typeof r.getSnapshotBeforeUpdate||"function"==typeof r.componentDidUpdate||Gp.has(t)||(Gp.add(t),o("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",Ie(t))),"function"==typeof r.getDerivedStateFromProps&&o("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",i),"function"==typeof r.getDerivedStateFromError&&o("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",i),"function"==typeof t.getSnapshotBeforeUpdate&&o("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",i);var s=r.state;s&&("object"!=typeof s||wt(s))&&o("%s.state: must be set to an object or null",i),"function"==typeof r.getChildContext&&"object"!=typeof t.childContextTypes&&o("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",i)}(e,t,n);var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},cf(e);var a=t.contextType;if("object"==typeof a&&null!==a)i.context=Qd(a);else{var s=ic(0,t,!0);i.context=ac(e,s)}if(i.state===n){var l=Ie(t)||"Component";Xp.has(l)||(Xp.add(l),o("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",l))}8&e.mode&&fd.recordLegacyContextWarning(e,i),fd.recordUnsafeLifecycleWarnings(e,i),i.state=e.memoizedState;var u=t.getDerivedStateFromProps;if("function"==typeof u&&(ng(e,t,u,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(function(e,t){var n=t.state;"function"==typeof t.componentWillMount&&t.componentWillMount(),"function"==typeof t.UNSAFE_componentWillMount&&t.UNSAFE_componentWillMount(),n!==t.state&&(o("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",je(e)||"Component"),rg.enqueueReplaceState(t,t.state,null))}(e,i),mf(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount){var c=4;c|=hr,e.mode&ui&&(c|=pr),e.flags|=c}}function ug(e,t){return{value:e,source:t,stack:De(t),digest:null}}function cg(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dg(e,t){try{var n=t.value,r=t.source,i=t.stack,o=null!==i?i:"";if(null!=n&&n._suppressLogging){if(1===e.tag)return;console.error(n)}var a=r?je(r):null,s=(a?"The above error occurred in the <"+a+"> component:":"The above error occurred in one of your React components:")+"\n"+o+"\n\n"+(3===e.tag?"Consider adding an error boundary to your tree to customize error handling behavior.\nVisit https://reactjs.org/link/error-boundaries to learn more about error boundaries.":"React will try to recreate this component tree from scratch using the error boundary you provided, "+(je(e)||"Anonymous")+".");console.error(s)}catch(e){setTimeout((function(){throw e}))}}var fg="function"==typeof WeakMap?WeakMap:Map;function hg(e,t,n){var r=ff($i,n);r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){rb(i),dg(e,t)},r}function pg(e,t,n){var r=ff($i,n);r.tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var a=t.value;r.payload=function(){return i(a)},r.callback=function(){Ob(e),dg(e,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(r.callback=function(){var n;Ob(e),dg(e,t),"function"!=typeof i&&(n=this,null===cy?cy=new Set([n]):cy.add(n));var r=t.value,a=t.stack;this.componentDidCatch(r,{componentStack:null!==a?a:""}),"function"!=typeof i&&(lo(e.lanes,pi)||o("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",je(e)||"Unknown"))}),r}function gg(e,t,n){var r,i=e.pingCache;if(null===i?(i=e.pingCache=new fg,r=new Set,i.set(t,r)):void 0===(r=i.get(t))&&(r=new Set,i.set(t,r)),!r.has(n)){r.add(n);var o=ab.bind(null,e,t,n);qr&&mb(e,n),t.then(o,o)}}function vg(e){var t=e;do{if(t.tag===c&&Ff(t))return t;t=t.return}while(null!==t);return null}function mg(e,t,n,r,i){if(!(1&e.mode)){if(e===t)e.flags|=ur;else{if(e.flags|=er,n.flags|=cr,n.flags&=-52805,1===n.tag)if(null===n.alternate)n.tag=h;else{var o=ff($i,pi);o.tag=lf,hf(n,o,pi)}n.lanes=co(n.lanes,pi)}return e}return e.flags|=ur,e.lanes=i,e}function yg(e,t,n,r,i){if(n.flags|=lr,qr&&mb(e,i),null!==r&&"object"==typeof r&&"function"==typeof r.then){var o=r;!function(e){var t=e.tag;if(!(1&e.mode||0!==t&&t!==l&&t!==f)){var n=e.alternate;n?(e.updateQueue=n.updateQueue,e.memoizedState=n.memoizedState,e.lanes=n.lanes):(e.updateQueue=null,e.memoizedState=null)}}(n),ud()&&1&n.mode&&Hc();var a=vg(t);if(null!==a)return a.flags&=-257,mg(a,t,n,0,i),1&a.mode&&gg(e,o,i),void function(e,t,n){var r=e.updateQueue;if(null===r){var i=new Set;i.add(n),e.updateQueue=i}else r.add(n)}(a,0,o);if(!(i&pi))return gg(e,o,i),void qy();r=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.")}else if(ud()&&1&n.mode){Hc();var s=vg(t);if(null!==s)return s.flags&ur||(s.flags|=tr),mg(s,t,n,0,i),void cd(ug(r,n))}!function(e){qm!==Fm&&(qm=zm),null===Jm?Jm=[e]:Jm.push(e)}(r=ug(r,n));var u=t;do{switch(u.tag){case 3:var c=r;u.flags|=ur;var d=oo(i);return u.lanes=co(u.lanes,d),void gf(u,hg(u,c,d));case 1:var h=r,p=u.type,g=u.stateNode;if(!(u.flags&er||"function"!=typeof p.getDerivedStateFromError&&(null===g||"function"!=typeof g.componentDidCatch||nb(g)))){u.flags|=ur;var v=oo(i);return u.lanes=co(u.lanes,v),void gf(u,pg(u,h,v))}}u=u.return}while(null!==u)}var bg,wg,xg,Eg,kg,Sg,Mg,Tg,Cg,Ng=n.ReactCurrentOwner,Pg=!1;function Og(e,t,n,r){t.child=null===e?Ld(t,null,n,r):Dd(t,e.child,n,r)}function _g(e,t,n,r,i){if(t.type!==t.elementType){var o=n.propTypes;o&&$u(o,r,"prop",Ie(n))}var a,s,l=n.render,u=t.ref;if(Xd(t,i),Jr(t),Ng.current=t,$e(!0),a=dh(e,t,l,r,u,i),s=fh(),8&t.mode){Kr(!0);try{a=dh(e,t,l,r,u,i),s=fh()}finally{Kr(!1)}}return $e(!1),ei(),null===e||Pg?(ud()&&s&&Dc(t),t.flags|=1,Og(e,t,a,i),t.child):(hh(e,t,i),lv(e,t,i))}function Rg(e,t,n,r,i){if(null===e){var a,s=n.type;if(function(e){return"function"==typeof e&&!Bb(e)&&void 0===e.defaultProps}(s)&&null===n.compare&&void 0===n.defaultProps)return a=Tb(s),t.tag=f,t.type=a,Wg(t,s),Ag(e,t,a,r,i);var l=s.propTypes;if(l&&$u(l,r,"prop",Ie(s)),void 0!==n.defaultProps){var u=Ie(s)||"Unknown";Cg[u]||(o("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",u),Cg[u]=!0)}var c=Vb(n.type,null,r,t,t.mode,i);return c.ref=t.ref,c.return=t,t.child=c,c}var d=n.type,h=d.propTypes;h&&$u(h,r,"prop",Ie(d));var p=e.child;if(!uv(e,i)){var g=p.memoizedProps,v=n.compare;if((v=null!==v?v:Es)(g,r)&&e.ref===t.ref)return lv(e,t,i)}t.flags|=1;var m=Ub(p,r);return m.ref=t.ref,m.return=t,t.child=m,m}function Ag(e,t,n,r,i){if(t.type!==t.elementType){var o=t.elementType;if(o.$$typeof===ce){var a=o,s=a._payload,l=a._init;try{o=l(s)}catch(e){o=null}var u=o&&o.propTypes;u&&$u(u,r,"prop",Ie(o))}}if(null!==e){var c=e.memoizedProps;if(Es(c,r)&&e.ref===t.ref&&t.type===e.type){if(Pg=!1,t.pendingProps=r=c,!uv(e,i))return t.lanes=e.lanes,lv(e,t,i);e.flags&cr&&(Pg=!0)}}return Ig(e,t,n,r,i)}function Dg(e,t,n){var r,i=t.pendingProps,o=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(1&t.mode){if(!lo(n,Hi)){var s;s=null!==a?co(a.baseLanes,n):n,t.lanes=t.childLanes=Hi;var l={baseLanes:s,cachePool:null,transitions:null};return t.memoizedState=l,t.updateQueue=null,Uy(t,s),null}var u={baseLanes:0,cachePool:null,transitions:null};t.memoizedState=u,Uy(t,null!==a?a.baseLanes:n)}else{var c={baseLanes:0,cachePool:null,transitions:null};t.memoizedState=c,Uy(t,n)}else null!==a?(r=co(a.baseLanes,n),t.memoizedState=null):r=n,Uy(t,r);return Og(e,t,o,n),t.child}function Lg(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=nr,t.flags|=fr)}function Ig(e,t,n,r,i){if(t.type!==t.elementType){var o=n.propTypes;o&&$u(o,r,"prop",Ie(n))}var a,s,l;if(a=ac(t,ic(0,n,!0)),Xd(t,i),Jr(t),Ng.current=t,$e(!0),s=dh(e,t,n,r,a,i),l=fh(),8&t.mode){Kr(!0);try{s=dh(e,t,n,r,a,i),l=fh()}finally{Kr(!1)}}return $e(!1),ei(),null===e||Pg?(ud()&&l&&Dc(t),t.flags|=1,Og(e,t,s,i),t.child):(hh(e,t,i),lv(e,t,i))}function zg(e,t,n,r,i){switch(bw(t)){case!1:var a=t.stateNode,s=new(0,t.type)(t.memoizedProps,a.context).state;a.updater.enqueueSetState(a,s,null);break;case!0:t.flags|=er,t.flags|=ur;var l=new Error("Simulated error coming from DevTools"),u=oo(i);t.lanes=co(t.lanes,u),gf(t,pg(t,ug(l,t),u))}if(t.type!==t.elementType){var c=n.propTypes;c&&$u(c,r,"prop",Ie(n))}var d,f;lc(n)?(d=!0,hc(t)):d=!1,Xd(t,i),null===t.stateNode?(sv(e,t),ag(t,n,r),lg(t,n,r,i),f=!0):f=null===e?function(e,t,n,r){var i=e.stateNode,o=e.memoizedProps;i.props=o;var a=i.context,s=t.contextType,l=ec;l="object"==typeof s&&null!==s?Qd(s):ac(e,ic(0,t,!0));var u=t.getDerivedStateFromProps,c="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;c||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||o===n&&a===l||sg(e,i,n,l),bf();var d=e.memoizedState,f=i.state=d;if(mf(e,n,i,r),f=e.memoizedState,o===n&&d===f&&!sc()&&!wf()){if("function"==typeof i.componentDidMount){var h=4;h|=hr,e.mode&ui&&(h|=pr),e.flags|=h}return!1}"function"==typeof u&&(ng(e,t,u,n),f=e.memoizedState);var p=wf()||ig(e,t,o,n,d,f,l);if(p){if(c||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount){var g=4;g|=hr,e.mode&ui&&(g|=pr),e.flags|=g}}else{if("function"==typeof i.componentDidMount){var v=4;v|=hr,e.mode&ui&&(v|=pr),e.flags|=v}e.memoizedProps=n,e.memoizedState=f}return i.props=n,i.state=f,i.context=l,p}(t,n,r,i):function(e,t,n,r,i){var o=t.stateNode;df(e,t);var a=t.memoizedProps,s=t.type===t.elementType?a:Wp(t.type,a);o.props=s;var l=t.pendingProps,u=o.context,c=n.contextType,d=ec;d="object"==typeof c&&null!==c?Qd(c):ac(t,ic(0,n,!0));var f=n.getDerivedStateFromProps,h="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||a===l&&u===d||sg(t,o,r,d),bf();var p=t.memoizedState,g=o.state=p;if(mf(t,r,o,i),g=t.memoizedState,a===l&&p===g&&!sc()&&!wf())return"function"==typeof o.componentDidUpdate&&(a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4)),"function"==typeof o.getSnapshotBeforeUpdate&&(a===e.memoizedProps&&p===e.memoizedState||(t.flags|=rr)),!1;"function"==typeof f&&(ng(t,n,f,r),g=t.memoizedState);var v=wf()||ig(t,n,s,r,p,g,d)||w;return v?(h||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,g,d),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,g,d)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=rr)):("function"==typeof o.componentDidUpdate&&(a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4)),"function"==typeof o.getSnapshotBeforeUpdate&&(a===e.memoizedProps&&p===e.memoizedState||(t.flags|=rr)),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=d,v}(e,t,n,r,i);var h=jg(e,t,n,f,d,i),p=t.stateNode;return f&&p.props!==r&&(Sg||o("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",je(t)||"a component"),Sg=!0),h}function jg(e,t,n,r,i,o){Lg(e,t);var a=!!(t.flags&er);if(!r&&!a)return i&&pc(t,n,!1),lv(e,t,o);var s,l=t.stateNode;if(Ng.current=t,a&&"function"!=typeof n.getDerivedStateFromError)s=null,Lp();else{if(Jr(t),$e(!0),s=l.render(),8&t.mode){Kr(!0);try{l.render()}finally{Kr(!1)}}$e(!1),ei()}return t.flags|=1,null!==e&&a?function(e,t,n,r){t.child=Dd(t,e.child,null,r),t.child=Dd(t,null,n,r)}(e,t,s,o):Og(e,t,s,o),t.memoizedState=l.state,i&&pc(t,n,!0),t.child}function Fg(e){var t=e.stateNode;t.pendingContext?dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dc(e,t.context,!1),Nf(e,t.containerInfo)}function Bg(e,t,n,r,i){return sd(),cd(i),t.flags|=tr,Og(e,t,n,r),t.child}function Ug(e,t,n,r){sv(e,t);var i=t.pendingProps,o=n,a=o._payload,s=(0,o._init)(a);t.type=s;var u=t.tag=function(e){if("function"==typeof e)return Bb(e)?1:0;if(null!=e){var t=e.$$typeof;if(t===ae)return l;if(t===ue)return d}return 2}(s),c=Wp(s,i);switch(u){case 0:return Wg(t,s),t.type=s=Tb(s),Ig(null,t,s,c,r);case 1:return t.type=s=Cb(s),zg(null,t,s,c,r);case l:return t.type=s=Nb(s),_g(null,t,s,c,r);case d:if(t.type!==t.elementType){var f=s.propTypes;f&&$u(f,c,"prop",Ie(s))}return Rg(null,t,s,Wp(s.type,c),r)}var h="";throw null!==s&&"object"==typeof s&&s.$$typeof===ce&&(h=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+s+". Lazy element type must resolve to a class or function."+h)}function Wg(e,t){if(t&&t.childContextTypes&&o("%s(...): childContextTypes cannot be defined on a function component.",t.displayName||t.name||"Component"),null!==e.ref){var n="",r=We();r&&(n+="\n\nCheck the render method of `"+r+"`.");var i=r||"",a=e._debugSource;a&&(i=a.fileName+":"+a.lineNumber),kg[i]||(kg[i]=!0,o("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",n))}if(void 0!==t.defaultProps){var s=Ie(t)||"Unknown";Cg[s]||(o("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",s),Cg[s]=!0)}if("function"==typeof t.getDerivedStateFromProps){var l=Ie(t)||"Unknown";Eg[l]||(o("%s: Function components do not support getDerivedStateFromProps.",l),Eg[l]=!0)}if("object"==typeof t.contextType&&null!==t.contextType){var u=Ie(t)||"Unknown";xg[u]||(o("%s: Function components do not support contextType.",u),xg[u]=!0)}}bg={},wg={},xg={},Eg={},kg={},Sg=!1,Mg={},Tg={},Cg={};var Vg={dehydrated:null,treeContext:null,retryLane:0};function Hg(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gg(e,t,n){var r=t.pendingProps;ww(t)&&(t.flags|=er);var i=Af.current,a=!1,s=!!(t.flags&er);if(s||function(e,t){return(null===t||null!==t.memoizedState)&&Df(e,2)}(i,e)?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),zf(t,i=Lf(i)),null===e){ed(t);var l=t.memoizedState;if(null!==l){var u=l.dehydrated;if(null!==u)return function(e,t){return 1&e.mode?Eu(t)?e.lanes=mi:e.lanes=Hi:(o("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),e.lanes=pi),null}(t,u)}var c=r.children,d=r.fallback;if(a){var f=function(e,t,n,r){var i,o,a=e.mode,s=e.child,l={mode:"hidden",children:t};return 1&a||null===s?(i=Yg(l,a),o=Gb(n,a,r,null)):((i=s).childLanes=0,i.pendingProps=l,2&e.mode&&(i.actualDuration=0,i.actualStartTime=-1,i.selfBaseDuration=0,i.treeBaseDuration=0),o=Gb(n,a,r,null)),i.return=e,o.return=e,i.sibling=o,e.child=i,o}(t,c,d,n);return t.child.memoizedState=Hg(n),t.memoizedState=Vg,f}return $g(t,c)}var h=e.memoizedState;if(null!==h){var p=h.dehydrated;if(null!==p)return function(e,t,n,r,i,o,a){if(n){if(t.flags&tr)return t.flags&=-257,Kg(e,t,a,cg(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering.")));if(null!==t.memoizedState)return t.child=e.child,t.flags|=er,null;var s=function(e,t,n,r,i){var o=t.mode,a=Yg({mode:"visible",children:n},o),s=Gb(r,o,i,null);return s.flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,!(1&t.mode)||Dd(t,e.child,null,i),s}(e,t,r.children,r.fallback,a);return t.child.memoizedState=Hg(a),t.memoizedState=Vg,s}if(Vc(),!(1&t.mode))return Kg(e,t,a,null);if(Eu(i)){var l,u,c,d=function(e){var t,n,r,i=e.nextSibling&&e.nextSibling.dataset;return i&&(t=i.dgst,n=i.msg,r=i.stck),{message:n,digest:t,stack:r}}(i);return l=d.digest,u=d.message,c=d.stack,Kg(e,t,a,cg(u?new Error(u):new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),l,c))}var f=lo(a,e.childLanes);if(Pg||f){var h=Cy();if(null!==h){var p=function(e,t){var n;switch(io(t)){case vi:n=gi;break;case yi:n=mi;break;case 64:case 128:case 256:case 512:case xi:case Ei:case ki:case Si:case Mi:case Ti:case Ci:case Ni:case Pi:case Oi:case _i:case Ri:case Di:case Li:case Ii:case zi:case ji:n=bi;break;case Vi:n=Wi;break;default:n=0}return n&(e.suspendedLanes|t)?0:n}(h,a);if(0!==p&&p!==o.retryLane){o.retryLane=p;var g=$i;tf(e,p),_y(h,e,p,g)}}return qy(),Kg(e,t,a,cg(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition.")))}if(xu(i))return t.flags|=er,t.child=e.child,v=lb.bind(null,e),i._reactRetry=v,null;$c(t,i,o.treeContext);var v,m=$g(t,r.children);return m.flags|=or,m}(e,t,s,r,p,h,n)}if(a){var g=r.fallback,v=function(e,t,n,r,i){var o,a,s=t.mode,l=e.child,u=l.sibling,c={mode:"hidden",children:n};return 1&s||t.child===l?(o=qg(l,c)).subtreeFlags=l.subtreeFlags&wr:((o=t.child).childLanes=0,o.pendingProps=c,2&t.mode&&(o.actualDuration=0,o.actualStartTime=-1,o.selfBaseDuration=l.selfBaseDuration,o.treeBaseDuration=l.treeBaseDuration),t.deletions=null),null!==u?a=Ub(u,r):(a=Gb(r,s,i,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,a}(e,t,r.children,g,n),m=t.child,y=e.child.memoizedState;return m.memoizedState=null===y?Hg(n):function(e,t){return{baseLanes:co(e.baseLanes,t),cachePool:null,transitions:e.transitions}}(y,n),m.childLanes=function(e,t){return fo(e.childLanes,t)}(e,n),t.memoizedState=Vg,v}var b=function(e,t,n,r){var i=e.child,o=i.sibling,a=qg(i,{mode:"visible",children:n});if(1&t.mode||(a.lanes=r),a.return=t,a.sibling=null,null!==o){var s=t.deletions;null===s?(t.deletions=[o],t.flags|=Jn):s.push(o)}return t.child=a,a}(e,t,r.children,n);return t.memoizedState=null,b}function $g(e,t,n){var r=Yg({mode:"visible",children:t},e.mode);return r.return=e,e.child=r,r}function Yg(e,t,n){return $b(e,t,0,null)}function qg(e,t){return Ub(e,t)}function Kg(e,t,n,r){null!==r&&cd(r),Dd(t,e.child,null,n);var i=$g(t,t.pendingProps.children);return i.flags|=2,t.memoizedState=null,i}function Xg(e,t,n){e.lanes=co(e.lanes,t);var r=e.alternate;null!==r&&(r.lanes=co(r.lanes,t)),qd(e.return,t,n)}function Qg(e,t){var n=wt(e),r=!n&&"function"==typeof he(e);if(n||r){var i=n?"array":"iterable";return o("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",i,t,i),!1}return!0}function Zg(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Jg(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail,s=r.children;!function(e){if(void 0!==e&&"forwards"!==e&&"backwards"!==e&&"together"!==e&&!Mg[e])if(Mg[e]=!0,"string"==typeof e)switch(e.toLowerCase()){case"together":case"forwards":case"backwards":o('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',e,e.toLowerCase());break;case"forward":case"backward":o('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',e,e.toLowerCase());break;default:o('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}else o('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}(i),function(e,t){void 0===e||Tg[e]||("collapsed"!==e&&"hidden"!==e?(Tg[e]=!0,o('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',e)):"forwards"!==t&&"backwards"!==t&&(Tg[e]=!0,o('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',e)))}(a,i),function(e,t){if(("forwards"===t||"backwards"===t)&&null!=e&&!1!==e)if(wt(e)){for(var n=0;n<e.length;n++)if(!Qg(e[n],n))return}else{var r=he(e);if("function"==typeof r){var i=r.call(e);if(i)for(var a=i.next(),s=0;!a.done;a=i.next()){if(!Qg(a.value,s))return;s++}}else o('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',t)}}(s,i),Og(e,t,s,n);var l=Af.current;if(Df(l,2)?(l=If(l,2),t.flags|=er):(null!==e&&!!(e.flags&er)&&function(e,t,n){for(var r=t;null!==r;){if(r.tag===c)null!==r.memoizedState&&Xg(r,n,e);else if(r.tag===g)Xg(r,n,e);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)return;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}(t,t.child,n),l=Lf(l)),zf(t,l),1&t.mode)switch(i){case"forwards":var u,d=function(e){for(var t=e,n=null;null!==t;){var r=t.alternate;null!==r&&null===Bf(r)&&(n=t),t=t.sibling}return n}(t.child);null===d?(u=t.child,t.child=null):(u=d.sibling,d.sibling=null),Zg(t,!1,u,d,a);break;case"backwards":var f=null,h=t.child;for(t.child=null;null!==h;){var p=h.alternate;if(null!==p&&null===Bf(p)){t.child=h;break}var v=h.sibling;h.sibling=f,f=h,h=v}Zg(t,!0,f,null,a);break;case"together":Zg(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}var ev,tv,nv,rv,iv=!1,ov=!1;function av(){Pg=!0}function sv(e,t){1&t.mode||null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lv(e,t,n){return null!==e&&(t.dependencies=e.dependencies),Lp(),Yy(t.lanes),lo(n,t.childLanes)?(function(e,t){if(null!==e&&t.child!==e.child)throw new Error("Resuming work not yet implemented.");if(null!==t.child){var n=t.child,r=Ub(n,n.pendingProps);for(t.child=r,r.return=t;null!==n.sibling;)n=n.sibling,(r=r.sibling=Ub(n,n.pendingProps)).return=t;r.sibling=null}}(e,t),t.child):null}function uv(e,t){return!!lo(e.lanes,t)}function cv(e,t,n){if(t._debugNeedsRemount&&null!==e)return function(e,t,n){var r=t.return;if(null===r)throw new Error("Cannot swap the root fiber.");if(e.alternate=null,t.alternate=null,n.index=t.index,n.sibling=t.sibling,n.return=t.return,n.ref=t.ref,t===r.child)r.child=n;else{var i=r.child;if(null===i)throw new Error("Expected parent to have a child.");for(;i.sibling!==t;)if(null===(i=i.sibling))throw new Error("Expected to find the previous sibling.");i.sibling=n}var o=r.deletions;return null===o?(r.deletions=[e],r.flags|=Jn):o.push(e),n.flags|=2,n}(e,t,Vb(t.type,t.key,t.pendingProps,t._debugOwner||null,t.mode,t.lanes));if(null!==e)if(e.memoizedProps!==t.pendingProps||sc()||t.type!==e.type)Pg=!0;else{if(!(uv(e,n)||t.flags&er))return Pg=!1,function(e,t,n){switch(t.tag){case 3:Fg(t),t.stateNode,sd();break;case 5:_f(t);break;case 1:lc(t.type)&&hc(t);break;case 4:Nf(t,t.stateNode.containerInfo);break;case s:var r=t.memoizedProps.value;$d(t,t.type._context,r);break;case u:lo(n,t.childLanes)&&(t.flags|=4);var i=t.stateNode;i.effectDuration=0,i.passiveEffectDuration=0;break;case c:var o=t.memoizedState;if(null!==o){if(null!==o.dehydrated)return zf(t,Lf(Af.current)),t.flags|=er,null;if(lo(n,t.child.childLanes))return Gg(e,t,n);zf(t,Lf(Af.current));var a=lv(e,t,n);return null!==a?a.sibling:null}zf(t,Lf(Af.current));break;case g:var l=!!(e.flags&er),d=lo(n,t.childLanes);if(l){if(d)return Jg(e,t,n);t.flags|=er}var f=t.memoizedState;if(null!==f&&(f.rendering=null,f.tail=null,f.lastEffect=null),zf(t,Af.current),d)break;return null;case m:case y:return t.lanes=0,Dg(e,t,n)}return lv(e,t,n)}(e,t,n);Pg=!!(e.flags&cr)}else if(Pg=!1,ud()&&function(e){return zc(),!!(e.flags&dr)}(t)){var r=t.index;Ac(t,(zc(),Mc),r)}switch(t.lanes=0,t.tag){case 2:return function(e,t,n,r){sv(e,t);var i,a,s,l=t.pendingProps;if(i=ac(t,ic(0,n,!1)),Xd(t,r),Jr(t),n.prototype&&"function"==typeof n.prototype.render){var u=Ie(n)||"Unknown";bg[u]||(o("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",u,u),bg[u]=!0)}if(8&t.mode&&fd.recordLegacyContextWarning(t,null),$e(!0),Ng.current=t,a=dh(null,t,n,l,i,r),s=fh(),$e(!1),ei(),t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){var c=Ie(n)||"Unknown";wg[c]||(o("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",c,c,c),wg[c]=!0)}if("object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){var d=Ie(n)||"Unknown";wg[d]||(o("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",d,d,d),wg[d]=!0),t.tag=1,t.memoizedState=null,t.updateQueue=null;var f=!1;return lc(n)?(f=!0,hc(t)):f=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,cf(t),og(t,a),lg(t,n,l,r),jg(null,t,n,!0,f,r)}if(t.tag=0,8&t.mode){Kr(!0);try{a=dh(null,t,n,l,i,r),s=fh()}finally{Kr(!1)}}return ud()&&s&&Dc(t),Og(null,t,a,r),Wg(t,n),t.child}(e,t,t.type,n);case 16:return Ug(e,t,t.elementType,n);case 0:var i=t.type,a=t.pendingProps;return Ig(e,t,i,t.elementType===i?a:Wp(i,a),n);case 1:var p=t.type,b=t.pendingProps;return zg(e,t,p,t.elementType===p?b:Wp(p,b),n);case 3:return function(e,t,n){if(Fg(t),null===e)throw new Error("Should have a current fiber. This is a bug in React.");var r=t.pendingProps,i=t.memoizedState,o=i.element;df(e,t),mf(t,r,null,n);var a=t.memoizedState;t.stateNode;var s=a.element;if(i.isDehydrated){var l={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions};if(t.updateQueue.baseState=l,t.memoizedState=l,t.flags&tr)return Bg(e,t,s,n,ug(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),t));if(s!==o)return Bg(e,t,s,n,ug(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),t));Gc(t);var u=Ld(t,null,s,n);t.child=u;for(var c=u;c;)c.flags=-3&c.flags|or,c=c.sibling}else{if(sd(),s===o)return lv(e,t,n);Og(e,t,s,n)}return t.child}(e,t,n);case 5:return function(e,t,n){_f(t),null===e&&ed(t);var r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children;return uu(r,i)?a=null:null!==o&&uu(r,o)&&(t.flags|=32),Lg(e,t),Og(e,t,a,n),t.child}(e,t,n);case 6:return function(e,t){return null===e&&ed(t),null}(e,t);case c:return Gg(e,t,n);case 4:return function(e,t,n){Nf(t,t.stateNode.containerInfo);var r=t.pendingProps;return null===e?t.child=Dd(t,null,r,n):Og(e,t,r,n),t.child}(e,t,n);case l:var w=t.type,x=t.pendingProps;return _g(e,t,w,t.elementType===w?x:Wp(w,x),n);case 7:return function(e,t,n){return Og(e,t,t.pendingProps,n),t.child}(e,t,n);case 8:return function(e,t,n){return Og(e,t,t.pendingProps.children,n),t.child}(e,t,n);case u:return function(e,t,n){t.flags|=4;var r=t.stateNode;return r.effectDuration=0,r.passiveEffectDuration=0,Og(e,t,t.pendingProps.children,n),t.child}(e,t,n);case s:return function(e,t,n){var r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value;"value"in i||iv||(iv=!0,o("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var l=t.type.propTypes;if(l&&$u(l,i,"prop","Context.Provider"),$d(t,r,s),null!==a){var u=a.value;if(xs(u,s)){if(a.children===i.children&&!sc())return lv(e,t,n)}else Kd(t,r,n)}return Og(e,t,i.children,n),t.child}(e,t,n);case 9:return function(e,t,n){var r=t.type;void 0===r._context?r!==r.Consumer&&(ov||(ov=!0,o("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):r=r._context;var i=t.pendingProps.children;"function"!=typeof i&&o("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Xd(t,n);var a,s=Qd(r);return Jr(t),Ng.current=t,$e(!0),a=i(s),$e(!1),ei(),t.flags|=1,Og(e,t,a,n),t.child}(e,t,n);case d:var E=t.type,k=Wp(E,t.pendingProps);if(t.type!==t.elementType){var S=E.propTypes;S&&$u(S,k,"prop",Ie(E))}return Rg(e,t,E,k=Wp(E.type,k),n);case f:return Ag(e,t,t.type,t.pendingProps,n);case h:var M=t.type,T=t.pendingProps;return function(e,t,n,r,i){var o;return sv(e,t),t.tag=1,lc(n)?(o=!0,hc(t)):o=!1,Xd(t,i),ag(t,n,r),lg(t,n,r,i),jg(null,t,n,!0,o,i)}(e,t,M,t.elementType===M?T:Wp(M,T),n);case g:return Jg(e,t,n);case v:break;case m:return Dg(e,t,n)}throw new Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function dv(e){e.flags|=4}function fv(e){e.flags|=nr,e.flags|=fr}function hv(e,t){if(!ud())switch(e.tailMode){case"hidden":for(var n=e.tail,r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":for(var i=e.tail,o=null;null!==i;)null!==i.alternate&&(o=i),i=i.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function pv(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t){if(2&e.mode){for(var i=e.selfBaseDuration,o=e.child;null!==o;)n=co(n,co(o.lanes,o.childLanes)),r|=o.subtreeFlags&wr,r|=o.flags&wr,i+=o.treeBaseDuration,o=o.sibling;e.treeBaseDuration=i}else for(var a=e.child;null!==a;)n=co(n,co(a.lanes,a.childLanes)),r|=a.subtreeFlags&wr,r|=a.flags&wr,a.return=e,a=a.sibling;e.subtreeFlags|=r}else{if(2&e.mode){for(var s=e.actualDuration,l=e.selfBaseDuration,u=e.child;null!==u;)n=co(n,co(u.lanes,u.childLanes)),r|=u.subtreeFlags,r|=u.flags,s+=u.actualDuration,l+=u.treeBaseDuration,u=u.sibling;e.actualDuration=s,e.treeBaseDuration=l}else for(var c=e.child;null!==c;)n=co(n,co(c.lanes,c.childLanes)),r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;e.subtreeFlags|=r}return e.childLanes=n,t}function gv(e,t,n){if(Bc&&null!==Fc&&1&t.mode&&!(t.flags&er))return ad(t),sd(),t.flags|=98560,!1;var r=od(t);if(null!==n&&null!==n.dehydrated){if(null===e){if(!r)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(nd(t),pv(t),2&t.mode&&null!==n){var i=t.child;null!==i&&(t.treeBaseDuration-=i.treeBaseDuration)}return!1}if(sd(),t.flags&er||(t.memoizedState=null),t.flags|=4,pv(t),2&t.mode&&null!==n){var o=t.child;null!==o&&(t.treeBaseDuration-=o.treeBaseDuration)}return!1}return ld(),!0}function vv(e,t,n){var r=t.pendingProps;switch(Ic(t),t.tag){case 2:case 16:case f:case 0:case l:case 7:case 8:case u:case 9:case d:return pv(t),null;case 1:return lc(t.type)&&uc(t),pv(t),null;case 3:var i=t.stateNode;return Pf(t),cc(t),Wf(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===e||null===e.child)&&(od(t)?dv(t):null!==e&&(!e.memoizedState.isDehydrated||t.flags&tr)&&(t.flags|=rr,ld())),tv(e,t),pv(t),null;case 5:Rf(t);var o=Cf(),a=t.type;if(null!==e&&null!=t.stateNode)nv(e,t,a,r,o),e.ref!==t.ref&&fv(t);else{if(!r){if(null===t.stateNode)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return pv(t),null}var p=Of();if(od(t))(function(e,t,n){var r=e.stateNode,i=!Uc,o=Mu(r,e.type,e.memoizedProps,0,n,e,i);return e.updateQueue=o,null!==o})(t,0,p)&&dv(t);else{var b=lu(a,r,o,p,t);ev(b,t,!1,!1),t.stateNode=b,function(e,t,n){switch(Fl(e,t,n),t){case"button":case"input":case"select":case"textarea":return!!n.autoFocus;case"img":return!0;default:return!1}}(b,a,r)&&dv(t)}null!==t.ref&&fv(t)}return pv(t),null;case 6:var w=r;if(e&&null!=t.stateNode){var x=e.memoizedProps;rv(e,t,x,w)}else{if("string"!=typeof w&&null===t.stateNode)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var E=Cf(),k=Of();od(t)?td(t)&&dv(t):t.stateNode=cu(w,E,k,t)}return pv(t),null;case c:jf(t);var S=t.memoizedState;if((null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated)&&!gv(e,t,S))return t.flags&ur?t:null;if(t.flags&er)return t.lanes=n,2&t.mode&&Up(t),t;var M=null!==S;if(M!==(null!==e&&null!==e.memoizedState)&&M&&(t.child.flags|=ar,1&t.mode&&(null===e&&(t.memoizedProps.unstable_avoidThisFallback,1)||Df(Af.current,1)?qm===Lm&&(qm=jm):qy())),null!==t.updateQueue&&(t.flags|=4),pv(t),2&t.mode&&M){var T=t.child;null!==T&&(t.treeBaseDuration-=T.treeBaseDuration)}return null;case 4:return Pf(t),tv(e,t),null===e&&ul(t.stateNode.containerInfo),pv(t),null;case s:return Yd(t.type._context,t),pv(t),null;case h:return lc(t.type)&&uc(t),pv(t),null;case g:jf(t);var C=t.memoizedState;if(null===C)return pv(t),null;var N=!!(t.flags&er),P=C.rendering;if(null===P)if(N)hv(C,!1);else{if(qm!==Lm||null!==e&&e.flags&er)for(var O=t.child;null!==O;){var _=Bf(O);if(null!==_){N=!0,t.flags|=er,hv(C,!1);var R=_.updateQueue;return null!==R&&(t.updateQueue=R,t.flags|=4),t.subtreeFlags=0,Id(t,n),zf(t,If(Af.current,2)),t.child}O=O.sibling}null!==C.tail&&Lr()>sy()&&(t.flags|=er,N=!0,hv(C,!1),t.lanes=Fi)}else{if(!N){var A=Bf(P);if(null!==A){t.flags|=er,N=!0;var D=A.updateQueue;if(null!==D&&(t.updateQueue=D,t.flags|=4),hv(C,!0),null===C.tail&&"hidden"===C.tailMode&&!P.alternate&&!ud())return pv(t),null}else 2*Lr()-C.renderingStartTime>sy()&&n!==Hi&&(t.flags|=er,N=!0,hv(C,!1),t.lanes=Fi)}if(C.isBackwards)P.sibling=t.child,t.child=P;else{var L=C.last;null!==L?L.sibling=P:t.child=P,C.last=P}}if(null!==C.tail){var I=C.tail;C.rendering=I,C.tail=I.sibling,C.renderingStartTime=Lr(),I.sibling=null;var z=Af.current;return zf(t,z=N?If(z,2):Lf(z)),I}return pv(t),null;case v:break;case m:case y:Wy(t);var j=null!==t.memoizedState;return null!==e&&null!==e.memoizedState!==j&&(t.flags|=ar),j&&1&t.mode?lo($m,Hi)&&(pv(t),6&t.subtreeFlags&&(t.flags|=ar)):pv(t),null;case 24:case 25:return null}throw new Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function mv(e,t,n){switch(Ic(t),t.tag){case 1:lc(t.type)&&uc(t);var r=t.flags;return r&ur?(t.flags=-65537&r|er,2&t.mode&&Up(t),t):null;case 3:t.stateNode,Pf(t),cc(t),Wf();var i=t.flags;return i&ur&&!(i&er)?(t.flags=-65537&i|er,t):null;case 5:return Rf(t),null;case c:jf(t);var o=t.memoizedState;if(null!==o&&null!==o.dehydrated){if(null===t.alternate)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");sd()}var a=t.flags;return a&ur?(t.flags=-65537&a|er,2&t.mode&&Up(t),t):null;case g:return jf(t),null;case 4:return Pf(t),null;case s:return Yd(t.type._context,t),null;case m:case y:return Wy(t),null;default:return null}}function yv(e,t,n){switch(Ic(t),t.tag){case 1:null!=t.type.childContextTypes&&uc(t);break;case 3:t.stateNode,Pf(t),cc(t),Wf();break;case 5:Rf(t);break;case 4:Pf(t);break;case c:case g:jf(t);break;case s:Yd(t.type._context,t);break;case m:case y:Wy(t)}}ev=function(e,t,n,r){for(var i,o,a=t.child;null!==a;){if(5===a.tag||6===a.tag)i=e,o=a.stateNode,i.appendChild(o);else if(4===a.tag);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)return;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},tv=function(e,t){},nv=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var a=function(e,t,n,r,i,o){var a=o;if(typeof r.children!=typeof n.children&&("string"==typeof r.children||"number"==typeof r.children)){var s=""+r.children,l=Yl(a.ancestorInfo,t);$l(null,s,l)}return Bl(e,t,n,r)}(t.stateNode,n,o,r,0,Of());t.updateQueue=a,a&&dv(t)}},rv=function(e,t,n,r){n!==r&&dv(t)};var bv=null;bv=new Set;var wv=!1,xv=!1,Ev="function"==typeof WeakSet?WeakSet:Set,kv=null,Sv=null,Mv=null,Tv=function(e,t){if(t.props=e.memoizedProps,t.state=e.memoizedState,2&e.mode)try{Fp(),t.componentWillUnmount()}finally{zp(e)}else t.componentWillUnmount()};function Cv(e,t){try{zv(4,e)}catch(n){ob(e,t,n)}}function Nv(e,t,n){try{Tv(e,n)}catch(n){ob(e,t,n)}}function Pv(e,t){try{Uv(e)}catch(n){ob(e,t,n)}}function Ov(e,t){var n=e.ref;if(null!==n)if("function"==typeof n){var r;try{if(2&e.mode)try{Fp(),r=n(null)}finally{zp(e)}else r=n(null)}catch(n){ob(e,t,n)}"function"==typeof r&&o("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",je(e))}else n.current=null}function _v(e,t,n){try{n()}catch(n){ob(e,t,n)}}var Rv=!1;function Av(e,t){su(e.containerInfo),kv=t,function(){for(;null!==kv;){var e=kv,t=e.child;e.subtreeFlags&vr&&null!==t?(t.return=e,kv=t):Dv()}}();var n=Rv;return Rv=!1,n}function Dv(){for(;null!==kv;){var e=kv;Ge(e);try{Lv(e)}catch(t){ob(e,e.return,t)}He();var t=e.sibling;if(null!==t)return t.return=e.return,void(kv=t);kv=e.return}}function Lv(e){var t,n=e.alternate;if(e.flags&rr){switch(Ge(e),e.tag){case 0:case l:case f:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode;e.type!==e.elementType||Sg||(a.props!==e.memoizedProps&&o("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",je(e)||"instance"),a.state!==e.memoizedState&&o("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",je(e)||"instance"));var s=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:Wp(e.type,r),i),u=bv;void 0!==s||u.has(e.type)||(u.add(e.type),o("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",je(e))),a.__reactInternalSnapshotBeforeUpdate=s}break;case 3:1===(t=e.stateNode.containerInfo).nodeType?t.textContent="":9===t.nodeType&&t.documentElement&&t.removeChild(t.documentElement);break;case 5:case 6:case 4:case h:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}He()}}function Iv(e,t,n){var r,i=t.updateQueue,o=null!==i?i.lastEffect:null;if(null!==o){var a=o.next,s=a;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,void 0!==l&&(8&e?(r=t,null!==$r&&"function"==typeof $r.markComponentPassiveEffectUnmountStarted&&$r.markComponentPassiveEffectUnmountStarted(r)):4&e&&ni(t),2&e&&Eb(!0),_v(t,n,l),2&e&&Eb(!1),8&e?null!==$r&&"function"==typeof $r.markComponentPassiveEffectUnmountStopped&&$r.markComponentPassiveEffectUnmountStopped():4&e&&ri())}s=s.next}while(s!==a)}}function zv(e,t){var n,r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next,s=a;do{if((s.tag&e)===e){8&e?(n=t,null!==$r&&"function"==typeof $r.markComponentPassiveEffectMountStarted&&$r.markComponentPassiveEffectMountStarted(n)):4&e&&ti(t);var l=s.create;2&e&&Eb(!0),s.destroy=l(),2&e&&Eb(!1),8&e?null!==$r&&"function"==typeof $r.markComponentPassiveEffectMountStopped&&$r.markComponentPassiveEffectMountStopped():4&e&&null!==$r&&"function"==typeof $r.markComponentLayoutEffectMountStopped&&$r.markComponentLayoutEffectMountStopped();var u=s.destroy;if(void 0!==u&&"function"!=typeof u){var c=void 0;o("%s must not return anything besides a function, which is used for clean-up.%s",c=4&s.tag?"useLayoutEffect":2&s.tag?"useInsertionEffect":"useEffect",null===u?" You returned null. If your effect does not require clean up, return undefined (or nothing).":"function"==typeof u.then?"\n\nIt looks like you wrote "+c+"(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:\n\n"+c+"(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching":" You returned: "+u)}}s=s.next}while(s!==a)}}function jv(e,t){if(4&t.flags&&t.tag===u){var n=t.stateNode.passiveEffectDuration,r=t.memoizedProps,i=r.id,o=r.onPostCommit,a=Rp(),s=null===t.alternate?"mount":"update";_p()&&(s="nested-update"),"function"==typeof o&&o(i,s,n,a);var l=t.return;e:for(;null!==l;){switch(l.tag){case 3:case u:l.stateNode.passiveEffectDuration+=n;break e}l=l.return}}}function Fv(e,t,n,r){if(n.flags&yr)switch(n.tag){case 0:case l:case f:if(!xv)if(2&n.mode)try{Fp(),zv(5,n)}finally{zp(n)}else zv(5,n);break;case 1:var i=n.stateNode;if(4&n.flags&&!xv)if(null===t)if(n.type!==n.elementType||Sg||(i.props!==n.memoizedProps&&o("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",je(n)||"instance"),i.state!==n.memoizedState&&o("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",je(n)||"instance")),2&n.mode)try{Fp(),i.componentDidMount()}finally{zp(n)}else i.componentDidMount();else{var a=n.elementType===n.type?t.memoizedProps:Wp(n.type,t.memoizedProps),s=t.memoizedState;if(n.type!==n.elementType||Sg||(i.props!==n.memoizedProps&&o("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",je(n)||"instance"),i.state!==n.memoizedState&&o("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",je(n)||"instance")),2&n.mode)try{Fp(),i.componentDidUpdate(a,s,i.__reactInternalSnapshotBeforeUpdate)}finally{zp(n)}else i.componentDidUpdate(a,s,i.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;null!==d&&(n.type!==n.elementType||Sg||(i.props!==n.memoizedProps&&o("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",je(n)||"instance"),i.state!==n.memoizedState&&o("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",je(n)||"instance")),xf(0,d,i));break;case 3:var p=n.updateQueue;if(null!==p){var b=null;if(null!==n.child)switch(n.child.tag){case 5:case 1:b=n.child.stateNode}xf(0,p,b)}break;case 5:var w=n.stateNode;null===t&&4&n.flags&&function(e,t,n){switch(t){case"button":case"input":case"select":case"textarea":return void(n.autoFocus&&e.focus());case"img":n.src&&(e.src=n.src)}}(w,n.type,n.memoizedProps);break;case 6:case 4:break;case u:var x=n.memoizedProps,E=x.onCommit,k=x.onRender,S=n.stateNode.effectDuration,M=Rp(),T=null===t?"mount":"update";_p()&&(T="nested-update"),"function"==typeof k&&k(n.memoizedProps.id,T,n.actualDuration,n.treeBaseDuration,n.actualStartTime,M),"function"==typeof E&&E(n.memoizedProps.id,T,S,M),N=n,py.push(N),dy||(dy=!0,bb(Fr,(function(){return tb(),null})));var C=n.return;e:for(;null!==C;){switch(C.tag){case 3:case u:C.stateNode.effectDuration+=S;break e}C=C.return}break;case c:!function(e,t){if(null===t.memoizedState){var n=t.alternate;if(null!==n){var r=n.memoizedState;if(null!==r){var i=r.dehydrated;null!==i&&function(e){Zo(e)}(i)}}}}(0,n);break;case g:case h:case v:case m:case y:case 25:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}var N;xv||n.flags&nr&&Uv(n)}function Bv(e){switch(e.tag){case 0:case l:case f:if(2&e.mode)try{Fp(),Cv(e,e.return)}finally{zp(e)}else Cv(e,e.return);break;case 1:var t=e.stateNode;"function"==typeof t.componentDidMount&&function(e,t,n){try{n.componentDidMount()}catch(n){ob(e,t,n)}}(e,e.return,t),Pv(e,e.return);break;case 5:Pv(e,e.return)}}function Uv(e){var t=e.ref;if(null!==t){var n,r=e.stateNode;if(e.tag,n=r,"function"==typeof t){var i;if(2&e.mode)try{Fp(),i=t(n)}finally{zp(e)}else i=t(n);"function"==typeof i&&o("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",je(e))}else t.hasOwnProperty("current")||o("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",je(e)),t.current=n}}function Wv(e){var t,n=e.alternate;if(null!==n&&(e.alternate=null,Wv(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag){var r=e.stateNode;null!==r&&(delete(t=r)[Nu],delete t[Pu],delete t[_u],delete t[Ru],delete t[Au])}e.stateNode=null,e._debugOwner=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vv(e){return 5===e.tag||3===e.tag||4===e.tag}function Hv(e){var t=e;e:for(;;){for(;null===t.sibling;){if(null===t.return||Vv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&t.tag!==p;){if(2&t.flags)continue e;if(null===t.child||4===t.tag)continue e;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function Gv(e){var t=function(e){for(var t=e.return;null!==t;){if(Vv(t))return t;t=t.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}(e);switch(t.tag){case 5:var n=t.stateNode;32&t.flags&&(vu(n),t.flags&=-33),Yv(e,Hv(e),n);break;case 3:case 4:var r=t.stateNode.containerInfo;$v(e,Hv(e),r);break;default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function $v(e,t,n){var r=e.tag;if(5===r||6===r){var i=e.stateNode;t?function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)}(n,i,t):function(e,t){var n;8===e.nodeType?(n=e.parentNode).insertBefore(t,e):(n=e).appendChild(t),null==e._reactRootContainer&&null===n.onclick&&jl(n)}(n,i)}else if(4===r);else{var o=e.child;if(null!==o){$v(o,t,n);for(var a=o.sibling;null!==a;)$v(a,t,n),a=a.sibling}}}function Yv(e,t,n){var r=e.tag;if(5===r||6===r){var i=e.stateNode;t?function(e,t,n){e.insertBefore(t,n)}(n,i,t):function(e,t){e.appendChild(t)}(n,i)}else if(4===r);else{var o=e.child;if(null!==o){Yv(o,t,n);for(var a=o.sibling;null!==a;)Yv(a,t,n),a=a.sibling}}}var qv=null,Kv=!1;function Xv(e,t,n){var r,i,o=t;e:for(;null!==o;){switch(o.tag){case 5:qv=o.stateNode,Kv=!1;break e;case 3:case 4:qv=o.stateNode.containerInfo,Kv=!0;break e}o=o.return}if(null===qv)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");Zv(e,t,n),qv=null,Kv=!1,null!==(i=(r=n).alternate)&&(i.return=null),r.return=null}function Qv(e,t,n){for(var r=n.child;null!==r;)Zv(e,t,r),r=r.sibling}function Zv(e,t,n){switch(function(e){if(Gr&&"function"==typeof Gr.onCommitFiberUnmount)try{Gr.onCommitFiberUnmount(Hr,e)}catch(e){Yr||(Yr=!0,o("React instrumentation encountered an error: %s",e))}}(n),n.tag){case 5:xv||Ov(n,t);case 6:var r=qv,i=Kv;return qv=null,Qv(e,t,n),Kv=i,void(null!==(qv=r)&&(Kv?(k=qv,S=n.stateNode,8===k.nodeType?k.parentNode.removeChild(S):k.removeChild(S)):function(e,t){e.removeChild(t)}(qv,n.stateNode)));case p:return void(null!==qv&&(Kv?function(e,t){8===e.nodeType?mu(e.parentNode,t):1===e.nodeType&&mu(e,t),Zo(e)}(qv,n.stateNode):mu(qv,n.stateNode)));case 4:var a=qv,s=Kv;return qv=n.stateNode.containerInfo,Kv=!0,Qv(e,t,n),qv=a,void(Kv=s);case 0:case l:case d:case f:if(!xv){var u=n.updateQueue;if(null!==u){var c=u.lastEffect;if(null!==c){var h=c.next,g=h;do{var y=g,b=y.destroy,w=y.tag;void 0!==b&&(2&w?_v(n,t,b):4&w&&(ni(n),2&n.mode?(Fp(),_v(n,t,b),zp(n)):_v(n,t,b),ri())),g=g.next}while(g!==h)}}}return void Qv(e,t,n);case 1:if(!xv){Ov(n,t);var x=n.stateNode;"function"==typeof x.componentWillUnmount&&Nv(n,t,x)}return void Qv(e,t,n);case v:return void Qv(e,t,n);case m:if(1&n.mode){var E=xv;xv=E||null!==n.memoizedState,Qv(e,t,n),xv=E}else Qv(e,t,n);break;default:return void Qv(e,t,n)}var k,S}function Jv(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ev),t.forEach((function(t){var r=ub.bind(null,e,t);if(!n.has(t)){if(n.add(t),qr){if(null===Sv||null===Mv)throw Error("Expected finished root and lanes to be set. This is a bug in React.");mb(Mv,Sv)}t.then(r,r)}}))}}function em(e,t,n){var r=t.deletions;if(null!==r)for(var i=0;i<r.length;i++){var o=r[i];try{Xv(e,t,o)}catch(e){ob(o,t,e)}}var a=Be;if(t.subtreeFlags&mr)for(var s=t.child;null!==s;)Ge(s),tm(s,e),s=s.sibling;Ge(a)}function tm(e,t,n){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case l:case d:case f:if(em(t,e),nm(e),4&i){try{Iv(3,e,e.return),zv(3,e)}catch(t){ob(e,e.return,t)}if(2&e.mode){try{Fp(),Iv(5,e,e.return)}catch(t){ob(e,e.return,t)}zp(e)}else try{Iv(5,e,e.return)}catch(t){ob(e,e.return,t)}}return;case 1:return em(t,e),nm(e),void(i&nr&&null!==r&&Ov(r,r.return));case 5:if(em(t,e),nm(e),i&nr&&null!==r&&Ov(r,r.return),32&e.flags){var o=e.stateNode;try{vu(o)}catch(t){ob(e,e.return,t)}}if(4&i){var a=e.stateNode;if(null!=a){var s=e.memoizedProps,u=null!==r?r.memoizedProps:s,h=e.type,p=e.updateQueue;if(e.updateQueue=null,null!==p)try{!function(e,t,n,r,i){Ul(e,t,n,r,i),Wu(e,i)}(a,p,h,u,s)}catch(t){ob(e,e.return,t)}}}return;case 6:if(em(t,e),nm(e),4&i){if(null===e.stateNode)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var b=e.stateNode,w=e.memoizedProps;null!==r&&r.memoizedProps;try{!function(e,t,n){e.nodeValue=n}(b,0,w)}catch(t){ob(e,e.return,t)}}return;case 3:if(em(t,e),nm(e),4&i&&null!==r&&r.memoizedState.isDehydrated)try{Zo(t.containerInfo)}catch(t){ob(e,e.return,t)}return;case 4:return em(t,e),void nm(e);case c:em(t,e),nm(e);var x=e.child;if(x.flags&ar){var E=x.stateNode,k=null!==x.memoizedState;E.isHidden=k,k&&(null!==x.alternate&&null!==x.alternate.memoizedState||(ty=Lr()))}if(4&i){try{!function(e){e.memoizedState}(e)}catch(t){ob(e,e.return,t)}Jv(e)}return;case m:var S=null!==r&&null!==r.memoizedState;if(1&e.mode){var M=xv;xv=M||S,em(t,e),xv=M}else em(t,e);if(nm(e),i&ar){var T=e.stateNode,C=null!==e.memoizedState,N=e;if(T.isHidden=C,C&&!S&&1&N.mode){kv=N;for(var P=N.child;null!==P;)kv=P,am(P),P=P.sibling}!function(e,t){for(var n=null,r=e;;){if(5===r.tag){if(null===n){n=r;try{var i=r.stateNode;t?yu(i):bu(r.stateNode,r.memoizedProps)}catch(t){ob(e,e.return,t)}}}else if(6===r.tag){if(null===n)try{var o=r.stateNode;t?o.nodeValue="":wu(o,r.memoizedProps)}catch(t){ob(e,e.return,t)}}else if((r.tag!==m&&r.tag!==y||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)return;for(;null===r.sibling;){if(null===r.return||r.return===e)return;n===r&&(n=null),r=r.return}n===r&&(n=null),r.sibling.return=r.return,r=r.sibling}}(N,C)}return;case g:return em(t,e),nm(e),void(4&i&&Jv(e));case v:return;default:return em(t,e),void nm(e)}}function nm(e){var t=e.flags;if(2&t){try{Gv(e)}catch(t){ob(e,e.return,t)}e.flags&=-3}t&or&&(e.flags&=-4097)}function rm(e,t,n){Sv=n,Mv=t,kv=e,im(e,t,n),Sv=null,Mv=null}function im(e,t,n){for(var r=!!(1&e.mode);null!==kv;){var i=kv,o=i.child;if(i.tag===m&&r){var a=null!==i.memoizedState||wv;if(a){om(e,t,n);continue}var s=i.alternate,l=null!==s&&null!==s.memoizedState,u=wv,c=xv;wv=a,(xv=l||xv)&&!c&&(kv=i,lm(i));for(var d=o;null!==d;)kv=d,im(d,t,n),d=d.sibling;kv=i,wv=u,xv=c,om(e,t,n)}else i.subtreeFlags&yr&&null!==o?(o.return=i,kv=o):om(e,t,n)}}function om(e,t,n){for(;null!==kv;){var r=kv;if(r.flags&yr){var i=r.alternate;Ge(r);try{Fv(0,i,r)}catch(e){ob(r,r.return,e)}He()}if(r===e)return void(kv=null);var o=r.sibling;if(null!==o)return o.return=r.return,void(kv=o);kv=r.return}}function am(e){for(;null!==kv;){var t=kv,n=t.child;switch(t.tag){case 0:case l:case d:case f:if(2&t.mode)try{Fp(),Iv(4,t,t.return)}finally{zp(t)}else Iv(4,t,t.return);break;case 1:Ov(t,t.return);var r=t.stateNode;"function"==typeof r.componentWillUnmount&&Nv(t,t.return,r);break;case 5:Ov(t,t.return);break;case m:if(null!==t.memoizedState){sm(e);continue}}null!==n?(n.return=t,kv=n):sm(e)}}function sm(e){for(;null!==kv;){var t=kv;if(t===e)return void(kv=null);var n=t.sibling;if(null!==n)return n.return=t.return,void(kv=n);kv=t.return}}function lm(e){for(;null!==kv;){var t=kv,n=t.child;(t.tag!==m||null===t.memoizedState)&&null!==n?(n.return=t,kv=n):um(e)}}function um(e){for(;null!==kv;){var t=kv;Ge(t);try{Bv(t)}catch(e){ob(t,t.return,e)}if(He(),t===e)return void(kv=null);var n=t.sibling;if(null!==n)return n.return=t.return,void(kv=n);kv=t.return}}function cm(e,t,n,r){kv=t,function(e,t,n,r){for(;null!==kv;){var i=kv,o=i.child;i.subtreeFlags&br&&null!==o?(o.return=i,kv=o):dm(e,t,n,r)}}(t,e,n,r)}function dm(e,t,n,r){for(;null!==kv;){var i=kv;if(i.flags&ir){Ge(i);try{fm(t,i,n,r)}catch(e){ob(i,i.return,e)}He()}if(i===e)return void(kv=null);var o=i.sibling;if(null!==o)return o.return=i.return,void(kv=o);kv=i.return}}function fm(e,t,n,r){switch(t.tag){case 0:case l:case f:if(2&t.mode){Bp();try{zv(9,t)}finally{jp(t)}}else zv(9,t)}}function hm(e){kv=e,function(){for(;null!==kv;){var e=kv,t=e.child;if(kv.flags&Jn){var n=e.deletions;if(null!==n){for(var r=0;r<n.length;r++){var i=n[r];kv=i,vm(i,e)}var o=e.alternate;if(null!==o){var a=o.child;if(null!==a){o.child=null;do{var s=a.sibling;a.sibling=null,a=s}while(null!==a)}}kv=e}}e.subtreeFlags&br&&null!==t?(t.return=e,kv=t):pm()}}()}function pm(){for(;null!==kv;){var e=kv;e.flags&ir&&(Ge(e),gm(e),He());var t=e.sibling;if(null!==t)return t.return=e.return,void(kv=t);kv=e.return}}function gm(e){switch(e.tag){case 0:case l:case f:2&e.mode?(Bp(),Iv(9,e,e.return),jp(e)):Iv(9,e,e.return)}}function vm(e,t){for(;null!==kv;){var n=kv;Ge(n),ym(n,t),He();var r=n.child;null!==r?(r.return=n,kv=r):mm(e)}}function mm(e){for(;null!==kv;){var t=kv,n=t.sibling,r=t.return;if(Wv(t),t===e)return void(kv=null);if(null!==n)return n.return=r,void(kv=n);kv=r}}function ym(e,t){switch(e.tag){case 0:case l:case f:2&e.mode?(Bp(),Iv(8,e,t),jp(e)):Iv(8,e,t)}}function bm(e){switch(e.tag){case 0:case l:case f:try{zv(5,e)}catch(t){ob(e,e.return,t)}break;case 1:var t=e.stateNode;try{t.componentDidMount()}catch(t){ob(e,e.return,t)}}}function wm(e){switch(e.tag){case 0:case l:case f:try{zv(9,e)}catch(t){ob(e,e.return,t)}}}function xm(e){switch(e.tag){case 0:case l:case f:try{Iv(5,e,e.return)}catch(t){ob(e,e.return,t)}break;case 1:var t=e.stateNode;"function"==typeof t.componentWillUnmount&&Nv(e,e.return,t)}}function Em(e){switch(e.tag){case 0:case l:case f:try{Iv(9,e,e.return)}catch(t){ob(e,e.return,t)}}}if("function"==typeof Symbol&&Symbol.for){var km=Symbol.for;km("selector.component"),km("selector.has_pseudo_class"),km("selector.role"),km("selector.test_id"),km("selector.text")}var Sm=[],Mm=n.ReactCurrentActQueue;function Tm(){var e="undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?IS_REACT_ACT_ENVIRONMENT:void 0;return e||null===Mm.current||o("The current testing environment is not configured to support act(...)"),e}var Cm=Math.ceil,Nm=n.ReactCurrentDispatcher,Pm=n.ReactCurrentOwner,Om=n.ReactCurrentBatchConfig,_m=n.ReactCurrentActQueue,Rm=0,Am=2,Dm=4,Lm=0,Im=1,zm=2,jm=3,Fm=4,Bm=5,Um=6,Wm=Rm,Vm=null,Hm=null,Gm=0,$m=0,Ym=Qu(0),qm=Lm,Km=null,Xm=0,Qm=0,Zm=0,Jm=null,ey=null,ty=0,ny=500,ry=1/0,iy=500,oy=null;function ay(){ry=Lr()+iy}function sy(){return ry}var ly=!1,uy=null,cy=null,dy=!1,fy=null,hy=0,py=[],gy=null,vy=50,my=0,yy=null,by=!1,wy=!1,xy=50,Ey=0,ky=null,Sy=$i,My=0,Ty=!1;function Cy(){return Vm}function Ny(){return(Wm&(Am|Dm))!==Rm?Lr():Sy!==$i?Sy:Sy=Lr()}function Py(e){if(!(1&e.mode))return pi;if((Wm&Am)!==Rm&&0!==Gm)return oo(Gm);if(null!==dd.transition){if(null!==Om.transition){var t=Om.transition;t._updatedFibers||(t._updatedFibers=new Set),t._updatedFibers.add(e)}return 0===My&&(My=ro()),My}var n,r=Oo();return 0!==r?r:void 0===(n=window.event)?Co:sa(n.type)}function Oy(e){var t;return 1&e.mode?(t=qi,(qi<<=1)&Ai||(qi=Di),t):pi}function _y(e,t,n,r){!function(){if(my>vy)throw my=0,yy=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Ey>xy&&(Ey=0,ky=null,o("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}(),Ty&&o("useInsertionEffect must not schedule updates."),by&&(wy=!0),go(e,n,r),Wm&Am&&e===Vm?function(e){if(Ue&&!op)switch(e.tag){case 0:case l:case f:var t=Hm&&je(Hm)||"Unknown",n=t;gb.has(n)||(gb.add(n),o("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",je(e)||"Unknown",t,t));break;case 1:vb||(o("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),vb=!0)}}(t):(qr&&yo(e,t,n),function(e){if(1&e.mode){if(!Tm())return}else{if(t="undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?IS_REACT_ACT_ENVIRONMENT:void 0,"undefined"==typeof jest||!1===t)return;if(Wm!==Rm)return;if(0!==e.tag&&e.tag!==l&&e.tag!==f)return}var t;if(null===_m.current){var n=Be;try{Ge(e),o("An update to %s inside a test was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act",je(e))}finally{n?Ge(e):He()}}}(t),e===Vm&&((Wm&Am)===Rm&&(Qm=co(Qm,n)),qm===Fm&&Iy(e,Gm)),Ry(e,r),n!==pi||Wm!==Rm||1&t.mode||_m.isBatchingLegacy||(ay(),wc()))}function Ry(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.pendingLanes,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=n;a>0;){var s=ao(a),l=1<<s,u=o[s];u===$i?l&r&&!(l&i)||(o[s]=Qi(l,t)):u<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var r=Xi(e,e===Vm?Gm:0);if(0===r)return null!==n&&wb(n),e.callbackNode=null,void(e.callbackPriority=0);var i=io(r),a=e.callbackPriority;if(a!==i||null!==_m.current&&n!==yb){var s,l;if(null!=n&&wb(n),i===pi)0===e.tag?(null!==_m.isBatchingLegacy&&(_m.didScheduleLegacyUpdate=!0),l=zy.bind(null,e),mc=!0,bc(l)):bc(zy.bind(null,e)),null!==_m.current?_m.current.push(xc):pu((function(){(Wm&(Am|Dm))===Rm&&xc()})),s=null;else{var u;switch(Ao(r)){case Mo:u=zr;break;case To:u=jr;break;case Co:u=Fr;break;case No:u=Ur;break;default:u=Fr}s=bb(u,Ay.bind(null,e))}e.callbackPriority=i,e.callbackNode=s}else null==n&&a!==pi&&o("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.")}function Ay(e,t){if(Pp=!1,Op=!1,Sy=$i,My=0,(Wm&(Am|Dm))!==Rm)throw new Error("Should not already be working.");var n=e.callbackNode;if(tb()&&e.callbackNode!==n)return null;var r=Xi(e,e===Vm?Gm:0);if(0===r)return null;var i=!to(0,r)&&!function(e,t){return!!(t&e.expiredLanes)}(e,r)&&!t,o=i?function(e,t){var n=Wm;Wm|=Am;var r=Gy();if(Vm!==e||Gm!==t){if(qr){var i=e.memoizedUpdaters;i.size>0&&(mb(e,Gm),i.clear()),bo(e,t)}oy=null,ay(),Vy(e,t)}for(ai(t);;)try{Qy();break}catch(t){Hy(e,t)}return Vd(),$y(r),Wm=n,null!==Hm?(null!==$r&&"function"==typeof $r.markRenderYielded&&$r.markRenderYielded(),Lm):(si(),Vm=null,Gm=0,qm)}(e,r):Ky(e,r);if(o!==Lm){if(o===zm){var a=Zi(e);0!==a&&(r=a,o=Dy(e,a))}if(o===Im){var s=Km;throw Vy(e,0),Iy(e,r),Ry(e,Lr()),s}if(o===Um)Iy(e,r);else{var l=!to(0,r),u=e.current.alternate;if(l&&!function(e){for(var t=e;;){if(t.flags&sr){var n=t.updateQueue;if(null!==n){var r=n.stores;if(null!==r)for(var i=0;i<r.length;i++){var o=r[i],a=o.getSnapshot,s=o.value;try{if(!xs(a(),s))return!1}catch(e){return!1}}}}var l=t.child;if(t.subtreeFlags&sr&&null!==l)l.return=t,t=l;else{if(t===e)return!0;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(u)){if((o=Ky(e,r))===zm){var c=Zi(e);0!==c&&(r=c,o=Dy(e,c))}if(o===Im){var d=Km;throw Vy(e,0),Iy(e,r),Ry(e,Lr()),d}}e.finishedWork=u,e.finishedLanes=r,function(e,t,n){switch(t){case Lm:case Im:throw new Error("Root did not complete. This is a bug in React.");case zm:eb(e,ey,oy);break;case jm:if(Iy(e,n),eo(n)&&!xb()){var r=ty+ny-Lr();if(r>10){if(0!==Xi(e,0))break;var i=e.suspendedLanes;if(!uo(i,n)){Ny(),vo(e,i);break}e.timeoutHandle=du(eb.bind(null,e,ey,oy),r);break}}eb(e,ey,oy);break;case Fm:if(Iy(e,n),function(e){return(e&wi)===e}(n))break;if(!xb()){var o=function(e,t){for(var n=e.eventTimes,r=$i;t>0;){var i=ao(t),o=1<<i,a=n[i];a>r&&(r=a),t&=~o}return r}(e,n),a=o,s=Lr()-a,l=((u=s)<120?120:u<480?480:u<1080?1080:u<1920?1920:u<3e3?3e3:u<4320?4320:1960*Cm(u/1960))-s;if(l>10){e.timeoutHandle=du(eb.bind(null,e,ey,oy),l);break}}eb(e,ey,oy);break;case Bm:eb(e,ey,oy);break;default:throw new Error("Unknown root exit status.")}var u}(e,o,r)}}return Ry(e,Lr()),e.callbackNode===n?Ay.bind(null,e):null}function Dy(e,t){var n=Jm;Do(e)&&(Vy(e,t).flags|=tr,o("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",e.containerInfo.nodeName.toLowerCase()));var r=Ky(e,t);if(r!==zm){var i=ey;ey=n,null!==i&&Ly(i)}return r}function Ly(e){null===ey?ey=e:ey.push.apply(ey,e)}function Iy(e,t){t=fo(t,Zm),function(e,t){e.suspendedLanes|=t,e.pingedLanes&=~t;for(var n=e.expirationTimes,r=t;r>0;){var i=ao(r),o=1<<i;n[i]=$i,r&=~o}}(e,t=fo(t,Qm))}function zy(e){if(Pp=Op,Op=!1,(Wm&(Am|Dm))!==Rm)throw new Error("Should not already be working.");tb();var t=Xi(e,0);if(!lo(t,pi))return Ry(e,Lr()),null;var n=Ky(e,t);if(0!==e.tag&&n===zm){var r=Zi(e);0!==r&&(t=r,n=Dy(e,r))}if(n===Im){var i=Km;throw Vy(e,0),Iy(e,t),Ry(e,Lr()),i}if(n===Um)throw new Error("Root did not complete. This is a bug in React.");var o=e.current.alternate;return e.finishedWork=o,e.finishedLanes=t,eb(e,ey,oy),Ry(e,Lr()),null}function jy(e,t){var n=Wm;Wm|=1;try{return e(t)}finally{(Wm=n)!==Rm||_m.isBatchingLegacy||(ay(),wc())}}function Fy(e){null!==fy&&0===fy.tag&&(Wm&(Am|Dm))===Rm&&tb();var t=Wm;Wm|=1;var n=Om.transition,r=Oo();try{return Om.transition=null,_o(Mo),e?e():void 0}finally{_o(r),Om.transition=n,((Wm=t)&(Am|Dm))===Rm&&xc()}}function By(){return(Wm&(Am|Dm))!==Rm}function Uy(e,t){Ju(Ym,$m,e),$m=co($m,t)}function Wy(e){$m=Ym.current,Zu(Ym,e)}function Vy(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,fu(n)),null!==Hm)for(var r=Hm.return;null!==r;)r.alternate,yv(0,r),r=r.return;Vm=e;var i=Ub(e.current,null);return Hm=i,Gm=$m=t,qm=Lm,Km=null,Xm=0,Qm=0,Zm=0,Jm=null,ey=null,function(){if(null!==Zd){for(var e=0;e<Zd.length;e++){var t=Zd[e],n=t.interleaved;if(null!==n){t.interleaved=null;var r=n.next,i=t.pending;if(null!==i){var o=i.next;i.next=r,n.next=o}t.pending=n}}Zd=null}}(),fd.discardPendingWarnings(),i}function Hy(e,t){for(;;){var n=Hm;try{if(Vd(),ph(),He(),Pm.current=null,null===n||null===n.return)return qm=Im,Km=t,void(Hm=null);2&n.mode&&Ip(n,!0),ei(),null!==t&&"object"==typeof t&&"function"==typeof t.then?oi(n,t,Gm):ii(n,t,Gm),yg(e,n.return,n,t,Gm),Jy(n)}catch(e){t=e,Hm===n&&null!==n?(n=n.return,Hm=n):n=Hm;continue}return}}function Gy(){var e=Nm.current;return Nm.current=pp,null===e?pp:e}function $y(e){Nm.current=e}function Yy(e){Xm=co(e,Xm)}function qy(){qm!==Lm&&qm!==jm&&qm!==zm||(qm=Fm),null!==Vm&&(Ji(Xm)||Ji(Qm))&&Iy(Vm,Gm)}function Ky(e,t){var n=Wm;Wm|=Am;var r=Gy();if(Vm!==e||Gm!==t){if(qr){var i=e.memoizedUpdaters;i.size>0&&(mb(e,Gm),i.clear()),bo(e,t)}oy=null,Vy(e,t)}for(ai(t);;)try{Xy();break}catch(t){Hy(e,t)}if(Vd(),Wm=n,$y(r),null!==Hm)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return si(),Vm=null,Gm=0,qm}function Xy(){for(;null!==Hm;)Zy(Hm)}function Qy(){for(;null!==Hm&&!Ar();)Zy(Hm)}function Zy(e){var t,n=e.alternate;Ge(e),2&e.mode?(Dp(e),t=fb(n,e,$m),Ip(e,!0)):t=fb(n,e,$m),He(),e.memoizedProps=e.pendingProps,null===t?Jy(e):Hm=t,Pm.current=null}function Jy(e){var t=e;do{var n=t.alternate,r=t.return;if(t.flags&lr){var i=mv(0,t);if(null!==i)return i.flags&=32767,void(Hm=i);if(2&t.mode){Ip(t,!1);for(var o=t.actualDuration,a=t.child;null!==a;)o+=a.actualDuration,a=a.sibling;t.actualDuration=o}if(null===r)return qm=Um,void(Hm=null);r.flags|=lr,r.subtreeFlags=0,r.deletions=null}else{Ge(t);var s=void 0;if(2&t.mode?(Dp(t),s=vv(n,t,$m),Ip(t,!1)):s=vv(n,t,$m),He(),null!==s)return void(Hm=s)}var l=t.sibling;if(null!==l)return void(Hm=l);Hm=t=r}while(null!==t);qm===Lm&&(qm=Bm)}function eb(e,t,n){var r=Oo(),i=Om.transition;try{Om.transition=null,_o(Mo),function(e,t,n,r){do{tb()}while(null!==fy);if(fd.flushLegacyContextWarning(),fd.flushPendingUnsafeLifecycleWarnings(),(Wm&(Am|Dm))!==Rm)throw new Error("Should not already be working.");var i=e.finishedWork,a=e.finishedLanes;if(function(e){null!==$r&&"function"==typeof $r.markCommitStarted&&$r.markCommitStarted(e)}(a),null===i)return Zr(),null;if(0===a&&o("root.finishedLanes should not be empty during a commit. This is a bug in React."),e.finishedWork=null,e.finishedLanes=0,i===e.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null,e.callbackPriority=0;var s=co(i.lanes,i.childLanes);(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t;for(var r=e.entanglements,i=e.eventTimes,o=e.expirationTimes,a=n;a>0;){var s=ao(a),l=1<<s;r[s]=0,i[s]=$i,o[s]=$i,a&=~l}})(e,s),e===Vm&&(Vm=null,Hm=null,Gm=0),(i.subtreeFlags&br||i.flags&br)&&(dy||(dy=!0,gy=n,bb(Fr,(function(){return tb(),null}))));var l=!!(15990&i.subtreeFlags),u=!!(15990&i.flags);if(l||u){var c=Om.transition;Om.transition=null;var d=Oo();_o(Mo);var f=Wm;Wm|=Dm,Pm.current=null,Av(e,i),Ap(),function(e,t,n){Sv=n,Mv=e,Ge(t),tm(t,e),Ge(t),Sv=null,Mv=null}(e,i,a),e.containerInfo,As(au),ta(ou),ou=null,au=null,e.current=i,function(e){null!==$r&&"function"==typeof $r.markLayoutEffectsStarted&&$r.markLayoutEffectsStarted(e)}(a),rm(i,e,a),null!==$r&&"function"==typeof $r.markLayoutEffectsStopped&&$r.markLayoutEffectsStopped(),Dr(),Wm=f,_o(d),Om.transition=c}else e.current=i,Ap();var h=dy;if(dy?(dy=!1,fy=e,hy=a):(Ey=0,ky=null),0===(s=e.pendingLanes)&&(cy=null),h||cb(e.current,!1),function(e,t){if(Gr&&"function"==typeof Gr.onCommitFiberRoot)try{var n,r=(e.current.flags&er)===er;switch(t){case Mo:n=zr;break;case To:n=jr;break;case Co:n=Fr;break;case No:n=Ur;break;default:n=Fr}Gr.onCommitFiberRoot(Hr,e,n,r)}catch(e){Yr||(Yr=!0,o("React instrumentation encountered an error: %s",e))}}(i.stateNode,r),qr&&e.memoizedUpdaters.clear(),Sm.forEach((function(e){return e()})),Ry(e,Lr()),null!==t)for(var p=e.onRecoverableError,g=0;g<t.length;g++){var v=t[g],m=v.stack,y=v.digest;p(v.value,{componentStack:m,digest:y})}if(ly){ly=!1;var b=uy;throw uy=null,b}lo(hy,pi)&&0!==e.tag&&tb(),lo(s=e.pendingLanes,pi)?(Op=!0,e===yy?my++:(my=0,yy=e)):my=0,xc(),Zr()}(e,t,n,r)}finally{Om.transition=i,_o(r)}return null}function tb(){if(null!==fy){var e=Ao(hy),t=function(e,t){return e>t?e:t}(Co,e),n=Om.transition,r=Oo();try{return Om.transition=null,_o(t),function(){if(null===fy)return!1;var e=gy;gy=null;var t=fy,n=hy;if(fy=null,hy=0,(Wm&(Am|Dm))!==Rm)throw new Error("Cannot flush passive effects while already rendering.");by=!0,wy=!1,function(e){null!==$r&&"function"==typeof $r.markPassiveEffectsStarted&&$r.markPassiveEffectsStarted(e)}(n);var r=Wm;Wm|=Dm,hm(t.current),cm(t,t.current,n,e);var i=py;py=[];for(var a=0;a<i.length;a++)jv(0,i[a]);null!==$r&&"function"==typeof $r.markPassiveEffectsStopped&&$r.markPassiveEffectsStopped(),cb(t.current,!0),Wm=r,xc(),wy?t===ky?Ey++:(Ey=0,ky=t):Ey=0,by=!1,wy=!1,function(e){if(Gr&&"function"==typeof Gr.onPostCommitFiberRoot)try{Gr.onPostCommitFiberRoot(Hr,e)}catch(e){Yr||(Yr=!0,o("React instrumentation encountered an error: %s",e))}}(t);var s=t.current.stateNode;return s.effectDuration=0,s.passiveEffectDuration=0,!0}()}finally{_o(r),Om.transition=n}}return!1}function nb(e){return null!==cy&&cy.has(e)}var rb=function(e){ly||(ly=!0,uy=e)};function ib(e,t,n){var r=hf(e,hg(e,ug(n,t),pi),pi),i=Ny();null!==r&&(go(r,pi,i),Ry(r,i))}function ob(e,t,n){if(function(e){Xn(null,(function(){throw e})),Qn()}(n),Eb(!1),3!==e.tag){var r=null;for(r=t;null!==r;){if(3===r.tag)return void ib(r,e,n);if(1===r.tag){var i=r.type,a=r.stateNode;if("function"==typeof i.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&!nb(a)){var s=hf(r,pg(r,ug(n,e),pi),pi),l=Ny();return void(null!==s&&(go(s,pi,l),Ry(s,l)))}}r=r.return}o("Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.\n\nError message:\n\n%s",n)}else ib(e,e,n)}function ab(e,t,n){var r=e.pingCache;null!==r&&r.delete(t);var i=Ny();vo(e,n),function(e){0!==e.tag&&Tm()&&null===_m.current&&o("A suspended resource finished loading inside a test, but the event was not wrapped in act(...).\n\nWhen testing, code that resolves suspended data should be wrapped into act(...):\n\nact(() => {\n  /* finish loading suspended data */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act")}(e),Vm===e&&uo(Gm,n)&&(qm===Fm||qm===jm&&eo(Gm)&&Lr()-ty<ny?Vy(e,0):Zm=co(Zm,n)),Ry(e,i)}function sb(e,t){0===t&&(t=Oy(e));var n=Ny(),r=tf(e,t);null!==r&&(go(r,t,n),Ry(r,n))}function lb(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),sb(e,n)}function ub(e,t){var n,r=0;switch(e.tag){case c:n=e.stateNode;var i=e.memoizedState;null!==i&&(r=i.retryLane);break;case g:n=e.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}null!==n&&n.delete(t),sb(e,r)}function cb(e,t){Ge(e),db(e,pr,xm),t&&db(e,gr,Em),db(e,pr,bm),t&&db(e,gr,wm),He()}function db(e,t,n){for(var r=e,i=null;null!==r;){var o=r.subtreeFlags&t;r!==i&&null!==r.child&&0!==o?r=r.child:(r.flags&t&&n(r),r=null!==r.sibling?r.sibling:i=r.return)}}var fb,hb=null;function pb(e){if((Wm&Am)===Rm&&1&e.mode){var t=e.tag;if(2===t||3===t||1===t||0===t||t===l||t===d||t===f){var n=je(e)||"ReactComponent";if(null!==hb){if(hb.has(n))return;hb.add(n)}else hb=new Set([n]);var r=Be;try{Ge(e),o("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{r?Ge(e):He()}}}}fb=function(e,t,n){var r=Kb(null,t);try{return cv(e,t,n)}catch(o){if(Uc||null!==o&&"object"==typeof o&&"function"==typeof o.then)throw o;if(Vd(),ph(),yv(0,t),Kb(t,r),2&t.mode&&Dp(t),Xn(null,cv,null,e,t,n),Gn){var i=Qn();"object"==typeof i&&null!==i&&i._suppressLogging&&"object"==typeof o&&null!==o&&!o._suppressLogging&&(o._suppressLogging=!0)}throw o}};var gb,vb=!1;function mb(e,t){qr&&e.memoizedUpdaters.forEach((function(n){yo(e,n,t)}))}gb=new Set;var yb={};function bb(e,t){var n=_m.current;return null!==n?(n.push(t),yb):_r(e,t)}function wb(e){if(e!==yb)return Rr(e)}function xb(){return null!==_m.current}function Eb(e){Ty=e}var kb=null,Sb=null,Mb=function(e){kb=e};function Tb(e){if(null===kb)return e;var t=kb(e);return void 0===t?e:t.current}function Cb(e){return Tb(e)}function Nb(e){if(null===kb)return e;var t=kb(e);if(void 0===t){if(null!=e&&"function"==typeof e.render){var n=Tb(e.render);if(e.render!==n){var r={$$typeof:ae,render:n};return void 0!==e.displayName&&(r.displayName=e.displayName),r}}return e}return t.current}function Pb(e,t){if(null===kb)return!1;var n=e.elementType,r=t.type,i=!1,o="object"==typeof r&&null!==r?r.$$typeof:null;switch(e.tag){case 1:"function"==typeof r&&(i=!0);break;case 0:("function"==typeof r||o===ce)&&(i=!0);break;case l:(o===ae||o===ce)&&(i=!0);break;case d:case f:(o===ue||o===ce)&&(i=!0);break;default:return!1}if(i){var a=kb(n);if(void 0!==a&&a===kb(r))return!0}return!1}function Ob(e){null!==kb&&"function"==typeof WeakSet&&(null===Sb&&(Sb=new WeakSet),Sb.add(e))}var _b=function(e,t){if(null!==kb){var n=t.staleFamilies,r=t.updatedFamilies;tb(),Fy((function(){Ab(e.current,r,n)}))}},Rb=function(e,t){e.context===ec&&(tb(),Fy((function(){ow(t,e,null,null)})))};function Ab(e,t,n){var r=e.alternate,i=e.child,o=e.sibling,a=e.tag,s=e.type,u=null;switch(a){case 0:case f:case 1:u=s;break;case l:u=s.render}if(null===kb)throw new Error("Expected resolveFamily to be set during hot reload.");var c=!1,d=!1;if(null!==u){var h=kb(u);void 0!==h&&(n.has(h)?d=!0:t.has(h)&&(1===a?d=!0:c=!0))}if(null!==Sb&&(Sb.has(e)||null!==r&&Sb.has(r))&&(d=!0),d&&(e._debugNeedsRemount=!0),d||c){var p=tf(e,pi);null!==p&&_y(p,e,pi,$i)}null===i||d||Ab(i,t,n),null!==o&&Ab(o,t,n)}var Db,Lb=function(e,t){var n=new Set,r=new Set(t.map((function(e){return e.current})));return Ib(e.current,r,n),n};function Ib(e,t,n){var r=e.child,i=e.sibling,o=e.tag,a=e.type,s=null;switch(o){case 0:case f:case 1:s=a;break;case l:s=a.render}var u=!1;null!==s&&t.has(s)&&(u=!0),u?function(e,t){var n=function(e,t){for(var n=e,r=!1;;){if(5===n.tag)r=!0,t.add(n.stateNode);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)return r;for(;null===n.sibling;){if(null===n.return||n.return===e)return r;n=n.return}n.sibling.return=n.return,n=n.sibling}return!1}(e,t);if(!n)for(var r=e;;){switch(r.tag){case 5:return void t.add(r.stateNode);case 4:case 3:return void t.add(r.stateNode.containerInfo)}if(null===r.return)throw new Error("Expected to reach root first.");r=r.return}}(e,n):null!==r&&Ib(r,t,n),null!==i&&Ib(i,t,n)}Db=!1;try{var zb=Object.preventExtensions({});new Map([[zb,null]]),new Set([zb])}catch(e){Db=!0}function jb(e,t,n,r){this.tag=e,this.key=n,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=r,this.flags=0,this.subtreeFlags=0,this.deletions=null,this.lanes=0,this.childLanes=0,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,Db||"function"!=typeof Object.preventExtensions||Object.preventExtensions(this)}var Fb=function(e,t,n,r){return new jb(e,t,n,r)};function Bb(e){var t=e.prototype;return!(!t||!t.isReactComponent)}function Ub(e,t){var n=e.alternate;null===n?((n=Fb(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n._debugSource=e._debugSource,n._debugOwner=e._debugOwner,n._debugHookTypes=e._debugHookTypes,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null,n.actualDuration=0,n.actualStartTime=-1),n.flags=e.flags&wr,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue;var r=e.dependencies;switch(n.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.selfBaseDuration=e.selfBaseDuration,n.treeBaseDuration=e.treeBaseDuration,n._debugNeedsRemount=e._debugNeedsRemount,n.tag){case 2:case 0:case f:n.type=Tb(e.type);break;case 1:n.type=Cb(e.type);break;case l:n.type=Nb(e.type)}return n}function Wb(e,t){e.flags&=14680066;var n=e.alternate;if(null===n)e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null,e.selfBaseDuration=0,e.treeBaseDuration=0;else{e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type;var r=n.dependencies;e.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},e.selfBaseDuration=n.selfBaseDuration,e.treeBaseDuration=n.treeBaseDuration}return e}function Vb(e,t,n,r,i,a){var f=2,h=e;if("function"==typeof e)Bb(e)?(f=1,h=Cb(h)):h=Tb(h);else if("string"==typeof e)f=5;else e:switch(e){case te:return Gb(n.children,i,a,t);case ne:f=8,1&(i|=8)&&(i|=ui);break;case re:return function(e,t,n,r){"string"!=typeof e.id&&o('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof e.id);var i=Fb(u,e,r,2|t);return i.elementType=re,i.lanes=n,i.stateNode={effectDuration:0,passiveEffectDuration:0},i}(n,i,a,t);case se:return function(e,t,n,r){var i=Fb(c,e,r,t);return i.elementType=se,i.lanes=n,i}(n,i,a,t);case le:return function(e,t,n,r){var i=Fb(g,e,r,t);return i.elementType=le,i.lanes=n,i}(n,i,a,t);case de:return $b(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ie:f=s;break e;case oe:f=9;break e;case ae:f=l,h=Nb(h);break e;case ue:f=d;break e;case ce:f=16,h=null;break e}var p="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(p+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var v=r?je(r):null;throw v&&(p+="\n\nCheck the render method of `"+v+"`."),new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+"."+p)}var m=Fb(f,n,t,i);return m.elementType=e,m.type=h,m.lanes=a,m._debugOwner=r,m}function Hb(e,t,n){var r;r=e._owner;var i=Vb(e.type,e.key,e.props,r,t,n);return i._debugSource=e._source,i._debugOwner=e._owner,i}function Gb(e,t,n,r){var i=Fb(7,e,r,t);return i.lanes=n,i}function $b(e,t,n,r){var i=Fb(m,e,r,t);return i.elementType=de,i.lanes=n,i.stateNode={isHidden:!1},i}function Yb(e,t,n){var r=Fb(6,e,null,t);return r.lanes=n,r}function qb(e,t,n){var r=null!==e.children?e.children:[],i=Fb(4,r,e.key,t);return i.lanes=n,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Kb(e,t){return null===e&&(e=Fb(2,null,null,0)),e.tag=t.tag,e.key=t.key,e.elementType=t.elementType,e.type=t.type,e.stateNode=t.stateNode,e.return=t.return,e.child=t.child,e.sibling=t.sibling,e.index=t.index,e.ref=t.ref,e.pendingProps=t.pendingProps,e.memoizedProps=t.memoizedProps,e.updateQueue=t.updateQueue,e.memoizedState=t.memoizedState,e.dependencies=t.dependencies,e.mode=t.mode,e.flags=t.flags,e.subtreeFlags=t.subtreeFlags,e.deletions=t.deletions,e.lanes=t.lanes,e.childLanes=t.childLanes,e.alternate=t.alternate,e.actualDuration=t.actualDuration,e.actualStartTime=t.actualStartTime,e.selfBaseDuration=t.selfBaseDuration,e.treeBaseDuration=t.treeBaseDuration,e._debugSource=t._debugSource,e._debugOwner=t._debugOwner,e._debugNeedsRemount=t._debugNeedsRemount,e._debugHookTypes=t._debugHookTypes,e}function Xb(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=-1,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=po(0),this.expirationTimes=po($i),this.pendingLanes=0,this.suspendedLanes=0,this.pingedLanes=0,this.expiredLanes=0,this.mutableReadLanes=0,this.finishedLanes=0,this.entangledLanes=0,this.entanglements=po(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0,this.memoizedUpdaters=new Set;for(var o=this.pendingUpdatersLaneMap=[],a=0;a<hi;a++)o.push(new Set);switch(t){case 1:this._debugRootType=n?"hydrateRoot()":"createRoot()";break;case 0:this._debugRootType=n?"hydrate()":"render()"}}function Qb(e,t,n,r,i,o,a,s,l,u){var c=new Xb(e,t,n,s,l),d=function(e,t){var n;return 1===e?(n=1,!0===t&&(n|=8,n|=ui)):n=0,qr&&(n|=2),Fb(3,null,null,n)}(t,o);c.current=d,d.stateNode=c;var f={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null};return d.memoizedState=f,cf(d),c}var Zb,Jb,ew="18.3.1";function tw(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return P(r=i)&&(o("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",N(r)),O(r)),{$$typeof:ee,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function nw(e){if(!e)return ec;var t=Zn(e),n=gc(t);if(1===t.tag){var r=t.type;if(lc(r))return fc(t,r,n)}return n}function rw(e,t,n,r,i,o,a,s){return Qb(e,t,!1,null,0,r,0,o,a)}function iw(e,t,n,r,i,o,a,s,l,u){var c=Qb(n,r,!0,e,0,o,0,s,l);c.context=nw(null);var d=c.current,f=Ny(),h=Py(d),p=ff(f,h);return p.callback=null!=t?t:null,hf(d,p,h),function(e,t,n){e.current.lanes=t,go(e,t,n),Ry(e,n)}(c,h,f),c}function ow(e,t,n,r){!function(e,t){if(Gr&&"function"==typeof Gr.onScheduleFiberRoot)try{Gr.onScheduleFiberRoot(Hr,e,t)}catch(e){Yr||(Yr=!0,o("React instrumentation encountered an error: %s",e))}}(t,e);var i=t.current,a=Ny(),s=Py(i);!function(e){null!==$r&&"function"==typeof $r.markRenderScheduled&&$r.markRenderScheduled(e)}(s);var l=nw(n);null===t.context?t.context=l:t.pendingContext=l,Ue&&null!==Be&&!Zb&&(Zb=!0,o("Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.",je(Be)||"Unknown"));var u=ff(a,s);u.payload={element:e},null!==(r=void 0===r?null:r)&&("function"!=typeof r&&o("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",r),u.callback=r);var c=hf(i,u,s);return null!==c&&(_y(c,i,s,a),pf(c,i,s)),s}function aw(e){var t=e.current;return t.child?(t.child.tag,t.child.stateNode):null}function sw(e,t){var n=e.memoizedState;null!==n&&null!==n.dehydrated&&(n.retryLane=function(e,t){return 0!==e&&e<t?e:t}(n.retryLane,t))}function lw(e,t){sw(e,t);var n=e.alternate;n&&sw(n,t)}function uw(e){var t=Pr(e);return null===t?null:t.stateNode}Zb=!1,Jb={};var cw,dw,fw,hw,pw,gw,vw,mw,yw,bw=function(e){return null},ww=function(e){return!1},xw=function(e,t,n){var r=t[n],i=wt(e)?e.slice():xe({},e);return n+1===t.length?(wt(i)?i.splice(r,1):delete i[r],i):(i[r]=xw(e[r],t,n+1),i)},Ew=function(e,t){return xw(e,t,0)},kw=function(e,t,n,r){var i=t[r],o=wt(e)?e.slice():xe({},e);return r+1===t.length?(o[n[r]]=o[i],wt(o)?o.splice(i,1):delete o[i]):o[i]=kw(e[i],t,n,r+1),o},Sw=function(e,t,n){if(t.length===n.length){for(var r=0;r<n.length-1;r++)if(t[r]!==n[r])return void i("copyWithRename() expects paths to be the same except for the deepest key");return kw(e,t,n,0)}i("copyWithRename() expects paths of the same length")},Mw=function(e,t,n,r){if(n>=t.length)return r;var i=t[n],o=wt(e)?e.slice():xe({},e);return o[i]=Mw(e[i],t,n+1,r),o},Tw=function(e,t,n){return Mw(e,t,0,n)},Cw=function(e,t){for(var n=e.memoizedState;null!==n&&t>0;)n=n.next,t--;return n};function Nw(e){var t=Cr(e);return null===t?null:t.stateNode}function Pw(e){return null}function Ow(){return Be}cw=function(e,t,n,r){var i=Cw(e,t);if(null!==i){var o=Tw(i.memoizedState,n,r);i.memoizedState=o,i.baseState=o,e.memoizedProps=xe({},e.memoizedProps);var a=tf(e,pi);null!==a&&_y(a,e,pi,$i)}},dw=function(e,t,n){var r=Cw(e,t);if(null!==r){var i=Ew(r.memoizedState,n);r.memoizedState=i,r.baseState=i,e.memoizedProps=xe({},e.memoizedProps);var o=tf(e,pi);null!==o&&_y(o,e,pi,$i)}},fw=function(e,t,n,r){var i=Cw(e,t);if(null!==i){var o=Sw(i.memoizedState,n,r);i.memoizedState=o,i.baseState=o,e.memoizedProps=xe({},e.memoizedProps);var a=tf(e,pi);null!==a&&_y(a,e,pi,$i)}},hw=function(e,t,n){e.pendingProps=Tw(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps);var r=tf(e,pi);null!==r&&_y(r,e,pi,$i)},pw=function(e,t){e.pendingProps=Ew(e.memoizedProps,t),e.alternate&&(e.alternate.pendingProps=e.pendingProps);var n=tf(e,pi);null!==n&&_y(n,e,pi,$i)},gw=function(e,t,n){e.pendingProps=Sw(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps);var r=tf(e,pi);null!==r&&_y(r,e,pi,$i)},vw=function(e){var t=tf(e,pi);null!==t&&_y(t,e,pi,$i)},mw=function(e){bw=e},yw=function(e){ww=e};var _w="function"==typeof reportError?reportError:function(e){console.error(e)};function Rw(e){this._internalRoot=e}function Aw(e){this._internalRoot=e}function Dw(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Lw(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Iw(e){1===e.nodeType&&e.tagName&&"BODY"===e.tagName.toUpperCase()&&o("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),zu(e)&&(e._reactRootContainer?o("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):o("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}Aw.prototype.render=Rw.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw new Error("Cannot update an unmounted root.");"function"==typeof arguments[1]?o("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):Dw(arguments[1])?o("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):void 0!==arguments[1]&&o("You passed a second argument to root.render(...) but it only accepts one argument.");var n=t.containerInfo;if(8!==n.nodeType){var r=uw(t.current);r&&r.parentNode!==n&&o("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}ow(e,t,null,null)},Aw.prototype.unmount=Rw.prototype.unmount=function(){"function"==typeof arguments[0]&&o("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;By()&&o("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),Fy((function(){ow(null,e,null,null)})),Iu(t)}},Aw.prototype.unstable_scheduleHydration=function(e){e&&function(e){for(var t=ko(),n={blockedOn:null,target:e,priority:t},r=0;r<Vo.length&&Ro(t,Vo[r].priority);r++);Vo.splice(r,0,n),0===r&&Yo(n)}(e)};var zw,jw=n.ReactCurrentOwner;function Fw(e){return e?9===e.nodeType?e.documentElement:e.firstChild:null}function Bw(){}function Uw(e,t,n,r,i){zw(n),function(e){null!==e&&"function"!=typeof e&&o("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.","render",e)}(void 0===i?null:i);var a,s=n._reactRootContainer;if(s){if("function"==typeof i){var l=i;i=function(){var e=aw(a);l.call(e)}}ow(t,a=s,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=aw(a);o.call(e)}}var a=iw(t,r,e,0,0,!1,0,"",Bw);return e._reactRootContainer=a,Lu(a.current,e),ul(8===e.nodeType?e.parentNode:e),Fy(),a}for(var s;s=e.lastChild;)e.removeChild(s);if("function"==typeof r){var l=r;r=function(){var e=aw(u);l.call(e)}}var u=rw(e,0,0,!1,0,"",Bw);return e._reactRootContainer=u,Lu(u.current,e),ul(8===e.nodeType?e.parentNode:e),Fy((function(){ow(t,u,n,r)})),u}(n,t,e,i,r);return aw(a)}zw=function(e){if(e._reactRootContainer&&8!==e.nodeType){var t=uw(e._reactRootContainer.current);t&&t.parentNode!==e&&o("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var n=!!e._reactRootContainer,r=Fw(e);!(!r||!Fu(r))&&!n&&o("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),1===e.nodeType&&e.tagName&&"BODY"===e.tagName.toUpperCase()&&o("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};var Ww,Vw=!1,Hw=!1;Ww=function(e){switch(e.tag){case 3:var t=e.stateNode;if(Do(t)){var n=function(e){return Ki(e.pendingLanes)}(t);!function(e,t){0!==t&&(mo(e,co(t,pi)),Ry(e,Lr()),(Wm&(Am|Dm))===Rm&&(ay(),xc()))}(t,n)}break;case c:Fy((function(){var t=tf(e,pi);if(null!==t){var n=Ny();_y(t,e,pi,n)}})),lw(e,pi)}},wo=Ww,function(e){xo=e}((function(e){if(e.tag===c){var t=Bi,n=tf(e,t);null!==n&&_y(n,e,t,Ny()),lw(e,t)}})),function(e){Eo=e}((function(e){if(e.tag===c){var t=Py(e),n=tf(e,t);null!==n&&_y(n,e,t,Ny()),lw(e,t)}})),function(e){ko=e}(Oo),function(e){So=e}((function(e,t){var n=Po;try{return Po=e,t()}finally{Po=n}})),"function"==typeof Map&&null!=Map.prototype&&"function"==typeof Map.prototype.forEach&&"function"==typeof Set&&null!=Set.prototype&&"function"==typeof Set.prototype.clear&&"function"==typeof Set.prototype.forEach||o("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),Cn=function(e,t,n){switch(t){case"input":return void ft(e,n);case"textarea":return void function(e,t){Pt(e,t)}(e,n);case"select":return void function(e,t){var n=e,r=t.value;null!=r&&kt(n,!!t.multiple,r,!1)}(e,n)}},An=jy,Dn=Fy;var Gw={usingClientEntryPoint:!1,Events:[Fu,Bu,Uu,_n,Rn,jy]},$w=function(e){var t=e.findFiberByHostInstance,r=n.ReactCurrentDispatcher;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled)return!0;if(!t.supportsFiber)return o("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{e=xe({},e,{getLaneLabelMap:Qr,injectProfilingHooks:Xr}),Hr=t.inject(e),Gr=t}catch(e){o("React instrumentation encountered an error: %s.",e)}return!!t.checkDCE}({bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:cw,overrideHookStateDeletePath:dw,overrideHookStateRenamePath:fw,overrideProps:hw,overridePropsDeletePath:pw,overridePropsRenamePath:gw,setErrorHandler:mw,setSuspenseHandler:yw,scheduleUpdate:vw,currentDispatcherRef:r,findHostInstanceByFiber:Nw,findFiberByHostInstance:t||Pw,findHostInstancesForRefresh:Lb,scheduleRefresh:_b,scheduleRoot:Rb,setRefreshHandler:Mb,getCurrentFiber:Ow,reconcilerVersion:ew})}({findFiberByHostInstance:ju,bundleType:1,version:ew,rendererPackageName:"react-dom"});if(!$w&&T&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)){var Yw=window.location.protocol;/^(https?|file):$/.test(Yw)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+("file:"===Yw?"\nYou might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq":""),"font-weight:bold")}sY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gw,sY.createPortal=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Dw(t))throw new Error("Target container is not a DOM element.");return tw(e,t,null,n)},sY.createRoot=function(e,t){return Gw.usingClientEntryPoint||o('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),function(e,t){if(!Dw(e))throw new Error("createRoot(...): Target container is not a DOM element.");Iw(e);var n=!1,r="",a=_w;null!=t&&(t.hydrate?i("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):"object"==typeof t&&null!==t&&t.$$typeof===J&&o("You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:\n\n  let root = createRoot(domContainer);\n  root.render(<App />);"),!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError),void 0!==t.transitionCallbacks&&t.transitionCallbacks);var s=rw(e,1,0,n,0,r,a);return Lu(s.current,e),ul(8===e.nodeType?e.parentNode:e),new Rw(s)}(e,t)},sY.findDOMNode=function(e){Vw||(Vw=!0,o("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var t=jw.current;return null!==t&&null!==t.stateNode&&(t.stateNode._warnedAboutRefsInRender||o("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Ie(t.type)||"A component"),t.stateNode._warnedAboutRefsInRender=!0),null==e?null:1===e.nodeType?e:function(e,t){var n=Zn(e);if(void 0===n){if("function"==typeof e.render)throw new Error("Unable to find node on an unmounted component.");var r=Object.keys(e).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+r)}var i=Cr(n);if(null===i)return null;if(8&i.mode){var a=je(n)||"Component";if(!Jb[a]){Jb[a]=!0;var s=Be;try{Ge(i),8&n.mode?o("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,a):o("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,a)}finally{s?Ge(s):He()}}}return i.stateNode}(e,"findDOMNode")},sY.flushSync=function(e){return By()&&o("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),Fy(e)},sY.hydrate=function(e,t,n){if(o("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Lw(t))throw new Error("Target container is not a DOM element.");return zu(t)&&void 0===t._reactRootContainer&&o("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?"),Uw(null,e,t,!0,n)},sY.hydrateRoot=function(e,t,n){return Gw.usingClientEntryPoint||o('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),function(e,t,n){if(!Dw(e))throw new Error("hydrateRoot(...): Target container is not a DOM element.");Iw(e),void 0===t&&o("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=_w;null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError));var l=iw(t,null,e,1,0,i,0,a,s);if(Lu(l.current,e),ul(e),r)for(var u=0;u<r.length;u++)Vf(l,r[u]);return new Aw(l)}(e,t,n)},sY.render=function(e,t,n){if(o("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Lw(t))throw new Error("Target container is not a DOM element.");return zu(t)&&void 0===t._reactRootContainer&&o("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?"),Uw(null,e,t,!1,n)},sY.unmountComponentAtNode=function(e){if(Hw||(Hw=!0,o("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!Lw(e))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");if(zu(e)&&void 0===e._reactRootContainer&&o("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?"),e._reactRootContainer){var t=Fw(e);return t&&!Fu(t)&&o("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React."),Fy((function(){Uw(null,null,e,!1,(function(){e._reactRootContainer=null,Iu(e)}))})),!0}var n=Fw(e),r=!(!n||!Fu(n)),i=1===e.nodeType&&Lw(e.parentNode)&&!!e.parentNode._reactRootContainer;return r&&o("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",i?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1},sY.unstable_batchedUpdates=jy,sY.unstable_renderSubtreeIntoContainer=function(e,t,n,r){return function(e,t,n,r){if(o("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Lw(n))throw new Error("Target container is not a DOM element.");if(null==e||void 0===e._reactInternals)throw new Error("parentComponent must be a valid React Component");return Uw(e,t,n,!1,r)}(e,t,n,r)},sY.version=ew,"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),sY);var lY=X$.exports,uY=n({__proto__:null,default:E(lY)},[lY]);const cY=Object.assign({},uY),{version:dY,render:fY,unmountComponentAtNode:hY}=cY;let pY;try{Number((dY||"").split(".")[0])>=18&&cY.createRoot&&({createRoot:pY}=cY)}catch(e){}function gY(e){const{__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:t}=cY;t&&"object"==typeof t&&(t.usingClientEntryPoint=e)}const vY="__rc_react_root__";function mY(e,t){pY?function(e,t){gY(!0);const n=t[vY]||pY(t);gY(!1),n.render(e),t[vY]=n}(e,t):function(e,t){fY(e,t)}(e,t)}function yY(e){return Ut(this,void 0,void 0,(function*(){if(pY)return function(e){return Ut(this,void 0,void 0,(function*(){return Promise.resolve().then((()=>{var t;null===(t=e[vY])||void 0===t||t.unmount(),delete e[vY]}))}))}(e);!function(e){hY(e)}(e)}))}e.Arrow=O$,e.Circle=_$,e.Ellipse=R$,e.GNode=q$,e.Group=A$,e.HTML=D$,e.Image=L$,e.Line=I$,e.Path=z$,e.Polygon=j$,e.Polyline=F$,e.ReactNode=class extends _p{getKeyStyle(e){return Object.assign({},super.getKeyStyle(e))}constructor(e){super(e)}update(e){super.update(e)}connectedCallback(){super.connectedCallback();const{component:e}=this.attributes;mY(e,this.getDomElement())}attributeChangedCallback(e,t,n){super.attributeChangedCallback(e,t,n),"component"===e&&t!==n&&mY(this.attributes.component,this.getDomElement())}destroy(){yY(this.getDomElement()),super.destroy()}},e.Rect=B$,e.Text=U$,e.render=mY,e.unmount=yY}));
