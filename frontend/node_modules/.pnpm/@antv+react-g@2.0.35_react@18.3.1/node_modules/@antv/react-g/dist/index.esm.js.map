{"version":3,"file":"index.esm.js","sources":["../src/components/Arrow.tsx","../src/host-elements.ts","../src/processProps.ts","../src/reconciler.ts","../src/util/index.ts","../src/canvas.tsx"],"sourcesContent":["import type * as G from '@antv/g';\nimport type { DisplayObject, PathStyleProps } from '@antv/g';\nimport { isBoolean } from '@antv/util';\nimport { vec3 } from 'gl-matrix';\nimport React, { Component } from 'react';\nimport { Group, Path } from '../host-elements';\n\ntype ArrowHead = boolean | React.ReactNode;\nexport interface ArrowStyleProps extends PathStyleProps {\n  path: string;\n  startHead?: ArrowHead;\n  endHead?: ArrowHead;\n}\n\nconst DEFAULT_ARROW_SIZE = 16;\nexport class Arrow extends Component<ArrowStyleProps, any> {\n  startRef: React.MutableRefObject<DisplayObject | null>;\n  endRef: React.MutableRefObject<DisplayObject | null>;\n  bodyRef: React.MutableRefObject<G.Path | null>;\n\n  constructor(props: ArrowStyleProps) {\n    super(props);\n\n    this.startRef = React.createRef();\n    this.endRef = React.createRef();\n    this.bodyRef = React.createRef();\n  }\n\n  getArrowHead(head: ArrowHead, isStart: boolean) {\n    if (isBoolean(head)) {\n      return this.getDefaultArrowHead();\n    } else {\n      return isStart ? this.props.startHead : this.props.endHead;\n    }\n  }\n\n  setHeadTransform() {\n    const { startHead, endHead } = this.props;\n\n    if (startHead)\n      this.transformArrowHead(this.startRef.current as DisplayObject, true);\n    if (endHead)\n      this.transformArrowHead(this.endRef.current as DisplayObject, false);\n  }\n\n  componentDidMount() {\n    this.setHeadTransform();\n  }\n\n  componentDidUpdate() {\n    this.setHeadTransform();\n  }\n\n  render() {\n    const { startHead, endHead, ...others } = this.props;\n\n    return (\n      <Group>\n        <Path {...others} ref={this.bodyRef} />\n        {startHead && (\n          <Group ref={this.startRef}>\n            {this.getArrowHead(startHead, true)}\n          </Group>\n        )}\n        {endHead && (\n          <Group ref={this.endRef}>{this.getArrowHead(endHead, false)}</Group>\n        )}\n      </Group>\n    );\n  }\n\n  getCenter() {\n    const points = (this.bodyRef.current as G.Path).getPoint(0.5);\n    return points;\n  }\n\n  // transform arrow head to match line tangent\n  private transformArrowHead(head: DisplayObject, isStart: boolean) {\n    const [p1, p2] = this.getTangent(this.bodyRef.current as G.Path, isStart);\n    const [x1, y1] = p1;\n    const [x2, y2] = p2;\n\n    const x = x1 - x2;\n    const y = y1 - y2;\n    const rad = Math.atan2(y, x) + Math.PI;\n    const position = vec3.fromValues(x2, y2, 0);\n\n    head.setLocalPosition(position);\n    head.setLocalEulerAngles((rad * 180) / Math.PI);\n  }\n\n  private getTangent(path: G.Path, isStart: boolean): number[][] {\n    return isStart ? path.getStartTangent() : path.getEndTangent();\n  }\n\n  private getDefaultArrowHead() {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { startHead, endHead, ...others } = this.props;\n    const { sin, cos, PI } = Math;\n    return (\n      <Path\n        {...others}\n        lineDash={undefined}\n        fill={this.props.stroke}\n        d={`M-${DEFAULT_ARROW_SIZE * cos(PI / 6)},${\n          DEFAULT_ARROW_SIZE * sin(PI / 6)\n        } L0,0 L-${DEFAULT_ARROW_SIZE * cos(PI / 6)},-${\n          DEFAULT_ARROW_SIZE * sin(PI / 6)\n        } Z`}\n      />\n    );\n  }\n}\n","import type {\n  BaseStyleProps,\n  Circle as GCircle,\n  CircleStyleProps,\n  Ellipse as GEllipse,\n  EllipseStyleProps,\n  Group as GGroup,\n  HTML as GHTML,\n  HTMLStyleProps,\n  Image as GImage,\n  ImageStyleProps,\n  Line as GLine,\n  LineStyleProps,\n  Path as GPath,\n  PathStyleProps,\n  Polygon as GPolygon,\n  PolygonStyleProps,\n  Polyline as GPolyline,\n  PolylineStyleProps,\n  Rect as GRect,\n  RectStyleProps,\n  Text as GText,\n  TextStyleProps,\n} from '@antv/g';\nimport { Shape } from '@antv/g';\nimport type { Key, ReactElement, ReactNode, Ref } from 'react';\nimport type { GEvents } from './types';\n\ntype BaseProps<Element, Prop> = {\n  key?: Key;\n  ref?: Ref<Element>;\n  children?: ReactNode;\n} & Prop &\n  GEvents;\n\nexport function ElementOf<Element, Prop, T extends string>(\n  type: T,\n): (props: BaseProps<Element, Prop>) => ReactElement<Prop, T> {\n  return type as any;\n}\n\nexport const Circle = ElementOf<GCircle, CircleStyleProps, Shape.CIRCLE>(\n  Shape.CIRCLE,\n);\nexport const Ellipse = ElementOf<GEllipse, EllipseStyleProps, Shape.ELLIPSE>(\n  Shape.ELLIPSE,\n);\nexport const Group = ElementOf<GGroup, BaseStyleProps, Shape.GROUP>(\n  Shape.GROUP,\n);\nexport const HTML = ElementOf<GHTML, HTMLStyleProps, Shape.HTML>(Shape.HTML);\nexport const Image = ElementOf<GImage, ImageStyleProps, Shape.IMAGE>(\n  Shape.IMAGE,\n);\nexport const Line = ElementOf<GLine, LineStyleProps, Shape.LINE>(Shape.LINE);\nexport const Path = ElementOf<GPath, PathStyleProps, Shape.PATH>(Shape.PATH);\nexport const Polygon = ElementOf<GPolygon, PolygonStyleProps, Shape.POLYGON>(\n  Shape.POLYGON,\n);\nexport const Polyline = ElementOf<\n  GPolyline,\n  PolylineStyleProps,\n  Shape.POLYLINE\n>(Shape.POLYLINE);\nexport const Rect = ElementOf<GRect, RectStyleProps, Shape.RECT>(Shape.RECT);\nexport const Text = ElementOf<GText, TextStyleProps, Shape.TEXT>(Shape.TEXT);\nexport * from './components';\n","import type { Instance, Props } from './types';\n\nlet zIndexWarningShowed = false;\n\nconst Z_INDEX_WARNING = `ReactG: You are using \"zIndex\" attribute for an element.\nreact-g may get confused with ordering. Just define correct order of elements in your render function of a component.\n`;\n\nconst isEvent = (key: string) => key.slice(0, 2) === 'on';\nconst getEventName = (key: string) => key.substring(2).toLowerCase();\n\nexport const bindShapeEvent = (newProps: Props, instance: Instance) => {\n  Object.keys(newProps).forEach((propKey) => {\n    if (isEvent(propKey)) {\n      instance.addEventListener(getEventName(propKey), newProps[propKey]);\n    }\n  });\n};\n\nexport const updateProps = (\n  instance: Instance,\n  newProps: Props,\n  oldProps: Props = {},\n) => {\n  // don't use zIndex\n  if (!zIndexWarningShowed && 'zIndex' in newProps) {\n    console.warn(Z_INDEX_WARNING);\n    zIndexWarningShowed = true;\n  }\n\n  Object.keys(oldProps).forEach((key) => {\n    const propChanged = oldProps[key] !== newProps[key];\n    if (propChanged) {\n      if (isEvent(key)) {\n        instance.removeEventListener(getEventName(key));\n      } else {\n        instance.removeAttribute(key);\n      }\n    }\n  });\n\n  Object.keys(newProps).forEach((key) => {\n    const propChanged = oldProps[key] !== newProps[key];\n\n    if (propChanged) {\n      if (isEvent(key)) {\n        if (typeof newProps[key] === 'function') {\n          instance.addEventListener(getEventName(key), newProps[key]);\n        }\n      } else {\n        instance.setAttribute(key, newProps[key]);\n      }\n    }\n  });\n};\n","import type { Canvas, Element } from '@antv/g';\nimport React from 'react';\nimport type { OpaqueHandle, OpaqueRoot } from 'react-reconciler';\nimport ReactReconciler from 'react-reconciler';\nimport { unstable_now as now } from 'scheduler';\nimport { bindShapeEvent, updateProps } from './processProps';\nimport type {\n  ChildSet,\n  Container,\n  HostContext,\n  HydratableInstance,\n  Instance,\n  NoTimeout,\n  Props,\n  PublicInstance,\n  SuspenseInstance,\n  TextInstance,\n  TimeoutHandle,\n  Type,\n  UpdatePayload,\n} from './types';\n\nexport const reconciler = ReactReconciler<\n  Type,\n  Props,\n  Container,\n  Instance,\n  TextInstance,\n  SuspenseInstance,\n  HydratableInstance,\n  PublicInstance,\n  HostContext,\n  UpdatePayload,\n  ChildSet,\n  TimeoutHandle,\n  NoTimeout\n>({\n  getPublicInstance(instance: Instance): PublicInstance {\n    return instance;\n  },\n  getRootHostContext(rootContainerInstance: Container): HostContext {},\n  getChildHostContext(\n    parentHostContext: HostContext,\n    type: Type,\n    rootContainerInstance: Container,\n  ): HostContext {},\n\n  prepareForCommit(containerInfo: Container): Record<string, any> {\n    return null;\n  },\n  resetAfterCommit(containerInfo: Container): void {},\n  preparePortalMount(containerInfo: Container): void {},\n\n  createInstance(\n    type: Type,\n    props: Props,\n    rootContainerInstance: Container,\n    hostContext: HostContext,\n    internalInstanceHandle: OpaqueHandle,\n  ): Instance {\n    const instance = (\n      (rootContainerInstance as unknown as Canvas).document ||\n      rootContainerInstance.ownerDocument\n    ).createElement(type, {\n      style: props,\n    }) as unknown as Element;\n    // @ts-ignore\n    bindShapeEvent(props, instance);\n    // log('createInstance ', type, instance);\n    // @ts-ignore\n    return instance;\n  },\n  appendInitialChild(parentInstance: Instance, child: Instance): void {\n    // log('appendInitialChild', parentInstance, child);\n    parentInstance.appendChild(child);\n  },\n  finalizeInitialChildren(\n    parentInstance: Instance,\n    type: Type,\n    props: Props,\n    rootContainerInstance: Container,\n    hostContext: HostContext,\n  ): boolean {\n    return false;\n  },\n\n  prepareUpdate(\n    instance: Instance,\n    type: Type,\n    oldProps: Props,\n    newProps: Props,\n    rootContainerInstance: Container,\n    hostContext: HostContext,\n  ): null | UpdatePayload {\n    // return hasUpdate(newProps, oldProps);\n    return true;\n  },\n\n  shouldSetTextContent(type: Type, props: Props): boolean {\n    return false;\n  },\n  // shouldDeprioritizeSubtree(type: Type, props: Props): boolean {\n  //   return false;\n  // },\n\n  createTextInstance(\n    text: string,\n    rootContainerInstance: Container,\n    hostContext: HostContext,\n    internalInstanceHandle: OpaqueHandle,\n    // @ts-ignore\n  ): TextInstance {},\n\n  // scheduleDeferredCallback(callback: () => any, options?: { timeout: number }): any {},\n  // scheduleDeferredCallback,\n  // cancelDeferredCallback(callbackID: any): void {},\n\n  scheduleTimeout(\n    handler: (...args: any[]) => void,\n    timeout: number,\n  ): TimeoutHandle {},\n  cancelTimeout(handle: TimeoutHandle): void {},\n  noTimeout: undefined,\n\n  now,\n\n  // Temporary workaround for scenario where multiple renderers concurrently\n  // render using the same context objects. E.g. React DOM and React ART on the\n  // same page. DOM is the primary renderer {}, ART is the secondary renderer.\n  isPrimaryRenderer: false,\n\n  supportsMutation: true,\n  supportsPersistence: false,\n  supportsHydration: false,\n\n  // -------------------\n  //      Mutation\n  //     (optional)\n  // -------------------\n  appendChild(parentInstance: Instance, child: Instance): void {\n    // log('appendChild');\n    parentInstance.appendChild(child);\n  },\n  appendChildToContainer(container: Container, child: Instance): void {\n    // log('appendChildToContainer', container, child);\n    container.appendChild(child);\n  },\n  commitTextUpdate(\n    textInstance: TextInstance,\n    oldText: string,\n    newText: string,\n  ): void {},\n  commitMount(\n    instance: Instance,\n    type: Type,\n    newProps: Props,\n    internalInstanceHandle: OpaqueHandle,\n  ): void {},\n  commitUpdate(\n    instance: Instance,\n    updatePayload: UpdatePayload,\n    type: Type,\n    oldProps: Props,\n    newProps: Props,\n    internalInstanceHandle: OpaqueHandle,\n  ): void {\n    // log('commitUpdate', instance, newProps);\n    updateProps(instance, newProps, oldProps);\n  },\n  insertBefore(\n    parentInstance: Instance,\n    child: Instance,\n    beforeChild: Instance,\n  ): void {\n    parentInstance.insertBefore(child, beforeChild);\n  },\n  insertInContainerBefore(\n    container: Container,\n    child: Instance,\n    beforeChild: Instance,\n  ): void {\n    container.insertBefore(child, beforeChild);\n  },\n  removeChild(parentInstance: Instance, child: Instance): void {\n    // log('removeChild', parentInstance, child);\n    parentInstance.removeChild(child);\n  },\n  removeChildFromContainer(container: Container, child: Instance): void {\n    container.removeChild(child);\n  },\n  resetTextContent(instance: Instance): void {},\n\n  /**\n   * This method should make the `instance` invisible without removing it from the tree. For example, it can apply visual styling to hide it. It is used by Suspense to hide the tree while the fallback is visible.\n   */\n  // tslint:enable:max-line-length\n  hideInstance(instance: Instance): void {},\n\n  /**\n   * Same as `hideInstance`, but for nodes created by `createTextInstance`.\n   */\n  hideTextInstance(textInstance: TextInstance): void {},\n\n  /**\n   * This method should make the `instance` visible, undoing what `hideInstance` did.\n   */\n  // @ts-ignore\n  unhideInstance(instance: Instance, props: Props): void {},\n\n  /**\n   * Same as `unhideInstance`, but for nodes created by `createTextInstance`.\n   */\n  // @ts-ignore\n  unhideTextInstance(textInstance: TextInstance, text: string): void {},\n\n  /**\n   * This method should mutate the `container` root node and remove all children from it.\n   */\n  clearContainer(container: Container): void {\n    container.removeChildren();\n  },\n\n  // -------------------\n  //     Persistence\n  //     (optional)\n  // -------------------\n  cloneInstance(\n    instance: Instance,\n    updatePayload: null | UpdatePayload,\n    type: Type,\n    oldProps: Props,\n    newProps: Props,\n    internalInstanceHandle: OpaqueHandle,\n    keepChildren: boolean,\n    recyclableInstance: Instance,\n  ): Instance {\n    return instance;\n  },\n\n  createContainerChildSet(container: Container): ChildSet {},\n\n  appendChildToContainerChildSet(childSet: ChildSet, child: Instance): void {},\n  finalizeContainerChildren(\n    container: Container,\n    newChildren: ChildSet,\n  ): void {},\n\n  replaceContainerChildren(\n    container: Container,\n    newChildren: ChildSet,\n  ): void {},\n\n  // -------------------\n  //     Hydration\n  //     (optional)\n  // -------------------\n  canHydrateInstance(\n    instance: HydratableInstance,\n    type: Type,\n    props: Props,\n  ): null | Instance {\n    return instance;\n  },\n  canHydrateTextInstance(\n    instance: HydratableInstance,\n    text: string,\n  ): null | TextInstance {\n    return null;\n  },\n  getNextHydratableSibling(\n    instance: Instance | HydratableInstance,\n  ): null | HydratableInstance {},\n  getFirstHydratableChild(\n    parentInstance: Instance,\n  ): null | HydratableInstance {},\n  hydrateInstance(\n    instance: Instance,\n    type: Type,\n    props: Props,\n    rootContainerInstance: Container,\n    hostContext: HostContext,\n    internalInstanceHandle: OpaqueHandle,\n  ): null | UpdatePayload {},\n  hydrateTextInstance(\n    textInstance: TextInstance,\n    text: string,\n    internalInstanceHandle: OpaqueHandle,\n  ): boolean {\n    return false;\n  },\n  didNotMatchHydratedContainerTextInstance(\n    parentContainer: Container,\n    textInstance: TextInstance,\n    text: string,\n  ): void {},\n  didNotMatchHydratedTextInstance(\n    parentType: Type,\n    parentProps: Props,\n    parentInstance: Instance,\n    textInstance: TextInstance,\n    text: string,\n  ): void {},\n  didNotHydrateContainerInstance(\n    parentContainer: Container,\n    instance: Instance,\n  ): void {},\n  didNotHydrateInstance(\n    parentType: Type,\n    parentProps: Props,\n    parentInstance: Instance,\n    instance: Instance,\n  ): void {},\n  didNotFindHydratableContainerInstance(\n    parentContainer: Container,\n    type: Type,\n    props: Props,\n  ): void {},\n  didNotFindHydratableContainerTextInstance(\n    parentContainer: Container,\n    text: string,\n  ): void {},\n  didNotFindHydratableInstance(\n    parentType: Type,\n    parentProps: Props,\n    parentInstance: Instance,\n    type: Type,\n    props: Props,\n  ): void {},\n  didNotFindHydratableTextInstance(\n    parentType: Type,\n    parentProps: Props,\n    parentInstance: Instance,\n    text: string,\n  ): void {},\n});\n\nreconciler.injectIntoDevTools({\n  // findFiberByHostInstance: () => {},\n  // @ts-ignore\n  bundleType: process.env.NODE_ENV !== 'production' ? 1 : 0,\n  version: React.version,\n  rendererPackageName: 'react-g',\n  rendererConfig: {\n    getInspectorDataForViewTag: (tag: number) => {\n      // console.log(tag);\n    },\n  },\n});\n\nconst TargetContainerWeakMap = new WeakMap<Element | Canvas, OpaqueRoot>();\n\n/**\n * render react-g component to target g element\n * 将react-g组件渲染到任意的g实例（Canvas/Group/Shape）中\n * @param component react-g component\n * @param target g element, Canvas/Group/Shape instance\n * @param callback callback after render finished\n * @returns void\n */\nexport const render = (\n  component: React.ReactNode,\n  target: Element | Canvas,\n  callback?: (() => void) | null,\n) => {\n  const container =\n    TargetContainerWeakMap.get(target) ||\n    reconciler.createContainer(target as any, 1, false, null);\n  TargetContainerWeakMap.set(target, container);\n  reconciler.updateContainer(component, container, null, callback);\n};\n","import { Canvas, Group } from '@antv/g';\nimport type React from 'react';\n\nexport function assertRef<T>(\n  forwardedRef: any,\n): asserts forwardedRef is React.MutableRefObject<T> {\n  if (typeof forwardedRef === 'function') {\n    throw new Error('Callback ref not support!');\n  }\n}\n\nexport const isContainer = (element: any) => {\n  if (element instanceof Canvas || element instanceof Group) {\n    return true;\n  }\n  return false;\n};\n","import type { CanvasConfig } from '@antv/g';\nimport { Canvas as GCanvas } from '@antv/g';\nimport React, { forwardRef, useLayoutEffect, useRef } from 'react';\nimport type { FiberRoot } from 'react-reconciler';\nimport { reconciler } from './reconciler';\nimport { assertRef } from './util';\n\nexport interface CanvasProps extends CanvasConfig {\n  classname?: string;\n  role?: string;\n  style?: React.CSSProperties;\n  tabIndex?: number;\n  title?: string;\n}\n\nexport const Canvas = forwardRef<GCanvas, CanvasProps>(\n  (\n    {\n      children,\n      classname,\n      role,\n      style,\n      tabIndex,\n      title,\n      renderer,\n      width,\n      height,\n      capture,\n      cursor,\n    },\n    ref,\n  ) => {\n    assertRef(ref);\n    const container = useRef<FiberRoot>();\n\n    const divRef = useRef<HTMLDivElement>(null);\n\n    const innerCanvasRef = useRef<GCanvas>(null);\n\n    const canvasRef = ref || innerCanvasRef;\n\n    useLayoutEffect(() => {\n      const canvas = new GCanvas({\n        renderer,\n        width,\n        height,\n        capture,\n        cursor,\n        container: divRef.current,\n      });\n\n      canvasRef.current = canvas;\n\n      // @ts-ignore\n      container.current = reconciler.createContainer(\n        canvas as any,\n        1,\n        false,\n        null,\n      );\n\n      return () => {\n        // @ts-ignore\n        reconciler.updateContainer(null, container.current, null);\n      };\n    }, []);\n\n    useLayoutEffect(() => {\n      if (container.current) {\n        // @ts-ignore\n        reconciler.updateContainer(children, container.current, null);\n      }\n    }, [children]);\n\n    useLayoutEffect(() => {\n      canvasRef.current?.setRenderer(renderer);\n    }, [canvasRef, renderer]);\n\n    useLayoutEffect(() => {\n      canvasRef.current?.setCursor(cursor);\n    }, [canvasRef, cursor]);\n\n    useLayoutEffect(() => {\n      canvasRef.current.resize(width, height);\n    }, [width, height, canvasRef]);\n\n    return (\n      <div\n        ref={divRef}\n        className={classname}\n        role={role}\n        style={style}\n        tabIndex={tabIndex}\n        title={title}\n      />\n    );\n  },\n);\n"],"names":["DEFAULT_ARROW_SIZE","Arrow","_Component","props","_this","_classCallCheck","_callSuper","startRef","React","createRef","endRef","bodyRef","_inherits","_createClass","key","value","getArrowHead","head","isStart","isBoolean","getDefaultArrowHead","startHead","endHead","setHeadTransform","_this$props","transformArrowHead","current","componentDidMount","componentDidUpdate","render","_this$props2","others","_objectWithoutProperties","_excluded","createElement","Group","Path","_extends","ref","getCenter","points","getPoint","_this$getTangent","getTangent","_this$getTangent2","_slicedToArray","p1","p2","_p","x1","y1","_p2","x2","y2","x","y","rad","Math","atan2","PI","position","vec3","fromValues","setLocalPosition","setLocalEulerAngles","path","getStartTangent","getEndTangent","_this$props3","_excluded2","sin","cos","lineDash","undefined","fill","stroke","d","concat","Component","ElementOf","type","Circle","Shape","CIRCLE","Ellipse","ELLIPSE","GROUP","HTML","Image","IMAGE","Line","LINE","PATH","Polygon","POLYGON","Polyline","POLYLINE","Rect","RECT","Text","TEXT","zIndexWarningShowed","Z_INDEX_WARNING","isEvent","slice","getEventName","substring","toLowerCase","bindShapeEvent","newProps","instance","Object","keys","forEach","propKey","addEventListener","updateProps","oldProps","arguments","length","console","warn","propChanged","removeEventListener","removeAttribute","setAttribute","reconciler","ReactReconciler","getPublicInstance","getRootHostContext","rootContainerInstance","getChildHostContext","parentHostContext","prepareForCommit","containerInfo","resetAfterCommit","preparePortalMount","createInstance","hostContext","internalInstanceHandle","document","ownerDocument","style","appendInitialChild","parentInstance","child","appendChild","finalizeInitialChildren","prepareUpdate","shouldSetTextContent","createTextInstance","text","scheduleTimeout","handler","timeout","cancelTimeout","handle","noTimeout","now","isPrimaryRenderer","supportsMutation","supportsPersistence","supportsHydration","appendChildToContainer","container","commitTextUpdate","textInstance","oldText","newText","commitMount","commitUpdate","updatePayload","insertBefore","beforeChild","insertInContainerBefore","removeChild","removeChildFromContainer","resetTextContent","hideInstance","hideTextInstance","unhideInstance","unhideTextInstance","clearContainer","removeChildren","cloneInstance","keepChildren","recyclableInstance","createContainerChildSet","appendChildToContainerChildSet","childSet","finalizeContainerChildren","newChildren","replaceContainerChildren","canHydrateInstance","canHydrateTextInstance","getNextHydratableSibling","getFirstHydratableChild","hydrateInstance","hydrateTextInstance","didNotMatchHydratedContainerTextInstance","parentContainer","didNotMatchHydratedTextInstance","parentType","parentProps","didNotHydrateContainerInstance","didNotHydrateInstance","didNotFindHydratableContainerInstance","didNotFindHydratableContainerTextInstance","didNotFindHydratableInstance","didNotFindHydratableTextInstance","injectIntoDevTools","bundleType","version","rendererPackageName","rendererConfig","getInspectorDataForViewTag","tag","TargetContainerWeakMap","WeakMap","component","target","callback","get","createContainer","set","updateContainer","assertRef","forwardedRef","Error","Canvas","forwardRef","_ref","children","classname","role","tabIndex","title","renderer","width","height","capture","cursor","useRef","divRef","innerCanvasRef","canvasRef","useLayoutEffect","canvas","GCanvas","_canvasRef$current","setRenderer","_canvasRef$current2","setCursor","resize","className"],"mappings":"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"}